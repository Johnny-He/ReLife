(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const c of document.querySelectorAll('link[rel="modulepreload"]'))s(c);new MutationObserver(c=>{for(const f of c)if(f.type==="childList")for(const d of f.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&s(d)}).observe(document,{childList:!0,subtree:!0});function a(c){const f={};return c.integrity&&(f.integrity=c.integrity),c.referrerPolicy&&(f.referrerPolicy=c.referrerPolicy),c.crossOrigin==="use-credentials"?f.credentials="include":c.crossOrigin==="anonymous"?f.credentials="omit":f.credentials="same-origin",f}function s(c){if(c.ep)return;c.ep=!0;const f=a(c);fetch(c.href,f)}})();function Rb(l){return l&&l.__esModule&&Object.prototype.hasOwnProperty.call(l,"default")?l.default:l}var zu={exports:{}},Ua={};var rp;function Mb(){if(rp)return Ua;rp=1;var l=Symbol.for("react.transitional.element"),n=Symbol.for("react.fragment");function a(s,c,f){var d=null;if(f!==void 0&&(d=""+f),c.key!==void 0&&(d=""+c.key),"key"in c){f={};for(var m in c)m!=="key"&&(f[m]=c[m])}else f=c;return c=f.ref,{$$typeof:l,type:s,key:d,ref:c!==void 0?c:null,props:f}}return Ua.Fragment=n,Ua.jsx=a,Ua.jsxs=a,Ua}var cp;function Db(){return cp||(cp=1,zu.exports=Mb()),zu.exports}var _=Db(),Iu={exports:{}},P={};var op;function Ob(){if(op)return P;op=1;var l=Symbol.for("react.transitional.element"),n=Symbol.for("react.portal"),a=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),c=Symbol.for("react.profiler"),f=Symbol.for("react.consumer"),d=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),b=Symbol.for("react.lazy"),v=Symbol.for("react.activity"),E=Symbol.iterator;function z(C){return C===null||typeof C!="object"?null:(C=E&&C[E]||C["@@iterator"],typeof C=="function"?C:null)}var L={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},k=Object.assign,K={};function fe(C,I,B){this.props=C,this.context=I,this.refs=K,this.updater=B||L}fe.prototype.isReactComponent={},fe.prototype.setState=function(C,I){if(typeof C!="object"&&typeof C!="function"&&C!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,C,I,"setState")},fe.prototype.forceUpdate=function(C){this.updater.enqueueForceUpdate(this,C,"forceUpdate")};function Ne(){}Ne.prototype=fe.prototype;function oe(C,I,B){this.props=C,this.context=I,this.refs=K,this.updater=B||L}var Oe=oe.prototype=new Ne;Oe.constructor=oe,k(Oe,fe.prototype),Oe.isPureReactComponent=!0;var Ve=Array.isArray;function je(){}var F={H:null,A:null,T:null,S:null},be=Object.prototype.hasOwnProperty;function ee(C,I,B){var G=B.ref;return{$$typeof:l,type:C,key:I,ref:G!==void 0?G:null,props:B}}function Ct(C,I){return ee(C.type,I,C.props)}function Lt(C){return typeof C=="object"&&C!==null&&C.$$typeof===l}function de(C){var I={"=":"=0",":":"=2"};return"$"+C.replace(/[=:]/g,function(B){return I[B]})}var ot=/\/+/g;function gt(C,I){return typeof C=="object"&&C!==null&&C.key!=null?de(""+C.key):I.toString(36)}function Tt(C){switch(C.status){case"fulfilled":return C.value;case"rejected":throw C.reason;default:switch(typeof C.status=="string"?C.then(je,je):(C.status="pending",C.then(function(I){C.status==="pending"&&(C.status="fulfilled",C.value=I)},function(I){C.status==="pending"&&(C.status="rejected",C.reason=I)})),C.status){case"fulfilled":return C.value;case"rejected":throw C.reason}}throw C}function D(C,I,B,G,J){var ie=typeof C;(ie==="undefined"||ie==="boolean")&&(C=null);var ye=!1;if(C===null)ye=!0;else switch(ie){case"bigint":case"string":case"number":ye=!0;break;case"object":switch(C.$$typeof){case l:case n:ye=!0;break;case b:return ye=C._init,D(ye(C._payload),I,B,G,J)}}if(ye)return J=J(C),ye=G===""?"."+gt(C,0):G,Ve(J)?(B="",ye!=null&&(B=ye.replace(ot,"$&/")+"/"),D(J,I,B,"",function(Vl){return Vl})):J!=null&&(Lt(J)&&(J=Ct(J,B+(J.key==null||C&&C.key===J.key?"":(""+J.key).replace(ot,"$&/")+"/")+ye)),I.push(J)),1;ye=0;var ft=G===""?".":G+":";if(Ve(C))for(var qe=0;qe<C.length;qe++)G=C[qe],ie=ft+gt(G,qe),ye+=D(G,I,B,ie,J);else if(qe=z(C),typeof qe=="function")for(C=qe.call(C),qe=0;!(G=C.next()).done;)G=G.value,ie=ft+gt(G,qe++),ye+=D(G,I,B,ie,J);else if(ie==="object"){if(typeof C.then=="function")return D(Tt(C),I,B,G,J);throw I=String(C),Error("Objects are not valid as a React child (found: "+(I==="[object Object]"?"object with keys {"+Object.keys(C).join(", ")+"}":I)+"). If you meant to render a collection of children, use an array instead.")}return ye}function H(C,I,B){if(C==null)return C;var G=[],J=0;return D(C,G,"","",function(ie){return I.call(B,ie,J++)}),G}function Z(C){if(C._status===-1){var I=C._result;I=I(),I.then(function(B){(C._status===0||C._status===-1)&&(C._status=1,C._result=B)},function(B){(C._status===0||C._status===-1)&&(C._status=2,C._result=B)}),C._status===-1&&(C._status=0,C._result=I)}if(C._status===1)return C._result.default;throw C._result}var Se=typeof reportError=="function"?reportError:function(C){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var I=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof C=="object"&&C!==null&&typeof C.message=="string"?String(C.message):String(C),error:C});if(!window.dispatchEvent(I))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",C);return}console.error(C)},Ae={map:H,forEach:function(C,I,B){H(C,function(){I.apply(this,arguments)},B)},count:function(C){var I=0;return H(C,function(){I++}),I},toArray:function(C){return H(C,function(I){return I})||[]},only:function(C){if(!Lt(C))throw Error("React.Children.only expected to receive a single React element child.");return C}};return P.Activity=v,P.Children=Ae,P.Component=fe,P.Fragment=a,P.Profiler=c,P.PureComponent=oe,P.StrictMode=s,P.Suspense=p,P.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=F,P.__COMPILER_RUNTIME={__proto__:null,c:function(C){return F.H.useMemoCache(C)}},P.cache=function(C){return function(){return C.apply(null,arguments)}},P.cacheSignal=function(){return null},P.cloneElement=function(C,I,B){if(C==null)throw Error("The argument must be a React element, but you passed "+C+".");var G=k({},C.props),J=C.key;if(I!=null)for(ie in I.key!==void 0&&(J=""+I.key),I)!be.call(I,ie)||ie==="key"||ie==="__self"||ie==="__source"||ie==="ref"&&I.ref===void 0||(G[ie]=I[ie]);var ie=arguments.length-2;if(ie===1)G.children=B;else if(1<ie){for(var ye=Array(ie),ft=0;ft<ie;ft++)ye[ft]=arguments[ft+2];G.children=ye}return ee(C.type,J,G)},P.createContext=function(C){return C={$$typeof:d,_currentValue:C,_currentValue2:C,_threadCount:0,Provider:null,Consumer:null},C.Provider=C,C.Consumer={$$typeof:f,_context:C},C},P.createElement=function(C,I,B){var G,J={},ie=null;if(I!=null)for(G in I.key!==void 0&&(ie=""+I.key),I)be.call(I,G)&&G!=="key"&&G!=="__self"&&G!=="__source"&&(J[G]=I[G]);var ye=arguments.length-2;if(ye===1)J.children=B;else if(1<ye){for(var ft=Array(ye),qe=0;qe<ye;qe++)ft[qe]=arguments[qe+2];J.children=ft}if(C&&C.defaultProps)for(G in ye=C.defaultProps,ye)J[G]===void 0&&(J[G]=ye[G]);return ee(C,ie,J)},P.createRef=function(){return{current:null}},P.forwardRef=function(C){return{$$typeof:m,render:C}},P.isValidElement=Lt,P.lazy=function(C){return{$$typeof:b,_payload:{_status:-1,_result:C},_init:Z}},P.memo=function(C,I){return{$$typeof:g,type:C,compare:I===void 0?null:I}},P.startTransition=function(C){var I=F.T,B={};F.T=B;try{var G=C(),J=F.S;J!==null&&J(B,G),typeof G=="object"&&G!==null&&typeof G.then=="function"&&G.then(je,Se)}catch(ie){Se(ie)}finally{I!==null&&B.types!==null&&(I.types=B.types),F.T=I}},P.unstable_useCacheRefresh=function(){return F.H.useCacheRefresh()},P.use=function(C){return F.H.use(C)},P.useActionState=function(C,I,B){return F.H.useActionState(C,I,B)},P.useCallback=function(C,I){return F.H.useCallback(C,I)},P.useContext=function(C){return F.H.useContext(C)},P.useDebugValue=function(){},P.useDeferredValue=function(C,I){return F.H.useDeferredValue(C,I)},P.useEffect=function(C,I){return F.H.useEffect(C,I)},P.useEffectEvent=function(C){return F.H.useEffectEvent(C)},P.useId=function(){return F.H.useId()},P.useImperativeHandle=function(C,I,B){return F.H.useImperativeHandle(C,I,B)},P.useInsertionEffect=function(C,I){return F.H.useInsertionEffect(C,I)},P.useLayoutEffect=function(C,I){return F.H.useLayoutEffect(C,I)},P.useMemo=function(C,I){return F.H.useMemo(C,I)},P.useOptimistic=function(C,I){return F.H.useOptimistic(C,I)},P.useReducer=function(C,I,B){return F.H.useReducer(C,I,B)},P.useRef=function(C){return F.H.useRef(C)},P.useState=function(C){return F.H.useState(C)},P.useSyncExternalStore=function(C,I,B){return F.H.useSyncExternalStore(C,I,B)},P.useTransition=function(){return F.H.useTransition()},P.version="19.2.4",P}var up;function Sf(){return up||(up=1,Iu.exports=Ob()),Iu.exports}var rn=Sf();const zr=Rb(rn);var Lu={exports:{}},Ha={},Uu={exports:{}},Hu={};var fp;function jb(){return fp||(fp=1,(function(l){function n(D,H){var Z=D.length;D.push(H);e:for(;0<Z;){var Se=Z-1>>>1,Ae=D[Se];if(0<c(Ae,H))D[Se]=H,D[Z]=Ae,Z=Se;else break e}}function a(D){return D.length===0?null:D[0]}function s(D){if(D.length===0)return null;var H=D[0],Z=D.pop();if(Z!==H){D[0]=Z;e:for(var Se=0,Ae=D.length,C=Ae>>>1;Se<C;){var I=2*(Se+1)-1,B=D[I],G=I+1,J=D[G];if(0>c(B,Z))G<Ae&&0>c(J,B)?(D[Se]=J,D[G]=Z,Se=G):(D[Se]=B,D[I]=Z,Se=I);else if(G<Ae&&0>c(J,Z))D[Se]=J,D[G]=Z,Se=G;else break e}}return H}function c(D,H){var Z=D.sortIndex-H.sortIndex;return Z!==0?Z:D.id-H.id}if(l.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var f=performance;l.unstable_now=function(){return f.now()}}else{var d=Date,m=d.now();l.unstable_now=function(){return d.now()-m}}var p=[],g=[],b=1,v=null,E=3,z=!1,L=!1,k=!1,K=!1,fe=typeof setTimeout=="function"?setTimeout:null,Ne=typeof clearTimeout=="function"?clearTimeout:null,oe=typeof setImmediate<"u"?setImmediate:null;function Oe(D){for(var H=a(g);H!==null;){if(H.callback===null)s(g);else if(H.startTime<=D)s(g),H.sortIndex=H.expirationTime,n(p,H);else break;H=a(g)}}function Ve(D){if(k=!1,Oe(D),!L)if(a(p)!==null)L=!0,je||(je=!0,de());else{var H=a(g);H!==null&&Tt(Ve,H.startTime-D)}}var je=!1,F=-1,be=5,ee=-1;function Ct(){return K?!0:!(l.unstable_now()-ee<be)}function Lt(){if(K=!1,je){var D=l.unstable_now();ee=D;var H=!0;try{e:{L=!1,k&&(k=!1,Ne(F),F=-1),z=!0;var Z=E;try{t:{for(Oe(D),v=a(p);v!==null&&!(v.expirationTime>D&&Ct());){var Se=v.callback;if(typeof Se=="function"){v.callback=null,E=v.priorityLevel;var Ae=Se(v.expirationTime<=D);if(D=l.unstable_now(),typeof Ae=="function"){v.callback=Ae,Oe(D),H=!0;break t}v===a(p)&&s(p),Oe(D)}else s(p);v=a(p)}if(v!==null)H=!0;else{var C=a(g);C!==null&&Tt(Ve,C.startTime-D),H=!1}}break e}finally{v=null,E=Z,z=!1}H=void 0}}finally{H?de():je=!1}}}var de;if(typeof oe=="function")de=function(){oe(Lt)};else if(typeof MessageChannel<"u"){var ot=new MessageChannel,gt=ot.port2;ot.port1.onmessage=Lt,de=function(){gt.postMessage(null)}}else de=function(){fe(Lt,0)};function Tt(D,H){F=fe(function(){D(l.unstable_now())},H)}l.unstable_IdlePriority=5,l.unstable_ImmediatePriority=1,l.unstable_LowPriority=4,l.unstable_NormalPriority=3,l.unstable_Profiling=null,l.unstable_UserBlockingPriority=2,l.unstable_cancelCallback=function(D){D.callback=null},l.unstable_forceFrameRate=function(D){0>D||125<D?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):be=0<D?Math.floor(1e3/D):5},l.unstable_getCurrentPriorityLevel=function(){return E},l.unstable_next=function(D){switch(E){case 1:case 2:case 3:var H=3;break;default:H=E}var Z=E;E=H;try{return D()}finally{E=Z}},l.unstable_requestPaint=function(){K=!0},l.unstable_runWithPriority=function(D,H){switch(D){case 1:case 2:case 3:case 4:case 5:break;default:D=3}var Z=E;E=D;try{return H()}finally{E=Z}},l.unstable_scheduleCallback=function(D,H,Z){var Se=l.unstable_now();switch(typeof Z=="object"&&Z!==null?(Z=Z.delay,Z=typeof Z=="number"&&0<Z?Se+Z:Se):Z=Se,D){case 1:var Ae=-1;break;case 2:Ae=250;break;case 5:Ae=1073741823;break;case 4:Ae=1e4;break;default:Ae=5e3}return Ae=Z+Ae,D={id:b++,callback:H,priorityLevel:D,startTime:Z,expirationTime:Ae,sortIndex:-1},Z>Se?(D.sortIndex=Z,n(g,D),a(p)===null&&D===a(g)&&(k?(Ne(F),F=-1):k=!0,Tt(Ve,Z-Se))):(D.sortIndex=Ae,n(p,D),L||z||(L=!0,je||(je=!0,de()))),D},l.unstable_shouldYield=Ct,l.unstable_wrapCallback=function(D){var H=E;return function(){var Z=E;E=H;try{return D.apply(this,arguments)}finally{E=Z}}}})(Hu)),Hu}var dp;function zb(){return dp||(dp=1,Uu.exports=jb()),Uu.exports}var Bu={exports:{}},ut={};var hp;function Ib(){if(hp)return ut;hp=1;var l=Sf();function n(p){var g="https://react.dev/errors/"+p;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var b=2;b<arguments.length;b++)g+="&args[]="+encodeURIComponent(arguments[b])}return"Minified React error #"+p+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(){}var s={d:{f:a,r:function(){throw Error(n(522))},D:a,C:a,L:a,m:a,X:a,S:a,M:a},p:0,findDOMNode:null},c=Symbol.for("react.portal");function f(p,g,b){var v=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:c,key:v==null?null:""+v,children:p,containerInfo:g,implementation:b}}var d=l.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function m(p,g){if(p==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return ut.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,ut.createPortal=function(p,g){var b=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(n(299));return f(p,g,null,b)},ut.flushSync=function(p){var g=d.T,b=s.p;try{if(d.T=null,s.p=2,p)return p()}finally{d.T=g,s.p=b,s.d.f()}},ut.preconnect=function(p,g){typeof p=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,s.d.C(p,g))},ut.prefetchDNS=function(p){typeof p=="string"&&s.d.D(p)},ut.preinit=function(p,g){if(typeof p=="string"&&g&&typeof g.as=="string"){var b=g.as,v=m(b,g.crossOrigin),E=typeof g.integrity=="string"?g.integrity:void 0,z=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;b==="style"?s.d.S(p,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:v,integrity:E,fetchPriority:z}):b==="script"&&s.d.X(p,{crossOrigin:v,integrity:E,fetchPriority:z,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},ut.preinitModule=function(p,g){if(typeof p=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var b=m(g.as,g.crossOrigin);s.d.M(p,{crossOrigin:b,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&s.d.M(p)},ut.preload=function(p,g){if(typeof p=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var b=g.as,v=m(b,g.crossOrigin);s.d.L(p,b,{crossOrigin:v,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},ut.preloadModule=function(p,g){if(typeof p=="string")if(g){var b=m(g.as,g.crossOrigin);s.d.m(p,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:b,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else s.d.m(p)},ut.requestFormReset=function(p){s.d.r(p)},ut.unstable_batchedUpdates=function(p,g){return p(g)},ut.useFormState=function(p,g,b){return d.H.useFormState(p,g,b)},ut.useFormStatus=function(){return d.H.useHostTransitionStatus()},ut.version="19.2.4",ut}var mp;function Lb(){if(mp)return Bu.exports;mp=1;function l(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(l)}catch(n){console.error(n)}}return l(),Bu.exports=Ib(),Bu.exports}var gp;function Ub(){if(gp)return Ha;gp=1;var l=zb(),n=Sf(),a=Lb();function s(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var i=2;i<arguments.length;i++)t+="&args[]="+encodeURIComponent(arguments[i])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function c(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function f(e){var t=e,i=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,(t.flags&4098)!==0&&(i=t.return),e=t.return;while(e)}return t.tag===3?i:null}function d(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function m(e){if(e.tag===31){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function p(e){if(f(e)!==e)throw Error(s(188))}function g(e){var t=e.alternate;if(!t){if(t=f(e),t===null)throw Error(s(188));return t!==e?null:e}for(var i=e,r=t;;){var o=i.return;if(o===null)break;var u=o.alternate;if(u===null){if(r=o.return,r!==null){i=r;continue}break}if(o.child===u.child){for(u=o.child;u;){if(u===i)return p(o),e;if(u===r)return p(o),t;u=u.sibling}throw Error(s(188))}if(i.return!==r.return)i=o,r=u;else{for(var h=!1,y=o.child;y;){if(y===i){h=!0,i=o,r=u;break}if(y===r){h=!0,r=o,i=u;break}y=y.sibling}if(!h){for(y=u.child;y;){if(y===i){h=!0,i=u,r=o;break}if(y===r){h=!0,r=u,i=o;break}y=y.sibling}if(!h)throw Error(s(189))}}if(i.alternate!==r)throw Error(s(190))}if(i.tag!==3)throw Error(s(188));return i.stateNode.current===i?e:t}function b(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e;for(e=e.child;e!==null;){if(t=b(e),t!==null)return t;e=e.sibling}return null}var v=Object.assign,E=Symbol.for("react.element"),z=Symbol.for("react.transitional.element"),L=Symbol.for("react.portal"),k=Symbol.for("react.fragment"),K=Symbol.for("react.strict_mode"),fe=Symbol.for("react.profiler"),Ne=Symbol.for("react.consumer"),oe=Symbol.for("react.context"),Oe=Symbol.for("react.forward_ref"),Ve=Symbol.for("react.suspense"),je=Symbol.for("react.suspense_list"),F=Symbol.for("react.memo"),be=Symbol.for("react.lazy"),ee=Symbol.for("react.activity"),Ct=Symbol.for("react.memo_cache_sentinel"),Lt=Symbol.iterator;function de(e){return e===null||typeof e!="object"?null:(e=Lt&&e[Lt]||e["@@iterator"],typeof e=="function"?e:null)}var ot=Symbol.for("react.client.reference");function gt(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===ot?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case k:return"Fragment";case fe:return"Profiler";case K:return"StrictMode";case Ve:return"Suspense";case je:return"SuspenseList";case ee:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case L:return"Portal";case oe:return e.displayName||"Context";case Ne:return(e._context.displayName||"Context")+".Consumer";case Oe:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case F:return t=e.displayName||null,t!==null?t:gt(e.type)||"Memo";case be:t=e._payload,e=e._init;try{return gt(e(t))}catch{}}return null}var Tt=Array.isArray,D=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,H=a.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Z={pending:!1,data:null,method:null,action:null},Se=[],Ae=-1;function C(e){return{current:e}}function I(e){0>Ae||(e.current=Se[Ae],Se[Ae]=null,Ae--)}function B(e,t){Ae++,Se[Ae]=e.current,e.current=t}var G=C(null),J=C(null),ie=C(null),ye=C(null);function ft(e,t){switch(B(ie,t),B(J,e),B(G,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?Mg(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)t=Mg(t),e=Dg(t,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}I(G),B(G,e)}function qe(){I(G),I(J),I(ie)}function Vl(e){e.memoizedState!==null&&B(ye,e);var t=G.current,i=Dg(t,e.type);t!==i&&(B(J,e),B(G,i))}function ps(e){J.current===e&&(I(G),I(J)),ye.current===e&&(I(ye),ja._currentValue=Z)}var gc,sd;function pi(e){if(gc===void 0)try{throw Error()}catch(i){var t=i.stack.trim().match(/\n( *(at )?)/);gc=t&&t[1]||"",sd=-1<i.stack.indexOf(`
    at`)?" (<anonymous>)":-1<i.stack.indexOf("@")?"@unknown:0:0":""}return`
`+gc+e+sd}var pc=!1;function yc(e,t){if(!e||pc)return"";pc=!0;var i=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var r={DetermineComponentFrameRoot:function(){try{if(t){var j=function(){throw Error()};if(Object.defineProperty(j.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(j,[])}catch(R){var w=R}Reflect.construct(e,[],j)}else{try{j.call()}catch(R){w=R}e.call(j.prototype)}}else{try{throw Error()}catch(R){w=R}(j=e())&&typeof j.catch=="function"&&j.catch(function(){})}}catch(R){if(R&&w&&typeof R.stack=="string")return[R.stack,w.stack]}return[null,null]}};r.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var o=Object.getOwnPropertyDescriptor(r.DetermineComponentFrameRoot,"name");o&&o.configurable&&Object.defineProperty(r.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var u=r.DetermineComponentFrameRoot(),h=u[0],y=u[1];if(h&&y){var S=h.split(`
`),A=y.split(`
`);for(o=r=0;r<S.length&&!S[r].includes("DetermineComponentFrameRoot");)r++;for(;o<A.length&&!A[o].includes("DetermineComponentFrameRoot");)o++;if(r===S.length||o===A.length)for(r=S.length-1,o=A.length-1;1<=r&&0<=o&&S[r]!==A[o];)o--;for(;1<=r&&0<=o;r--,o--)if(S[r]!==A[o]){if(r!==1||o!==1)do if(r--,o--,0>o||S[r]!==A[o]){var M=`
`+S[r].replace(" at new "," at ");return e.displayName&&M.includes("<anonymous>")&&(M=M.replace("<anonymous>",e.displayName)),M}while(1<=r&&0<=o);break}}}finally{pc=!1,Error.prepareStackTrace=i}return(i=e?e.displayName||e.name:"")?pi(i):""}function sv(e,t){switch(e.tag){case 26:case 27:case 5:return pi(e.type);case 16:return pi("Lazy");case 13:return e.child!==t&&t!==null?pi("Suspense Fallback"):pi("Suspense");case 19:return pi("SuspenseList");case 0:case 15:return yc(e.type,!1);case 11:return yc(e.type.render,!1);case 1:return yc(e.type,!0);case 31:return pi("Activity");default:return""}}function rd(e){try{var t="",i=null;do t+=sv(e,i),i=e,e=e.return;while(e);return t}catch(r){return`
Error generating stack: `+r.message+`
`+r.stack}}var _c=Object.prototype.hasOwnProperty,vc=l.unstable_scheduleCallback,bc=l.unstable_cancelCallback,rv=l.unstable_shouldYield,cv=l.unstable_requestPaint,Nt=l.unstable_now,ov=l.unstable_getCurrentPriorityLevel,cd=l.unstable_ImmediatePriority,od=l.unstable_UserBlockingPriority,ys=l.unstable_NormalPriority,uv=l.unstable_LowPriority,ud=l.unstable_IdlePriority,fv=l.log,dv=l.unstable_setDisableYieldValue,Ql=null,At=null;function zn(e){if(typeof fv=="function"&&dv(e),At&&typeof At.setStrictMode=="function")try{At.setStrictMode(Ql,e)}catch{}}var wt=Math.clz32?Math.clz32:gv,hv=Math.log,mv=Math.LN2;function gv(e){return e>>>=0,e===0?32:31-(hv(e)/mv|0)|0}var _s=256,vs=262144,bs=4194304;function yi(e){var t=e&42;if(t!==0)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function Ss(e,t,i){var r=e.pendingLanes;if(r===0)return 0;var o=0,u=e.suspendedLanes,h=e.pingedLanes;e=e.warmLanes;var y=r&134217727;return y!==0?(r=y&~u,r!==0?o=yi(r):(h&=y,h!==0?o=yi(h):i||(i=y&~e,i!==0&&(o=yi(i))))):(y=r&~u,y!==0?o=yi(y):h!==0?o=yi(h):i||(i=r&~e,i!==0&&(o=yi(i)))),o===0?0:t!==0&&t!==o&&(t&u)===0&&(u=o&-o,i=t&-t,u>=i||u===32&&(i&4194048)!==0)?t:o}function Xl(e,t){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)===0}function pv(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function fd(){var e=bs;return bs<<=1,(bs&62914560)===0&&(bs=4194304),e}function Sc(e){for(var t=[],i=0;31>i;i++)t.push(e);return t}function Zl(e,t){e.pendingLanes|=t,t!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function yv(e,t,i,r,o,u){var h=e.pendingLanes;e.pendingLanes=i,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=i,e.entangledLanes&=i,e.errorRecoveryDisabledLanes&=i,e.shellSuspendCounter=0;var y=e.entanglements,S=e.expirationTimes,A=e.hiddenUpdates;for(i=h&~i;0<i;){var M=31-wt(i),j=1<<M;y[M]=0,S[M]=-1;var w=A[M];if(w!==null)for(A[M]=null,M=0;M<w.length;M++){var R=w[M];R!==null&&(R.lane&=-536870913)}i&=~j}r!==0&&dd(e,r,0),u!==0&&o===0&&e.tag!==0&&(e.suspendedLanes|=u&~(h&~t))}function dd(e,t,i){e.pendingLanes|=t,e.suspendedLanes&=~t;var r=31-wt(t);e.entangledLanes|=t,e.entanglements[r]=e.entanglements[r]|1073741824|i&261930}function hd(e,t){var i=e.entangledLanes|=t;for(e=e.entanglements;i;){var r=31-wt(i),o=1<<r;o&t|e[r]&t&&(e[r]|=t),i&=~o}}function md(e,t){var i=t&-t;return i=(i&42)!==0?1:Ec(i),(i&(e.suspendedLanes|t))!==0?0:i}function Ec(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function xc(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function gd(){var e=H.p;return e!==0?e:(e=window.event,e===void 0?32:ep(e.type))}function pd(e,t){var i=H.p;try{return H.p=e,t()}finally{H.p=i}}var In=Math.random().toString(36).slice(2),nt="__reactFiber$"+In,pt="__reactProps$"+In,Vi="__reactContainer$"+In,Cc="__reactEvents$"+In,_v="__reactListeners$"+In,vv="__reactHandles$"+In,yd="__reactResources$"+In,Kl="__reactMarker$"+In;function Tc(e){delete e[nt],delete e[pt],delete e[Cc],delete e[_v],delete e[vv]}function Qi(e){var t=e[nt];if(t)return t;for(var i=e.parentNode;i;){if(t=i[Vi]||i[nt]){if(i=t.alternate,t.child!==null||i!==null&&i.child!==null)for(e=Hg(e);e!==null;){if(i=e[nt])return i;e=Hg(e)}return t}e=i,i=e.parentNode}return null}function Xi(e){if(e=e[nt]||e[Vi]){var t=e.tag;if(t===5||t===6||t===13||t===31||t===26||t===27||t===3)return e}return null}function Fl(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e.stateNode;throw Error(s(33))}function Zi(e){var t=e[yd];return t||(t=e[yd]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function $e(e){e[Kl]=!0}var _d=new Set,vd={};function _i(e,t){Ki(e,t),Ki(e+"Capture",t)}function Ki(e,t){for(vd[e]=t,e=0;e<t.length;e++)_d.add(t[e])}var bv=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),bd={},Sd={};function Sv(e){return _c.call(Sd,e)?!0:_c.call(bd,e)?!1:bv.test(e)?Sd[e]=!0:(bd[e]=!0,!1)}function Es(e,t,i){if(Sv(t))if(i===null)e.removeAttribute(t);else{switch(typeof i){case"undefined":case"function":case"symbol":e.removeAttribute(t);return;case"boolean":var r=t.toLowerCase().slice(0,5);if(r!=="data-"&&r!=="aria-"){e.removeAttribute(t);return}}e.setAttribute(t,""+i)}}function xs(e,t,i){if(i===null)e.removeAttribute(t);else{switch(typeof i){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(t);return}e.setAttribute(t,""+i)}}function un(e,t,i,r){if(r===null)e.removeAttribute(i);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(i);return}e.setAttributeNS(t,i,""+r)}}function Ut(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Ed(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function Ev(e,t,i){var r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t);if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var o=r.get,u=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return o.call(this)},set:function(h){i=""+h,u.call(this,h)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return i},setValue:function(h){i=""+h},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Nc(e){if(!e._valueTracker){var t=Ed(e)?"checked":"value";e._valueTracker=Ev(e,t,""+e[t])}}function xd(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var i=t.getValue(),r="";return e&&(r=Ed(e)?e.checked?"true":"false":e.value),e=r,e!==i?(t.setValue(e),!0):!1}function Cs(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var xv=/[\n"\\]/g;function Ht(e){return e.replace(xv,function(t){return"\\"+t.charCodeAt(0).toString(16)+" "})}function Ac(e,t,i,r,o,u,h,y){e.name="",h!=null&&typeof h!="function"&&typeof h!="symbol"&&typeof h!="boolean"?e.type=h:e.removeAttribute("type"),t!=null?h==="number"?(t===0&&e.value===""||e.value!=t)&&(e.value=""+Ut(t)):e.value!==""+Ut(t)&&(e.value=""+Ut(t)):h!=="submit"&&h!=="reset"||e.removeAttribute("value"),t!=null?wc(e,h,Ut(t)):i!=null?wc(e,h,Ut(i)):r!=null&&e.removeAttribute("value"),o==null&&u!=null&&(e.defaultChecked=!!u),o!=null&&(e.checked=o&&typeof o!="function"&&typeof o!="symbol"),y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"?e.name=""+Ut(y):e.removeAttribute("name")}function Cd(e,t,i,r,o,u,h,y){if(u!=null&&typeof u!="function"&&typeof u!="symbol"&&typeof u!="boolean"&&(e.type=u),t!=null||i!=null){if(!(u!=="submit"&&u!=="reset"||t!=null)){Nc(e);return}i=i!=null?""+Ut(i):"",t=t!=null?""+Ut(t):i,y||t===e.value||(e.value=t),e.defaultValue=t}r=r??o,r=typeof r!="function"&&typeof r!="symbol"&&!!r,e.checked=y?e.checked:!!r,e.defaultChecked=!!r,h!=null&&typeof h!="function"&&typeof h!="symbol"&&typeof h!="boolean"&&(e.name=h),Nc(e)}function wc(e,t,i){t==="number"&&Cs(e.ownerDocument)===e||e.defaultValue===""+i||(e.defaultValue=""+i)}function Fi(e,t,i,r){if(e=e.options,t){t={};for(var o=0;o<i.length;o++)t["$"+i[o]]=!0;for(i=0;i<e.length;i++)o=t.hasOwnProperty("$"+e[i].value),e[i].selected!==o&&(e[i].selected=o),o&&r&&(e[i].defaultSelected=!0)}else{for(i=""+Ut(i),t=null,o=0;o<e.length;o++){if(e[o].value===i){e[o].selected=!0,r&&(e[o].defaultSelected=!0);return}t!==null||e[o].disabled||(t=e[o])}t!==null&&(t.selected=!0)}}function Td(e,t,i){if(t!=null&&(t=""+Ut(t),t!==e.value&&(e.value=t),i==null)){e.defaultValue!==t&&(e.defaultValue=t);return}e.defaultValue=i!=null?""+Ut(i):""}function Nd(e,t,i,r){if(t==null){if(r!=null){if(i!=null)throw Error(s(92));if(Tt(r)){if(1<r.length)throw Error(s(93));r=r[0]}i=r}i==null&&(i=""),t=i}i=Ut(t),e.defaultValue=i,r=e.textContent,r===i&&r!==""&&r!==null&&(e.value=r),Nc(e)}function Pi(e,t){if(t){var i=e.firstChild;if(i&&i===e.lastChild&&i.nodeType===3){i.nodeValue=t;return}}e.textContent=t}var Cv=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Ad(e,t,i){var r=t.indexOf("--")===0;i==null||typeof i=="boolean"||i===""?r?e.setProperty(t,""):t==="float"?e.cssFloat="":e[t]="":r?e.setProperty(t,i):typeof i!="number"||i===0||Cv.has(t)?t==="float"?e.cssFloat=i:e[t]=(""+i).trim():e[t]=i+"px"}function wd(e,t,i){if(t!=null&&typeof t!="object")throw Error(s(62));if(e=e.style,i!=null){for(var r in i)!i.hasOwnProperty(r)||t!=null&&t.hasOwnProperty(r)||(r.indexOf("--")===0?e.setProperty(r,""):r==="float"?e.cssFloat="":e[r]="");for(var o in t)r=t[o],t.hasOwnProperty(o)&&i[o]!==r&&Ad(e,o,r)}else for(var u in t)t.hasOwnProperty(u)&&Ad(e,u,t[u])}function Rc(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Tv=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Nv=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Ts(e){return Nv.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function fn(){}var Mc=null;function Dc(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Ji=null,$i=null;function Rd(e){var t=Xi(e);if(t&&(e=t.stateNode)){var i=e[pt]||null;e:switch(e=t.stateNode,t.type){case"input":if(Ac(e,i.value,i.defaultValue,i.defaultValue,i.checked,i.defaultChecked,i.type,i.name),t=i.name,i.type==="radio"&&t!=null){for(i=e;i.parentNode;)i=i.parentNode;for(i=i.querySelectorAll('input[name="'+Ht(""+t)+'"][type="radio"]'),t=0;t<i.length;t++){var r=i[t];if(r!==e&&r.form===e.form){var o=r[pt]||null;if(!o)throw Error(s(90));Ac(r,o.value,o.defaultValue,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name)}}for(t=0;t<i.length;t++)r=i[t],r.form===e.form&&xd(r)}break e;case"textarea":Td(e,i.value,i.defaultValue);break e;case"select":t=i.value,t!=null&&Fi(e,!!i.multiple,t,!1)}}}var Oc=!1;function Md(e,t,i){if(Oc)return e(t,i);Oc=!0;try{var r=e(t);return r}finally{if(Oc=!1,(Ji!==null||$i!==null)&&(dr(),Ji&&(t=Ji,e=$i,$i=Ji=null,Rd(t),e)))for(t=0;t<e.length;t++)Rd(e[t])}}function Pl(e,t){var i=e.stateNode;if(i===null)return null;var r=i[pt]||null;if(r===null)return null;i=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(i&&typeof i!="function")throw Error(s(231,t,typeof i));return i}var dn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),jc=!1;if(dn)try{var Jl={};Object.defineProperty(Jl,"passive",{get:function(){jc=!0}}),window.addEventListener("test",Jl,Jl),window.removeEventListener("test",Jl,Jl)}catch{jc=!1}var Ln=null,zc=null,Ns=null;function Dd(){if(Ns)return Ns;var e,t=zc,i=t.length,r,o="value"in Ln?Ln.value:Ln.textContent,u=o.length;for(e=0;e<i&&t[e]===o[e];e++);var h=i-e;for(r=1;r<=h&&t[i-r]===o[u-r];r++);return Ns=o.slice(e,1<r?1-r:void 0)}function As(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function ws(){return!0}function Od(){return!1}function yt(e){function t(i,r,o,u,h){this._reactName=i,this._targetInst=o,this.type=r,this.nativeEvent=u,this.target=h,this.currentTarget=null;for(var y in e)e.hasOwnProperty(y)&&(i=e[y],this[y]=i?i(u):u[y]);return this.isDefaultPrevented=(u.defaultPrevented!=null?u.defaultPrevented:u.returnValue===!1)?ws:Od,this.isPropagationStopped=Od,this}return v(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var i=this.nativeEvent;i&&(i.preventDefault?i.preventDefault():typeof i.returnValue!="unknown"&&(i.returnValue=!1),this.isDefaultPrevented=ws)},stopPropagation:function(){var i=this.nativeEvent;i&&(i.stopPropagation?i.stopPropagation():typeof i.cancelBubble!="unknown"&&(i.cancelBubble=!0),this.isPropagationStopped=ws)},persist:function(){},isPersistent:ws}),t}var vi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Rs=yt(vi),$l=v({},vi,{view:0,detail:0}),Av=yt($l),Ic,Lc,Wl,Ms=v({},$l,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Hc,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Wl&&(Wl&&e.type==="mousemove"?(Ic=e.screenX-Wl.screenX,Lc=e.screenY-Wl.screenY):Lc=Ic=0,Wl=e),Ic)},movementY:function(e){return"movementY"in e?e.movementY:Lc}}),jd=yt(Ms),wv=v({},Ms,{dataTransfer:0}),Rv=yt(wv),Mv=v({},$l,{relatedTarget:0}),Uc=yt(Mv),Dv=v({},vi,{animationName:0,elapsedTime:0,pseudoElement:0}),Ov=yt(Dv),jv=v({},vi,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),zv=yt(jv),Iv=v({},vi,{data:0}),zd=yt(Iv),Lv={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Uv={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Hv={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Bv(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=Hv[e])?!!t[e]:!1}function Hc(){return Bv}var kv=v({},$l,{key:function(e){if(e.key){var t=Lv[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=As(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Uv[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Hc,charCode:function(e){return e.type==="keypress"?As(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?As(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),qv=yt(kv),Gv=v({},Ms,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Id=yt(Gv),Yv=v({},$l,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Hc}),Vv=yt(Yv),Qv=v({},vi,{propertyName:0,elapsedTime:0,pseudoElement:0}),Xv=yt(Qv),Zv=v({},Ms,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Kv=yt(Zv),Fv=v({},vi,{newState:0,oldState:0}),Pv=yt(Fv),Jv=[9,13,27,32],Bc=dn&&"CompositionEvent"in window,ea=null;dn&&"documentMode"in document&&(ea=document.documentMode);var $v=dn&&"TextEvent"in window&&!ea,Ld=dn&&(!Bc||ea&&8<ea&&11>=ea),Ud=" ",Hd=!1;function Bd(e,t){switch(e){case"keyup":return Jv.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function kd(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Wi=!1;function Wv(e,t){switch(e){case"compositionend":return kd(t);case"keypress":return t.which!==32?null:(Hd=!0,Ud);case"textInput":return e=t.data,e===Ud&&Hd?null:e;default:return null}}function e0(e,t){if(Wi)return e==="compositionend"||!Bc&&Bd(e,t)?(e=Dd(),Ns=zc=Ln=null,Wi=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Ld&&t.locale!=="ko"?null:t.data;default:return null}}var t0={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function qd(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!t0[e.type]:t==="textarea"}function Gd(e,t,i,r){Ji?$i?$i.push(r):$i=[r]:Ji=r,t=vr(t,"onChange"),0<t.length&&(i=new Rs("onChange","change",null,i,r),e.push({event:i,listeners:t}))}var ta=null,na=null;function n0(e){Cg(e,0)}function Ds(e){var t=Fl(e);if(xd(t))return e}function Yd(e,t){if(e==="change")return t}var Vd=!1;if(dn){var kc;if(dn){var qc="oninput"in document;if(!qc){var Qd=document.createElement("div");Qd.setAttribute("oninput","return;"),qc=typeof Qd.oninput=="function"}kc=qc}else kc=!1;Vd=kc&&(!document.documentMode||9<document.documentMode)}function Xd(){ta&&(ta.detachEvent("onpropertychange",Zd),na=ta=null)}function Zd(e){if(e.propertyName==="value"&&Ds(na)){var t=[];Gd(t,na,e,Dc(e)),Md(n0,t)}}function i0(e,t,i){e==="focusin"?(Xd(),ta=t,na=i,ta.attachEvent("onpropertychange",Zd)):e==="focusout"&&Xd()}function l0(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Ds(na)}function a0(e,t){if(e==="click")return Ds(t)}function s0(e,t){if(e==="input"||e==="change")return Ds(t)}function r0(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Rt=typeof Object.is=="function"?Object.is:r0;function ia(e,t){if(Rt(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var i=Object.keys(e),r=Object.keys(t);if(i.length!==r.length)return!1;for(r=0;r<i.length;r++){var o=i[r];if(!_c.call(t,o)||!Rt(e[o],t[o]))return!1}return!0}function Kd(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Fd(e,t){var i=Kd(e);e=0;for(var r;i;){if(i.nodeType===3){if(r=e+i.textContent.length,e<=t&&r>=t)return{node:i,offset:t-e};e=r}e:{for(;i;){if(i.nextSibling){i=i.nextSibling;break e}i=i.parentNode}i=void 0}i=Kd(i)}}function Pd(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Pd(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Jd(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var t=Cs(e.document);t instanceof e.HTMLIFrameElement;){try{var i=typeof t.contentWindow.location.href=="string"}catch{i=!1}if(i)e=t.contentWindow;else break;t=Cs(e.document)}return t}function Gc(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}var c0=dn&&"documentMode"in document&&11>=document.documentMode,el=null,Yc=null,la=null,Vc=!1;function $d(e,t,i){var r=i.window===i?i.document:i.nodeType===9?i:i.ownerDocument;Vc||el==null||el!==Cs(r)||(r=el,"selectionStart"in r&&Gc(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),la&&ia(la,r)||(la=r,r=vr(Yc,"onSelect"),0<r.length&&(t=new Rs("onSelect","select",null,t,i),e.push({event:t,listeners:r}),t.target=el)))}function bi(e,t){var i={};return i[e.toLowerCase()]=t.toLowerCase(),i["Webkit"+e]="webkit"+t,i["Moz"+e]="moz"+t,i}var tl={animationend:bi("Animation","AnimationEnd"),animationiteration:bi("Animation","AnimationIteration"),animationstart:bi("Animation","AnimationStart"),transitionrun:bi("Transition","TransitionRun"),transitionstart:bi("Transition","TransitionStart"),transitioncancel:bi("Transition","TransitionCancel"),transitionend:bi("Transition","TransitionEnd")},Qc={},Wd={};dn&&(Wd=document.createElement("div").style,"AnimationEvent"in window||(delete tl.animationend.animation,delete tl.animationiteration.animation,delete tl.animationstart.animation),"TransitionEvent"in window||delete tl.transitionend.transition);function Si(e){if(Qc[e])return Qc[e];if(!tl[e])return e;var t=tl[e],i;for(i in t)if(t.hasOwnProperty(i)&&i in Wd)return Qc[e]=t[i];return e}var eh=Si("animationend"),th=Si("animationiteration"),nh=Si("animationstart"),o0=Si("transitionrun"),u0=Si("transitionstart"),f0=Si("transitioncancel"),ih=Si("transitionend"),lh=new Map,Xc="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Xc.push("scrollEnd");function Pt(e,t){lh.set(e,t),_i(t,[e])}var Os=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},Bt=[],nl=0,Zc=0;function js(){for(var e=nl,t=Zc=nl=0;t<e;){var i=Bt[t];Bt[t++]=null;var r=Bt[t];Bt[t++]=null;var o=Bt[t];Bt[t++]=null;var u=Bt[t];if(Bt[t++]=null,r!==null&&o!==null){var h=r.pending;h===null?o.next=o:(o.next=h.next,h.next=o),r.pending=o}u!==0&&ah(i,o,u)}}function zs(e,t,i,r){Bt[nl++]=e,Bt[nl++]=t,Bt[nl++]=i,Bt[nl++]=r,Zc|=r,e.lanes|=r,e=e.alternate,e!==null&&(e.lanes|=r)}function Kc(e,t,i,r){return zs(e,t,i,r),Is(e)}function Ei(e,t){return zs(e,null,null,t),Is(e)}function ah(e,t,i){e.lanes|=i;var r=e.alternate;r!==null&&(r.lanes|=i);for(var o=!1,u=e.return;u!==null;)u.childLanes|=i,r=u.alternate,r!==null&&(r.childLanes|=i),u.tag===22&&(e=u.stateNode,e===null||e._visibility&1||(o=!0)),e=u,u=u.return;return e.tag===3?(u=e.stateNode,o&&t!==null&&(o=31-wt(i),e=u.hiddenUpdates,r=e[o],r===null?e[o]=[t]:r.push(t),t.lane=i|536870912),u):null}function Is(e){if(50<Na)throw Na=0,lu=null,Error(s(185));for(var t=e.return;t!==null;)e=t,t=e.return;return e.tag===3?e.stateNode:null}var il={};function d0(e,t,i,r){this.tag=e,this.key=i,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Mt(e,t,i,r){return new d0(e,t,i,r)}function Fc(e){return e=e.prototype,!(!e||!e.isReactComponent)}function hn(e,t){var i=e.alternate;return i===null?(i=Mt(e.tag,t,e.key,e.mode),i.elementType=e.elementType,i.type=e.type,i.stateNode=e.stateNode,i.alternate=e,e.alternate=i):(i.pendingProps=t,i.type=e.type,i.flags=0,i.subtreeFlags=0,i.deletions=null),i.flags=e.flags&65011712,i.childLanes=e.childLanes,i.lanes=e.lanes,i.child=e.child,i.memoizedProps=e.memoizedProps,i.memoizedState=e.memoizedState,i.updateQueue=e.updateQueue,t=e.dependencies,i.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},i.sibling=e.sibling,i.index=e.index,i.ref=e.ref,i.refCleanup=e.refCleanup,i}function sh(e,t){e.flags&=65011714;var i=e.alternate;return i===null?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=i.childLanes,e.lanes=i.lanes,e.child=i.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=i.memoizedProps,e.memoizedState=i.memoizedState,e.updateQueue=i.updateQueue,e.type=i.type,t=i.dependencies,e.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function Ls(e,t,i,r,o,u){var h=0;if(r=e,typeof e=="function")Fc(e)&&(h=1);else if(typeof e=="string")h=yb(e,i,G.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case ee:return e=Mt(31,i,t,o),e.elementType=ee,e.lanes=u,e;case k:return xi(i.children,o,u,t);case K:h=8,o|=24;break;case fe:return e=Mt(12,i,t,o|2),e.elementType=fe,e.lanes=u,e;case Ve:return e=Mt(13,i,t,o),e.elementType=Ve,e.lanes=u,e;case je:return e=Mt(19,i,t,o),e.elementType=je,e.lanes=u,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case oe:h=10;break e;case Ne:h=9;break e;case Oe:h=11;break e;case F:h=14;break e;case be:h=16,r=null;break e}h=29,i=Error(s(130,e===null?"null":typeof e,"")),r=null}return t=Mt(h,i,t,o),t.elementType=e,t.type=r,t.lanes=u,t}function xi(e,t,i,r){return e=Mt(7,e,r,t),e.lanes=i,e}function Pc(e,t,i){return e=Mt(6,e,null,t),e.lanes=i,e}function rh(e){var t=Mt(18,null,null,0);return t.stateNode=e,t}function Jc(e,t,i){return t=Mt(4,e.children!==null?e.children:[],e.key,t),t.lanes=i,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var ch=new WeakMap;function kt(e,t){if(typeof e=="object"&&e!==null){var i=ch.get(e);return i!==void 0?i:(t={value:e,source:t,stack:rd(t)},ch.set(e,t),t)}return{value:e,source:t,stack:rd(t)}}var ll=[],al=0,Us=null,aa=0,qt=[],Gt=0,Un=null,nn=1,ln="";function mn(e,t){ll[al++]=aa,ll[al++]=Us,Us=e,aa=t}function oh(e,t,i){qt[Gt++]=nn,qt[Gt++]=ln,qt[Gt++]=Un,Un=e;var r=nn;e=ln;var o=32-wt(r)-1;r&=~(1<<o),i+=1;var u=32-wt(t)+o;if(30<u){var h=o-o%5;u=(r&(1<<h)-1).toString(32),r>>=h,o-=h,nn=1<<32-wt(t)+o|i<<o|r,ln=u+e}else nn=1<<u|i<<o|r,ln=e}function $c(e){e.return!==null&&(mn(e,1),oh(e,1,0))}function Wc(e){for(;e===Us;)Us=ll[--al],ll[al]=null,aa=ll[--al],ll[al]=null;for(;e===Un;)Un=qt[--Gt],qt[Gt]=null,ln=qt[--Gt],qt[Gt]=null,nn=qt[--Gt],qt[Gt]=null}function uh(e,t){qt[Gt++]=nn,qt[Gt++]=ln,qt[Gt++]=Un,nn=t.id,ln=t.overflow,Un=e}var it=null,ze=null,ue=!1,Hn=null,Yt=!1,eo=Error(s(519));function Bn(e){var t=Error(s(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw sa(kt(t,e)),eo}function fh(e){var t=e.stateNode,i=e.type,r=e.memoizedProps;switch(t[nt]=e,t[pt]=r,i){case"dialog":ae("cancel",t),ae("close",t);break;case"iframe":case"object":case"embed":ae("load",t);break;case"video":case"audio":for(i=0;i<wa.length;i++)ae(wa[i],t);break;case"source":ae("error",t);break;case"img":case"image":case"link":ae("error",t),ae("load",t);break;case"details":ae("toggle",t);break;case"input":ae("invalid",t),Cd(t,r.value,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name,!0);break;case"select":ae("invalid",t);break;case"textarea":ae("invalid",t),Nd(t,r.value,r.defaultValue,r.children)}i=r.children,typeof i!="string"&&typeof i!="number"&&typeof i!="bigint"||t.textContent===""+i||r.suppressHydrationWarning===!0||wg(t.textContent,i)?(r.popover!=null&&(ae("beforetoggle",t),ae("toggle",t)),r.onScroll!=null&&ae("scroll",t),r.onScrollEnd!=null&&ae("scrollend",t),r.onClick!=null&&(t.onclick=fn),t=!0):t=!1,t||Bn(e,!0)}function dh(e){for(it=e.return;it;)switch(it.tag){case 5:case 31:case 13:Yt=!1;return;case 27:case 3:Yt=!0;return;default:it=it.return}}function sl(e){if(e!==it)return!1;if(!ue)return dh(e),ue=!0,!1;var t=e.tag,i;if((i=t!==3&&t!==27)&&((i=t===5)&&(i=e.type,i=!(i!=="form"&&i!=="button")||vu(e.type,e.memoizedProps)),i=!i),i&&ze&&Bn(e),dh(e),t===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(s(317));ze=Ug(e)}else if(t===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(s(317));ze=Ug(e)}else t===27?(t=ze,Wn(e.type)?(e=Cu,Cu=null,ze=e):ze=t):ze=it?Qt(e.stateNode.nextSibling):null;return!0}function Ci(){ze=it=null,ue=!1}function to(){var e=Hn;return e!==null&&(St===null?St=e:St.push.apply(St,e),Hn=null),e}function sa(e){Hn===null?Hn=[e]:Hn.push(e)}var no=C(null),Ti=null,gn=null;function kn(e,t,i){B(no,t._currentValue),t._currentValue=i}function pn(e){e._currentValue=no.current,I(no)}function io(e,t,i){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===i)break;e=e.return}}function lo(e,t,i,r){var o=e.child;for(o!==null&&(o.return=e);o!==null;){var u=o.dependencies;if(u!==null){var h=o.child;u=u.firstContext;e:for(;u!==null;){var y=u;u=o;for(var S=0;S<t.length;S++)if(y.context===t[S]){u.lanes|=i,y=u.alternate,y!==null&&(y.lanes|=i),io(u.return,i,e),r||(h=null);break e}u=y.next}}else if(o.tag===18){if(h=o.return,h===null)throw Error(s(341));h.lanes|=i,u=h.alternate,u!==null&&(u.lanes|=i),io(h,i,e),h=null}else h=o.child;if(h!==null)h.return=o;else for(h=o;h!==null;){if(h===e){h=null;break}if(o=h.sibling,o!==null){o.return=h.return,h=o;break}h=h.return}o=h}}function rl(e,t,i,r){e=null;for(var o=t,u=!1;o!==null;){if(!u){if((o.flags&524288)!==0)u=!0;else if((o.flags&262144)!==0)break}if(o.tag===10){var h=o.alternate;if(h===null)throw Error(s(387));if(h=h.memoizedProps,h!==null){var y=o.type;Rt(o.pendingProps.value,h.value)||(e!==null?e.push(y):e=[y])}}else if(o===ye.current){if(h=o.alternate,h===null)throw Error(s(387));h.memoizedState.memoizedState!==o.memoizedState.memoizedState&&(e!==null?e.push(ja):e=[ja])}o=o.return}e!==null&&lo(t,e,i,r),t.flags|=262144}function Hs(e){for(e=e.firstContext;e!==null;){if(!Rt(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Ni(e){Ti=e,gn=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function lt(e){return hh(Ti,e)}function Bs(e,t){return Ti===null&&Ni(e),hh(e,t)}function hh(e,t){var i=t._currentValue;if(t={context:t,memoizedValue:i,next:null},gn===null){if(e===null)throw Error(s(308));gn=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else gn=gn.next=t;return i}var h0=typeof AbortController<"u"?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(i,r){e.push(r)}};this.abort=function(){t.aborted=!0,e.forEach(function(i){return i()})}},m0=l.unstable_scheduleCallback,g0=l.unstable_NormalPriority,Qe={$$typeof:oe,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function ao(){return{controller:new h0,data:new Map,refCount:0}}function ra(e){e.refCount--,e.refCount===0&&m0(g0,function(){e.controller.abort()})}var ca=null,so=0,cl=0,ol=null;function p0(e,t){if(ca===null){var i=ca=[];so=0,cl=uu(),ol={status:"pending",value:void 0,then:function(r){i.push(r)}}}return so++,t.then(mh,mh),t}function mh(){if(--so===0&&ca!==null){ol!==null&&(ol.status="fulfilled");var e=ca;ca=null,cl=0,ol=null;for(var t=0;t<e.length;t++)(0,e[t])()}}function y0(e,t){var i=[],r={status:"pending",value:null,reason:null,then:function(o){i.push(o)}};return e.then(function(){r.status="fulfilled",r.value=t;for(var o=0;o<i.length;o++)(0,i[o])(t)},function(o){for(r.status="rejected",r.reason=o,o=0;o<i.length;o++)(0,i[o])(void 0)}),r}var gh=D.S;D.S=function(e,t){$m=Nt(),typeof t=="object"&&t!==null&&typeof t.then=="function"&&p0(e,t),gh!==null&&gh(e,t)};var Ai=C(null);function ro(){var e=Ai.current;return e!==null?e:we.pooledCache}function ks(e,t){t===null?B(Ai,Ai.current):B(Ai,t.pool)}function ph(){var e=ro();return e===null?null:{parent:Qe._currentValue,pool:e}}var ul=Error(s(460)),co=Error(s(474)),qs=Error(s(542)),Gs={then:function(){}};function yh(e){return e=e.status,e==="fulfilled"||e==="rejected"}function _h(e,t,i){switch(i=e[i],i===void 0?e.push(t):i!==t&&(t.then(fn,fn),t=i),t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,bh(e),e;default:if(typeof t.status=="string")t.then(fn,fn);else{if(e=we,e!==null&&100<e.shellSuspendCounter)throw Error(s(482));e=t,e.status="pending",e.then(function(r){if(t.status==="pending"){var o=t;o.status="fulfilled",o.value=r}},function(r){if(t.status==="pending"){var o=t;o.status="rejected",o.reason=r}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,bh(e),e}throw Ri=t,ul}}function wi(e){try{var t=e._init;return t(e._payload)}catch(i){throw i!==null&&typeof i=="object"&&typeof i.then=="function"?(Ri=i,ul):i}}var Ri=null;function vh(){if(Ri===null)throw Error(s(459));var e=Ri;return Ri=null,e}function bh(e){if(e===ul||e===qs)throw Error(s(483))}var fl=null,oa=0;function Ys(e){var t=oa;return oa+=1,fl===null&&(fl=[]),_h(fl,e,t)}function ua(e,t){t=t.props.ref,e.ref=t!==void 0?t:null}function Vs(e,t){throw t.$$typeof===E?Error(s(525)):(e=Object.prototype.toString.call(t),Error(s(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)))}function Sh(e){function t(T,x){if(e){var N=T.deletions;N===null?(T.deletions=[x],T.flags|=16):N.push(x)}}function i(T,x){if(!e)return null;for(;x!==null;)t(T,x),x=x.sibling;return null}function r(T){for(var x=new Map;T!==null;)T.key!==null?x.set(T.key,T):x.set(T.index,T),T=T.sibling;return x}function o(T,x){return T=hn(T,x),T.index=0,T.sibling=null,T}function u(T,x,N){return T.index=N,e?(N=T.alternate,N!==null?(N=N.index,N<x?(T.flags|=67108866,x):N):(T.flags|=67108866,x)):(T.flags|=1048576,x)}function h(T){return e&&T.alternate===null&&(T.flags|=67108866),T}function y(T,x,N,O){return x===null||x.tag!==6?(x=Pc(N,T.mode,O),x.return=T,x):(x=o(x,N),x.return=T,x)}function S(T,x,N,O){var V=N.type;return V===k?M(T,x,N.props.children,O,N.key):x!==null&&(x.elementType===V||typeof V=="object"&&V!==null&&V.$$typeof===be&&wi(V)===x.type)?(x=o(x,N.props),ua(x,N),x.return=T,x):(x=Ls(N.type,N.key,N.props,null,T.mode,O),ua(x,N),x.return=T,x)}function A(T,x,N,O){return x===null||x.tag!==4||x.stateNode.containerInfo!==N.containerInfo||x.stateNode.implementation!==N.implementation?(x=Jc(N,T.mode,O),x.return=T,x):(x=o(x,N.children||[]),x.return=T,x)}function M(T,x,N,O,V){return x===null||x.tag!==7?(x=xi(N,T.mode,O,V),x.return=T,x):(x=o(x,N),x.return=T,x)}function j(T,x,N){if(typeof x=="string"&&x!==""||typeof x=="number"||typeof x=="bigint")return x=Pc(""+x,T.mode,N),x.return=T,x;if(typeof x=="object"&&x!==null){switch(x.$$typeof){case z:return N=Ls(x.type,x.key,x.props,null,T.mode,N),ua(N,x),N.return=T,N;case L:return x=Jc(x,T.mode,N),x.return=T,x;case be:return x=wi(x),j(T,x,N)}if(Tt(x)||de(x))return x=xi(x,T.mode,N,null),x.return=T,x;if(typeof x.then=="function")return j(T,Ys(x),N);if(x.$$typeof===oe)return j(T,Bs(T,x),N);Vs(T,x)}return null}function w(T,x,N,O){var V=x!==null?x.key:null;if(typeof N=="string"&&N!==""||typeof N=="number"||typeof N=="bigint")return V!==null?null:y(T,x,""+N,O);if(typeof N=="object"&&N!==null){switch(N.$$typeof){case z:return N.key===V?S(T,x,N,O):null;case L:return N.key===V?A(T,x,N,O):null;case be:return N=wi(N),w(T,x,N,O)}if(Tt(N)||de(N))return V!==null?null:M(T,x,N,O,null);if(typeof N.then=="function")return w(T,x,Ys(N),O);if(N.$$typeof===oe)return w(T,x,Bs(T,N),O);Vs(T,N)}return null}function R(T,x,N,O,V){if(typeof O=="string"&&O!==""||typeof O=="number"||typeof O=="bigint")return T=T.get(N)||null,y(x,T,""+O,V);if(typeof O=="object"&&O!==null){switch(O.$$typeof){case z:return T=T.get(O.key===null?N:O.key)||null,S(x,T,O,V);case L:return T=T.get(O.key===null?N:O.key)||null,A(x,T,O,V);case be:return O=wi(O),R(T,x,N,O,V)}if(Tt(O)||de(O))return T=T.get(N)||null,M(x,T,O,V,null);if(typeof O.then=="function")return R(T,x,N,Ys(O),V);if(O.$$typeof===oe)return R(T,x,N,Bs(x,O),V);Vs(x,O)}return null}function q(T,x,N,O){for(var V=null,he=null,Y=x,W=x=0,ce=null;Y!==null&&W<N.length;W++){Y.index>W?(ce=Y,Y=null):ce=Y.sibling;var me=w(T,Y,N[W],O);if(me===null){Y===null&&(Y=ce);break}e&&Y&&me.alternate===null&&t(T,Y),x=u(me,x,W),he===null?V=me:he.sibling=me,he=me,Y=ce}if(W===N.length)return i(T,Y),ue&&mn(T,W),V;if(Y===null){for(;W<N.length;W++)Y=j(T,N[W],O),Y!==null&&(x=u(Y,x,W),he===null?V=Y:he.sibling=Y,he=Y);return ue&&mn(T,W),V}for(Y=r(Y);W<N.length;W++)ce=R(Y,T,W,N[W],O),ce!==null&&(e&&ce.alternate!==null&&Y.delete(ce.key===null?W:ce.key),x=u(ce,x,W),he===null?V=ce:he.sibling=ce,he=ce);return e&&Y.forEach(function(li){return t(T,li)}),ue&&mn(T,W),V}function Q(T,x,N,O){if(N==null)throw Error(s(151));for(var V=null,he=null,Y=x,W=x=0,ce=null,me=N.next();Y!==null&&!me.done;W++,me=N.next()){Y.index>W?(ce=Y,Y=null):ce=Y.sibling;var li=w(T,Y,me.value,O);if(li===null){Y===null&&(Y=ce);break}e&&Y&&li.alternate===null&&t(T,Y),x=u(li,x,W),he===null?V=li:he.sibling=li,he=li,Y=ce}if(me.done)return i(T,Y),ue&&mn(T,W),V;if(Y===null){for(;!me.done;W++,me=N.next())me=j(T,me.value,O),me!==null&&(x=u(me,x,W),he===null?V=me:he.sibling=me,he=me);return ue&&mn(T,W),V}for(Y=r(Y);!me.done;W++,me=N.next())me=R(Y,T,W,me.value,O),me!==null&&(e&&me.alternate!==null&&Y.delete(me.key===null?W:me.key),x=u(me,x,W),he===null?V=me:he.sibling=me,he=me);return e&&Y.forEach(function(wb){return t(T,wb)}),ue&&mn(T,W),V}function Ce(T,x,N,O){if(typeof N=="object"&&N!==null&&N.type===k&&N.key===null&&(N=N.props.children),typeof N=="object"&&N!==null){switch(N.$$typeof){case z:e:{for(var V=N.key;x!==null;){if(x.key===V){if(V=N.type,V===k){if(x.tag===7){i(T,x.sibling),O=o(x,N.props.children),O.return=T,T=O;break e}}else if(x.elementType===V||typeof V=="object"&&V!==null&&V.$$typeof===be&&wi(V)===x.type){i(T,x.sibling),O=o(x,N.props),ua(O,N),O.return=T,T=O;break e}i(T,x);break}else t(T,x);x=x.sibling}N.type===k?(O=xi(N.props.children,T.mode,O,N.key),O.return=T,T=O):(O=Ls(N.type,N.key,N.props,null,T.mode,O),ua(O,N),O.return=T,T=O)}return h(T);case L:e:{for(V=N.key;x!==null;){if(x.key===V)if(x.tag===4&&x.stateNode.containerInfo===N.containerInfo&&x.stateNode.implementation===N.implementation){i(T,x.sibling),O=o(x,N.children||[]),O.return=T,T=O;break e}else{i(T,x);break}else t(T,x);x=x.sibling}O=Jc(N,T.mode,O),O.return=T,T=O}return h(T);case be:return N=wi(N),Ce(T,x,N,O)}if(Tt(N))return q(T,x,N,O);if(de(N)){if(V=de(N),typeof V!="function")throw Error(s(150));return N=V.call(N),Q(T,x,N,O)}if(typeof N.then=="function")return Ce(T,x,Ys(N),O);if(N.$$typeof===oe)return Ce(T,x,Bs(T,N),O);Vs(T,N)}return typeof N=="string"&&N!==""||typeof N=="number"||typeof N=="bigint"?(N=""+N,x!==null&&x.tag===6?(i(T,x.sibling),O=o(x,N),O.return=T,T=O):(i(T,x),O=Pc(N,T.mode,O),O.return=T,T=O),h(T)):i(T,x)}return function(T,x,N,O){try{oa=0;var V=Ce(T,x,N,O);return fl=null,V}catch(Y){if(Y===ul||Y===qs)throw Y;var he=Mt(29,Y,null,T.mode);return he.lanes=O,he.return=T,he}}}var Mi=Sh(!0),Eh=Sh(!1),qn=!1;function oo(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function uo(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Gn(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Yn(e,t,i){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,(pe&2)!==0){var o=r.pending;return o===null?t.next=t:(t.next=o.next,o.next=t),r.pending=t,t=Is(e),ah(e,null,i),t}return zs(e,r,t,i),Is(e)}function fa(e,t,i){if(t=t.updateQueue,t!==null&&(t=t.shared,(i&4194048)!==0)){var r=t.lanes;r&=e.pendingLanes,i|=r,t.lanes=i,hd(e,i)}}function fo(e,t){var i=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,i===r)){var o=null,u=null;if(i=i.firstBaseUpdate,i!==null){do{var h={lane:i.lane,tag:i.tag,payload:i.payload,callback:null,next:null};u===null?o=u=h:u=u.next=h,i=i.next}while(i!==null);u===null?o=u=t:u=u.next=t}else o=u=t;i={baseState:r.baseState,firstBaseUpdate:o,lastBaseUpdate:u,shared:r.shared,callbacks:r.callbacks},e.updateQueue=i;return}e=i.lastBaseUpdate,e===null?i.firstBaseUpdate=t:e.next=t,i.lastBaseUpdate=t}var ho=!1;function da(){if(ho){var e=ol;if(e!==null)throw e}}function ha(e,t,i,r){ho=!1;var o=e.updateQueue;qn=!1;var u=o.firstBaseUpdate,h=o.lastBaseUpdate,y=o.shared.pending;if(y!==null){o.shared.pending=null;var S=y,A=S.next;S.next=null,h===null?u=A:h.next=A,h=S;var M=e.alternate;M!==null&&(M=M.updateQueue,y=M.lastBaseUpdate,y!==h&&(y===null?M.firstBaseUpdate=A:y.next=A,M.lastBaseUpdate=S))}if(u!==null){var j=o.baseState;h=0,M=A=S=null,y=u;do{var w=y.lane&-536870913,R=w!==y.lane;if(R?(re&w)===w:(r&w)===w){w!==0&&w===cl&&(ho=!0),M!==null&&(M=M.next={lane:0,tag:y.tag,payload:y.payload,callback:null,next:null});e:{var q=e,Q=y;w=t;var Ce=i;switch(Q.tag){case 1:if(q=Q.payload,typeof q=="function"){j=q.call(Ce,j,w);break e}j=q;break e;case 3:q.flags=q.flags&-65537|128;case 0:if(q=Q.payload,w=typeof q=="function"?q.call(Ce,j,w):q,w==null)break e;j=v({},j,w);break e;case 2:qn=!0}}w=y.callback,w!==null&&(e.flags|=64,R&&(e.flags|=8192),R=o.callbacks,R===null?o.callbacks=[w]:R.push(w))}else R={lane:w,tag:y.tag,payload:y.payload,callback:y.callback,next:null},M===null?(A=M=R,S=j):M=M.next=R,h|=w;if(y=y.next,y===null){if(y=o.shared.pending,y===null)break;R=y,y=R.next,R.next=null,o.lastBaseUpdate=R,o.shared.pending=null}}while(!0);M===null&&(S=j),o.baseState=S,o.firstBaseUpdate=A,o.lastBaseUpdate=M,u===null&&(o.shared.lanes=0),Kn|=h,e.lanes=h,e.memoizedState=j}}function xh(e,t){if(typeof e!="function")throw Error(s(191,e));e.call(t)}function Ch(e,t){var i=e.callbacks;if(i!==null)for(e.callbacks=null,e=0;e<i.length;e++)xh(i[e],t)}var dl=C(null),Qs=C(0);function Th(e,t){e=Tn,B(Qs,e),B(dl,t),Tn=e|t.baseLanes}function mo(){B(Qs,Tn),B(dl,dl.current)}function go(){Tn=Qs.current,I(dl),I(Qs)}var Dt=C(null),Vt=null;function Vn(e){var t=e.alternate;B(Ge,Ge.current&1),B(Dt,e),Vt===null&&(t===null||dl.current!==null||t.memoizedState!==null)&&(Vt=e)}function po(e){B(Ge,Ge.current),B(Dt,e),Vt===null&&(Vt=e)}function Nh(e){e.tag===22?(B(Ge,Ge.current),B(Dt,e),Vt===null&&(Vt=e)):Qn()}function Qn(){B(Ge,Ge.current),B(Dt,Dt.current)}function Ot(e){I(Dt),Vt===e&&(Vt=null),I(Ge)}var Ge=C(0);function Xs(e){for(var t=e;t!==null;){if(t.tag===13){var i=t.memoizedState;if(i!==null&&(i=i.dehydrated,i===null||Eu(i)||xu(i)))return t}else if(t.tag===19&&(t.memoizedProps.revealOrder==="forwards"||t.memoizedProps.revealOrder==="backwards"||t.memoizedProps.revealOrder==="unstable_legacy-backwards"||t.memoizedProps.revealOrder==="together")){if((t.flags&128)!==0)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var yn=0,$=null,Ee=null,Xe=null,Zs=!1,hl=!1,Di=!1,Ks=0,ma=0,ml=null,_0=0;function Ue(){throw Error(s(321))}function yo(e,t){if(t===null)return!1;for(var i=0;i<t.length&&i<e.length;i++)if(!Rt(e[i],t[i]))return!1;return!0}function _o(e,t,i,r,o,u){return yn=u,$=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,D.H=e===null||e.memoizedState===null?om:jo,Di=!1,u=i(r,o),Di=!1,hl&&(u=wh(t,i,r,o)),Ah(e),u}function Ah(e){D.H=ya;var t=Ee!==null&&Ee.next!==null;if(yn=0,Xe=Ee=$=null,Zs=!1,ma=0,ml=null,t)throw Error(s(300));e===null||Ze||(e=e.dependencies,e!==null&&Hs(e)&&(Ze=!0))}function wh(e,t,i,r){$=e;var o=0;do{if(hl&&(ml=null),ma=0,hl=!1,25<=o)throw Error(s(301));if(o+=1,Xe=Ee=null,e.updateQueue!=null){var u=e.updateQueue;u.lastEffect=null,u.events=null,u.stores=null,u.memoCache!=null&&(u.memoCache.index=0)}D.H=um,u=t(i,r)}while(hl);return u}function v0(){var e=D.H,t=e.useState()[0];return t=typeof t.then=="function"?ga(t):t,e=e.useState()[0],(Ee!==null?Ee.memoizedState:null)!==e&&($.flags|=1024),t}function vo(){var e=Ks!==0;return Ks=0,e}function bo(e,t,i){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i}function So(e){if(Zs){for(e=e.memoizedState;e!==null;){var t=e.queue;t!==null&&(t.pending=null),e=e.next}Zs=!1}yn=0,Xe=Ee=$=null,hl=!1,ma=Ks=0,ml=null}function dt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Xe===null?$.memoizedState=Xe=e:Xe=Xe.next=e,Xe}function Ye(){if(Ee===null){var e=$.alternate;e=e!==null?e.memoizedState:null}else e=Ee.next;var t=Xe===null?$.memoizedState:Xe.next;if(t!==null)Xe=t,Ee=e;else{if(e===null)throw $.alternate===null?Error(s(467)):Error(s(310));Ee=e,e={memoizedState:Ee.memoizedState,baseState:Ee.baseState,baseQueue:Ee.baseQueue,queue:Ee.queue,next:null},Xe===null?$.memoizedState=Xe=e:Xe=Xe.next=e}return Xe}function Fs(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function ga(e){var t=ma;return ma+=1,ml===null&&(ml=[]),e=_h(ml,e,t),t=$,(Xe===null?t.memoizedState:Xe.next)===null&&(t=t.alternate,D.H=t===null||t.memoizedState===null?om:jo),e}function Ps(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return ga(e);if(e.$$typeof===oe)return lt(e)}throw Error(s(438,String(e)))}function Eo(e){var t=null,i=$.updateQueue;if(i!==null&&(t=i.memoCache),t==null){var r=$.alternate;r!==null&&(r=r.updateQueue,r!==null&&(r=r.memoCache,r!=null&&(t={data:r.data.map(function(o){return o.slice()}),index:0})))}if(t==null&&(t={data:[],index:0}),i===null&&(i=Fs(),$.updateQueue=i),i.memoCache=t,i=t.data[t.index],i===void 0)for(i=t.data[t.index]=Array(e),r=0;r<e;r++)i[r]=Ct;return t.index++,i}function _n(e,t){return typeof t=="function"?t(e):t}function Js(e){var t=Ye();return xo(t,Ee,e)}function xo(e,t,i){var r=e.queue;if(r===null)throw Error(s(311));r.lastRenderedReducer=i;var o=e.baseQueue,u=r.pending;if(u!==null){if(o!==null){var h=o.next;o.next=u.next,u.next=h}t.baseQueue=o=u,r.pending=null}if(u=e.baseState,o===null)e.memoizedState=u;else{t=o.next;var y=h=null,S=null,A=t,M=!1;do{var j=A.lane&-536870913;if(j!==A.lane?(re&j)===j:(yn&j)===j){var w=A.revertLane;if(w===0)S!==null&&(S=S.next={lane:0,revertLane:0,gesture:null,action:A.action,hasEagerState:A.hasEagerState,eagerState:A.eagerState,next:null}),j===cl&&(M=!0);else if((yn&w)===w){A=A.next,w===cl&&(M=!0);continue}else j={lane:0,revertLane:A.revertLane,gesture:null,action:A.action,hasEagerState:A.hasEagerState,eagerState:A.eagerState,next:null},S===null?(y=S=j,h=u):S=S.next=j,$.lanes|=w,Kn|=w;j=A.action,Di&&i(u,j),u=A.hasEagerState?A.eagerState:i(u,j)}else w={lane:j,revertLane:A.revertLane,gesture:A.gesture,action:A.action,hasEagerState:A.hasEagerState,eagerState:A.eagerState,next:null},S===null?(y=S=w,h=u):S=S.next=w,$.lanes|=j,Kn|=j;A=A.next}while(A!==null&&A!==t);if(S===null?h=u:S.next=y,!Rt(u,e.memoizedState)&&(Ze=!0,M&&(i=ol,i!==null)))throw i;e.memoizedState=u,e.baseState=h,e.baseQueue=S,r.lastRenderedState=u}return o===null&&(r.lanes=0),[e.memoizedState,r.dispatch]}function Co(e){var t=Ye(),i=t.queue;if(i===null)throw Error(s(311));i.lastRenderedReducer=e;var r=i.dispatch,o=i.pending,u=t.memoizedState;if(o!==null){i.pending=null;var h=o=o.next;do u=e(u,h.action),h=h.next;while(h!==o);Rt(u,t.memoizedState)||(Ze=!0),t.memoizedState=u,t.baseQueue===null&&(t.baseState=u),i.lastRenderedState=u}return[u,r]}function Rh(e,t,i){var r=$,o=Ye(),u=ue;if(u){if(i===void 0)throw Error(s(407));i=i()}else i=t();var h=!Rt((Ee||o).memoizedState,i);if(h&&(o.memoizedState=i,Ze=!0),o=o.queue,Ao(Oh.bind(null,r,o,e),[e]),o.getSnapshot!==t||h||Xe!==null&&Xe.memoizedState.tag&1){if(r.flags|=2048,gl(9,{destroy:void 0},Dh.bind(null,r,o,i,t),null),we===null)throw Error(s(349));u||(yn&127)!==0||Mh(r,t,i)}return i}function Mh(e,t,i){e.flags|=16384,e={getSnapshot:t,value:i},t=$.updateQueue,t===null?(t=Fs(),$.updateQueue=t,t.stores=[e]):(i=t.stores,i===null?t.stores=[e]:i.push(e))}function Dh(e,t,i,r){t.value=i,t.getSnapshot=r,jh(t)&&zh(e)}function Oh(e,t,i){return i(function(){jh(t)&&zh(e)})}function jh(e){var t=e.getSnapshot;e=e.value;try{var i=t();return!Rt(e,i)}catch{return!0}}function zh(e){var t=Ei(e,2);t!==null&&Et(t,e,2)}function To(e){var t=dt();if(typeof e=="function"){var i=e;if(e=i(),Di){zn(!0);try{i()}finally{zn(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:_n,lastRenderedState:e},t}function Ih(e,t,i,r){return e.baseState=i,xo(e,Ee,typeof r=="function"?r:_n)}function b0(e,t,i,r,o){if(er(e))throw Error(s(485));if(e=t.action,e!==null){var u={payload:o,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(h){u.listeners.push(h)}};D.T!==null?i(!0):u.isTransition=!1,r(u),i=t.pending,i===null?(u.next=t.pending=u,Lh(t,u)):(u.next=i.next,t.pending=i.next=u)}}function Lh(e,t){var i=t.action,r=t.payload,o=e.state;if(t.isTransition){var u=D.T,h={};D.T=h;try{var y=i(o,r),S=D.S;S!==null&&S(h,y),Uh(e,t,y)}catch(A){No(e,t,A)}finally{u!==null&&h.types!==null&&(u.types=h.types),D.T=u}}else try{u=i(o,r),Uh(e,t,u)}catch(A){No(e,t,A)}}function Uh(e,t,i){i!==null&&typeof i=="object"&&typeof i.then=="function"?i.then(function(r){Hh(e,t,r)},function(r){return No(e,t,r)}):Hh(e,t,i)}function Hh(e,t,i){t.status="fulfilled",t.value=i,Bh(t),e.state=i,t=e.pending,t!==null&&(i=t.next,i===t?e.pending=null:(i=i.next,t.next=i,Lh(e,i)))}function No(e,t,i){var r=e.pending;if(e.pending=null,r!==null){r=r.next;do t.status="rejected",t.reason=i,Bh(t),t=t.next;while(t!==r)}e.action=null}function Bh(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function kh(e,t){return t}function qh(e,t){if(ue){var i=we.formState;if(i!==null){e:{var r=$;if(ue){if(ze){t:{for(var o=ze,u=Yt;o.nodeType!==8;){if(!u){o=null;break t}if(o=Qt(o.nextSibling),o===null){o=null;break t}}u=o.data,o=u==="F!"||u==="F"?o:null}if(o){ze=Qt(o.nextSibling),r=o.data==="F!";break e}}Bn(r)}r=!1}r&&(t=i[0])}}return i=dt(),i.memoizedState=i.baseState=t,r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:kh,lastRenderedState:t},i.queue=r,i=sm.bind(null,$,r),r.dispatch=i,r=To(!1),u=Oo.bind(null,$,!1,r.queue),r=dt(),o={state:t,dispatch:null,action:e,pending:null},r.queue=o,i=b0.bind(null,$,o,u,i),o.dispatch=i,r.memoizedState=e,[t,i,!1]}function Gh(e){var t=Ye();return Yh(t,Ee,e)}function Yh(e,t,i){if(t=xo(e,t,kh)[0],e=Js(_n)[0],typeof t=="object"&&t!==null&&typeof t.then=="function")try{var r=ga(t)}catch(h){throw h===ul?qs:h}else r=t;t=Ye();var o=t.queue,u=o.dispatch;return i!==t.memoizedState&&($.flags|=2048,gl(9,{destroy:void 0},S0.bind(null,o,i),null)),[r,u,e]}function S0(e,t){e.action=t}function Vh(e){var t=Ye(),i=Ee;if(i!==null)return Yh(t,i,e);Ye(),t=t.memoizedState,i=Ye();var r=i.queue.dispatch;return i.memoizedState=e,[t,r,!1]}function gl(e,t,i,r){return e={tag:e,create:i,deps:r,inst:t,next:null},t=$.updateQueue,t===null&&(t=Fs(),$.updateQueue=t),i=t.lastEffect,i===null?t.lastEffect=e.next=e:(r=i.next,i.next=e,e.next=r,t.lastEffect=e),e}function Qh(){return Ye().memoizedState}function $s(e,t,i,r){var o=dt();$.flags|=e,o.memoizedState=gl(1|t,{destroy:void 0},i,r===void 0?null:r)}function Ws(e,t,i,r){var o=Ye();r=r===void 0?null:r;var u=o.memoizedState.inst;Ee!==null&&r!==null&&yo(r,Ee.memoizedState.deps)?o.memoizedState=gl(t,u,i,r):($.flags|=e,o.memoizedState=gl(1|t,u,i,r))}function Xh(e,t){$s(8390656,8,e,t)}function Ao(e,t){Ws(2048,8,e,t)}function E0(e){$.flags|=4;var t=$.updateQueue;if(t===null)t=Fs(),$.updateQueue=t,t.events=[e];else{var i=t.events;i===null?t.events=[e]:i.push(e)}}function Zh(e){var t=Ye().memoizedState;return E0({ref:t,nextImpl:e}),function(){if((pe&2)!==0)throw Error(s(440));return t.impl.apply(void 0,arguments)}}function Kh(e,t){return Ws(4,2,e,t)}function Fh(e,t){return Ws(4,4,e,t)}function Ph(e,t){if(typeof t=="function"){e=e();var i=t(e);return function(){typeof i=="function"?i():t(null)}}if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Jh(e,t,i){i=i!=null?i.concat([e]):null,Ws(4,4,Ph.bind(null,t,e),i)}function wo(){}function $h(e,t){var i=Ye();t=t===void 0?null:t;var r=i.memoizedState;return t!==null&&yo(t,r[1])?r[0]:(i.memoizedState=[e,t],e)}function Wh(e,t){var i=Ye();t=t===void 0?null:t;var r=i.memoizedState;if(t!==null&&yo(t,r[1]))return r[0];if(r=e(),Di){zn(!0);try{e()}finally{zn(!1)}}return i.memoizedState=[r,t],r}function Ro(e,t,i){return i===void 0||(yn&1073741824)!==0&&(re&261930)===0?e.memoizedState=t:(e.memoizedState=i,e=eg(),$.lanes|=e,Kn|=e,i)}function em(e,t,i,r){return Rt(i,t)?i:dl.current!==null?(e=Ro(e,i,r),Rt(e,t)||(Ze=!0),e):(yn&42)===0||(yn&1073741824)!==0&&(re&261930)===0?(Ze=!0,e.memoizedState=i):(e=eg(),$.lanes|=e,Kn|=e,t)}function tm(e,t,i,r,o){var u=H.p;H.p=u!==0&&8>u?u:8;var h=D.T,y={};D.T=y,Oo(e,!1,t,i);try{var S=o(),A=D.S;if(A!==null&&A(y,S),S!==null&&typeof S=="object"&&typeof S.then=="function"){var M=y0(S,r);pa(e,t,M,It(e))}else pa(e,t,r,It(e))}catch(j){pa(e,t,{then:function(){},status:"rejected",reason:j},It())}finally{H.p=u,h!==null&&y.types!==null&&(h.types=y.types),D.T=h}}function x0(){}function Mo(e,t,i,r){if(e.tag!==5)throw Error(s(476));var o=nm(e).queue;tm(e,o,t,Z,i===null?x0:function(){return im(e),i(r)})}function nm(e){var t=e.memoizedState;if(t!==null)return t;t={memoizedState:Z,baseState:Z,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:_n,lastRenderedState:Z},next:null};var i={};return t.next={memoizedState:i,baseState:i,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:_n,lastRenderedState:i},next:null},e.memoizedState=t,e=e.alternate,e!==null&&(e.memoizedState=t),t}function im(e){var t=nm(e);t.next===null&&(t=e.alternate.memoizedState),pa(e,t.next.queue,{},It())}function Do(){return lt(ja)}function lm(){return Ye().memoizedState}function am(){return Ye().memoizedState}function C0(e){for(var t=e.return;t!==null;){switch(t.tag){case 24:case 3:var i=It();e=Gn(i);var r=Yn(t,e,i);r!==null&&(Et(r,t,i),fa(r,t,i)),t={cache:ao()},e.payload=t;return}t=t.return}}function T0(e,t,i){var r=It();i={lane:r,revertLane:0,gesture:null,action:i,hasEagerState:!1,eagerState:null,next:null},er(e)?rm(t,i):(i=Kc(e,t,i,r),i!==null&&(Et(i,e,r),cm(i,t,r)))}function sm(e,t,i){var r=It();pa(e,t,i,r)}function pa(e,t,i,r){var o={lane:r,revertLane:0,gesture:null,action:i,hasEagerState:!1,eagerState:null,next:null};if(er(e))rm(t,o);else{var u=e.alternate;if(e.lanes===0&&(u===null||u.lanes===0)&&(u=t.lastRenderedReducer,u!==null))try{var h=t.lastRenderedState,y=u(h,i);if(o.hasEagerState=!0,o.eagerState=y,Rt(y,h))return zs(e,t,o,0),we===null&&js(),!1}catch{}if(i=Kc(e,t,o,r),i!==null)return Et(i,e,r),cm(i,t,r),!0}return!1}function Oo(e,t,i,r){if(r={lane:2,revertLane:uu(),gesture:null,action:r,hasEagerState:!1,eagerState:null,next:null},er(e)){if(t)throw Error(s(479))}else t=Kc(e,i,r,2),t!==null&&Et(t,e,2)}function er(e){var t=e.alternate;return e===$||t!==null&&t===$}function rm(e,t){hl=Zs=!0;var i=e.pending;i===null?t.next=t:(t.next=i.next,i.next=t),e.pending=t}function cm(e,t,i){if((i&4194048)!==0){var r=t.lanes;r&=e.pendingLanes,i|=r,t.lanes=i,hd(e,i)}}var ya={readContext:lt,use:Ps,useCallback:Ue,useContext:Ue,useEffect:Ue,useImperativeHandle:Ue,useLayoutEffect:Ue,useInsertionEffect:Ue,useMemo:Ue,useReducer:Ue,useRef:Ue,useState:Ue,useDebugValue:Ue,useDeferredValue:Ue,useTransition:Ue,useSyncExternalStore:Ue,useId:Ue,useHostTransitionStatus:Ue,useFormState:Ue,useActionState:Ue,useOptimistic:Ue,useMemoCache:Ue,useCacheRefresh:Ue};ya.useEffectEvent=Ue;var om={readContext:lt,use:Ps,useCallback:function(e,t){return dt().memoizedState=[e,t===void 0?null:t],e},useContext:lt,useEffect:Xh,useImperativeHandle:function(e,t,i){i=i!=null?i.concat([e]):null,$s(4194308,4,Ph.bind(null,t,e),i)},useLayoutEffect:function(e,t){return $s(4194308,4,e,t)},useInsertionEffect:function(e,t){$s(4,2,e,t)},useMemo:function(e,t){var i=dt();t=t===void 0?null:t;var r=e();if(Di){zn(!0);try{e()}finally{zn(!1)}}return i.memoizedState=[r,t],r},useReducer:function(e,t,i){var r=dt();if(i!==void 0){var o=i(t);if(Di){zn(!0);try{i(t)}finally{zn(!1)}}}else o=t;return r.memoizedState=r.baseState=o,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:o},r.queue=e,e=e.dispatch=T0.bind(null,$,e),[r.memoizedState,e]},useRef:function(e){var t=dt();return e={current:e},t.memoizedState=e},useState:function(e){e=To(e);var t=e.queue,i=sm.bind(null,$,t);return t.dispatch=i,[e.memoizedState,i]},useDebugValue:wo,useDeferredValue:function(e,t){var i=dt();return Ro(i,e,t)},useTransition:function(){var e=To(!1);return e=tm.bind(null,$,e.queue,!0,!1),dt().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,i){var r=$,o=dt();if(ue){if(i===void 0)throw Error(s(407));i=i()}else{if(i=t(),we===null)throw Error(s(349));(re&127)!==0||Mh(r,t,i)}o.memoizedState=i;var u={value:i,getSnapshot:t};return o.queue=u,Xh(Oh.bind(null,r,u,e),[e]),r.flags|=2048,gl(9,{destroy:void 0},Dh.bind(null,r,u,i,t),null),i},useId:function(){var e=dt(),t=we.identifierPrefix;if(ue){var i=ln,r=nn;i=(r&~(1<<32-wt(r)-1)).toString(32)+i,t="_"+t+"R_"+i,i=Ks++,0<i&&(t+="H"+i.toString(32)),t+="_"}else i=_0++,t="_"+t+"r_"+i.toString(32)+"_";return e.memoizedState=t},useHostTransitionStatus:Do,useFormState:qh,useActionState:qh,useOptimistic:function(e){var t=dt();t.memoizedState=t.baseState=e;var i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=i,t=Oo.bind(null,$,!0,i),i.dispatch=t,[e,t]},useMemoCache:Eo,useCacheRefresh:function(){return dt().memoizedState=C0.bind(null,$)},useEffectEvent:function(e){var t=dt(),i={impl:e};return t.memoizedState=i,function(){if((pe&2)!==0)throw Error(s(440));return i.impl.apply(void 0,arguments)}}},jo={readContext:lt,use:Ps,useCallback:$h,useContext:lt,useEffect:Ao,useImperativeHandle:Jh,useInsertionEffect:Kh,useLayoutEffect:Fh,useMemo:Wh,useReducer:Js,useRef:Qh,useState:function(){return Js(_n)},useDebugValue:wo,useDeferredValue:function(e,t){var i=Ye();return em(i,Ee.memoizedState,e,t)},useTransition:function(){var e=Js(_n)[0],t=Ye().memoizedState;return[typeof e=="boolean"?e:ga(e),t]},useSyncExternalStore:Rh,useId:lm,useHostTransitionStatus:Do,useFormState:Gh,useActionState:Gh,useOptimistic:function(e,t){var i=Ye();return Ih(i,Ee,e,t)},useMemoCache:Eo,useCacheRefresh:am};jo.useEffectEvent=Zh;var um={readContext:lt,use:Ps,useCallback:$h,useContext:lt,useEffect:Ao,useImperativeHandle:Jh,useInsertionEffect:Kh,useLayoutEffect:Fh,useMemo:Wh,useReducer:Co,useRef:Qh,useState:function(){return Co(_n)},useDebugValue:wo,useDeferredValue:function(e,t){var i=Ye();return Ee===null?Ro(i,e,t):em(i,Ee.memoizedState,e,t)},useTransition:function(){var e=Co(_n)[0],t=Ye().memoizedState;return[typeof e=="boolean"?e:ga(e),t]},useSyncExternalStore:Rh,useId:lm,useHostTransitionStatus:Do,useFormState:Vh,useActionState:Vh,useOptimistic:function(e,t){var i=Ye();return Ee!==null?Ih(i,Ee,e,t):(i.baseState=e,[e,i.queue.dispatch])},useMemoCache:Eo,useCacheRefresh:am};um.useEffectEvent=Zh;function zo(e,t,i,r){t=e.memoizedState,i=i(r,t),i=i==null?t:v({},t,i),e.memoizedState=i,e.lanes===0&&(e.updateQueue.baseState=i)}var Io={enqueueSetState:function(e,t,i){e=e._reactInternals;var r=It(),o=Gn(r);o.payload=t,i!=null&&(o.callback=i),t=Yn(e,o,r),t!==null&&(Et(t,e,r),fa(t,e,r))},enqueueReplaceState:function(e,t,i){e=e._reactInternals;var r=It(),o=Gn(r);o.tag=1,o.payload=t,i!=null&&(o.callback=i),t=Yn(e,o,r),t!==null&&(Et(t,e,r),fa(t,e,r))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var i=It(),r=Gn(i);r.tag=2,t!=null&&(r.callback=t),t=Yn(e,r,i),t!==null&&(Et(t,e,i),fa(t,e,i))}};function fm(e,t,i,r,o,u,h){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,u,h):t.prototype&&t.prototype.isPureReactComponent?!ia(i,r)||!ia(o,u):!0}function dm(e,t,i,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(i,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(i,r),t.state!==e&&Io.enqueueReplaceState(t,t.state,null)}function Oi(e,t){var i=t;if("ref"in t){i={};for(var r in t)r!=="ref"&&(i[r]=t[r])}if(e=e.defaultProps){i===t&&(i=v({},i));for(var o in e)i[o]===void 0&&(i[o]=e[o])}return i}function hm(e){Os(e)}function mm(e){console.error(e)}function gm(e){Os(e)}function tr(e,t){try{var i=e.onUncaughtError;i(t.value,{componentStack:t.stack})}catch(r){setTimeout(function(){throw r})}}function pm(e,t,i){try{var r=e.onCaughtError;r(i.value,{componentStack:i.stack,errorBoundary:t.tag===1?t.stateNode:null})}catch(o){setTimeout(function(){throw o})}}function Lo(e,t,i){return i=Gn(i),i.tag=3,i.payload={element:null},i.callback=function(){tr(e,t)},i}function ym(e){return e=Gn(e),e.tag=3,e}function _m(e,t,i,r){var o=i.type.getDerivedStateFromError;if(typeof o=="function"){var u=r.value;e.payload=function(){return o(u)},e.callback=function(){pm(t,i,r)}}var h=i.stateNode;h!==null&&typeof h.componentDidCatch=="function"&&(e.callback=function(){pm(t,i,r),typeof o!="function"&&(Fn===null?Fn=new Set([this]):Fn.add(this));var y=r.stack;this.componentDidCatch(r.value,{componentStack:y!==null?y:""})})}function N0(e,t,i,r,o){if(i.flags|=32768,r!==null&&typeof r=="object"&&typeof r.then=="function"){if(t=i.alternate,t!==null&&rl(t,i,o,!0),i=Dt.current,i!==null){switch(i.tag){case 31:case 13:return Vt===null?hr():i.alternate===null&&He===0&&(He=3),i.flags&=-257,i.flags|=65536,i.lanes=o,r===Gs?i.flags|=16384:(t=i.updateQueue,t===null?i.updateQueue=new Set([r]):t.add(r),ru(e,r,o)),!1;case 22:return i.flags|=65536,r===Gs?i.flags|=16384:(t=i.updateQueue,t===null?(t={transitions:null,markerInstances:null,retryQueue:new Set([r])},i.updateQueue=t):(i=t.retryQueue,i===null?t.retryQueue=new Set([r]):i.add(r)),ru(e,r,o)),!1}throw Error(s(435,i.tag))}return ru(e,r,o),hr(),!1}if(ue)return t=Dt.current,t!==null?((t.flags&65536)===0&&(t.flags|=256),t.flags|=65536,t.lanes=o,r!==eo&&(e=Error(s(422),{cause:r}),sa(kt(e,i)))):(r!==eo&&(t=Error(s(423),{cause:r}),sa(kt(t,i))),e=e.current.alternate,e.flags|=65536,o&=-o,e.lanes|=o,r=kt(r,i),o=Lo(e.stateNode,r,o),fo(e,o),He!==4&&(He=2)),!1;var u=Error(s(520),{cause:r});if(u=kt(u,i),Ta===null?Ta=[u]:Ta.push(u),He!==4&&(He=2),t===null)return!0;r=kt(r,i),i=t;do{switch(i.tag){case 3:return i.flags|=65536,e=o&-o,i.lanes|=e,e=Lo(i.stateNode,r,e),fo(i,e),!1;case 1:if(t=i.type,u=i.stateNode,(i.flags&128)===0&&(typeof t.getDerivedStateFromError=="function"||u!==null&&typeof u.componentDidCatch=="function"&&(Fn===null||!Fn.has(u))))return i.flags|=65536,o&=-o,i.lanes|=o,o=ym(o),_m(o,e,i,r),fo(i,o),!1}i=i.return}while(i!==null);return!1}var Uo=Error(s(461)),Ze=!1;function at(e,t,i,r){t.child=e===null?Eh(t,null,i,r):Mi(t,e.child,i,r)}function vm(e,t,i,r,o){i=i.render;var u=t.ref;if("ref"in r){var h={};for(var y in r)y!=="ref"&&(h[y]=r[y])}else h=r;return Ni(t),r=_o(e,t,i,h,u,o),y=vo(),e!==null&&!Ze?(bo(e,t,o),vn(e,t,o)):(ue&&y&&$c(t),t.flags|=1,at(e,t,r,o),t.child)}function bm(e,t,i,r,o){if(e===null){var u=i.type;return typeof u=="function"&&!Fc(u)&&u.defaultProps===void 0&&i.compare===null?(t.tag=15,t.type=u,Sm(e,t,u,r,o)):(e=Ls(i.type,null,r,t,t.mode,o),e.ref=t.ref,e.return=t,t.child=e)}if(u=e.child,!Qo(e,o)){var h=u.memoizedProps;if(i=i.compare,i=i!==null?i:ia,i(h,r)&&e.ref===t.ref)return vn(e,t,o)}return t.flags|=1,e=hn(u,r),e.ref=t.ref,e.return=t,t.child=e}function Sm(e,t,i,r,o){if(e!==null){var u=e.memoizedProps;if(ia(u,r)&&e.ref===t.ref)if(Ze=!1,t.pendingProps=r=u,Qo(e,o))(e.flags&131072)!==0&&(Ze=!0);else return t.lanes=e.lanes,vn(e,t,o)}return Ho(e,t,i,r,o)}function Em(e,t,i,r){var o=r.children,u=e!==null?e.memoizedState:null;if(e===null&&t.stateNode===null&&(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),r.mode==="hidden"){if((t.flags&128)!==0){if(u=u!==null?u.baseLanes|i:i,e!==null){for(r=t.child=e.child,o=0;r!==null;)o=o|r.lanes|r.childLanes,r=r.sibling;r=o&~u}else r=0,t.child=null;return xm(e,t,u,i,r)}if((i&536870912)!==0)t.memoizedState={baseLanes:0,cachePool:null},e!==null&&ks(t,u!==null?u.cachePool:null),u!==null?Th(t,u):mo(),Nh(t);else return r=t.lanes=536870912,xm(e,t,u!==null?u.baseLanes|i:i,i,r)}else u!==null?(ks(t,u.cachePool),Th(t,u),Qn(),t.memoizedState=null):(e!==null&&ks(t,null),mo(),Qn());return at(e,t,o,i),t.child}function _a(e,t){return e!==null&&e.tag===22||t.stateNode!==null||(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),t.sibling}function xm(e,t,i,r,o){var u=ro();return u=u===null?null:{parent:Qe._currentValue,pool:u},t.memoizedState={baseLanes:i,cachePool:u},e!==null&&ks(t,null),mo(),Nh(t),e!==null&&rl(e,t,r,!0),t.childLanes=o,null}function nr(e,t){return t=lr({mode:t.mode,children:t.children},e.mode),t.ref=e.ref,e.child=t,t.return=e,t}function Cm(e,t,i){return Mi(t,e.child,null,i),e=nr(t,t.pendingProps),e.flags|=2,Ot(t),t.memoizedState=null,e}function A0(e,t,i){var r=t.pendingProps,o=(t.flags&128)!==0;if(t.flags&=-129,e===null){if(ue){if(r.mode==="hidden")return e=nr(t,r),t.lanes=536870912,_a(null,e);if(po(t),(e=ze)?(e=Lg(e,Yt),e=e!==null&&e.data==="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:Un!==null?{id:nn,overflow:ln}:null,retryLane:536870912,hydrationErrors:null},i=rh(e),i.return=t,t.child=i,it=t,ze=null)):e=null,e===null)throw Bn(t);return t.lanes=536870912,null}return nr(t,r)}var u=e.memoizedState;if(u!==null){var h=u.dehydrated;if(po(t),o)if(t.flags&256)t.flags&=-257,t=Cm(e,t,i);else if(t.memoizedState!==null)t.child=e.child,t.flags|=128,t=null;else throw Error(s(558));else if(Ze||rl(e,t,i,!1),o=(i&e.childLanes)!==0,Ze||o){if(r=we,r!==null&&(h=md(r,i),h!==0&&h!==u.retryLane))throw u.retryLane=h,Ei(e,h),Et(r,e,h),Uo;hr(),t=Cm(e,t,i)}else e=u.treeContext,ze=Qt(h.nextSibling),it=t,ue=!0,Hn=null,Yt=!1,e!==null&&uh(t,e),t=nr(t,r),t.flags|=4096;return t}return e=hn(e.child,{mode:r.mode,children:r.children}),e.ref=t.ref,t.child=e,e.return=t,e}function ir(e,t){var i=t.ref;if(i===null)e!==null&&e.ref!==null&&(t.flags|=4194816);else{if(typeof i!="function"&&typeof i!="object")throw Error(s(284));(e===null||e.ref!==i)&&(t.flags|=4194816)}}function Ho(e,t,i,r,o){return Ni(t),i=_o(e,t,i,r,void 0,o),r=vo(),e!==null&&!Ze?(bo(e,t,o),vn(e,t,o)):(ue&&r&&$c(t),t.flags|=1,at(e,t,i,o),t.child)}function Tm(e,t,i,r,o,u){return Ni(t),t.updateQueue=null,i=wh(t,r,i,o),Ah(e),r=vo(),e!==null&&!Ze?(bo(e,t,u),vn(e,t,u)):(ue&&r&&$c(t),t.flags|=1,at(e,t,i,u),t.child)}function Nm(e,t,i,r,o){if(Ni(t),t.stateNode===null){var u=il,h=i.contextType;typeof h=="object"&&h!==null&&(u=lt(h)),u=new i(r,u),t.memoizedState=u.state!==null&&u.state!==void 0?u.state:null,u.updater=Io,t.stateNode=u,u._reactInternals=t,u=t.stateNode,u.props=r,u.state=t.memoizedState,u.refs={},oo(t),h=i.contextType,u.context=typeof h=="object"&&h!==null?lt(h):il,u.state=t.memoizedState,h=i.getDerivedStateFromProps,typeof h=="function"&&(zo(t,i,h,r),u.state=t.memoizedState),typeof i.getDerivedStateFromProps=="function"||typeof u.getSnapshotBeforeUpdate=="function"||typeof u.UNSAFE_componentWillMount!="function"&&typeof u.componentWillMount!="function"||(h=u.state,typeof u.componentWillMount=="function"&&u.componentWillMount(),typeof u.UNSAFE_componentWillMount=="function"&&u.UNSAFE_componentWillMount(),h!==u.state&&Io.enqueueReplaceState(u,u.state,null),ha(t,r,u,o),da(),u.state=t.memoizedState),typeof u.componentDidMount=="function"&&(t.flags|=4194308),r=!0}else if(e===null){u=t.stateNode;var y=t.memoizedProps,S=Oi(i,y);u.props=S;var A=u.context,M=i.contextType;h=il,typeof M=="object"&&M!==null&&(h=lt(M));var j=i.getDerivedStateFromProps;M=typeof j=="function"||typeof u.getSnapshotBeforeUpdate=="function",y=t.pendingProps!==y,M||typeof u.UNSAFE_componentWillReceiveProps!="function"&&typeof u.componentWillReceiveProps!="function"||(y||A!==h)&&dm(t,u,r,h),qn=!1;var w=t.memoizedState;u.state=w,ha(t,r,u,o),da(),A=t.memoizedState,y||w!==A||qn?(typeof j=="function"&&(zo(t,i,j,r),A=t.memoizedState),(S=qn||fm(t,i,S,r,w,A,h))?(M||typeof u.UNSAFE_componentWillMount!="function"&&typeof u.componentWillMount!="function"||(typeof u.componentWillMount=="function"&&u.componentWillMount(),typeof u.UNSAFE_componentWillMount=="function"&&u.UNSAFE_componentWillMount()),typeof u.componentDidMount=="function"&&(t.flags|=4194308)):(typeof u.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=A),u.props=r,u.state=A,u.context=h,r=S):(typeof u.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{u=t.stateNode,uo(e,t),h=t.memoizedProps,M=Oi(i,h),u.props=M,j=t.pendingProps,w=u.context,A=i.contextType,S=il,typeof A=="object"&&A!==null&&(S=lt(A)),y=i.getDerivedStateFromProps,(A=typeof y=="function"||typeof u.getSnapshotBeforeUpdate=="function")||typeof u.UNSAFE_componentWillReceiveProps!="function"&&typeof u.componentWillReceiveProps!="function"||(h!==j||w!==S)&&dm(t,u,r,S),qn=!1,w=t.memoizedState,u.state=w,ha(t,r,u,o),da();var R=t.memoizedState;h!==j||w!==R||qn||e!==null&&e.dependencies!==null&&Hs(e.dependencies)?(typeof y=="function"&&(zo(t,i,y,r),R=t.memoizedState),(M=qn||fm(t,i,M,r,w,R,S)||e!==null&&e.dependencies!==null&&Hs(e.dependencies))?(A||typeof u.UNSAFE_componentWillUpdate!="function"&&typeof u.componentWillUpdate!="function"||(typeof u.componentWillUpdate=="function"&&u.componentWillUpdate(r,R,S),typeof u.UNSAFE_componentWillUpdate=="function"&&u.UNSAFE_componentWillUpdate(r,R,S)),typeof u.componentDidUpdate=="function"&&(t.flags|=4),typeof u.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof u.componentDidUpdate!="function"||h===e.memoizedProps&&w===e.memoizedState||(t.flags|=4),typeof u.getSnapshotBeforeUpdate!="function"||h===e.memoizedProps&&w===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=R),u.props=r,u.state=R,u.context=S,r=M):(typeof u.componentDidUpdate!="function"||h===e.memoizedProps&&w===e.memoizedState||(t.flags|=4),typeof u.getSnapshotBeforeUpdate!="function"||h===e.memoizedProps&&w===e.memoizedState||(t.flags|=1024),r=!1)}return u=r,ir(e,t),r=(t.flags&128)!==0,u||r?(u=t.stateNode,i=r&&typeof i.getDerivedStateFromError!="function"?null:u.render(),t.flags|=1,e!==null&&r?(t.child=Mi(t,e.child,null,o),t.child=Mi(t,null,i,o)):at(e,t,i,o),t.memoizedState=u.state,e=t.child):e=vn(e,t,o),e}function Am(e,t,i,r){return Ci(),t.flags|=256,at(e,t,i,r),t.child}var Bo={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function ko(e){return{baseLanes:e,cachePool:ph()}}function qo(e,t,i){return e=e!==null?e.childLanes&~i:0,t&&(e|=zt),e}function wm(e,t,i){var r=t.pendingProps,o=!1,u=(t.flags&128)!==0,h;if((h=u)||(h=e!==null&&e.memoizedState===null?!1:(Ge.current&2)!==0),h&&(o=!0,t.flags&=-129),h=(t.flags&32)!==0,t.flags&=-33,e===null){if(ue){if(o?Vn(t):Qn(),(e=ze)?(e=Lg(e,Yt),e=e!==null&&e.data!=="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:Un!==null?{id:nn,overflow:ln}:null,retryLane:536870912,hydrationErrors:null},i=rh(e),i.return=t,t.child=i,it=t,ze=null)):e=null,e===null)throw Bn(t);return xu(e)?t.lanes=32:t.lanes=536870912,null}var y=r.children;return r=r.fallback,o?(Qn(),o=t.mode,y=lr({mode:"hidden",children:y},o),r=xi(r,o,i,null),y.return=t,r.return=t,y.sibling=r,t.child=y,r=t.child,r.memoizedState=ko(i),r.childLanes=qo(e,h,i),t.memoizedState=Bo,_a(null,r)):(Vn(t),Go(t,y))}var S=e.memoizedState;if(S!==null&&(y=S.dehydrated,y!==null)){if(u)t.flags&256?(Vn(t),t.flags&=-257,t=Yo(e,t,i)):t.memoizedState!==null?(Qn(),t.child=e.child,t.flags|=128,t=null):(Qn(),y=r.fallback,o=t.mode,r=lr({mode:"visible",children:r.children},o),y=xi(y,o,i,null),y.flags|=2,r.return=t,y.return=t,r.sibling=y,t.child=r,Mi(t,e.child,null,i),r=t.child,r.memoizedState=ko(i),r.childLanes=qo(e,h,i),t.memoizedState=Bo,t=_a(null,r));else if(Vn(t),xu(y)){if(h=y.nextSibling&&y.nextSibling.dataset,h)var A=h.dgst;h=A,r=Error(s(419)),r.stack="",r.digest=h,sa({value:r,source:null,stack:null}),t=Yo(e,t,i)}else if(Ze||rl(e,t,i,!1),h=(i&e.childLanes)!==0,Ze||h){if(h=we,h!==null&&(r=md(h,i),r!==0&&r!==S.retryLane))throw S.retryLane=r,Ei(e,r),Et(h,e,r),Uo;Eu(y)||hr(),t=Yo(e,t,i)}else Eu(y)?(t.flags|=192,t.child=e.child,t=null):(e=S.treeContext,ze=Qt(y.nextSibling),it=t,ue=!0,Hn=null,Yt=!1,e!==null&&uh(t,e),t=Go(t,r.children),t.flags|=4096);return t}return o?(Qn(),y=r.fallback,o=t.mode,S=e.child,A=S.sibling,r=hn(S,{mode:"hidden",children:r.children}),r.subtreeFlags=S.subtreeFlags&65011712,A!==null?y=hn(A,y):(y=xi(y,o,i,null),y.flags|=2),y.return=t,r.return=t,r.sibling=y,t.child=r,_a(null,r),r=t.child,y=e.child.memoizedState,y===null?y=ko(i):(o=y.cachePool,o!==null?(S=Qe._currentValue,o=o.parent!==S?{parent:S,pool:S}:o):o=ph(),y={baseLanes:y.baseLanes|i,cachePool:o}),r.memoizedState=y,r.childLanes=qo(e,h,i),t.memoizedState=Bo,_a(e.child,r)):(Vn(t),i=e.child,e=i.sibling,i=hn(i,{mode:"visible",children:r.children}),i.return=t,i.sibling=null,e!==null&&(h=t.deletions,h===null?(t.deletions=[e],t.flags|=16):h.push(e)),t.child=i,t.memoizedState=null,i)}function Go(e,t){return t=lr({mode:"visible",children:t},e.mode),t.return=e,e.child=t}function lr(e,t){return e=Mt(22,e,null,t),e.lanes=0,e}function Yo(e,t,i){return Mi(t,e.child,null,i),e=Go(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Rm(e,t,i){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),io(e.return,t,i)}function Vo(e,t,i,r,o,u){var h=e.memoizedState;h===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:i,tailMode:o,treeForkCount:u}:(h.isBackwards=t,h.rendering=null,h.renderingStartTime=0,h.last=r,h.tail=i,h.tailMode=o,h.treeForkCount=u)}function Mm(e,t,i){var r=t.pendingProps,o=r.revealOrder,u=r.tail;r=r.children;var h=Ge.current,y=(h&2)!==0;if(y?(h=h&1|2,t.flags|=128):h&=1,B(Ge,h),at(e,t,r,i),r=ue?aa:0,!y&&e!==null&&(e.flags&128)!==0)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Rm(e,i,t);else if(e.tag===19)Rm(e,i,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(o){case"forwards":for(i=t.child,o=null;i!==null;)e=i.alternate,e!==null&&Xs(e)===null&&(o=i),i=i.sibling;i=o,i===null?(o=t.child,t.child=null):(o=i.sibling,i.sibling=null),Vo(t,!1,o,i,u,r);break;case"backwards":case"unstable_legacy-backwards":for(i=null,o=t.child,t.child=null;o!==null;){if(e=o.alternate,e!==null&&Xs(e)===null){t.child=o;break}e=o.sibling,o.sibling=i,i=o,o=e}Vo(t,!0,i,null,u,r);break;case"together":Vo(t,!1,null,null,void 0,r);break;default:t.memoizedState=null}return t.child}function vn(e,t,i){if(e!==null&&(t.dependencies=e.dependencies),Kn|=t.lanes,(i&t.childLanes)===0)if(e!==null){if(rl(e,t,i,!1),(i&t.childLanes)===0)return null}else return null;if(e!==null&&t.child!==e.child)throw Error(s(153));if(t.child!==null){for(e=t.child,i=hn(e,e.pendingProps),t.child=i,i.return=t;e.sibling!==null;)e=e.sibling,i=i.sibling=hn(e,e.pendingProps),i.return=t;i.sibling=null}return t.child}function Qo(e,t){return(e.lanes&t)!==0?!0:(e=e.dependencies,!!(e!==null&&Hs(e)))}function w0(e,t,i){switch(t.tag){case 3:ft(t,t.stateNode.containerInfo),kn(t,Qe,e.memoizedState.cache),Ci();break;case 27:case 5:Vl(t);break;case 4:ft(t,t.stateNode.containerInfo);break;case 10:kn(t,t.type,t.memoizedProps.value);break;case 31:if(t.memoizedState!==null)return t.flags|=128,po(t),null;break;case 13:var r=t.memoizedState;if(r!==null)return r.dehydrated!==null?(Vn(t),t.flags|=128,null):(i&t.child.childLanes)!==0?wm(e,t,i):(Vn(t),e=vn(e,t,i),e!==null?e.sibling:null);Vn(t);break;case 19:var o=(e.flags&128)!==0;if(r=(i&t.childLanes)!==0,r||(rl(e,t,i,!1),r=(i&t.childLanes)!==0),o){if(r)return Mm(e,t,i);t.flags|=128}if(o=t.memoizedState,o!==null&&(o.rendering=null,o.tail=null,o.lastEffect=null),B(Ge,Ge.current),r)break;return null;case 22:return t.lanes=0,Em(e,t,i,t.pendingProps);case 24:kn(t,Qe,e.memoizedState.cache)}return vn(e,t,i)}function Dm(e,t,i){if(e!==null)if(e.memoizedProps!==t.pendingProps)Ze=!0;else{if(!Qo(e,i)&&(t.flags&128)===0)return Ze=!1,w0(e,t,i);Ze=(e.flags&131072)!==0}else Ze=!1,ue&&(t.flags&1048576)!==0&&oh(t,aa,t.index);switch(t.lanes=0,t.tag){case 16:e:{var r=t.pendingProps;if(e=wi(t.elementType),t.type=e,typeof e=="function")Fc(e)?(r=Oi(e,r),t.tag=1,t=Nm(null,t,e,r,i)):(t.tag=0,t=Ho(null,t,e,r,i));else{if(e!=null){var o=e.$$typeof;if(o===Oe){t.tag=11,t=vm(null,t,e,r,i);break e}else if(o===F){t.tag=14,t=bm(null,t,e,r,i);break e}}throw t=gt(e)||e,Error(s(306,t,""))}}return t;case 0:return Ho(e,t,t.type,t.pendingProps,i);case 1:return r=t.type,o=Oi(r,t.pendingProps),Nm(e,t,r,o,i);case 3:e:{if(ft(t,t.stateNode.containerInfo),e===null)throw Error(s(387));r=t.pendingProps;var u=t.memoizedState;o=u.element,uo(e,t),ha(t,r,null,i);var h=t.memoizedState;if(r=h.cache,kn(t,Qe,r),r!==u.cache&&lo(t,[Qe],i,!0),da(),r=h.element,u.isDehydrated)if(u={element:r,isDehydrated:!1,cache:h.cache},t.updateQueue.baseState=u,t.memoizedState=u,t.flags&256){t=Am(e,t,r,i);break e}else if(r!==o){o=kt(Error(s(424)),t),sa(o),t=Am(e,t,r,i);break e}else for(e=t.stateNode.containerInfo,e.nodeType===9?e=e.body:e=e.nodeName==="HTML"?e.ownerDocument.body:e,ze=Qt(e.firstChild),it=t,ue=!0,Hn=null,Yt=!0,i=Eh(t,null,r,i),t.child=i;i;)i.flags=i.flags&-3|4096,i=i.sibling;else{if(Ci(),r===o){t=vn(e,t,i);break e}at(e,t,r,i)}t=t.child}return t;case 26:return ir(e,t),e===null?(i=Gg(t.type,null,t.pendingProps,null))?t.memoizedState=i:ue||(i=t.type,e=t.pendingProps,r=br(ie.current).createElement(i),r[nt]=t,r[pt]=e,st(r,i,e),$e(r),t.stateNode=r):t.memoizedState=Gg(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return Vl(t),e===null&&ue&&(r=t.stateNode=Bg(t.type,t.pendingProps,ie.current),it=t,Yt=!0,o=ze,Wn(t.type)?(Cu=o,ze=Qt(r.firstChild)):ze=o),at(e,t,t.pendingProps.children,i),ir(e,t),e===null&&(t.flags|=4194304),t.child;case 5:return e===null&&ue&&((o=r=ze)&&(r=lb(r,t.type,t.pendingProps,Yt),r!==null?(t.stateNode=r,it=t,ze=Qt(r.firstChild),Yt=!1,o=!0):o=!1),o||Bn(t)),Vl(t),o=t.type,u=t.pendingProps,h=e!==null?e.memoizedProps:null,r=u.children,vu(o,u)?r=null:h!==null&&vu(o,h)&&(t.flags|=32),t.memoizedState!==null&&(o=_o(e,t,v0,null,null,i),ja._currentValue=o),ir(e,t),at(e,t,r,i),t.child;case 6:return e===null&&ue&&((e=i=ze)&&(i=ab(i,t.pendingProps,Yt),i!==null?(t.stateNode=i,it=t,ze=null,e=!0):e=!1),e||Bn(t)),null;case 13:return wm(e,t,i);case 4:return ft(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=Mi(t,null,r,i):at(e,t,r,i),t.child;case 11:return vm(e,t,t.type,t.pendingProps,i);case 7:return at(e,t,t.pendingProps,i),t.child;case 8:return at(e,t,t.pendingProps.children,i),t.child;case 12:return at(e,t,t.pendingProps.children,i),t.child;case 10:return r=t.pendingProps,kn(t,t.type,r.value),at(e,t,r.children,i),t.child;case 9:return o=t.type._context,r=t.pendingProps.children,Ni(t),o=lt(o),r=r(o),t.flags|=1,at(e,t,r,i),t.child;case 14:return bm(e,t,t.type,t.pendingProps,i);case 15:return Sm(e,t,t.type,t.pendingProps,i);case 19:return Mm(e,t,i);case 31:return A0(e,t,i);case 22:return Em(e,t,i,t.pendingProps);case 24:return Ni(t),r=lt(Qe),e===null?(o=ro(),o===null&&(o=we,u=ao(),o.pooledCache=u,u.refCount++,u!==null&&(o.pooledCacheLanes|=i),o=u),t.memoizedState={parent:r,cache:o},oo(t),kn(t,Qe,o)):((e.lanes&i)!==0&&(uo(e,t),ha(t,null,null,i),da()),o=e.memoizedState,u=t.memoizedState,o.parent!==r?(o={parent:r,cache:r},t.memoizedState=o,t.lanes===0&&(t.memoizedState=t.updateQueue.baseState=o),kn(t,Qe,r)):(r=u.cache,kn(t,Qe,r),r!==o.cache&&lo(t,[Qe],i,!0))),at(e,t,t.pendingProps.children,i),t.child;case 29:throw t.pendingProps}throw Error(s(156,t.tag))}function bn(e){e.flags|=4}function Xo(e,t,i,r,o){if((t=(e.mode&32)!==0)&&(t=!1),t){if(e.flags|=16777216,(o&335544128)===o)if(e.stateNode.complete)e.flags|=8192;else if(lg())e.flags|=8192;else throw Ri=Gs,co}else e.flags&=-16777217}function Om(e,t){if(t.type!=="stylesheet"||(t.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!Zg(t))if(lg())e.flags|=8192;else throw Ri=Gs,co}function ar(e,t){t!==null&&(e.flags|=4),e.flags&16384&&(t=e.tag!==22?fd():536870912,e.lanes|=t,vl|=t)}function va(e,t){if(!ue)switch(e.tailMode){case"hidden":t=e.tail;for(var i=null;t!==null;)t.alternate!==null&&(i=t),t=t.sibling;i===null?e.tail=null:i.sibling=null;break;case"collapsed":i=e.tail;for(var r=null;i!==null;)i.alternate!==null&&(r=i),i=i.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Ie(e){var t=e.alternate!==null&&e.alternate.child===e.child,i=0,r=0;if(t)for(var o=e.child;o!==null;)i|=o.lanes|o.childLanes,r|=o.subtreeFlags&65011712,r|=o.flags&65011712,o.return=e,o=o.sibling;else for(o=e.child;o!==null;)i|=o.lanes|o.childLanes,r|=o.subtreeFlags,r|=o.flags,o.return=e,o=o.sibling;return e.subtreeFlags|=r,e.childLanes=i,t}function R0(e,t,i){var r=t.pendingProps;switch(Wc(t),t.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ie(t),null;case 1:return Ie(t),null;case 3:return i=t.stateNode,r=null,e!==null&&(r=e.memoizedState.cache),t.memoizedState.cache!==r&&(t.flags|=2048),pn(Qe),qe(),i.pendingContext&&(i.context=i.pendingContext,i.pendingContext=null),(e===null||e.child===null)&&(sl(t)?bn(t):e===null||e.memoizedState.isDehydrated&&(t.flags&256)===0||(t.flags|=1024,to())),Ie(t),null;case 26:var o=t.type,u=t.memoizedState;return e===null?(bn(t),u!==null?(Ie(t),Om(t,u)):(Ie(t),Xo(t,o,null,r,i))):u?u!==e.memoizedState?(bn(t),Ie(t),Om(t,u)):(Ie(t),t.flags&=-16777217):(e=e.memoizedProps,e!==r&&bn(t),Ie(t),Xo(t,o,e,r,i)),null;case 27:if(ps(t),i=ie.current,o=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==r&&bn(t);else{if(!r){if(t.stateNode===null)throw Error(s(166));return Ie(t),null}e=G.current,sl(t)?fh(t):(e=Bg(o,r,i),t.stateNode=e,bn(t))}return Ie(t),null;case 5:if(ps(t),o=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==r&&bn(t);else{if(!r){if(t.stateNode===null)throw Error(s(166));return Ie(t),null}if(u=G.current,sl(t))fh(t);else{var h=br(ie.current);switch(u){case 1:u=h.createElementNS("http://www.w3.org/2000/svg",o);break;case 2:u=h.createElementNS("http://www.w3.org/1998/Math/MathML",o);break;default:switch(o){case"svg":u=h.createElementNS("http://www.w3.org/2000/svg",o);break;case"math":u=h.createElementNS("http://www.w3.org/1998/Math/MathML",o);break;case"script":u=h.createElement("div"),u.innerHTML="<script><\/script>",u=u.removeChild(u.firstChild);break;case"select":u=typeof r.is=="string"?h.createElement("select",{is:r.is}):h.createElement("select"),r.multiple?u.multiple=!0:r.size&&(u.size=r.size);break;default:u=typeof r.is=="string"?h.createElement(o,{is:r.is}):h.createElement(o)}}u[nt]=t,u[pt]=r;e:for(h=t.child;h!==null;){if(h.tag===5||h.tag===6)u.appendChild(h.stateNode);else if(h.tag!==4&&h.tag!==27&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===t)break e;for(;h.sibling===null;){if(h.return===null||h.return===t)break e;h=h.return}h.sibling.return=h.return,h=h.sibling}t.stateNode=u;e:switch(st(u,o,r),o){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}r&&bn(t)}}return Ie(t),Xo(t,t.type,e===null?null:e.memoizedProps,t.pendingProps,i),null;case 6:if(e&&t.stateNode!=null)e.memoizedProps!==r&&bn(t);else{if(typeof r!="string"&&t.stateNode===null)throw Error(s(166));if(e=ie.current,sl(t)){if(e=t.stateNode,i=t.memoizedProps,r=null,o=it,o!==null)switch(o.tag){case 27:case 5:r=o.memoizedProps}e[nt]=t,e=!!(e.nodeValue===i||r!==null&&r.suppressHydrationWarning===!0||wg(e.nodeValue,i)),e||Bn(t,!0)}else e=br(e).createTextNode(r),e[nt]=t,t.stateNode=e}return Ie(t),null;case 31:if(i=t.memoizedState,e===null||e.memoizedState!==null){if(r=sl(t),i!==null){if(e===null){if(!r)throw Error(s(318));if(e=t.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(s(557));e[nt]=t}else Ci(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;Ie(t),e=!1}else i=to(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=i),e=!0;if(!e)return t.flags&256?(Ot(t),t):(Ot(t),null);if((t.flags&128)!==0)throw Error(s(558))}return Ie(t),null;case 13:if(r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(o=sl(t),r!==null&&r.dehydrated!==null){if(e===null){if(!o)throw Error(s(318));if(o=t.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(s(317));o[nt]=t}else Ci(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;Ie(t),o=!1}else o=to(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=o),o=!0;if(!o)return t.flags&256?(Ot(t),t):(Ot(t),null)}return Ot(t),(t.flags&128)!==0?(t.lanes=i,t):(i=r!==null,e=e!==null&&e.memoizedState!==null,i&&(r=t.child,o=null,r.alternate!==null&&r.alternate.memoizedState!==null&&r.alternate.memoizedState.cachePool!==null&&(o=r.alternate.memoizedState.cachePool.pool),u=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(u=r.memoizedState.cachePool.pool),u!==o&&(r.flags|=2048)),i!==e&&i&&(t.child.flags|=8192),ar(t,t.updateQueue),Ie(t),null);case 4:return qe(),e===null&&mu(t.stateNode.containerInfo),Ie(t),null;case 10:return pn(t.type),Ie(t),null;case 19:if(I(Ge),r=t.memoizedState,r===null)return Ie(t),null;if(o=(t.flags&128)!==0,u=r.rendering,u===null)if(o)va(r,!1);else{if(He!==0||e!==null&&(e.flags&128)!==0)for(e=t.child;e!==null;){if(u=Xs(e),u!==null){for(t.flags|=128,va(r,!1),e=u.updateQueue,t.updateQueue=e,ar(t,e),t.subtreeFlags=0,e=i,i=t.child;i!==null;)sh(i,e),i=i.sibling;return B(Ge,Ge.current&1|2),ue&&mn(t,r.treeForkCount),t.child}e=e.sibling}r.tail!==null&&Nt()>ur&&(t.flags|=128,o=!0,va(r,!1),t.lanes=4194304)}else{if(!o)if(e=Xs(u),e!==null){if(t.flags|=128,o=!0,e=e.updateQueue,t.updateQueue=e,ar(t,e),va(r,!0),r.tail===null&&r.tailMode==="hidden"&&!u.alternate&&!ue)return Ie(t),null}else 2*Nt()-r.renderingStartTime>ur&&i!==536870912&&(t.flags|=128,o=!0,va(r,!1),t.lanes=4194304);r.isBackwards?(u.sibling=t.child,t.child=u):(e=r.last,e!==null?e.sibling=u:t.child=u,r.last=u)}return r.tail!==null?(e=r.tail,r.rendering=e,r.tail=e.sibling,r.renderingStartTime=Nt(),e.sibling=null,i=Ge.current,B(Ge,o?i&1|2:i&1),ue&&mn(t,r.treeForkCount),e):(Ie(t),null);case 22:case 23:return Ot(t),go(),r=t.memoizedState!==null,e!==null?e.memoizedState!==null!==r&&(t.flags|=8192):r&&(t.flags|=8192),r?(i&536870912)!==0&&(t.flags&128)===0&&(Ie(t),t.subtreeFlags&6&&(t.flags|=8192)):Ie(t),i=t.updateQueue,i!==null&&ar(t,i.retryQueue),i=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(i=e.memoizedState.cachePool.pool),r=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(r=t.memoizedState.cachePool.pool),r!==i&&(t.flags|=2048),e!==null&&I(Ai),null;case 24:return i=null,e!==null&&(i=e.memoizedState.cache),t.memoizedState.cache!==i&&(t.flags|=2048),pn(Qe),Ie(t),null;case 25:return null;case 30:return null}throw Error(s(156,t.tag))}function M0(e,t){switch(Wc(t),t.tag){case 1:return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return pn(Qe),qe(),e=t.flags,(e&65536)!==0&&(e&128)===0?(t.flags=e&-65537|128,t):null;case 26:case 27:case 5:return ps(t),null;case 31:if(t.memoizedState!==null){if(Ot(t),t.alternate===null)throw Error(s(340));Ci()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 13:if(Ot(t),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(s(340));Ci()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return I(Ge),null;case 4:return qe(),null;case 10:return pn(t.type),null;case 22:case 23:return Ot(t),go(),e!==null&&I(Ai),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 24:return pn(Qe),null;case 25:return null;default:return null}}function jm(e,t){switch(Wc(t),t.tag){case 3:pn(Qe),qe();break;case 26:case 27:case 5:ps(t);break;case 4:qe();break;case 31:t.memoizedState!==null&&Ot(t);break;case 13:Ot(t);break;case 19:I(Ge);break;case 10:pn(t.type);break;case 22:case 23:Ot(t),go(),e!==null&&I(Ai);break;case 24:pn(Qe)}}function ba(e,t){try{var i=t.updateQueue,r=i!==null?i.lastEffect:null;if(r!==null){var o=r.next;i=o;do{if((i.tag&e)===e){r=void 0;var u=i.create,h=i.inst;r=u(),h.destroy=r}i=i.next}while(i!==o)}}catch(y){ve(t,t.return,y)}}function Xn(e,t,i){try{var r=t.updateQueue,o=r!==null?r.lastEffect:null;if(o!==null){var u=o.next;r=u;do{if((r.tag&e)===e){var h=r.inst,y=h.destroy;if(y!==void 0){h.destroy=void 0,o=t;var S=i,A=y;try{A()}catch(M){ve(o,S,M)}}}r=r.next}while(r!==u)}}catch(M){ve(t,t.return,M)}}function zm(e){var t=e.updateQueue;if(t!==null){var i=e.stateNode;try{Ch(t,i)}catch(r){ve(e,e.return,r)}}}function Im(e,t,i){i.props=Oi(e.type,e.memoizedProps),i.state=e.memoizedState;try{i.componentWillUnmount()}catch(r){ve(e,t,r)}}function Sa(e,t){try{var i=e.ref;if(i!==null){switch(e.tag){case 26:case 27:case 5:var r=e.stateNode;break;case 30:r=e.stateNode;break;default:r=e.stateNode}typeof i=="function"?e.refCleanup=i(r):i.current=r}}catch(o){ve(e,t,o)}}function an(e,t){var i=e.ref,r=e.refCleanup;if(i!==null)if(typeof r=="function")try{r()}catch(o){ve(e,t,o)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof i=="function")try{i(null)}catch(o){ve(e,t,o)}else i.current=null}function Lm(e){var t=e.type,i=e.memoizedProps,r=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":i.autoFocus&&r.focus();break e;case"img":i.src?r.src=i.src:i.srcSet&&(r.srcset=i.srcSet)}}catch(o){ve(e,e.return,o)}}function Zo(e,t,i){try{var r=e.stateNode;$0(r,e.type,i,t),r[pt]=t}catch(o){ve(e,e.return,o)}}function Um(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&Wn(e.type)||e.tag===4}function Ko(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Um(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&Wn(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Fo(e,t,i){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?(i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i).insertBefore(e,t):(t=i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i,t.appendChild(e),i=i._reactRootContainer,i!=null||t.onclick!==null||(t.onclick=fn));else if(r!==4&&(r===27&&Wn(e.type)&&(i=e.stateNode,t=null),e=e.child,e!==null))for(Fo(e,t,i),e=e.sibling;e!==null;)Fo(e,t,i),e=e.sibling}function sr(e,t,i){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?i.insertBefore(e,t):i.appendChild(e);else if(r!==4&&(r===27&&Wn(e.type)&&(i=e.stateNode),e=e.child,e!==null))for(sr(e,t,i),e=e.sibling;e!==null;)sr(e,t,i),e=e.sibling}function Hm(e){var t=e.stateNode,i=e.memoizedProps;try{for(var r=e.type,o=t.attributes;o.length;)t.removeAttributeNode(o[0]);st(t,r,i),t[nt]=e,t[pt]=i}catch(u){ve(e,e.return,u)}}var Sn=!1,Ke=!1,Po=!1,Bm=typeof WeakSet=="function"?WeakSet:Set,We=null;function D0(e,t){if(e=e.containerInfo,yu=Ar,e=Jd(e),Gc(e)){if("selectionStart"in e)var i={start:e.selectionStart,end:e.selectionEnd};else e:{i=(i=e.ownerDocument)&&i.defaultView||window;var r=i.getSelection&&i.getSelection();if(r&&r.rangeCount!==0){i=r.anchorNode;var o=r.anchorOffset,u=r.focusNode;r=r.focusOffset;try{i.nodeType,u.nodeType}catch{i=null;break e}var h=0,y=-1,S=-1,A=0,M=0,j=e,w=null;t:for(;;){for(var R;j!==i||o!==0&&j.nodeType!==3||(y=h+o),j!==u||r!==0&&j.nodeType!==3||(S=h+r),j.nodeType===3&&(h+=j.nodeValue.length),(R=j.firstChild)!==null;)w=j,j=R;for(;;){if(j===e)break t;if(w===i&&++A===o&&(y=h),w===u&&++M===r&&(S=h),(R=j.nextSibling)!==null)break;j=w,w=j.parentNode}j=R}i=y===-1||S===-1?null:{start:y,end:S}}else i=null}i=i||{start:0,end:0}}else i=null;for(_u={focusedElem:e,selectionRange:i},Ar=!1,We=t;We!==null;)if(t=We,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,We=e;else for(;We!==null;){switch(t=We,u=t.alternate,e=t.flags,t.tag){case 0:if((e&4)!==0&&(e=t.updateQueue,e=e!==null?e.events:null,e!==null))for(i=0;i<e.length;i++)o=e[i],o.ref.impl=o.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&u!==null){e=void 0,i=t,o=u.memoizedProps,u=u.memoizedState,r=i.stateNode;try{var q=Oi(i.type,o);e=r.getSnapshotBeforeUpdate(q,u),r.__reactInternalSnapshotBeforeUpdate=e}catch(Q){ve(i,i.return,Q)}}break;case 3:if((e&1024)!==0){if(e=t.stateNode.containerInfo,i=e.nodeType,i===9)Su(e);else if(i===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":Su(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(s(163))}if(e=t.sibling,e!==null){e.return=t.return,We=e;break}We=t.return}}function km(e,t,i){var r=i.flags;switch(i.tag){case 0:case 11:case 15:xn(e,i),r&4&&ba(5,i);break;case 1:if(xn(e,i),r&4)if(e=i.stateNode,t===null)try{e.componentDidMount()}catch(h){ve(i,i.return,h)}else{var o=Oi(i.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(o,t,e.__reactInternalSnapshotBeforeUpdate)}catch(h){ve(i,i.return,h)}}r&64&&zm(i),r&512&&Sa(i,i.return);break;case 3:if(xn(e,i),r&64&&(e=i.updateQueue,e!==null)){if(t=null,i.child!==null)switch(i.child.tag){case 27:case 5:t=i.child.stateNode;break;case 1:t=i.child.stateNode}try{Ch(e,t)}catch(h){ve(i,i.return,h)}}break;case 27:t===null&&r&4&&Hm(i);case 26:case 5:xn(e,i),t===null&&r&4&&Lm(i),r&512&&Sa(i,i.return);break;case 12:xn(e,i);break;case 31:xn(e,i),r&4&&Ym(e,i);break;case 13:xn(e,i),r&4&&Vm(e,i),r&64&&(e=i.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(i=k0.bind(null,i),sb(e,i))));break;case 22:if(r=i.memoizedState!==null||Sn,!r){t=t!==null&&t.memoizedState!==null||Ke,o=Sn;var u=Ke;Sn=r,(Ke=t)&&!u?Cn(e,i,(i.subtreeFlags&8772)!==0):xn(e,i),Sn=o,Ke=u}break;case 30:break;default:xn(e,i)}}function qm(e){var t=e.alternate;t!==null&&(e.alternate=null,qm(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&Tc(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var Le=null,_t=!1;function En(e,t,i){for(i=i.child;i!==null;)Gm(e,t,i),i=i.sibling}function Gm(e,t,i){if(At&&typeof At.onCommitFiberUnmount=="function")try{At.onCommitFiberUnmount(Ql,i)}catch{}switch(i.tag){case 26:Ke||an(i,t),En(e,t,i),i.memoizedState?i.memoizedState.count--:i.stateNode&&(i=i.stateNode,i.parentNode.removeChild(i));break;case 27:Ke||an(i,t);var r=Le,o=_t;Wn(i.type)&&(Le=i.stateNode,_t=!1),En(e,t,i),Ma(i.stateNode),Le=r,_t=o;break;case 5:Ke||an(i,t);case 6:if(r=Le,o=_t,Le=null,En(e,t,i),Le=r,_t=o,Le!==null)if(_t)try{(Le.nodeType===9?Le.body:Le.nodeName==="HTML"?Le.ownerDocument.body:Le).removeChild(i.stateNode)}catch(u){ve(i,t,u)}else try{Le.removeChild(i.stateNode)}catch(u){ve(i,t,u)}break;case 18:Le!==null&&(_t?(e=Le,zg(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,i.stateNode),Al(e)):zg(Le,i.stateNode));break;case 4:r=Le,o=_t,Le=i.stateNode.containerInfo,_t=!0,En(e,t,i),Le=r,_t=o;break;case 0:case 11:case 14:case 15:Xn(2,i,t),Ke||Xn(4,i,t),En(e,t,i);break;case 1:Ke||(an(i,t),r=i.stateNode,typeof r.componentWillUnmount=="function"&&Im(i,t,r)),En(e,t,i);break;case 21:En(e,t,i);break;case 22:Ke=(r=Ke)||i.memoizedState!==null,En(e,t,i),Ke=r;break;default:En(e,t,i)}}function Ym(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{Al(e)}catch(i){ve(t,t.return,i)}}}function Vm(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{Al(e)}catch(i){ve(t,t.return,i)}}function O0(e){switch(e.tag){case 31:case 13:case 19:var t=e.stateNode;return t===null&&(t=e.stateNode=new Bm),t;case 22:return e=e.stateNode,t=e._retryCache,t===null&&(t=e._retryCache=new Bm),t;default:throw Error(s(435,e.tag))}}function rr(e,t){var i=O0(e);t.forEach(function(r){if(!i.has(r)){i.add(r);var o=q0.bind(null,e,r);r.then(o,o)}})}function vt(e,t){var i=t.deletions;if(i!==null)for(var r=0;r<i.length;r++){var o=i[r],u=e,h=t,y=h;e:for(;y!==null;){switch(y.tag){case 27:if(Wn(y.type)){Le=y.stateNode,_t=!1;break e}break;case 5:Le=y.stateNode,_t=!1;break e;case 3:case 4:Le=y.stateNode.containerInfo,_t=!0;break e}y=y.return}if(Le===null)throw Error(s(160));Gm(u,h,o),Le=null,_t=!1,u=o.alternate,u!==null&&(u.return=null),o.return=null}if(t.subtreeFlags&13886)for(t=t.child;t!==null;)Qm(t,e),t=t.sibling}var Jt=null;function Qm(e,t){var i=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:vt(t,e),bt(e),r&4&&(Xn(3,e,e.return),ba(3,e),Xn(5,e,e.return));break;case 1:vt(t,e),bt(e),r&512&&(Ke||i===null||an(i,i.return)),r&64&&Sn&&(e=e.updateQueue,e!==null&&(r=e.callbacks,r!==null&&(i=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=i===null?r:i.concat(r))));break;case 26:var o=Jt;if(vt(t,e),bt(e),r&512&&(Ke||i===null||an(i,i.return)),r&4){var u=i!==null?i.memoizedState:null;if(r=e.memoizedState,i===null)if(r===null)if(e.stateNode===null){e:{r=e.type,i=e.memoizedProps,o=o.ownerDocument||o;t:switch(r){case"title":u=o.getElementsByTagName("title")[0],(!u||u[Kl]||u[nt]||u.namespaceURI==="http://www.w3.org/2000/svg"||u.hasAttribute("itemprop"))&&(u=o.createElement(r),o.head.insertBefore(u,o.querySelector("head > title"))),st(u,r,i),u[nt]=e,$e(u),r=u;break e;case"link":var h=Qg("link","href",o).get(r+(i.href||""));if(h){for(var y=0;y<h.length;y++)if(u=h[y],u.getAttribute("href")===(i.href==null||i.href===""?null:i.href)&&u.getAttribute("rel")===(i.rel==null?null:i.rel)&&u.getAttribute("title")===(i.title==null?null:i.title)&&u.getAttribute("crossorigin")===(i.crossOrigin==null?null:i.crossOrigin)){h.splice(y,1);break t}}u=o.createElement(r),st(u,r,i),o.head.appendChild(u);break;case"meta":if(h=Qg("meta","content",o).get(r+(i.content||""))){for(y=0;y<h.length;y++)if(u=h[y],u.getAttribute("content")===(i.content==null?null:""+i.content)&&u.getAttribute("name")===(i.name==null?null:i.name)&&u.getAttribute("property")===(i.property==null?null:i.property)&&u.getAttribute("http-equiv")===(i.httpEquiv==null?null:i.httpEquiv)&&u.getAttribute("charset")===(i.charSet==null?null:i.charSet)){h.splice(y,1);break t}}u=o.createElement(r),st(u,r,i),o.head.appendChild(u);break;default:throw Error(s(468,r))}u[nt]=e,$e(u),r=u}e.stateNode=r}else Xg(o,e.type,e.stateNode);else e.stateNode=Vg(o,r,e.memoizedProps);else u!==r?(u===null?i.stateNode!==null&&(i=i.stateNode,i.parentNode.removeChild(i)):u.count--,r===null?Xg(o,e.type,e.stateNode):Vg(o,r,e.memoizedProps)):r===null&&e.stateNode!==null&&Zo(e,e.memoizedProps,i.memoizedProps)}break;case 27:vt(t,e),bt(e),r&512&&(Ke||i===null||an(i,i.return)),i!==null&&r&4&&Zo(e,e.memoizedProps,i.memoizedProps);break;case 5:if(vt(t,e),bt(e),r&512&&(Ke||i===null||an(i,i.return)),e.flags&32){o=e.stateNode;try{Pi(o,"")}catch(q){ve(e,e.return,q)}}r&4&&e.stateNode!=null&&(o=e.memoizedProps,Zo(e,o,i!==null?i.memoizedProps:o)),r&1024&&(Po=!0);break;case 6:if(vt(t,e),bt(e),r&4){if(e.stateNode===null)throw Error(s(162));r=e.memoizedProps,i=e.stateNode;try{i.nodeValue=r}catch(q){ve(e,e.return,q)}}break;case 3:if(xr=null,o=Jt,Jt=Sr(t.containerInfo),vt(t,e),Jt=o,bt(e),r&4&&i!==null&&i.memoizedState.isDehydrated)try{Al(t.containerInfo)}catch(q){ve(e,e.return,q)}Po&&(Po=!1,Xm(e));break;case 4:r=Jt,Jt=Sr(e.stateNode.containerInfo),vt(t,e),bt(e),Jt=r;break;case 12:vt(t,e),bt(e);break;case 31:vt(t,e),bt(e),r&4&&(r=e.updateQueue,r!==null&&(e.updateQueue=null,rr(e,r)));break;case 13:vt(t,e),bt(e),e.child.flags&8192&&e.memoizedState!==null!=(i!==null&&i.memoizedState!==null)&&(or=Nt()),r&4&&(r=e.updateQueue,r!==null&&(e.updateQueue=null,rr(e,r)));break;case 22:o=e.memoizedState!==null;var S=i!==null&&i.memoizedState!==null,A=Sn,M=Ke;if(Sn=A||o,Ke=M||S,vt(t,e),Ke=M,Sn=A,bt(e),r&8192)e:for(t=e.stateNode,t._visibility=o?t._visibility&-2:t._visibility|1,o&&(i===null||S||Sn||Ke||ji(e)),i=null,t=e;;){if(t.tag===5||t.tag===26){if(i===null){S=i=t;try{if(u=S.stateNode,o)h=u.style,typeof h.setProperty=="function"?h.setProperty("display","none","important"):h.display="none";else{y=S.stateNode;var j=S.memoizedProps.style,w=j!=null&&j.hasOwnProperty("display")?j.display:null;y.style.display=w==null||typeof w=="boolean"?"":(""+w).trim()}}catch(q){ve(S,S.return,q)}}}else if(t.tag===6){if(i===null){S=t;try{S.stateNode.nodeValue=o?"":S.memoizedProps}catch(q){ve(S,S.return,q)}}}else if(t.tag===18){if(i===null){S=t;try{var R=S.stateNode;o?Ig(R,!0):Ig(S.stateNode,!1)}catch(q){ve(S,S.return,q)}}}else if((t.tag!==22&&t.tag!==23||t.memoizedState===null||t===e)&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;i===t&&(i=null),t=t.return}i===t&&(i=null),t.sibling.return=t.return,t=t.sibling}r&4&&(r=e.updateQueue,r!==null&&(i=r.retryQueue,i!==null&&(r.retryQueue=null,rr(e,i))));break;case 19:vt(t,e),bt(e),r&4&&(r=e.updateQueue,r!==null&&(e.updateQueue=null,rr(e,r)));break;case 30:break;case 21:break;default:vt(t,e),bt(e)}}function bt(e){var t=e.flags;if(t&2){try{for(var i,r=e.return;r!==null;){if(Um(r)){i=r;break}r=r.return}if(i==null)throw Error(s(160));switch(i.tag){case 27:var o=i.stateNode,u=Ko(e);sr(e,u,o);break;case 5:var h=i.stateNode;i.flags&32&&(Pi(h,""),i.flags&=-33);var y=Ko(e);sr(e,y,h);break;case 3:case 4:var S=i.stateNode.containerInfo,A=Ko(e);Fo(e,A,S);break;default:throw Error(s(161))}}catch(M){ve(e,e.return,M)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function Xm(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var t=e;Xm(t),t.tag===5&&t.flags&1024&&t.stateNode.reset(),e=e.sibling}}function xn(e,t){if(t.subtreeFlags&8772)for(t=t.child;t!==null;)km(e,t.alternate,t),t=t.sibling}function ji(e){for(e=e.child;e!==null;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:Xn(4,t,t.return),ji(t);break;case 1:an(t,t.return);var i=t.stateNode;typeof i.componentWillUnmount=="function"&&Im(t,t.return,i),ji(t);break;case 27:Ma(t.stateNode);case 26:case 5:an(t,t.return),ji(t);break;case 22:t.memoizedState===null&&ji(t);break;case 30:ji(t);break;default:ji(t)}e=e.sibling}}function Cn(e,t,i){for(i=i&&(t.subtreeFlags&8772)!==0,t=t.child;t!==null;){var r=t.alternate,o=e,u=t,h=u.flags;switch(u.tag){case 0:case 11:case 15:Cn(o,u,i),ba(4,u);break;case 1:if(Cn(o,u,i),r=u,o=r.stateNode,typeof o.componentDidMount=="function")try{o.componentDidMount()}catch(A){ve(r,r.return,A)}if(r=u,o=r.updateQueue,o!==null){var y=r.stateNode;try{var S=o.shared.hiddenCallbacks;if(S!==null)for(o.shared.hiddenCallbacks=null,o=0;o<S.length;o++)xh(S[o],y)}catch(A){ve(r,r.return,A)}}i&&h&64&&zm(u),Sa(u,u.return);break;case 27:Hm(u);case 26:case 5:Cn(o,u,i),i&&r===null&&h&4&&Lm(u),Sa(u,u.return);break;case 12:Cn(o,u,i);break;case 31:Cn(o,u,i),i&&h&4&&Ym(o,u);break;case 13:Cn(o,u,i),i&&h&4&&Vm(o,u);break;case 22:u.memoizedState===null&&Cn(o,u,i),Sa(u,u.return);break;case 30:break;default:Cn(o,u,i)}t=t.sibling}}function Jo(e,t){var i=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(i=e.memoizedState.cachePool.pool),e=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(e=t.memoizedState.cachePool.pool),e!==i&&(e!=null&&e.refCount++,i!=null&&ra(i))}function $o(e,t){e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&ra(e))}function $t(e,t,i,r){if(t.subtreeFlags&10256)for(t=t.child;t!==null;)Zm(e,t,i,r),t=t.sibling}function Zm(e,t,i,r){var o=t.flags;switch(t.tag){case 0:case 11:case 15:$t(e,t,i,r),o&2048&&ba(9,t);break;case 1:$t(e,t,i,r);break;case 3:$t(e,t,i,r),o&2048&&(e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&ra(e)));break;case 12:if(o&2048){$t(e,t,i,r),e=t.stateNode;try{var u=t.memoizedProps,h=u.id,y=u.onPostCommit;typeof y=="function"&&y(h,t.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(S){ve(t,t.return,S)}}else $t(e,t,i,r);break;case 31:$t(e,t,i,r);break;case 13:$t(e,t,i,r);break;case 23:break;case 22:u=t.stateNode,h=t.alternate,t.memoizedState!==null?u._visibility&2?$t(e,t,i,r):Ea(e,t):u._visibility&2?$t(e,t,i,r):(u._visibility|=2,pl(e,t,i,r,(t.subtreeFlags&10256)!==0||!1)),o&2048&&Jo(h,t);break;case 24:$t(e,t,i,r),o&2048&&$o(t.alternate,t);break;default:$t(e,t,i,r)}}function pl(e,t,i,r,o){for(o=o&&((t.subtreeFlags&10256)!==0||!1),t=t.child;t!==null;){var u=e,h=t,y=i,S=r,A=h.flags;switch(h.tag){case 0:case 11:case 15:pl(u,h,y,S,o),ba(8,h);break;case 23:break;case 22:var M=h.stateNode;h.memoizedState!==null?M._visibility&2?pl(u,h,y,S,o):Ea(u,h):(M._visibility|=2,pl(u,h,y,S,o)),o&&A&2048&&Jo(h.alternate,h);break;case 24:pl(u,h,y,S,o),o&&A&2048&&$o(h.alternate,h);break;default:pl(u,h,y,S,o)}t=t.sibling}}function Ea(e,t){if(t.subtreeFlags&10256)for(t=t.child;t!==null;){var i=e,r=t,o=r.flags;switch(r.tag){case 22:Ea(i,r),o&2048&&Jo(r.alternate,r);break;case 24:Ea(i,r),o&2048&&$o(r.alternate,r);break;default:Ea(i,r)}t=t.sibling}}var xa=8192;function yl(e,t,i){if(e.subtreeFlags&xa)for(e=e.child;e!==null;)Km(e,t,i),e=e.sibling}function Km(e,t,i){switch(e.tag){case 26:yl(e,t,i),e.flags&xa&&e.memoizedState!==null&&_b(i,Jt,e.memoizedState,e.memoizedProps);break;case 5:yl(e,t,i);break;case 3:case 4:var r=Jt;Jt=Sr(e.stateNode.containerInfo),yl(e,t,i),Jt=r;break;case 22:e.memoizedState===null&&(r=e.alternate,r!==null&&r.memoizedState!==null?(r=xa,xa=16777216,yl(e,t,i),xa=r):yl(e,t,i));break;default:yl(e,t,i)}}function Fm(e){var t=e.alternate;if(t!==null&&(e=t.child,e!==null)){t.child=null;do t=e.sibling,e.sibling=null,e=t;while(e!==null)}}function Ca(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var i=0;i<t.length;i++){var r=t[i];We=r,Jm(r,e)}Fm(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)Pm(e),e=e.sibling}function Pm(e){switch(e.tag){case 0:case 11:case 15:Ca(e),e.flags&2048&&Xn(9,e,e.return);break;case 3:Ca(e);break;case 12:Ca(e);break;case 22:var t=e.stateNode;e.memoizedState!==null&&t._visibility&2&&(e.return===null||e.return.tag!==13)?(t._visibility&=-3,cr(e)):Ca(e);break;default:Ca(e)}}function cr(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var i=0;i<t.length;i++){var r=t[i];We=r,Jm(r,e)}Fm(e)}for(e=e.child;e!==null;){switch(t=e,t.tag){case 0:case 11:case 15:Xn(8,t,t.return),cr(t);break;case 22:i=t.stateNode,i._visibility&2&&(i._visibility&=-3,cr(t));break;default:cr(t)}e=e.sibling}}function Jm(e,t){for(;We!==null;){var i=We;switch(i.tag){case 0:case 11:case 15:Xn(8,i,t);break;case 23:case 22:if(i.memoizedState!==null&&i.memoizedState.cachePool!==null){var r=i.memoizedState.cachePool.pool;r!=null&&r.refCount++}break;case 24:ra(i.memoizedState.cache)}if(r=i.child,r!==null)r.return=i,We=r;else e:for(i=e;We!==null;){r=We;var o=r.sibling,u=r.return;if(qm(r),r===i){We=null;break e}if(o!==null){o.return=u,We=o;break e}We=u}}}var j0={getCacheForType:function(e){var t=lt(Qe),i=t.data.get(e);return i===void 0&&(i=e(),t.data.set(e,i)),i},cacheSignal:function(){return lt(Qe).controller.signal}},z0=typeof WeakMap=="function"?WeakMap:Map,pe=0,we=null,le=null,re=0,_e=0,jt=null,Zn=!1,_l=!1,Wo=!1,Tn=0,He=0,Kn=0,zi=0,eu=0,zt=0,vl=0,Ta=null,St=null,tu=!1,or=0,$m=0,ur=1/0,fr=null,Fn=null,Fe=0,Pn=null,bl=null,Nn=0,nu=0,iu=null,Wm=null,Na=0,lu=null;function It(){return(pe&2)!==0&&re!==0?re&-re:D.T!==null?uu():gd()}function eg(){if(zt===0)if((re&536870912)===0||ue){var e=vs;vs<<=1,(vs&3932160)===0&&(vs=262144),zt=e}else zt=536870912;return e=Dt.current,e!==null&&(e.flags|=32),zt}function Et(e,t,i){(e===we&&(_e===2||_e===9)||e.cancelPendingCommit!==null)&&(Sl(e,0),Jn(e,re,zt,!1)),Zl(e,i),((pe&2)===0||e!==we)&&(e===we&&((pe&2)===0&&(zi|=i),He===4&&Jn(e,re,zt,!1)),sn(e))}function tg(e,t,i){if((pe&6)!==0)throw Error(s(327));var r=!i&&(t&127)===0&&(t&e.expiredLanes)===0||Xl(e,t),o=r?U0(e,t):su(e,t,!0),u=r;do{if(o===0){_l&&!r&&Jn(e,t,0,!1);break}else{if(i=e.current.alternate,u&&!I0(i)){o=su(e,t,!1),u=!1;continue}if(o===2){if(u=t,e.errorRecoveryDisabledLanes&u)var h=0;else h=e.pendingLanes&-536870913,h=h!==0?h:h&536870912?536870912:0;if(h!==0){t=h;e:{var y=e;o=Ta;var S=y.current.memoizedState.isDehydrated;if(S&&(Sl(y,h).flags|=256),h=su(y,h,!1),h!==2){if(Wo&&!S){y.errorRecoveryDisabledLanes|=u,zi|=u,o=4;break e}u=St,St=o,u!==null&&(St===null?St=u:St.push.apply(St,u))}o=h}if(u=!1,o!==2)continue}}if(o===1){Sl(e,0),Jn(e,t,0,!0);break}e:{switch(r=e,u=o,u){case 0:case 1:throw Error(s(345));case 4:if((t&4194048)!==t)break;case 6:Jn(r,t,zt,!Zn);break e;case 2:St=null;break;case 3:case 5:break;default:throw Error(s(329))}if((t&62914560)===t&&(o=or+300-Nt(),10<o)){if(Jn(r,t,zt,!Zn),Ss(r,0,!0)!==0)break e;Nn=t,r.timeoutHandle=Og(ng.bind(null,r,i,St,fr,tu,t,zt,zi,vl,Zn,u,"Throttled",-0,0),o);break e}ng(r,i,St,fr,tu,t,zt,zi,vl,Zn,u,null,-0,0)}}break}while(!0);sn(e)}function ng(e,t,i,r,o,u,h,y,S,A,M,j,w,R){if(e.timeoutHandle=-1,j=t.subtreeFlags,j&8192||(j&16785408)===16785408){j={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:fn},Km(t,u,j);var q=(u&62914560)===u?or-Nt():(u&4194048)===u?$m-Nt():0;if(q=vb(j,q),q!==null){Nn=u,e.cancelPendingCommit=q(ug.bind(null,e,t,u,i,r,o,h,y,S,M,j,null,w,R)),Jn(e,u,h,!A);return}}ug(e,t,u,i,r,o,h,y,S)}function I0(e){for(var t=e;;){var i=t.tag;if((i===0||i===11||i===15)&&t.flags&16384&&(i=t.updateQueue,i!==null&&(i=i.stores,i!==null)))for(var r=0;r<i.length;r++){var o=i[r],u=o.getSnapshot;o=o.value;try{if(!Rt(u(),o))return!1}catch{return!1}}if(i=t.child,t.subtreeFlags&16384&&i!==null)i.return=t,t=i;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Jn(e,t,i,r){t&=~eu,t&=~zi,e.suspendedLanes|=t,e.pingedLanes&=~t,r&&(e.warmLanes|=t),r=e.expirationTimes;for(var o=t;0<o;){var u=31-wt(o),h=1<<u;r[u]=-1,o&=~h}i!==0&&dd(e,i,t)}function dr(){return(pe&6)===0?(Aa(0),!1):!0}function au(){if(le!==null){if(_e===0)var e=le.return;else e=le,gn=Ti=null,So(e),fl=null,oa=0,e=le;for(;e!==null;)jm(e.alternate,e),e=e.return;le=null}}function Sl(e,t){var i=e.timeoutHandle;i!==-1&&(e.timeoutHandle=-1,tb(i)),i=e.cancelPendingCommit,i!==null&&(e.cancelPendingCommit=null,i()),Nn=0,au(),we=e,le=i=hn(e.current,null),re=t,_e=0,jt=null,Zn=!1,_l=Xl(e,t),Wo=!1,vl=zt=eu=zi=Kn=He=0,St=Ta=null,tu=!1,(t&8)!==0&&(t|=t&32);var r=e.entangledLanes;if(r!==0)for(e=e.entanglements,r&=t;0<r;){var o=31-wt(r),u=1<<o;t|=e[o],r&=~u}return Tn=t,js(),i}function ig(e,t){$=null,D.H=ya,t===ul||t===qs?(t=vh(),_e=3):t===co?(t=vh(),_e=4):_e=t===Uo?8:t!==null&&typeof t=="object"&&typeof t.then=="function"?6:1,jt=t,le===null&&(He=1,tr(e,kt(t,e.current)))}function lg(){var e=Dt.current;return e===null?!0:(re&4194048)===re?Vt===null:(re&62914560)===re||(re&536870912)!==0?e===Vt:!1}function ag(){var e=D.H;return D.H=ya,e===null?ya:e}function sg(){var e=D.A;return D.A=j0,e}function hr(){He=4,Zn||(re&4194048)!==re&&Dt.current!==null||(_l=!0),(Kn&134217727)===0&&(zi&134217727)===0||we===null||Jn(we,re,zt,!1)}function su(e,t,i){var r=pe;pe|=2;var o=ag(),u=sg();(we!==e||re!==t)&&(fr=null,Sl(e,t)),t=!1;var h=He;e:do try{if(_e!==0&&le!==null){var y=le,S=jt;switch(_e){case 8:au(),h=6;break e;case 3:case 2:case 9:case 6:Dt.current===null&&(t=!0);var A=_e;if(_e=0,jt=null,El(e,y,S,A),i&&_l){h=0;break e}break;default:A=_e,_e=0,jt=null,El(e,y,S,A)}}L0(),h=He;break}catch(M){ig(e,M)}while(!0);return t&&e.shellSuspendCounter++,gn=Ti=null,pe=r,D.H=o,D.A=u,le===null&&(we=null,re=0,js()),h}function L0(){for(;le!==null;)rg(le)}function U0(e,t){var i=pe;pe|=2;var r=ag(),o=sg();we!==e||re!==t?(fr=null,ur=Nt()+500,Sl(e,t)):_l=Xl(e,t);e:do try{if(_e!==0&&le!==null){t=le;var u=jt;t:switch(_e){case 1:_e=0,jt=null,El(e,t,u,1);break;case 2:case 9:if(yh(u)){_e=0,jt=null,cg(t);break}t=function(){_e!==2&&_e!==9||we!==e||(_e=7),sn(e)},u.then(t,t);break e;case 3:_e=7;break e;case 4:_e=5;break e;case 7:yh(u)?(_e=0,jt=null,cg(t)):(_e=0,jt=null,El(e,t,u,7));break;case 5:var h=null;switch(le.tag){case 26:h=le.memoizedState;case 5:case 27:var y=le;if(h?Zg(h):y.stateNode.complete){_e=0,jt=null;var S=y.sibling;if(S!==null)le=S;else{var A=y.return;A!==null?(le=A,mr(A)):le=null}break t}}_e=0,jt=null,El(e,t,u,5);break;case 6:_e=0,jt=null,El(e,t,u,6);break;case 8:au(),He=6;break e;default:throw Error(s(462))}}H0();break}catch(M){ig(e,M)}while(!0);return gn=Ti=null,D.H=r,D.A=o,pe=i,le!==null?0:(we=null,re=0,js(),He)}function H0(){for(;le!==null&&!rv();)rg(le)}function rg(e){var t=Dm(e.alternate,e,Tn);e.memoizedProps=e.pendingProps,t===null?mr(e):le=t}function cg(e){var t=e,i=t.alternate;switch(t.tag){case 15:case 0:t=Tm(i,t,t.pendingProps,t.type,void 0,re);break;case 11:t=Tm(i,t,t.pendingProps,t.type.render,t.ref,re);break;case 5:So(t);default:jm(i,t),t=le=sh(t,Tn),t=Dm(i,t,Tn)}e.memoizedProps=e.pendingProps,t===null?mr(e):le=t}function El(e,t,i,r){gn=Ti=null,So(t),fl=null,oa=0;var o=t.return;try{if(N0(e,o,t,i,re)){He=1,tr(e,kt(i,e.current)),le=null;return}}catch(u){if(o!==null)throw le=o,u;He=1,tr(e,kt(i,e.current)),le=null;return}t.flags&32768?(ue||r===1?e=!0:_l||(re&536870912)!==0?e=!1:(Zn=e=!0,(r===2||r===9||r===3||r===6)&&(r=Dt.current,r!==null&&r.tag===13&&(r.flags|=16384))),og(t,e)):mr(t)}function mr(e){var t=e;do{if((t.flags&32768)!==0){og(t,Zn);return}e=t.return;var i=R0(t.alternate,t,Tn);if(i!==null){le=i;return}if(t=t.sibling,t!==null){le=t;return}le=t=e}while(t!==null);He===0&&(He=5)}function og(e,t){do{var i=M0(e.alternate,e);if(i!==null){i.flags&=32767,le=i;return}if(i=e.return,i!==null&&(i.flags|=32768,i.subtreeFlags=0,i.deletions=null),!t&&(e=e.sibling,e!==null)){le=e;return}le=e=i}while(e!==null);He=6,le=null}function ug(e,t,i,r,o,u,h,y,S){e.cancelPendingCommit=null;do gr();while(Fe!==0);if((pe&6)!==0)throw Error(s(327));if(t!==null){if(t===e.current)throw Error(s(177));if(u=t.lanes|t.childLanes,u|=Zc,yv(e,i,u,h,y,S),e===we&&(le=we=null,re=0),bl=t,Pn=e,Nn=i,nu=u,iu=o,Wm=r,(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,G0(ys,function(){return gg(),null})):(e.callbackNode=null,e.callbackPriority=0),r=(t.flags&13878)!==0,(t.subtreeFlags&13878)!==0||r){r=D.T,D.T=null,o=H.p,H.p=2,h=pe,pe|=4;try{D0(e,t,i)}finally{pe=h,H.p=o,D.T=r}}Fe=1,fg(),dg(),hg()}}function fg(){if(Fe===1){Fe=0;var e=Pn,t=bl,i=(t.flags&13878)!==0;if((t.subtreeFlags&13878)!==0||i){i=D.T,D.T=null;var r=H.p;H.p=2;var o=pe;pe|=4;try{Qm(t,e);var u=_u,h=Jd(e.containerInfo),y=u.focusedElem,S=u.selectionRange;if(h!==y&&y&&y.ownerDocument&&Pd(y.ownerDocument.documentElement,y)){if(S!==null&&Gc(y)){var A=S.start,M=S.end;if(M===void 0&&(M=A),"selectionStart"in y)y.selectionStart=A,y.selectionEnd=Math.min(M,y.value.length);else{var j=y.ownerDocument||document,w=j&&j.defaultView||window;if(w.getSelection){var R=w.getSelection(),q=y.textContent.length,Q=Math.min(S.start,q),Ce=S.end===void 0?Q:Math.min(S.end,q);!R.extend&&Q>Ce&&(h=Ce,Ce=Q,Q=h);var T=Fd(y,Q),x=Fd(y,Ce);if(T&&x&&(R.rangeCount!==1||R.anchorNode!==T.node||R.anchorOffset!==T.offset||R.focusNode!==x.node||R.focusOffset!==x.offset)){var N=j.createRange();N.setStart(T.node,T.offset),R.removeAllRanges(),Q>Ce?(R.addRange(N),R.extend(x.node,x.offset)):(N.setEnd(x.node,x.offset),R.addRange(N))}}}}for(j=[],R=y;R=R.parentNode;)R.nodeType===1&&j.push({element:R,left:R.scrollLeft,top:R.scrollTop});for(typeof y.focus=="function"&&y.focus(),y=0;y<j.length;y++){var O=j[y];O.element.scrollLeft=O.left,O.element.scrollTop=O.top}}Ar=!!yu,_u=yu=null}finally{pe=o,H.p=r,D.T=i}}e.current=t,Fe=2}}function dg(){if(Fe===2){Fe=0;var e=Pn,t=bl,i=(t.flags&8772)!==0;if((t.subtreeFlags&8772)!==0||i){i=D.T,D.T=null;var r=H.p;H.p=2;var o=pe;pe|=4;try{km(e,t.alternate,t)}finally{pe=o,H.p=r,D.T=i}}Fe=3}}function hg(){if(Fe===4||Fe===3){Fe=0,cv();var e=Pn,t=bl,i=Nn,r=Wm;(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?Fe=5:(Fe=0,bl=Pn=null,mg(e,e.pendingLanes));var o=e.pendingLanes;if(o===0&&(Fn=null),xc(i),t=t.stateNode,At&&typeof At.onCommitFiberRoot=="function")try{At.onCommitFiberRoot(Ql,t,void 0,(t.current.flags&128)===128)}catch{}if(r!==null){t=D.T,o=H.p,H.p=2,D.T=null;try{for(var u=e.onRecoverableError,h=0;h<r.length;h++){var y=r[h];u(y.value,{componentStack:y.stack})}}finally{D.T=t,H.p=o}}(Nn&3)!==0&&gr(),sn(e),o=e.pendingLanes,(i&261930)!==0&&(o&42)!==0?e===lu?Na++:(Na=0,lu=e):Na=0,Aa(0)}}function mg(e,t){(e.pooledCacheLanes&=t)===0&&(t=e.pooledCache,t!=null&&(e.pooledCache=null,ra(t)))}function gr(){return fg(),dg(),hg(),gg()}function gg(){if(Fe!==5)return!1;var e=Pn,t=nu;nu=0;var i=xc(Nn),r=D.T,o=H.p;try{H.p=32>i?32:i,D.T=null,i=iu,iu=null;var u=Pn,h=Nn;if(Fe=0,bl=Pn=null,Nn=0,(pe&6)!==0)throw Error(s(331));var y=pe;if(pe|=4,Pm(u.current),Zm(u,u.current,h,i),pe=y,Aa(0,!1),At&&typeof At.onPostCommitFiberRoot=="function")try{At.onPostCommitFiberRoot(Ql,u)}catch{}return!0}finally{H.p=o,D.T=r,mg(e,t)}}function pg(e,t,i){t=kt(i,t),t=Lo(e.stateNode,t,2),e=Yn(e,t,2),e!==null&&(Zl(e,2),sn(e))}function ve(e,t,i){if(e.tag===3)pg(e,e,i);else for(;t!==null;){if(t.tag===3){pg(t,e,i);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Fn===null||!Fn.has(r))){e=kt(i,e),i=ym(2),r=Yn(t,i,2),r!==null&&(_m(i,r,t,e),Zl(r,2),sn(r));break}}t=t.return}}function ru(e,t,i){var r=e.pingCache;if(r===null){r=e.pingCache=new z0;var o=new Set;r.set(t,o)}else o=r.get(t),o===void 0&&(o=new Set,r.set(t,o));o.has(i)||(Wo=!0,o.add(i),e=B0.bind(null,e,t,i),t.then(e,e))}function B0(e,t,i){var r=e.pingCache;r!==null&&r.delete(t),e.pingedLanes|=e.suspendedLanes&i,e.warmLanes&=~i,we===e&&(re&i)===i&&(He===4||He===3&&(re&62914560)===re&&300>Nt()-or?(pe&2)===0&&Sl(e,0):eu|=i,vl===re&&(vl=0)),sn(e)}function yg(e,t){t===0&&(t=fd()),e=Ei(e,t),e!==null&&(Zl(e,t),sn(e))}function k0(e){var t=e.memoizedState,i=0;t!==null&&(i=t.retryLane),yg(e,i)}function q0(e,t){var i=0;switch(e.tag){case 31:case 13:var r=e.stateNode,o=e.memoizedState;o!==null&&(i=o.retryLane);break;case 19:r=e.stateNode;break;case 22:r=e.stateNode._retryCache;break;default:throw Error(s(314))}r!==null&&r.delete(t),yg(e,i)}function G0(e,t){return vc(e,t)}var pr=null,xl=null,cu=!1,yr=!1,ou=!1,$n=0;function sn(e){e!==xl&&e.next===null&&(xl===null?pr=xl=e:xl=xl.next=e),yr=!0,cu||(cu=!0,V0())}function Aa(e,t){if(!ou&&yr){ou=!0;do for(var i=!1,r=pr;r!==null;){if(e!==0){var o=r.pendingLanes;if(o===0)var u=0;else{var h=r.suspendedLanes,y=r.pingedLanes;u=(1<<31-wt(42|e)+1)-1,u&=o&~(h&~y),u=u&201326741?u&201326741|1:u?u|2:0}u!==0&&(i=!0,Sg(r,u))}else u=re,u=Ss(r,r===we?u:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),(u&3)===0||Xl(r,u)||(i=!0,Sg(r,u));r=r.next}while(i);ou=!1}}function Y0(){_g()}function _g(){yr=cu=!1;var e=0;$n!==0&&eb()&&(e=$n);for(var t=Nt(),i=null,r=pr;r!==null;){var o=r.next,u=vg(r,t);u===0?(r.next=null,i===null?pr=o:i.next=o,o===null&&(xl=i)):(i=r,(e!==0||(u&3)!==0)&&(yr=!0)),r=o}Fe!==0&&Fe!==5||Aa(e),$n!==0&&($n=0)}function vg(e,t){for(var i=e.suspendedLanes,r=e.pingedLanes,o=e.expirationTimes,u=e.pendingLanes&-62914561;0<u;){var h=31-wt(u),y=1<<h,S=o[h];S===-1?((y&i)===0||(y&r)!==0)&&(o[h]=pv(y,t)):S<=t&&(e.expiredLanes|=y),u&=~y}if(t=we,i=re,i=Ss(e,e===t?i:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),r=e.callbackNode,i===0||e===t&&(_e===2||_e===9)||e.cancelPendingCommit!==null)return r!==null&&r!==null&&bc(r),e.callbackNode=null,e.callbackPriority=0;if((i&3)===0||Xl(e,i)){if(t=i&-i,t===e.callbackPriority)return t;switch(r!==null&&bc(r),xc(i)){case 2:case 8:i=od;break;case 32:i=ys;break;case 268435456:i=ud;break;default:i=ys}return r=bg.bind(null,e),i=vc(i,r),e.callbackPriority=t,e.callbackNode=i,t}return r!==null&&r!==null&&bc(r),e.callbackPriority=2,e.callbackNode=null,2}function bg(e,t){if(Fe!==0&&Fe!==5)return e.callbackNode=null,e.callbackPriority=0,null;var i=e.callbackNode;if(gr()&&e.callbackNode!==i)return null;var r=re;return r=Ss(e,e===we?r:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),r===0?null:(tg(e,r,t),vg(e,Nt()),e.callbackNode!=null&&e.callbackNode===i?bg.bind(null,e):null)}function Sg(e,t){if(gr())return null;tg(e,t,!0)}function V0(){nb(function(){(pe&6)!==0?vc(cd,Y0):_g()})}function uu(){if($n===0){var e=cl;e===0&&(e=_s,_s<<=1,(_s&261888)===0&&(_s=256)),$n=e}return $n}function Eg(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:Ts(""+e)}function xg(e,t){var i=t.ownerDocument.createElement("input");return i.name=t.name,i.value=t.value,e.id&&i.setAttribute("form",e.id),t.parentNode.insertBefore(i,t),e=new FormData(e),i.parentNode.removeChild(i),e}function Q0(e,t,i,r,o){if(t==="submit"&&i&&i.stateNode===o){var u=Eg((o[pt]||null).action),h=r.submitter;h&&(t=(t=h[pt]||null)?Eg(t.formAction):h.getAttribute("formAction"),t!==null&&(u=t,h=null));var y=new Rs("action","action",null,r,o);e.push({event:y,listeners:[{instance:null,listener:function(){if(r.defaultPrevented){if($n!==0){var S=h?xg(o,h):new FormData(o);Mo(i,{pending:!0,data:S,method:o.method,action:u},null,S)}}else typeof u=="function"&&(y.preventDefault(),S=h?xg(o,h):new FormData(o),Mo(i,{pending:!0,data:S,method:o.method,action:u},u,S))},currentTarget:o}]})}}for(var fu=0;fu<Xc.length;fu++){var du=Xc[fu],X0=du.toLowerCase(),Z0=du[0].toUpperCase()+du.slice(1);Pt(X0,"on"+Z0)}Pt(eh,"onAnimationEnd"),Pt(th,"onAnimationIteration"),Pt(nh,"onAnimationStart"),Pt("dblclick","onDoubleClick"),Pt("focusin","onFocus"),Pt("focusout","onBlur"),Pt(o0,"onTransitionRun"),Pt(u0,"onTransitionStart"),Pt(f0,"onTransitionCancel"),Pt(ih,"onTransitionEnd"),Ki("onMouseEnter",["mouseout","mouseover"]),Ki("onMouseLeave",["mouseout","mouseover"]),Ki("onPointerEnter",["pointerout","pointerover"]),Ki("onPointerLeave",["pointerout","pointerover"]),_i("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),_i("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),_i("onBeforeInput",["compositionend","keypress","textInput","paste"]),_i("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),_i("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),_i("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var wa="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),K0=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(wa));function Cg(e,t){t=(t&4)!==0;for(var i=0;i<e.length;i++){var r=e[i],o=r.event;r=r.listeners;e:{var u=void 0;if(t)for(var h=r.length-1;0<=h;h--){var y=r[h],S=y.instance,A=y.currentTarget;if(y=y.listener,S!==u&&o.isPropagationStopped())break e;u=y,o.currentTarget=A;try{u(o)}catch(M){Os(M)}o.currentTarget=null,u=S}else for(h=0;h<r.length;h++){if(y=r[h],S=y.instance,A=y.currentTarget,y=y.listener,S!==u&&o.isPropagationStopped())break e;u=y,o.currentTarget=A;try{u(o)}catch(M){Os(M)}o.currentTarget=null,u=S}}}}function ae(e,t){var i=t[Cc];i===void 0&&(i=t[Cc]=new Set);var r=e+"__bubble";i.has(r)||(Tg(t,e,2,!1),i.add(r))}function hu(e,t,i){var r=0;t&&(r|=4),Tg(i,e,r,t)}var _r="_reactListening"+Math.random().toString(36).slice(2);function mu(e){if(!e[_r]){e[_r]=!0,_d.forEach(function(i){i!=="selectionchange"&&(K0.has(i)||hu(i,!1,e),hu(i,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[_r]||(t[_r]=!0,hu("selectionchange",!1,t))}}function Tg(e,t,i,r){switch(ep(t)){case 2:var o=Eb;break;case 8:o=xb;break;default:o=Ru}i=o.bind(null,t,i,e),o=void 0,!jc||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(o=!0),r?o!==void 0?e.addEventListener(t,i,{capture:!0,passive:o}):e.addEventListener(t,i,!0):o!==void 0?e.addEventListener(t,i,{passive:o}):e.addEventListener(t,i,!1)}function gu(e,t,i,r,o){var u=r;if((t&1)===0&&(t&2)===0&&r!==null)e:for(;;){if(r===null)return;var h=r.tag;if(h===3||h===4){var y=r.stateNode.containerInfo;if(y===o)break;if(h===4)for(h=r.return;h!==null;){var S=h.tag;if((S===3||S===4)&&h.stateNode.containerInfo===o)return;h=h.return}for(;y!==null;){if(h=Qi(y),h===null)return;if(S=h.tag,S===5||S===6||S===26||S===27){r=u=h;continue e}y=y.parentNode}}r=r.return}Md(function(){var A=u,M=Dc(i),j=[];e:{var w=lh.get(e);if(w!==void 0){var R=Rs,q=e;switch(e){case"keypress":if(As(i)===0)break e;case"keydown":case"keyup":R=qv;break;case"focusin":q="focus",R=Uc;break;case"focusout":q="blur",R=Uc;break;case"beforeblur":case"afterblur":R=Uc;break;case"click":if(i.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":R=jd;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":R=Rv;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":R=Vv;break;case eh:case th:case nh:R=Ov;break;case ih:R=Xv;break;case"scroll":case"scrollend":R=Av;break;case"wheel":R=Kv;break;case"copy":case"cut":case"paste":R=zv;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":R=Id;break;case"toggle":case"beforetoggle":R=Pv}var Q=(t&4)!==0,Ce=!Q&&(e==="scroll"||e==="scrollend"),T=Q?w!==null?w+"Capture":null:w;Q=[];for(var x=A,N;x!==null;){var O=x;if(N=O.stateNode,O=O.tag,O!==5&&O!==26&&O!==27||N===null||T===null||(O=Pl(x,T),O!=null&&Q.push(Ra(x,O,N))),Ce)break;x=x.return}0<Q.length&&(w=new R(w,q,null,i,M),j.push({event:w,listeners:Q}))}}if((t&7)===0){e:{if(w=e==="mouseover"||e==="pointerover",R=e==="mouseout"||e==="pointerout",w&&i!==Mc&&(q=i.relatedTarget||i.fromElement)&&(Qi(q)||q[Vi]))break e;if((R||w)&&(w=M.window===M?M:(w=M.ownerDocument)?w.defaultView||w.parentWindow:window,R?(q=i.relatedTarget||i.toElement,R=A,q=q?Qi(q):null,q!==null&&(Ce=f(q),Q=q.tag,q!==Ce||Q!==5&&Q!==27&&Q!==6)&&(q=null)):(R=null,q=A),R!==q)){if(Q=jd,O="onMouseLeave",T="onMouseEnter",x="mouse",(e==="pointerout"||e==="pointerover")&&(Q=Id,O="onPointerLeave",T="onPointerEnter",x="pointer"),Ce=R==null?w:Fl(R),N=q==null?w:Fl(q),w=new Q(O,x+"leave",R,i,M),w.target=Ce,w.relatedTarget=N,O=null,Qi(M)===A&&(Q=new Q(T,x+"enter",q,i,M),Q.target=N,Q.relatedTarget=Ce,O=Q),Ce=O,R&&q)t:{for(Q=F0,T=R,x=q,N=0,O=T;O;O=Q(O))N++;O=0;for(var V=x;V;V=Q(V))O++;for(;0<N-O;)T=Q(T),N--;for(;0<O-N;)x=Q(x),O--;for(;N--;){if(T===x||x!==null&&T===x.alternate){Q=T;break t}T=Q(T),x=Q(x)}Q=null}else Q=null;R!==null&&Ng(j,w,R,Q,!1),q!==null&&Ce!==null&&Ng(j,Ce,q,Q,!0)}}e:{if(w=A?Fl(A):window,R=w.nodeName&&w.nodeName.toLowerCase(),R==="select"||R==="input"&&w.type==="file")var he=Yd;else if(qd(w))if(Vd)he=s0;else{he=l0;var Y=i0}else R=w.nodeName,!R||R.toLowerCase()!=="input"||w.type!=="checkbox"&&w.type!=="radio"?A&&Rc(A.elementType)&&(he=Yd):he=a0;if(he&&(he=he(e,A))){Gd(j,he,i,M);break e}Y&&Y(e,w,A),e==="focusout"&&A&&w.type==="number"&&A.memoizedProps.value!=null&&wc(w,"number",w.value)}switch(Y=A?Fl(A):window,e){case"focusin":(qd(Y)||Y.contentEditable==="true")&&(el=Y,Yc=A,la=null);break;case"focusout":la=Yc=el=null;break;case"mousedown":Vc=!0;break;case"contextmenu":case"mouseup":case"dragend":Vc=!1,$d(j,i,M);break;case"selectionchange":if(c0)break;case"keydown":case"keyup":$d(j,i,M)}var W;if(Bc)e:{switch(e){case"compositionstart":var ce="onCompositionStart";break e;case"compositionend":ce="onCompositionEnd";break e;case"compositionupdate":ce="onCompositionUpdate";break e}ce=void 0}else Wi?Bd(e,i)&&(ce="onCompositionEnd"):e==="keydown"&&i.keyCode===229&&(ce="onCompositionStart");ce&&(Ld&&i.locale!=="ko"&&(Wi||ce!=="onCompositionStart"?ce==="onCompositionEnd"&&Wi&&(W=Dd()):(Ln=M,zc="value"in Ln?Ln.value:Ln.textContent,Wi=!0)),Y=vr(A,ce),0<Y.length&&(ce=new zd(ce,e,null,i,M),j.push({event:ce,listeners:Y}),W?ce.data=W:(W=kd(i),W!==null&&(ce.data=W)))),(W=$v?Wv(e,i):e0(e,i))&&(ce=vr(A,"onBeforeInput"),0<ce.length&&(Y=new zd("onBeforeInput","beforeinput",null,i,M),j.push({event:Y,listeners:ce}),Y.data=W)),Q0(j,e,A,i,M)}Cg(j,t)})}function Ra(e,t,i){return{instance:e,listener:t,currentTarget:i}}function vr(e,t){for(var i=t+"Capture",r=[];e!==null;){var o=e,u=o.stateNode;if(o=o.tag,o!==5&&o!==26&&o!==27||u===null||(o=Pl(e,i),o!=null&&r.unshift(Ra(e,o,u)),o=Pl(e,t),o!=null&&r.push(Ra(e,o,u))),e.tag===3)return r;e=e.return}return[]}function F0(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function Ng(e,t,i,r,o){for(var u=t._reactName,h=[];i!==null&&i!==r;){var y=i,S=y.alternate,A=y.stateNode;if(y=y.tag,S!==null&&S===r)break;y!==5&&y!==26&&y!==27||A===null||(S=A,o?(A=Pl(i,u),A!=null&&h.unshift(Ra(i,A,S))):o||(A=Pl(i,u),A!=null&&h.push(Ra(i,A,S)))),i=i.return}h.length!==0&&e.push({event:t,listeners:h})}var P0=/\r\n?/g,J0=/\u0000|\uFFFD/g;function Ag(e){return(typeof e=="string"?e:""+e).replace(P0,`
`).replace(J0,"")}function wg(e,t){return t=Ag(t),Ag(e)===t}function xe(e,t,i,r,o,u){switch(i){case"children":typeof r=="string"?t==="body"||t==="textarea"&&r===""||Pi(e,r):(typeof r=="number"||typeof r=="bigint")&&t!=="body"&&Pi(e,""+r);break;case"className":xs(e,"class",r);break;case"tabIndex":xs(e,"tabindex",r);break;case"dir":case"role":case"viewBox":case"width":case"height":xs(e,i,r);break;case"style":wd(e,r,u);break;case"data":if(t!=="object"){xs(e,"data",r);break}case"src":case"href":if(r===""&&(t!=="a"||i!=="href")){e.removeAttribute(i);break}if(r==null||typeof r=="function"||typeof r=="symbol"||typeof r=="boolean"){e.removeAttribute(i);break}r=Ts(""+r),e.setAttribute(i,r);break;case"action":case"formAction":if(typeof r=="function"){e.setAttribute(i,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof u=="function"&&(i==="formAction"?(t!=="input"&&xe(e,t,"name",o.name,o,null),xe(e,t,"formEncType",o.formEncType,o,null),xe(e,t,"formMethod",o.formMethod,o,null),xe(e,t,"formTarget",o.formTarget,o,null)):(xe(e,t,"encType",o.encType,o,null),xe(e,t,"method",o.method,o,null),xe(e,t,"target",o.target,o,null)));if(r==null||typeof r=="symbol"||typeof r=="boolean"){e.removeAttribute(i);break}r=Ts(""+r),e.setAttribute(i,r);break;case"onClick":r!=null&&(e.onclick=fn);break;case"onScroll":r!=null&&ae("scroll",e);break;case"onScrollEnd":r!=null&&ae("scrollend",e);break;case"dangerouslySetInnerHTML":if(r!=null){if(typeof r!="object"||!("__html"in r))throw Error(s(61));if(i=r.__html,i!=null){if(o.children!=null)throw Error(s(60));e.innerHTML=i}}break;case"multiple":e.multiple=r&&typeof r!="function"&&typeof r!="symbol";break;case"muted":e.muted=r&&typeof r!="function"&&typeof r!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(r==null||typeof r=="function"||typeof r=="boolean"||typeof r=="symbol"){e.removeAttribute("xlink:href");break}i=Ts(""+r),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",i);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":r!=null&&typeof r!="function"&&typeof r!="symbol"?e.setAttribute(i,""+r):e.removeAttribute(i);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":r&&typeof r!="function"&&typeof r!="symbol"?e.setAttribute(i,""):e.removeAttribute(i);break;case"capture":case"download":r===!0?e.setAttribute(i,""):r!==!1&&r!=null&&typeof r!="function"&&typeof r!="symbol"?e.setAttribute(i,r):e.removeAttribute(i);break;case"cols":case"rows":case"size":case"span":r!=null&&typeof r!="function"&&typeof r!="symbol"&&!isNaN(r)&&1<=r?e.setAttribute(i,r):e.removeAttribute(i);break;case"rowSpan":case"start":r==null||typeof r=="function"||typeof r=="symbol"||isNaN(r)?e.removeAttribute(i):e.setAttribute(i,r);break;case"popover":ae("beforetoggle",e),ae("toggle",e),Es(e,"popover",r);break;case"xlinkActuate":un(e,"http://www.w3.org/1999/xlink","xlink:actuate",r);break;case"xlinkArcrole":un(e,"http://www.w3.org/1999/xlink","xlink:arcrole",r);break;case"xlinkRole":un(e,"http://www.w3.org/1999/xlink","xlink:role",r);break;case"xlinkShow":un(e,"http://www.w3.org/1999/xlink","xlink:show",r);break;case"xlinkTitle":un(e,"http://www.w3.org/1999/xlink","xlink:title",r);break;case"xlinkType":un(e,"http://www.w3.org/1999/xlink","xlink:type",r);break;case"xmlBase":un(e,"http://www.w3.org/XML/1998/namespace","xml:base",r);break;case"xmlLang":un(e,"http://www.w3.org/XML/1998/namespace","xml:lang",r);break;case"xmlSpace":un(e,"http://www.w3.org/XML/1998/namespace","xml:space",r);break;case"is":Es(e,"is",r);break;case"innerText":case"textContent":break;default:(!(2<i.length)||i[0]!=="o"&&i[0]!=="O"||i[1]!=="n"&&i[1]!=="N")&&(i=Tv.get(i)||i,Es(e,i,r))}}function pu(e,t,i,r,o,u){switch(i){case"style":wd(e,r,u);break;case"dangerouslySetInnerHTML":if(r!=null){if(typeof r!="object"||!("__html"in r))throw Error(s(61));if(i=r.__html,i!=null){if(o.children!=null)throw Error(s(60));e.innerHTML=i}}break;case"children":typeof r=="string"?Pi(e,r):(typeof r=="number"||typeof r=="bigint")&&Pi(e,""+r);break;case"onScroll":r!=null&&ae("scroll",e);break;case"onScrollEnd":r!=null&&ae("scrollend",e);break;case"onClick":r!=null&&(e.onclick=fn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!vd.hasOwnProperty(i))e:{if(i[0]==="o"&&i[1]==="n"&&(o=i.endsWith("Capture"),t=i.slice(2,o?i.length-7:void 0),u=e[pt]||null,u=u!=null?u[i]:null,typeof u=="function"&&e.removeEventListener(t,u,o),typeof r=="function")){typeof u!="function"&&u!==null&&(i in e?e[i]=null:e.hasAttribute(i)&&e.removeAttribute(i)),e.addEventListener(t,r,o);break e}i in e?e[i]=r:r===!0?e.setAttribute(i,""):Es(e,i,r)}}}function st(e,t,i){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":ae("error",e),ae("load",e);var r=!1,o=!1,u;for(u in i)if(i.hasOwnProperty(u)){var h=i[u];if(h!=null)switch(u){case"src":r=!0;break;case"srcSet":o=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,t));default:xe(e,t,u,h,i,null)}}o&&xe(e,t,"srcSet",i.srcSet,i,null),r&&xe(e,t,"src",i.src,i,null);return;case"input":ae("invalid",e);var y=u=h=o=null,S=null,A=null;for(r in i)if(i.hasOwnProperty(r)){var M=i[r];if(M!=null)switch(r){case"name":o=M;break;case"type":h=M;break;case"checked":S=M;break;case"defaultChecked":A=M;break;case"value":u=M;break;case"defaultValue":y=M;break;case"children":case"dangerouslySetInnerHTML":if(M!=null)throw Error(s(137,t));break;default:xe(e,t,r,M,i,null)}}Cd(e,u,y,S,A,h,o,!1);return;case"select":ae("invalid",e),r=h=u=null;for(o in i)if(i.hasOwnProperty(o)&&(y=i[o],y!=null))switch(o){case"value":u=y;break;case"defaultValue":h=y;break;case"multiple":r=y;default:xe(e,t,o,y,i,null)}t=u,i=h,e.multiple=!!r,t!=null?Fi(e,!!r,t,!1):i!=null&&Fi(e,!!r,i,!0);return;case"textarea":ae("invalid",e),u=o=r=null;for(h in i)if(i.hasOwnProperty(h)&&(y=i[h],y!=null))switch(h){case"value":r=y;break;case"defaultValue":o=y;break;case"children":u=y;break;case"dangerouslySetInnerHTML":if(y!=null)throw Error(s(91));break;default:xe(e,t,h,y,i,null)}Nd(e,r,o,u);return;case"option":for(S in i)i.hasOwnProperty(S)&&(r=i[S],r!=null)&&(S==="selected"?e.selected=r&&typeof r!="function"&&typeof r!="symbol":xe(e,t,S,r,i,null));return;case"dialog":ae("beforetoggle",e),ae("toggle",e),ae("cancel",e),ae("close",e);break;case"iframe":case"object":ae("load",e);break;case"video":case"audio":for(r=0;r<wa.length;r++)ae(wa[r],e);break;case"image":ae("error",e),ae("load",e);break;case"details":ae("toggle",e);break;case"embed":case"source":case"link":ae("error",e),ae("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(A in i)if(i.hasOwnProperty(A)&&(r=i[A],r!=null))switch(A){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,t));default:xe(e,t,A,r,i,null)}return;default:if(Rc(t)){for(M in i)i.hasOwnProperty(M)&&(r=i[M],r!==void 0&&pu(e,t,M,r,i,void 0));return}}for(y in i)i.hasOwnProperty(y)&&(r=i[y],r!=null&&xe(e,t,y,r,i,null))}function $0(e,t,i,r){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var o=null,u=null,h=null,y=null,S=null,A=null,M=null;for(R in i){var j=i[R];if(i.hasOwnProperty(R)&&j!=null)switch(R){case"checked":break;case"value":break;case"defaultValue":S=j;default:r.hasOwnProperty(R)||xe(e,t,R,null,r,j)}}for(var w in r){var R=r[w];if(j=i[w],r.hasOwnProperty(w)&&(R!=null||j!=null))switch(w){case"type":u=R;break;case"name":o=R;break;case"checked":A=R;break;case"defaultChecked":M=R;break;case"value":h=R;break;case"defaultValue":y=R;break;case"children":case"dangerouslySetInnerHTML":if(R!=null)throw Error(s(137,t));break;default:R!==j&&xe(e,t,w,R,r,j)}}Ac(e,h,y,S,A,M,u,o);return;case"select":R=h=y=w=null;for(u in i)if(S=i[u],i.hasOwnProperty(u)&&S!=null)switch(u){case"value":break;case"multiple":R=S;default:r.hasOwnProperty(u)||xe(e,t,u,null,r,S)}for(o in r)if(u=r[o],S=i[o],r.hasOwnProperty(o)&&(u!=null||S!=null))switch(o){case"value":w=u;break;case"defaultValue":y=u;break;case"multiple":h=u;default:u!==S&&xe(e,t,o,u,r,S)}t=y,i=h,r=R,w!=null?Fi(e,!!i,w,!1):!!r!=!!i&&(t!=null?Fi(e,!!i,t,!0):Fi(e,!!i,i?[]:"",!1));return;case"textarea":R=w=null;for(y in i)if(o=i[y],i.hasOwnProperty(y)&&o!=null&&!r.hasOwnProperty(y))switch(y){case"value":break;case"children":break;default:xe(e,t,y,null,r,o)}for(h in r)if(o=r[h],u=i[h],r.hasOwnProperty(h)&&(o!=null||u!=null))switch(h){case"value":w=o;break;case"defaultValue":R=o;break;case"children":break;case"dangerouslySetInnerHTML":if(o!=null)throw Error(s(91));break;default:o!==u&&xe(e,t,h,o,r,u)}Td(e,w,R);return;case"option":for(var q in i)w=i[q],i.hasOwnProperty(q)&&w!=null&&!r.hasOwnProperty(q)&&(q==="selected"?e.selected=!1:xe(e,t,q,null,r,w));for(S in r)w=r[S],R=i[S],r.hasOwnProperty(S)&&w!==R&&(w!=null||R!=null)&&(S==="selected"?e.selected=w&&typeof w!="function"&&typeof w!="symbol":xe(e,t,S,w,r,R));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Q in i)w=i[Q],i.hasOwnProperty(Q)&&w!=null&&!r.hasOwnProperty(Q)&&xe(e,t,Q,null,r,w);for(A in r)if(w=r[A],R=i[A],r.hasOwnProperty(A)&&w!==R&&(w!=null||R!=null))switch(A){case"children":case"dangerouslySetInnerHTML":if(w!=null)throw Error(s(137,t));break;default:xe(e,t,A,w,r,R)}return;default:if(Rc(t)){for(var Ce in i)w=i[Ce],i.hasOwnProperty(Ce)&&w!==void 0&&!r.hasOwnProperty(Ce)&&pu(e,t,Ce,void 0,r,w);for(M in r)w=r[M],R=i[M],!r.hasOwnProperty(M)||w===R||w===void 0&&R===void 0||pu(e,t,M,w,r,R);return}}for(var T in i)w=i[T],i.hasOwnProperty(T)&&w!=null&&!r.hasOwnProperty(T)&&xe(e,t,T,null,r,w);for(j in r)w=r[j],R=i[j],!r.hasOwnProperty(j)||w===R||w==null&&R==null||xe(e,t,j,w,r,R)}function Rg(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function W0(){if(typeof performance.getEntriesByType=="function"){for(var e=0,t=0,i=performance.getEntriesByType("resource"),r=0;r<i.length;r++){var o=i[r],u=o.transferSize,h=o.initiatorType,y=o.duration;if(u&&y&&Rg(h)){for(h=0,y=o.responseEnd,r+=1;r<i.length;r++){var S=i[r],A=S.startTime;if(A>y)break;var M=S.transferSize,j=S.initiatorType;M&&Rg(j)&&(S=S.responseEnd,h+=M*(S<y?1:(y-A)/(S-A)))}if(--r,t+=8*(u+h)/(o.duration/1e3),e++,10<e)break}}if(0<e)return t/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var yu=null,_u=null;function br(e){return e.nodeType===9?e:e.ownerDocument}function Mg(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Dg(e,t){if(e===0)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&t==="foreignObject"?0:e}function vu(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.children=="bigint"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var bu=null;function eb(){var e=window.event;return e&&e.type==="popstate"?e===bu?!1:(bu=e,!0):(bu=null,!1)}var Og=typeof setTimeout=="function"?setTimeout:void 0,tb=typeof clearTimeout=="function"?clearTimeout:void 0,jg=typeof Promise=="function"?Promise:void 0,nb=typeof queueMicrotask=="function"?queueMicrotask:typeof jg<"u"?function(e){return jg.resolve(null).then(e).catch(ib)}:Og;function ib(e){setTimeout(function(){throw e})}function Wn(e){return e==="head"}function zg(e,t){var i=t,r=0;do{var o=i.nextSibling;if(e.removeChild(i),o&&o.nodeType===8)if(i=o.data,i==="/$"||i==="/&"){if(r===0){e.removeChild(o),Al(t);return}r--}else if(i==="$"||i==="$?"||i==="$~"||i==="$!"||i==="&")r++;else if(i==="html")Ma(e.ownerDocument.documentElement);else if(i==="head"){i=e.ownerDocument.head,Ma(i);for(var u=i.firstChild;u;){var h=u.nextSibling,y=u.nodeName;u[Kl]||y==="SCRIPT"||y==="STYLE"||y==="LINK"&&u.rel.toLowerCase()==="stylesheet"||i.removeChild(u),u=h}}else i==="body"&&Ma(e.ownerDocument.body);i=o}while(i);Al(t)}function Ig(e,t){var i=e;e=0;do{var r=i.nextSibling;if(i.nodeType===1?t?(i._stashedDisplay=i.style.display,i.style.display="none"):(i.style.display=i._stashedDisplay||"",i.getAttribute("style")===""&&i.removeAttribute("style")):i.nodeType===3&&(t?(i._stashedText=i.nodeValue,i.nodeValue=""):i.nodeValue=i._stashedText||""),r&&r.nodeType===8)if(i=r.data,i==="/$"){if(e===0)break;e--}else i!=="$"&&i!=="$?"&&i!=="$~"&&i!=="$!"||e++;i=r}while(i)}function Su(e){var t=e.firstChild;for(t&&t.nodeType===10&&(t=t.nextSibling);t;){var i=t;switch(t=t.nextSibling,i.nodeName){case"HTML":case"HEAD":case"BODY":Su(i),Tc(i);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(i.rel.toLowerCase()==="stylesheet")continue}e.removeChild(i)}}function lb(e,t,i,r){for(;e.nodeType===1;){var o=i;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!r&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(r){if(!e[Kl])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(u=e.getAttribute("rel"),u==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(u!==o.rel||e.getAttribute("href")!==(o.href==null||o.href===""?null:o.href)||e.getAttribute("crossorigin")!==(o.crossOrigin==null?null:o.crossOrigin)||e.getAttribute("title")!==(o.title==null?null:o.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(u=e.getAttribute("src"),(u!==(o.src==null?null:o.src)||e.getAttribute("type")!==(o.type==null?null:o.type)||e.getAttribute("crossorigin")!==(o.crossOrigin==null?null:o.crossOrigin))&&u&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(t==="input"&&e.type==="hidden"){var u=o.name==null?null:""+o.name;if(o.type==="hidden"&&e.getAttribute("name")===u)return e}else return e;if(e=Qt(e.nextSibling),e===null)break}return null}function ab(e,t,i){if(t==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!i||(e=Qt(e.nextSibling),e===null))return null;return e}function Lg(e,t){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!t||(e=Qt(e.nextSibling),e===null))return null;return e}function Eu(e){return e.data==="$?"||e.data==="$~"}function xu(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function sb(e,t){var i=e.ownerDocument;if(e.data==="$~")e._reactRetry=t;else if(e.data!=="$?"||i.readyState!=="loading")t();else{var r=function(){t(),i.removeEventListener("DOMContentLoaded",r)};i.addEventListener("DOMContentLoaded",r),e._reactRetry=r}}function Qt(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?"||t==="$~"||t==="&"||t==="F!"||t==="F")break;if(t==="/$"||t==="/&")return null}}return e}var Cu=null;function Ug(e){e=e.nextSibling;for(var t=0;e;){if(e.nodeType===8){var i=e.data;if(i==="/$"||i==="/&"){if(t===0)return Qt(e.nextSibling);t--}else i!=="$"&&i!=="$!"&&i!=="$?"&&i!=="$~"&&i!=="&"||t++}e=e.nextSibling}return null}function Hg(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var i=e.data;if(i==="$"||i==="$!"||i==="$?"||i==="$~"||i==="&"){if(t===0)return e;t--}else i!=="/$"&&i!=="/&"||t++}e=e.previousSibling}return null}function Bg(e,t,i){switch(t=br(i),e){case"html":if(e=t.documentElement,!e)throw Error(s(452));return e;case"head":if(e=t.head,!e)throw Error(s(453));return e;case"body":if(e=t.body,!e)throw Error(s(454));return e;default:throw Error(s(451))}}function Ma(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);Tc(e)}var Xt=new Map,kg=new Set;function Sr(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var An=H.d;H.d={f:rb,r:cb,D:ob,C:ub,L:fb,m:db,X:mb,S:hb,M:gb};function rb(){var e=An.f(),t=dr();return e||t}function cb(e){var t=Xi(e);t!==null&&t.tag===5&&t.type==="form"?im(t):An.r(e)}var Cl=typeof document>"u"?null:document;function qg(e,t,i){var r=Cl;if(r&&typeof t=="string"&&t){var o=Ht(t);o='link[rel="'+e+'"][href="'+o+'"]',typeof i=="string"&&(o+='[crossorigin="'+i+'"]'),kg.has(o)||(kg.add(o),e={rel:e,crossOrigin:i,href:t},r.querySelector(o)===null&&(t=r.createElement("link"),st(t,"link",e),$e(t),r.head.appendChild(t)))}}function ob(e){An.D(e),qg("dns-prefetch",e,null)}function ub(e,t){An.C(e,t),qg("preconnect",e,t)}function fb(e,t,i){An.L(e,t,i);var r=Cl;if(r&&e&&t){var o='link[rel="preload"][as="'+Ht(t)+'"]';t==="image"&&i&&i.imageSrcSet?(o+='[imagesrcset="'+Ht(i.imageSrcSet)+'"]',typeof i.imageSizes=="string"&&(o+='[imagesizes="'+Ht(i.imageSizes)+'"]')):o+='[href="'+Ht(e)+'"]';var u=o;switch(t){case"style":u=Tl(e);break;case"script":u=Nl(e)}Xt.has(u)||(e=v({rel:"preload",href:t==="image"&&i&&i.imageSrcSet?void 0:e,as:t},i),Xt.set(u,e),r.querySelector(o)!==null||t==="style"&&r.querySelector(Da(u))||t==="script"&&r.querySelector(Oa(u))||(t=r.createElement("link"),st(t,"link",e),$e(t),r.head.appendChild(t)))}}function db(e,t){An.m(e,t);var i=Cl;if(i&&e){var r=t&&typeof t.as=="string"?t.as:"script",o='link[rel="modulepreload"][as="'+Ht(r)+'"][href="'+Ht(e)+'"]',u=o;switch(r){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":u=Nl(e)}if(!Xt.has(u)&&(e=v({rel:"modulepreload",href:e},t),Xt.set(u,e),i.querySelector(o)===null)){switch(r){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(i.querySelector(Oa(u)))return}r=i.createElement("link"),st(r,"link",e),$e(r),i.head.appendChild(r)}}}function hb(e,t,i){An.S(e,t,i);var r=Cl;if(r&&e){var o=Zi(r).hoistableStyles,u=Tl(e);t=t||"default";var h=o.get(u);if(!h){var y={loading:0,preload:null};if(h=r.querySelector(Da(u)))y.loading=5;else{e=v({rel:"stylesheet",href:e,"data-precedence":t},i),(i=Xt.get(u))&&Tu(e,i);var S=h=r.createElement("link");$e(S),st(S,"link",e),S._p=new Promise(function(A,M){S.onload=A,S.onerror=M}),S.addEventListener("load",function(){y.loading|=1}),S.addEventListener("error",function(){y.loading|=2}),y.loading|=4,Er(h,t,r)}h={type:"stylesheet",instance:h,count:1,state:y},o.set(u,h)}}}function mb(e,t){An.X(e,t);var i=Cl;if(i&&e){var r=Zi(i).hoistableScripts,o=Nl(e),u=r.get(o);u||(u=i.querySelector(Oa(o)),u||(e=v({src:e,async:!0},t),(t=Xt.get(o))&&Nu(e,t),u=i.createElement("script"),$e(u),st(u,"link",e),i.head.appendChild(u)),u={type:"script",instance:u,count:1,state:null},r.set(o,u))}}function gb(e,t){An.M(e,t);var i=Cl;if(i&&e){var r=Zi(i).hoistableScripts,o=Nl(e),u=r.get(o);u||(u=i.querySelector(Oa(o)),u||(e=v({src:e,async:!0,type:"module"},t),(t=Xt.get(o))&&Nu(e,t),u=i.createElement("script"),$e(u),st(u,"link",e),i.head.appendChild(u)),u={type:"script",instance:u,count:1,state:null},r.set(o,u))}}function Gg(e,t,i,r){var o=(o=ie.current)?Sr(o):null;if(!o)throw Error(s(446));switch(e){case"meta":case"title":return null;case"style":return typeof i.precedence=="string"&&typeof i.href=="string"?(t=Tl(i.href),i=Zi(o).hoistableStyles,r=i.get(t),r||(r={type:"style",instance:null,count:0,state:null},i.set(t,r)),r):{type:"void",instance:null,count:0,state:null};case"link":if(i.rel==="stylesheet"&&typeof i.href=="string"&&typeof i.precedence=="string"){e=Tl(i.href);var u=Zi(o).hoistableStyles,h=u.get(e);if(h||(o=o.ownerDocument||o,h={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},u.set(e,h),(u=o.querySelector(Da(e)))&&!u._p&&(h.instance=u,h.state.loading=5),Xt.has(e)||(i={rel:"preload",as:"style",href:i.href,crossOrigin:i.crossOrigin,integrity:i.integrity,media:i.media,hrefLang:i.hrefLang,referrerPolicy:i.referrerPolicy},Xt.set(e,i),u||pb(o,e,i,h.state))),t&&r===null)throw Error(s(528,""));return h}if(t&&r!==null)throw Error(s(529,""));return null;case"script":return t=i.async,i=i.src,typeof i=="string"&&t&&typeof t!="function"&&typeof t!="symbol"?(t=Nl(i),i=Zi(o).hoistableScripts,r=i.get(t),r||(r={type:"script",instance:null,count:0,state:null},i.set(t,r)),r):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,e))}}function Tl(e){return'href="'+Ht(e)+'"'}function Da(e){return'link[rel="stylesheet"]['+e+"]"}function Yg(e){return v({},e,{"data-precedence":e.precedence,precedence:null})}function pb(e,t,i,r){e.querySelector('link[rel="preload"][as="style"]['+t+"]")?r.loading=1:(t=e.createElement("link"),r.preload=t,t.addEventListener("load",function(){return r.loading|=1}),t.addEventListener("error",function(){return r.loading|=2}),st(t,"link",i),$e(t),e.head.appendChild(t))}function Nl(e){return'[src="'+Ht(e)+'"]'}function Oa(e){return"script[async]"+e}function Vg(e,t,i){if(t.count++,t.instance===null)switch(t.type){case"style":var r=e.querySelector('style[data-href~="'+Ht(i.href)+'"]');if(r)return t.instance=r,$e(r),r;var o=v({},i,{"data-href":i.href,"data-precedence":i.precedence,href:null,precedence:null});return r=(e.ownerDocument||e).createElement("style"),$e(r),st(r,"style",o),Er(r,i.precedence,e),t.instance=r;case"stylesheet":o=Tl(i.href);var u=e.querySelector(Da(o));if(u)return t.state.loading|=4,t.instance=u,$e(u),u;r=Yg(i),(o=Xt.get(o))&&Tu(r,o),u=(e.ownerDocument||e).createElement("link"),$e(u);var h=u;return h._p=new Promise(function(y,S){h.onload=y,h.onerror=S}),st(u,"link",r),t.state.loading|=4,Er(u,i.precedence,e),t.instance=u;case"script":return u=Nl(i.src),(o=e.querySelector(Oa(u)))?(t.instance=o,$e(o),o):(r=i,(o=Xt.get(u))&&(r=v({},i),Nu(r,o)),e=e.ownerDocument||e,o=e.createElement("script"),$e(o),st(o,"link",r),e.head.appendChild(o),t.instance=o);case"void":return null;default:throw Error(s(443,t.type))}else t.type==="stylesheet"&&(t.state.loading&4)===0&&(r=t.instance,t.state.loading|=4,Er(r,i.precedence,e));return t.instance}function Er(e,t,i){for(var r=i.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),o=r.length?r[r.length-1]:null,u=o,h=0;h<r.length;h++){var y=r[h];if(y.dataset.precedence===t)u=y;else if(u!==o)break}u?u.parentNode.insertBefore(e,u.nextSibling):(t=i.nodeType===9?i.head:i,t.insertBefore(e,t.firstChild))}function Tu(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.title==null&&(e.title=t.title)}function Nu(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.integrity==null&&(e.integrity=t.integrity)}var xr=null;function Qg(e,t,i){if(xr===null){var r=new Map,o=xr=new Map;o.set(i,r)}else o=xr,r=o.get(i),r||(r=new Map,o.set(i,r));if(r.has(e))return r;for(r.set(e,null),i=i.getElementsByTagName(e),o=0;o<i.length;o++){var u=i[o];if(!(u[Kl]||u[nt]||e==="link"&&u.getAttribute("rel")==="stylesheet")&&u.namespaceURI!=="http://www.w3.org/2000/svg"){var h=u.getAttribute(t)||"";h=e+h;var y=r.get(h);y?y.push(u):r.set(h,[u])}}return r}function Xg(e,t,i){e=e.ownerDocument||e,e.head.insertBefore(i,t==="title"?e.querySelector("head > title"):null)}function yb(e,t,i){if(i===1||t.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof t.precedence!="string"||typeof t.href!="string"||t.href==="")break;return!0;case"link":if(typeof t.rel!="string"||typeof t.href!="string"||t.href===""||t.onLoad||t.onError)break;return t.rel==="stylesheet"?(e=t.disabled,typeof t.precedence=="string"&&e==null):!0;case"script":if(t.async&&typeof t.async!="function"&&typeof t.async!="symbol"&&!t.onLoad&&!t.onError&&t.src&&typeof t.src=="string")return!0}return!1}function Zg(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function _b(e,t,i,r){if(i.type==="stylesheet"&&(typeof r.media!="string"||matchMedia(r.media).matches!==!1)&&(i.state.loading&4)===0){if(i.instance===null){var o=Tl(r.href),u=t.querySelector(Da(o));if(u){t=u._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(e.count++,e=Cr.bind(e),t.then(e,e)),i.state.loading|=4,i.instance=u,$e(u);return}u=t.ownerDocument||t,r=Yg(r),(o=Xt.get(o))&&Tu(r,o),u=u.createElement("link"),$e(u);var h=u;h._p=new Promise(function(y,S){h.onload=y,h.onerror=S}),st(u,"link",r),i.instance=u}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(i,t),(t=i.state.preload)&&(i.state.loading&3)===0&&(e.count++,i=Cr.bind(e),t.addEventListener("load",i),t.addEventListener("error",i))}}var Au=0;function vb(e,t){return e.stylesheets&&e.count===0&&Nr(e,e.stylesheets),0<e.count||0<e.imgCount?function(i){var r=setTimeout(function(){if(e.stylesheets&&Nr(e,e.stylesheets),e.unsuspend){var u=e.unsuspend;e.unsuspend=null,u()}},6e4+t);0<e.imgBytes&&Au===0&&(Au=62500*W0());var o=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&Nr(e,e.stylesheets),e.unsuspend)){var u=e.unsuspend;e.unsuspend=null,u()}},(e.imgBytes>Au?50:800)+t);return e.unsuspend=i,function(){e.unsuspend=null,clearTimeout(r),clearTimeout(o)}}:null}function Cr(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Nr(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var Tr=null;function Nr(e,t){e.stylesheets=null,e.unsuspend!==null&&(e.count++,Tr=new Map,t.forEach(bb,e),Tr=null,Cr.call(e))}function bb(e,t){if(!(t.state.loading&4)){var i=Tr.get(e);if(i)var r=i.get(null);else{i=new Map,Tr.set(e,i);for(var o=e.querySelectorAll("link[data-precedence],style[data-precedence]"),u=0;u<o.length;u++){var h=o[u];(h.nodeName==="LINK"||h.getAttribute("media")!=="not all")&&(i.set(h.dataset.precedence,h),r=h)}r&&i.set(null,r)}o=t.instance,h=o.getAttribute("data-precedence"),u=i.get(h)||r,u===r&&i.set(null,o),i.set(h,o),this.count++,r=Cr.bind(this),o.addEventListener("load",r),o.addEventListener("error",r),u?u.parentNode.insertBefore(o,u.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(o,e.firstChild)),t.state.loading|=4}}var ja={$$typeof:oe,Provider:null,Consumer:null,_currentValue:Z,_currentValue2:Z,_threadCount:0};function Sb(e,t,i,r,o,u,h,y,S){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Sc(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Sc(0),this.hiddenUpdates=Sc(null),this.identifierPrefix=r,this.onUncaughtError=o,this.onCaughtError=u,this.onRecoverableError=h,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=S,this.incompleteTransitions=new Map}function Kg(e,t,i,r,o,u,h,y,S,A,M,j){return e=new Sb(e,t,i,h,S,A,M,j,y),t=1,u===!0&&(t|=24),u=Mt(3,null,null,t),e.current=u,u.stateNode=e,t=ao(),t.refCount++,e.pooledCache=t,t.refCount++,u.memoizedState={element:r,isDehydrated:i,cache:t},oo(u),e}function Fg(e){return e?(e=il,e):il}function Pg(e,t,i,r,o,u){o=Fg(o),r.context===null?r.context=o:r.pendingContext=o,r=Gn(t),r.payload={element:i},u=u===void 0?null:u,u!==null&&(r.callback=u),i=Yn(e,r,t),i!==null&&(Et(i,e,t),fa(i,e,t))}function Jg(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var i=e.retryLane;e.retryLane=i!==0&&i<t?i:t}}function wu(e,t){Jg(e,t),(e=e.alternate)&&Jg(e,t)}function $g(e){if(e.tag===13||e.tag===31){var t=Ei(e,67108864);t!==null&&Et(t,e,67108864),wu(e,67108864)}}function Wg(e){if(e.tag===13||e.tag===31){var t=It();t=Ec(t);var i=Ei(e,t);i!==null&&Et(i,e,t),wu(e,t)}}var Ar=!0;function Eb(e,t,i,r){var o=D.T;D.T=null;var u=H.p;try{H.p=2,Ru(e,t,i,r)}finally{H.p=u,D.T=o}}function xb(e,t,i,r){var o=D.T;D.T=null;var u=H.p;try{H.p=8,Ru(e,t,i,r)}finally{H.p=u,D.T=o}}function Ru(e,t,i,r){if(Ar){var o=Mu(r);if(o===null)gu(e,t,r,wr,i),tp(e,r);else if(Tb(o,e,t,i,r))r.stopPropagation();else if(tp(e,r),t&4&&-1<Cb.indexOf(e)){for(;o!==null;){var u=Xi(o);if(u!==null)switch(u.tag){case 3:if(u=u.stateNode,u.current.memoizedState.isDehydrated){var h=yi(u.pendingLanes);if(h!==0){var y=u;for(y.pendingLanes|=2,y.entangledLanes|=2;h;){var S=1<<31-wt(h);y.entanglements[1]|=S,h&=~S}sn(u),(pe&6)===0&&(ur=Nt()+500,Aa(0))}}break;case 31:case 13:y=Ei(u,2),y!==null&&Et(y,u,2),dr(),wu(u,2)}if(u=Mu(r),u===null&&gu(e,t,r,wr,i),u===o)break;o=u}o!==null&&r.stopPropagation()}else gu(e,t,r,null,i)}}function Mu(e){return e=Dc(e),Du(e)}var wr=null;function Du(e){if(wr=null,e=Qi(e),e!==null){var t=f(e);if(t===null)e=null;else{var i=t.tag;if(i===13){if(e=d(t),e!==null)return e;e=null}else if(i===31){if(e=m(t),e!==null)return e;e=null}else if(i===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return wr=e,null}function ep(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(ov()){case cd:return 2;case od:return 8;case ys:case uv:return 32;case ud:return 268435456;default:return 32}default:return 32}}var Ou=!1,ei=null,ti=null,ni=null,za=new Map,Ia=new Map,ii=[],Cb="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function tp(e,t){switch(e){case"focusin":case"focusout":ei=null;break;case"dragenter":case"dragleave":ti=null;break;case"mouseover":case"mouseout":ni=null;break;case"pointerover":case"pointerout":za.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ia.delete(t.pointerId)}}function La(e,t,i,r,o,u){return e===null||e.nativeEvent!==u?(e={blockedOn:t,domEventName:i,eventSystemFlags:r,nativeEvent:u,targetContainers:[o]},t!==null&&(t=Xi(t),t!==null&&$g(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,o!==null&&t.indexOf(o)===-1&&t.push(o),e)}function Tb(e,t,i,r,o){switch(t){case"focusin":return ei=La(ei,e,t,i,r,o),!0;case"dragenter":return ti=La(ti,e,t,i,r,o),!0;case"mouseover":return ni=La(ni,e,t,i,r,o),!0;case"pointerover":var u=o.pointerId;return za.set(u,La(za.get(u)||null,e,t,i,r,o)),!0;case"gotpointercapture":return u=o.pointerId,Ia.set(u,La(Ia.get(u)||null,e,t,i,r,o)),!0}return!1}function np(e){var t=Qi(e.target);if(t!==null){var i=f(t);if(i!==null){if(t=i.tag,t===13){if(t=d(i),t!==null){e.blockedOn=t,pd(e.priority,function(){Wg(i)});return}}else if(t===31){if(t=m(i),t!==null){e.blockedOn=t,pd(e.priority,function(){Wg(i)});return}}else if(t===3&&i.stateNode.current.memoizedState.isDehydrated){e.blockedOn=i.tag===3?i.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Rr(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var i=Mu(e.nativeEvent);if(i===null){i=e.nativeEvent;var r=new i.constructor(i.type,i);Mc=r,i.target.dispatchEvent(r),Mc=null}else return t=Xi(i),t!==null&&$g(t),e.blockedOn=i,!1;t.shift()}return!0}function ip(e,t,i){Rr(e)&&i.delete(t)}function Nb(){Ou=!1,ei!==null&&Rr(ei)&&(ei=null),ti!==null&&Rr(ti)&&(ti=null),ni!==null&&Rr(ni)&&(ni=null),za.forEach(ip),Ia.forEach(ip)}function Mr(e,t){e.blockedOn===t&&(e.blockedOn=null,Ou||(Ou=!0,l.unstable_scheduleCallback(l.unstable_NormalPriority,Nb)))}var Dr=null;function lp(e){Dr!==e&&(Dr=e,l.unstable_scheduleCallback(l.unstable_NormalPriority,function(){Dr===e&&(Dr=null);for(var t=0;t<e.length;t+=3){var i=e[t],r=e[t+1],o=e[t+2];if(typeof r!="function"){if(Du(r||i)===null)continue;break}var u=Xi(i);u!==null&&(e.splice(t,3),t-=3,Mo(u,{pending:!0,data:o,method:i.method,action:r},r,o))}}))}function Al(e){function t(S){return Mr(S,e)}ei!==null&&Mr(ei,e),ti!==null&&Mr(ti,e),ni!==null&&Mr(ni,e),za.forEach(t),Ia.forEach(t);for(var i=0;i<ii.length;i++){var r=ii[i];r.blockedOn===e&&(r.blockedOn=null)}for(;0<ii.length&&(i=ii[0],i.blockedOn===null);)np(i),i.blockedOn===null&&ii.shift();if(i=(e.ownerDocument||e).$$reactFormReplay,i!=null)for(r=0;r<i.length;r+=3){var o=i[r],u=i[r+1],h=o[pt]||null;if(typeof u=="function")h||lp(i);else if(h){var y=null;if(u&&u.hasAttribute("formAction")){if(o=u,h=u[pt]||null)y=h.formAction;else if(Du(o)!==null)continue}else y=h.action;typeof y=="function"?i[r+1]=y:(i.splice(r,3),r-=3),lp(i)}}}function ap(){function e(u){u.canIntercept&&u.info==="react-transition"&&u.intercept({handler:function(){return new Promise(function(h){return o=h})},focusReset:"manual",scroll:"manual"})}function t(){o!==null&&(o(),o=null),r||setTimeout(i,20)}function i(){if(!r&&!navigation.transition){var u=navigation.currentEntry;u&&u.url!=null&&navigation.navigate(u.url,{state:u.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var r=!1,o=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",t),navigation.addEventListener("navigateerror",t),setTimeout(i,100),function(){r=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",t),navigation.removeEventListener("navigateerror",t),o!==null&&(o(),o=null)}}}function ju(e){this._internalRoot=e}Or.prototype.render=ju.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(s(409));var i=t.current,r=It();Pg(i,r,e,t,null,null)},Or.prototype.unmount=ju.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Pg(e.current,2,null,e,null,null),dr(),t[Vi]=null}};function Or(e){this._internalRoot=e}Or.prototype.unstable_scheduleHydration=function(e){if(e){var t=gd();e={blockedOn:null,target:e,priority:t};for(var i=0;i<ii.length&&t!==0&&t<ii[i].priority;i++);ii.splice(i,0,e),i===0&&np(e)}};var sp=n.version;if(sp!=="19.2.4")throw Error(s(527,sp,"19.2.4"));H.findDOMNode=function(e){var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(s(188)):(e=Object.keys(e).join(","),Error(s(268,e)));return e=g(t),e=e!==null?b(e):null,e=e===null?null:e.stateNode,e};var Ab={bundleType:0,version:"19.2.4",rendererPackageName:"react-dom",currentDispatcherRef:D,reconcilerVersion:"19.2.4"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var jr=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!jr.isDisabled&&jr.supportsFiber)try{Ql=jr.inject(Ab),At=jr}catch{}}return Ha.createRoot=function(e,t){if(!c(e))throw Error(s(299));var i=!1,r="",o=hm,u=mm,h=gm;return t!=null&&(t.unstable_strictMode===!0&&(i=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onUncaughtError!==void 0&&(o=t.onUncaughtError),t.onCaughtError!==void 0&&(u=t.onCaughtError),t.onRecoverableError!==void 0&&(h=t.onRecoverableError)),t=Kg(e,1,!1,null,null,i,r,null,o,u,h,ap),e[Vi]=t.current,mu(e),new ju(t)},Ha.hydrateRoot=function(e,t,i){if(!c(e))throw Error(s(299));var r=!1,o="",u=hm,h=mm,y=gm,S=null;return i!=null&&(i.unstable_strictMode===!0&&(r=!0),i.identifierPrefix!==void 0&&(o=i.identifierPrefix),i.onUncaughtError!==void 0&&(u=i.onUncaughtError),i.onCaughtError!==void 0&&(h=i.onCaughtError),i.onRecoverableError!==void 0&&(y=i.onRecoverableError),i.formState!==void 0&&(S=i.formState)),t=Kg(e,1,!0,t,i??null,r,o,S,u,h,y,ap),t.context=Fg(null),i=t.current,r=It(),r=Ec(r),o=Gn(r),o.callback=null,Yn(i,o,r),i=r,t.current.lanes=i,Zl(t,i),sn(t),e[Vi]=t.current,mu(e),new Or(t)},Ha.version="19.2.4",Ha}var pp;function Hb(){if(pp)return Lu.exports;pp=1;function l(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(l)}catch(n){console.error(n)}}return l(),Lu.exports=Ub(),Lu.exports}var Bb=Hb();const yp=l=>{let n;const a=new Set,s=(g,b)=>{const v=typeof g=="function"?g(n):g;if(!Object.is(v,n)){const E=n;n=b??(typeof v!="object"||v===null)?v:Object.assign({},n,v),a.forEach(z=>z(n,E))}},c=()=>n,m={setState:s,getState:c,getInitialState:()=>p,subscribe:g=>(a.add(g),()=>a.delete(g))},p=n=l(s,c,m);return m},kb=(l=>l?yp(l):yp),qb=l=>l;function Gb(l,n=qb){const a=zr.useSyncExternalStore(l.subscribe,zr.useCallback(()=>n(l.getState()),[l,n]),zr.useCallback(()=>n(l.getInitialState()),[l,n]));return zr.useDebugValue(a),a}const _p=l=>{const n=kb(l),a=s=>Gb(n,s);return Object.assign(a,n),a},Sy=(l=>l?_p(l):_p),Yb=l=>{const n=l.stats.intelligence+l.stats.stamina+l.stats.charisma;let a=0;return l.job&&(a=(l.jobLevel+1)*1e3,a+=l.performance*100),{money:l.money,stats:n*100,jobBonus:a,total:l.money+n*100+a}},Vb=l=>({rankings:l.map(a=>({player:a,score:Yb(a),rank:0})).sort((a,s)=>s.score.total-a.score.total).map((a,s)=>({...a,rank:s+1}))}),cn=(l,n)=>({...l,money:Math.max(0,l.money+n)}),ai=(l,n,a)=>({...l,stats:{...l.stats,[n]:Math.max(0,l.stats[n]+a)}}),Qb=(l,n)=>{if(!l.job)return l;const a=Math.max(0,Math.min(9,l.performance+n));return{...l,performance:a}},Xb=(l,n)=>[...l].sort((a,s)=>s.money-a.money).slice(0,n),Zb=(l,n)=>[...l].sort((a,s)=>a.money-s.money).slice(0,n),Kb=(l,n)=>l.reduce((a,s)=>s.stats[n]>a.stats[n]?s:a),Zt=[{id:"chen-jian-zhi",name:"",gender:"male",initialMoney:3e3,initialStats:{intelligence:4,stamina:6,charisma:5},marriageRequirement:{intelligence:15,stamina:15,charisma:15},description:""},{id:"zheng-an-qi",name:"",gender:"female",initialMoney:2e3,initialStats:{intelligence:6,stamina:4,charisma:7},marriageRequirement:{intelligence:15,stamina:15,charisma:15},description:""},{id:"chen-dong-ming",name:"",gender:"male",initialMoney:8e3,initialStats:{intelligence:5,stamina:7,charisma:3},marriageRequirement:{intelligence:15,stamina:15,charisma:15},description:""},{id:"ke-ruo-ya",name:"",gender:"female",initialMoney:1e4,initialStats:{intelligence:8,stamina:4,charisma:6},marriageRequirement:{intelligence:15,stamina:15,charisma:15},description:""}],Ya=[{id:"lawyer",name:"",category:"intelligence",levels:[{name:"",requiredStats:{intelligence:20,charisma:15},salary:[4e3,5e3,6e3]},{name:"",requiredStats:{intelligence:25,stamina:10,charisma:20},salary:[1e4,12e3,15e3]},{name:"",requiredStats:{intelligence:30,stamina:10,charisma:25},salary:[18e3,2e4,25e3,3e4]}],skill:""},{id:"teacher",name:"",category:"intelligence",levels:[{name:"",requiredStats:{intelligence:15,charisma:5},salary:[2e3,3e3,4e3]},{name:"",requiredStats:{intelligence:20,stamina:10,charisma:10},salary:[8e3,1e4,15e3]},{name:"",requiredStats:{intelligence:25,stamina:15,charisma:15},salary:[2e4,22e3,24e3,26e3]}],skill:"+1"},{id:"smuggler",name:"",category:"intelligence",levels:[{name:"",requiredStats:{intelligence:12,charisma:8},salary:[2e3,4e3,6e3]},{name:"",requiredStats:{intelligence:18,charisma:15},salary:[1e4,15e3,2e4]},{name:"",requiredStats:{intelligence:25,stamina:10,charisma:20},salary:[3e4,4e4,5e4]}],skill:" $8,000 "},{id:"worker",name:"",category:"stamina",levels:[{name:"",requiredStats:{stamina:12,charisma:3},salary:[1e3,2e3,3e3]},{name:"",requiredStats:{stamina:18,charisma:8},salary:[5e3,6e3,7e3]},{name:"",requiredStats:{intelligence:10,stamina:20,charisma:15},salary:[1e4,12e3,15e3]}],skill:"+1"},{id:"farmer",name:"",category:"stamina",levels:[{name:"",requiredStats:{stamina:10},salary:[1e3,2e3,3e3]},{name:"",requiredStats:{stamina:18,charisma:8},salary:[5e3,7e3,1e4]},{name:"",requiredStats:{intelligence:15,stamina:25,charisma:15},salary:[2e4,22e3,25e3]}],skill:"+1"},{id:"gangster",name:"",category:"stamina",levels:[{name:"",requiredStats:{stamina:12,charisma:8},salary:[2e3,4e3,6e3]},{name:"",requiredStats:{stamina:20,charisma:15},salary:[1e4,15e3,2e4]},{name:"",requiredStats:{intelligence:15,stamina:25,charisma:20},salary:[3e4,35e3,4e4]}],skill:" -5"},{id:"singer",name:"",category:"charisma",levels:[{name:"",requiredStats:{stamina:8,charisma:12},salary:[800,1500,2e3]},{name:"",requiredStats:{intelligence:10,stamina:15,charisma:18},salary:[5e3,8e3,12e3]},{name:"",requiredStats:{intelligence:15,stamina:20,charisma:25},salary:[15e3,2e4,3e4]}],skill:"+1"},{id:"magician",name:"",category:"charisma",levels:[{name:"",requiredStats:{intelligence:10,charisma:10},salary:[800,1200,1500]},{name:"",requiredStats:{intelligence:18,charisma:18},salary:[2500,3e3,4e3]},{name:"",requiredStats:{intelligence:25,stamina:15,charisma:25},salary:[8e3,1e4,15e3]}],skill:""},{id:"hostess",name:"",category:"charisma",levels:[{name:"",requiredStats:{stamina:10,charisma:15},salary:[1500,2e3,2500]},{name:"",requiredStats:{intelligence:8,stamina:15,charisma:22},salary:[6e3,8e3,15e3]},{name:"",requiredStats:{intelligence:15,stamina:18,charisma:28},salary:[2e4,25e3,35e3]}],skill:""}],Ey=(l,n,a=0)=>{const s=n.levels[a].requiredStats;return(s.intelligence===void 0||l.intelligence>=s.intelligence)&&(s.stamina===void 0||l.stamina>=s.stamina)&&(s.charisma===void 0||l.charisma>=s.charisma)},Fb=()=>({intelligence:Ya.filter(l=>l.category==="intelligence"),stamina:Ya.filter(l=>l.category==="stamina"),charisma:Ya.filter(l=>l.category==="charisma")}),Pb=[{id:"social-training",type:"study",name:"",description:" +2",cost:500,effect:{type:"stat_change",stat:"charisma",value:2},count:4},{id:"weight-training",type:"study",name:"",description:" +2",cost:500,effect:{type:"stat_change",stat:"stamina",value:2},count:4},{id:"thesis-research",type:"study",name:"",description:" +2",cost:500,effect:{type:"stat_change",stat:"intelligence",value:2},count:4},{id:"free-research",type:"study",name:"",description:" +1",cost:300,effect:{type:"stat_change_choice",value:1},count:3},{id:"performance",type:"work",name:"",description:" +1",effect:{type:"performance_change",value:1},count:6},{id:"bootlicking",type:"work",name:"",description:" $500 -1",effect:{type:"special",handler:"bootlicking"},count:2},{id:"socializing",type:"work",name:"",description:" $500 +2",effect:{type:"special",handler:"socializing"},count:2},{id:"overtime",type:"work",name:"",description:" $1000 -2",effect:{type:"special",handler:"overtime"},count:2},{id:"steal",type:"function",name:"",description:"",effect:{type:"special",handler:"steal"},count:2},{id:"something-from-nothing",type:"function",name:"",description:"",effect:{type:"draw_cards",count:2},count:3},{id:"sabotage",type:"function",name:"",description:" 2 ",effect:{type:"special",handler:"sabotage"},count:2},{id:"invalid",type:"function",name:"",description:"",effect:{type:"special",handler:"invalid"},count:3},{id:"job-change",type:"function",name:"",description:"",effect:{type:"special",handler:"job_change"},count:2},{id:"field-trip",type:"explore",name:"",description:"",effect:{type:"explore",location:"random"},count:3}],Jb=()=>{const l=[];let n=0;for(const a of Pb)for(let s=0;s<a.count;s++)l.push({...a,id:`${a.id}-${n++}`});return l},xy=l=>{const n=[...l];for(let a=n.length-1;a>0;a--){const s=Math.floor(Math.random()*(a+1));[n[a],n[s]]=[n[s],n[a]]}return n},$b=[{id:"new-mayor",turn:1,name:"",description:" $500 ",target:{type:"all"},effect:{type:"money_change",value:500}},{id:"poverty-relief",turn:5,name:"",description:" $1,500  $1,500",target:{type:"poorest",count:4},effect:{type:"special",handler:"poverty_relief"}},{id:"competition",turn:8,name:"",description:"",target:{type:"all"},effect:{type:"special",handler:"competition"}},{id:"finale",turn:10,name:"",description:"",target:{type:"all"},effect:{type:"special",handler:"game_end"}}],vp=[{id:"tax",turn:"random",name:"",description:" 2  10% ",target:{type:"richest",count:2},effect:{type:"special",handler:"tax"}},{id:"red-envelope",turn:"random",name:"",description:" +$1,000",target:{type:"all"},effect:{type:"money_change",value:1e3}},{id:"plague",turn:"random",name:"",description:" -3",target:{type:"all"},effect:{type:"stat_change",stat:"stamina",value:-3}},{id:"white-terror",turn:"random",name:"",description:" -3",target:{type:"all"},effect:{type:"stat_change",stat:"intelligence",value:-3}},{id:"water-shortage",turn:"random",name:"",description:" -3",target:{type:"all"},effect:{type:"stat_change",stat:"charisma",value:-3}},{id:"vaccine",turn:"random",name:"",description:" +3",target:{type:"all"},effect:{type:"stat_change",stat:"stamina",value:3}},{id:"lecture",turn:"random",name:"",description:" +3",target:{type:"all"},effect:{type:"stat_change",stat:"intelligence",value:3}},{id:"beauty-contest",turn:"random",name:"",description:" +3",target:{type:"all"},effect:{type:"stat_change",stat:"charisma",value:3}},{id:"voucher",turn:"random",name:"",description:"",target:{type:"all"},effect:{type:"draw_cards",count:1}},{id:"landlord-gift",turn:"random",name:"",description:" 2  $1,000",target:{type:"poorest",count:2},effect:{type:"money_change",value:1e3}}],Wb=l=>{const n=$b.find(s=>s.turn===l);if(n)return n;const a=Math.floor(Math.random()*vp.length);return{...vp[a],turn:l}},Cy=[{id:"park",name:"",outcomes:[{description:" -2 $500",probability:.3,effect:{type:"special",handler:"park_bad"}},{description:" +2 $500",probability:.3,effect:{type:"special",handler:"park_good"}},{description:"",probability:.4,effect:{type:"stat_change",stat:"stamina",value:0}}]},{id:"library",name:"",outcomes:[{description:" -2",probability:.3,effect:{type:"stat_change",stat:"intelligence",value:-2}},{description:" +3",probability:.4,effect:{type:"stat_change",stat:"intelligence",value:3}},{description:" +1",probability:.3,effect:{type:"stat_change",stat:"intelligence",value:1}}]},{id:"home",name:"",outcomes:[{description:" +3",probability:.5,effect:{type:"stat_change",stat:"stamina",value:3}},{description:" -2",probability:.3,effect:{type:"stat_change",stat:"stamina",value:-2}},{description:" +1",probability:.2,effect:{type:"stat_change",stat:"stamina",value:1}}]}],e1=l=>{const n=Cy.find(c=>c.id===l);if(!n)return null;const a=Math.random();let s=0;for(const c of n.outcomes)if(s+=c.probability,a<s)return{location:n,outcome:c};return{location:n,outcome:n.outcomes[n.outcomes.length-1]}},t1=l=>Ya.filter(n=>Ey(l.stats,n,0)),n1=(l,n)=>{const a=Ya.find(s=>s.id===n);return!a||!Ey(l.stats,a,0)?l:{...l,job:a,jobLevel:0,performance:0}},Ef=l=>{if(!l.job||l.jobLevel>=2)return!1;const n=l.jobLevel+1,a=l.job.levels[n].requiredStats,s=n*3;return l.performance<s?!1:(a.intelligence===void 0||l.stats.intelligence>=a.intelligence)&&(a.stamina===void 0||l.stats.stamina>=a.stamina)&&(a.charisma===void 0||l.stats.charisma>=a.charisma)},i1=l=>Ef(l)?{...l,jobLevel:l.jobLevel+1}:l,l1=l=>{if(!l.job)return 0;const a=l.job.levels[l.jobLevel].salary,s=l.jobLevel*3,c=l.performance-s,f=Math.min(c,a.length-1);return a[Math.max(0,f)]},a1=l=>{const n=l1(l);return n===0?l:{...l,money:l.money+n}},bp=l=>l.job?l.job.levels[l.jobLevel].name:"",s1=l=>{if(!l.job)return l;switch(l.job.id){case"teacher":return{...l,stats:{...l.stats,intelligence:l.stats.intelligence+1}};case"worker":case"farmer":return{...l,stats:{...l.stats,stamina:l.stats.stamina+1}};case"singer":return{...l,stats:{...l.stats,charisma:l.stats.charisma+1}};default:return l}},Sp=(l,n)=>n.effect.type==="special"&&n.effect.handler==="invalid"?{canPlay:!1,reason:""}:n.cost&&l.money<n.cost?{canPlay:!1,reason:` $${n.cost}`}:n.type==="work"&&!l.job?{canPlay:!1,reason:""}:n.effect.type==="special"&&n.effect.handler==="job_change"&&!l.job?{canPlay:!1,reason:""}:{canPlay:!0},r1=(l,n)=>{switch(n.type){case"stat_change":return{player:ai(l,n.stat,n.value),message:`${Ty(n.stat)} ${n.value>0?"+":""}${n.value}`};case"money_change":return{player:cn(l,n.value),message:` ${n.value>0?"+":""}$${n.value}`};case"performance_change":return l.job?{player:Qb(l,n.value),message:` ${n.value>0?"+":""}${n.value}`}:{player:l,message:""};case"stat_change_choice":return{player:l,message:"",needsSelection:{type:"stat",options:["intelligence","stamina","charisma"]}};case"draw_cards":return{player:l,message:` ${n.count} `};case"explore":return{player:l,message:"",needsSelection:{type:"location"}};case"special":return c1(l,n.handler);default:return{player:l,message:""}}},c1=(l,n)=>{switch(n){case"bootlicking":return{player:ai(cn(l,500),"charisma",-1),message:" $500 -1"};case"socializing":return l.money<500?{player:l,message:""}:{player:ai(cn(l,-500),"charisma",2),message:" $500 +2"};case"overtime":return{player:ai(cn(l,1e3),"stamina",-2),message:" $1000 -2"};case"steal":return{player:l,message:"",needsSelection:{type:"player"}};case"sabotage":return{player:l,message:"",needsSelection:{type:"player"}};case"invalid":return{player:l,message:""};case"job_change":return{player:{...l,job:null,jobLevel:0,performance:0},message:""};case"park_bad":return{player:ai(cn(l,-500),"charisma",-2),message:" -2 $500"};case"park_good":return{player:ai(cn(l,500),"stamina",2),message:" +2 $500"};default:return{player:l,message:`: ${n}`}}},Ep=(l,n)=>{let a=l;return n.cost&&(a=cn(l,-n.cost)),{...r1(a,n.effect),usedCard:n}},o1=(l,n,a)=>({player:ai(l,n,a),message:`${Ty(n)} +${a}`}),Ty=l=>({intelligence:"",stamina:"",charisma:""})[l],xp=3,Cp=2,xf=10,Ny=10,Ay=(l,n)=>{const a=l.map((d,m)=>{const p=Zt.find(g=>g.id===n[m]);return u1(d,p)});let c=xy(Jb());const f=a.map(d=>{const m=c.slice(0,xp);return c=c.slice(xp),{...d,hand:m}});return{playerCount:4,maxTurns:Ny,players:f,currentPlayerIndex:0,turn:1,phase:"event",deck:c,discardPile:[],currentEvent:null,eventLog:[],selectedCardIndex:null,showEventModal:!1}},u1=(l,n)=>({id:`player-${Date.now()}-${Math.random().toString(36).substr(2,9)}`,name:l,character:n,stats:{...n.initialStats},money:n.initialMoney,job:null,jobLevel:0,performance:0,hand:[],isSkipTurn:!1}),Wu=l=>{const n=Wb(l.turn);return{...l,phase:"event",currentEvent:n,showEventModal:!0}},f1=l=>{if(!l.currentEvent)return l;const n=l.currentEvent;let a=[...l.players];const s=[`${n.name}${n.description}`];let c;switch(n.target.type){case"all":c=a;break;case"richest":c=Xb(a,n.target.count||1);break;case"poorest":c=Zb(a,n.target.count||1);break;default:c=a}if(n.effect.type==="special")switch(n.effect.handler){case"poverty_relief":a=a.map(d=>d.money<1500?(s.push(`${d.name}  $1,500`),{...d,money:1500}):d);break;case"tax":a=a.map(d=>{if(c.find(m=>m.id===d.id)){const m=Math.floor(d.money*.1);return s.push(`${d.name}  $${m}`),cn(d,-m)}return d});break;case"competition":const f=[{stat:"intelligence",name:"",prize:2e3},{stat:"stamina",name:"",prize:2e3},{stat:"charisma",name:"",prize:2e3}];for(const{stat:d,name:m,prize:p}of f){const g=Kb(a,d);s.push(`${m}${g.name} $${p}`),a=a.map(b=>b.id===g.id?cn(b,p):b)}break;case"game_end":return{...l,phase:"game_over",currentEvent:null,showEventModal:!1,eventLog:[...l.eventLog,...s]}}else if(a=a.map(f=>{if(!c.find(d=>d.id===f.id))return f;switch(n.effect.type){case"money_change":return cn(f,n.effect.value);case"stat_change":return ai(f,n.effect.stat,n.effect.value);case"draw_cards":return f;default:return f}}),n.effect.type==="draw_cards"){let f=[...l.deck];return a=a.map(d=>{if(!c.find(g=>g.id===d.id))return d;const m=Math.min(n.effect.type==="draw_cards"?n.effect.count:0,f.length),p=f.slice(0,m);return f=f.slice(m),{...d,hand:[...d.hand,...p].slice(0,xf)}}),{...l,players:a,deck:f,currentEvent:null,showEventModal:!1,eventLog:[...l.eventLog,...s]}}return{...l,players:a,currentEvent:null,showEventModal:!1,eventLog:[...l.eventLog,...s]}},d1=l=>{const n=l.players.map(a=>{let s=a1(a);return s=s1(s),s});return{...l,phase:"salary",players:n}},h1=l=>({...l,phase:"action",currentPlayerIndex:0}),wy=l=>{const n=l.currentPlayerIndex+1;return n>=l.players.length?{...l,phase:"draw"}:l.players[n].isSkipTurn?wy({...l,currentPlayerIndex:n,players:l.players.map((a,s)=>s===n?{...a,isSkipTurn:!1}:a)}):{...l,currentPlayerIndex:n}},m1=l=>{let n=[...l.deck];const a=[...l.discardPile],s=l.players.length*Cp;n.length<s&&a.length>0&&(n=[...n,...xy(a)]);const c=l.players.map(f=>{const d=Math.min(Cp,n.length),m=n.slice(0,d);n=n.slice(d);const p=[...f.hand,...m];return{...f,hand:p.slice(-xf)}});return{...l,phase:"draw",players:c,deck:n,discardPile:[]}},g1=l=>{const n=l.turn+1;return n>Ny?{...l,phase:"game_over"}:{...l,turn:n,phase:"event"}},Tp=(l,n,a)=>{let s=[...l.deck];const c=Math.min(a,s.length),f=s.slice(0,c);return s=s.slice(c),{...l,deck:s,players:l.players.map((d,m)=>m===n?{...d,hand:[...d.hand,...f].slice(0,xf)}:d)}},ku={pendingStatChoice:null,pendingExplore:!1,pendingTargetPlayer:null,pendingFunctionCard:null,lastMessage:null},Np=(l,n)=>{const a=l.players.length,s=l.pendingFunctionCard?.sourcePlayerIndex??l.currentPlayerIndex;for(let c=1;c<a;c++){const f=(n+c)%a;if(f===s)continue;if(l.players[f].hand.some(p=>p.effect.type==="special"&&p.effect.handler==="invalid"))return f}return-1},Ap={playerCount:4,maxTurns:10,players:[],currentPlayerIndex:0,turn:0,phase:"setup",deck:[],discardPile:[],currentEvent:null,eventLog:[],selectedCardIndex:null,showEventModal:!1},Rn=Sy((l,n)=>({...Ap,...ku,startGame:(a,s)=>{const c=Ay(a,s),f=Wu(c);l({...f,...ku,lastMessage:""})},nextPhase:()=>{const a=n();let s;switch(a.phase){case"event":s=d1(a),l({...s,lastMessage:""});break;case"salary":s=h1(a),l({...s,lastMessage:`${a.players[0].name} `});break;case"action":break;case"draw":if(s=g1(a),s.phase==="game_over")l({...s,lastMessage:""});else{const c=Wu(s);l({...c,lastMessage:` ${s.turn} `})}break}},confirmEvent:()=>{const a=n(),s=f1(a);l({...s,showEventModal:!1}),setTimeout(()=>n().nextPhase(),500)},selectCard:a=>{l({selectedCardIndex:a})},playSelectedCard:()=>{const a=n();if(a.selectedCardIndex===null||a.phase!=="action")return;const s=a.players[a.currentPlayerIndex],c=s.hand[a.selectedCardIndex];if(!c)return;const f=Sp(s,c);if(!f.canPlay){l({lastMessage:f.reason||""});return}if(c.type==="function"&&!(c.effect.type==="special"&&c.effect.handler==="invalid")){const g=Np(a,a.currentPlayerIndex);if(g!==-1){l({pendingFunctionCard:{card:c,cardIndex:a.selectedCardIndex,sourcePlayerIndex:a.currentPlayerIndex,respondingPlayerIndex:g},lastMessage:`${s.name} ${c.name} ${a.players[g].name} ...`});return}}const d=Ep(s,c);if(d.needsSelection){if(d.needsSelection.type==="stat"){l({pendingStatChoice:{cardIndex:a.selectedCardIndex,value:c.effect.type==="stat_change_choice"?c.effect.value:1},lastMessage:d.message});return}if(d.needsSelection.type==="location"){l({pendingExplore:!0,lastMessage:""});return}if(d.needsSelection.type==="player"){const g=c.effect.type==="special"?c.effect.handler:"";l({pendingTargetPlayer:{action:g,cardIndex:a.selectedCardIndex},lastMessage:d.message});return}}const m=a.players.map((g,b)=>b===a.currentPlayerIndex?{...d.player,hand:d.player.hand.filter((v,E)=>E!==a.selectedCardIndex)}:g);let p={players:m,discardPile:[...a.discardPile,c],selectedCardIndex:null,lastMessage:d.message};if(c.effect.type==="draw_cards"){const g=Tp({...a,players:m},a.currentPlayerIndex,c.effect.count);p={...p,deck:g.deck,players:g.players}}l(p)},chooseStat:a=>{const s=n();if(!s.pendingStatChoice)return;const c=s.players[s.currentPlayerIndex],f=c.hand[s.pendingStatChoice.cardIndex],d=o1(c,a,s.pendingStatChoice.value);let m=d.player;f.cost&&(m={...m,money:m.money-f.cost});const p=s.players.map((g,b)=>b===s.currentPlayerIndex?{...m,hand:m.hand.filter((v,E)=>E!==s.pendingStatChoice.cardIndex)}:g);l({players:p,discardPile:[...s.discardPile,f],selectedCardIndex:null,pendingStatChoice:null,lastMessage:d.message})},chooseExploreLocation:a=>{const s=n();if(!s.pendingExplore)return;const c=e1(a);if(!c)return;const f=s.players[s.currentPlayerIndex];let d=f;const m=c.outcome.effect;if(m.type==="stat_change"?d={...d,stats:{...d.stats,[m.stat]:Math.max(0,d.stats[m.stat]+m.value)}}:m.type==="special"&&(m.handler==="park_bad"?d={...d,money:Math.max(0,d.money-500),stats:{...d.stats,charisma:Math.max(0,d.stats.charisma-2)}}:m.handler==="park_good"&&(d={...d,money:d.money+500,stats:{...d.stats,stamina:d.stats.stamina+2}})),s.selectedCardIndex!==null){const g=f.hand[s.selectedCardIndex];d={...d,hand:d.hand.filter((b,v)=>v!==s.selectedCardIndex)},l({discardPile:[...s.discardPile,g]})}const p=s.players.map((g,b)=>b===s.currentPlayerIndex?d:g);l({players:p,pendingExplore:!1,selectedCardIndex:null,lastMessage:`${c.location.name}${c.outcome.description}`})},chooseTargetPlayer:a=>{const s=n();if(!s.pendingTargetPlayer)return;const{action:c,cardIndex:f}=s.pendingTargetPlayer,m=s.players[s.currentPlayerIndex].hand[f],p=s.players.findIndex(E=>E.id===a),g=s.players[p];if(!g||p===s.currentPlayerIndex){l({lastMessage:""});return}let b=[...s.players],v="";switch(c){case"steal":{if(g.hand.length===0){l({lastMessage:`${g.name} `});return}const E=Math.floor(Math.random()*g.hand.length),z=g.hand[E];b=b.map((L,k)=>k===s.currentPlayerIndex?{...L,hand:[...L.hand.filter((K,fe)=>fe!==f),z]}:k===p?{...L,hand:L.hand.filter((K,fe)=>fe!==E)}:L),v=` ${g.name} ${z.name}`;break}case"sabotage":{const E=["intelligence","stamina","charisma"],z=E[Math.floor(Math.random()*E.length)],L={intelligence:"",stamina:"",charisma:""};b=b.map((k,K)=>K===s.currentPlayerIndex?{...k,hand:k.hand.filter((fe,Ne)=>Ne!==f)}:K===p?{...k,stats:{...k.stats,[z]:Math.max(0,k.stats[z]-2)}}:k),v=` ${g.name}${L[z]} -2`;break}default:l({lastMessage:""});return}l({players:b,discardPile:[...s.discardPile,m],pendingTargetPlayer:null,selectedCardIndex:null,lastMessage:v})},cancelPendingAction:()=>{l({pendingStatChoice:null,pendingExplore:!1,pendingTargetPlayer:null,pendingFunctionCard:null,selectedCardIndex:null,lastMessage:""})},useInvalidCard:a=>{const s=n();if(!s.pendingFunctionCard)return;const{card:c,cardIndex:f,sourcePlayerIndex:d,respondingPlayerIndex:m}=s.pendingFunctionCard,p=s.players[m],g=s.players[d],b=p.hand[a];if(!b||!(b.effect.type==="special"&&b.effect.handler==="invalid")){l({lastMessage:""});return}const v=s.players.map((E,z)=>z===d?{...E,hand:E.hand.filter((L,k)=>k!==f)}:z===m?{...E,hand:E.hand.filter((L,k)=>k!==a)}:E);l({players:v,discardPile:[...s.discardPile,c,b],pendingFunctionCard:null,selectedCardIndex:null,lastMessage:`${p.name} ${g.name} ${c.name}`})},passReaction:()=>{const a=n();if(!a.pendingFunctionCard)return;const{sourcePlayerIndex:s,respondingPlayerIndex:c}=a.pendingFunctionCard,f=Np(a,c);f===-1||f===s?n().confirmFunctionCard():l({pendingFunctionCard:{...a.pendingFunctionCard,respondingPlayerIndex:f},lastMessage:` ${a.players[f].name} ...`})},confirmFunctionCard:()=>{const a=n();if(!a.pendingFunctionCard)return;const{card:s,cardIndex:c,sourcePlayerIndex:f}=a.pendingFunctionCard,d=a.players[f],m=Ep(d,s);if(m.needsSelection?.type==="player"){const b=s.effect.type==="special"?s.effect.handler:"";l({pendingFunctionCard:null,pendingTargetPlayer:{action:b,cardIndex:c},lastMessage:m.message});return}const p=a.players.map((b,v)=>v===f?{...m.player,hand:m.player.hand.filter((E,z)=>z!==c)}:b);let g={players:p,discardPile:[...a.discardPile,s],pendingFunctionCard:null,selectedCardIndex:null,lastMessage:`${d.name} ${s.name}${m.message}`};if(s.effect.type==="draw_cards"){const b=Tp({...a,players:p},f,s.effect.count);g={...g,deck:b.deck,players:b.players}}l(g)},endPlayerTurn:()=>{const a=n();if(a.phase!=="action")return;const s=wy(a);if(s.phase==="draw"){const c=m1(s);l({...c,lastMessage:""})}else l({...s,selectedCardIndex:null,lastMessage:`${s.players[s.currentPlayerIndex].name} `})},applyJob:a=>{const s=n(),c=s.players[s.currentPlayerIndex],f=n1(c,a);if(f.job){const d=s.players.map((m,p)=>p===s.currentPlayerIndex?f:m);l({players:d,lastMessage:` ${f.job.levels[0].name}`})}else l({lastMessage:""})},tryPromote:()=>{const a=n(),s=a.players[a.currentPlayerIndex];if(Ef(s)){const c=i1(s),f=a.players.map((d,m)=>m===a.currentPlayerIndex?c:d);l({players:f,lastMessage:` ${c.job.levels[c.jobLevel].name}`})}else l({lastMessage:""})},getCurrentPlayer:()=>{const a=n();return a.players[a.currentPlayerIndex]||null},canCurrentPlayerPlayCard:a=>{const s=n().getCurrentPlayer();if(!s)return{canPlay:!1,reason:""};const c=s.hand[a];return c?Sp(s,c):{canPlay:!1,reason:""}},getAvailableJobsForCurrentPlayer:()=>{const a=n().getCurrentPlayer();return a?t1(a):[]},getGameResult:()=>{const a=n();return a.phase!=="game_over"?null:Vb(a.players)},resetGame:()=>{l({...Ap,...ku})}})),p1=()=>{};var wp={};const Ry={NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"};const U=function(l,n){if(!l)throw Bl(n)},Bl=function(l){return new Error("Firebase Database ("+Ry.SDK_VERSION+") INTERNAL ASSERT FAILED: "+l)};const My=function(l){const n=[];let a=0;for(let s=0;s<l.length;s++){let c=l.charCodeAt(s);c<128?n[a++]=c:c<2048?(n[a++]=c>>6|192,n[a++]=c&63|128):(c&64512)===55296&&s+1<l.length&&(l.charCodeAt(s+1)&64512)===56320?(c=65536+((c&1023)<<10)+(l.charCodeAt(++s)&1023),n[a++]=c>>18|240,n[a++]=c>>12&63|128,n[a++]=c>>6&63|128,n[a++]=c&63|128):(n[a++]=c>>12|224,n[a++]=c>>6&63|128,n[a++]=c&63|128)}return n},y1=function(l){const n=[];let a=0,s=0;for(;a<l.length;){const c=l[a++];if(c<128)n[s++]=String.fromCharCode(c);else if(c>191&&c<224){const f=l[a++];n[s++]=String.fromCharCode((c&31)<<6|f&63)}else if(c>239&&c<365){const f=l[a++],d=l[a++],m=l[a++],p=((c&7)<<18|(f&63)<<12|(d&63)<<6|m&63)-65536;n[s++]=String.fromCharCode(55296+(p>>10)),n[s++]=String.fromCharCode(56320+(p&1023))}else{const f=l[a++],d=l[a++];n[s++]=String.fromCharCode((c&15)<<12|(f&63)<<6|d&63)}}return n.join("")},Cf={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(l,n){if(!Array.isArray(l))throw Error("encodeByteArray takes an array as a parameter");this.init_();const a=n?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let c=0;c<l.length;c+=3){const f=l[c],d=c+1<l.length,m=d?l[c+1]:0,p=c+2<l.length,g=p?l[c+2]:0,b=f>>2,v=(f&3)<<4|m>>4;let E=(m&15)<<2|g>>6,z=g&63;p||(z=64,d||(E=64)),s.push(a[b],a[v],a[E],a[z])}return s.join("")},encodeString(l,n){return this.HAS_NATIVE_SUPPORT&&!n?btoa(l):this.encodeByteArray(My(l),n)},decodeString(l,n){return this.HAS_NATIVE_SUPPORT&&!n?atob(l):y1(this.decodeStringToByteArray(l,n))},decodeStringToByteArray(l,n){this.init_();const a=n?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let c=0;c<l.length;){const f=a[l.charAt(c++)],m=c<l.length?a[l.charAt(c)]:0;++c;const g=c<l.length?a[l.charAt(c)]:64;++c;const v=c<l.length?a[l.charAt(c)]:64;if(++c,f==null||m==null||g==null||v==null)throw new _1;const E=f<<2|m>>4;if(s.push(E),g!==64){const z=m<<4&240|g>>2;if(s.push(z),v!==64){const L=g<<6&192|v;s.push(L)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let l=0;l<this.ENCODED_VALS.length;l++)this.byteToCharMap_[l]=this.ENCODED_VALS.charAt(l),this.charToByteMap_[this.byteToCharMap_[l]]=l,this.byteToCharMapWebSafe_[l]=this.ENCODED_VALS_WEBSAFE.charAt(l),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[l]]=l,l>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(l)]=l,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(l)]=l)}}};class _1 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Dy=function(l){const n=My(l);return Cf.encodeByteArray(n,!0)},Hr=function(l){return Dy(l).replace(/\./g,"")},ef=function(l){try{return Cf.decodeString(l,!0)}catch(n){console.error("base64Decode failed: ",n)}return null};function v1(l){return Oy(void 0,l)}function Oy(l,n){if(!(n instanceof Object))return n;switch(n.constructor){case Date:const a=n;return new Date(a.getTime());case Object:l===void 0&&(l={});break;case Array:l=[];break;default:return n}for(const a in n)!n.hasOwnProperty(a)||!b1(a)||(l[a]=Oy(l[a],n[a]));return l}function b1(l){return l!=="__proto__"}function S1(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const E1=()=>S1().__FIREBASE_DEFAULTS__,x1=()=>{if(typeof process>"u"||typeof wp>"u")return;const l=wp.__FIREBASE_DEFAULTS__;if(l)return JSON.parse(l)},C1=()=>{if(typeof document>"u")return;let l;try{l=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const n=l&&ef(l[1]);return n&&JSON.parse(n)},jy=()=>{try{return p1()||E1()||x1()||C1()}catch(l){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${l}`);return}},T1=l=>jy()?.emulatorHosts?.[l],N1=l=>{const n=T1(l);if(!n)return;const a=n.lastIndexOf(":");if(a<=0||a+1===n.length)throw new Error(`Invalid host ${n} with no separate hostname and port!`);const s=parseInt(n.substring(a+1),10);return n[0]==="["?[n.substring(1,a-1),s]:[n.substring(0,a),s]},zy=()=>jy()?.config;class rs{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((n,a)=>{this.resolve=n,this.reject=a})}wrapCallback(n){return(a,s)=>{a?this.reject(a):this.resolve(s),typeof n=="function"&&(this.promise.catch(()=>{}),n.length===1?n(a):n(a,s))}}}function Tf(l){try{return(l.startsWith("http://")||l.startsWith("https://")?new URL(l).hostname:l).endsWith(".cloudworkstations.dev")}catch{return!1}}async function A1(l){return(await fetch(l,{credentials:"include"})).ok}function w1(l,n){if(l.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const a={alg:"none",type:"JWT"},s=n||"demo-project",c=l.iat||0,f=l.sub||l.user_id;if(!f)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d={iss:`https://securetoken.google.com/${s}`,aud:s,iat:c,exp:c+3600,auth_time:c,sub:f,user_id:f,firebase:{sign_in_provider:"custom",identities:{}},...l};return[Hr(JSON.stringify(a)),Hr(JSON.stringify(d)),""].join(".")}const Va={};function R1(){const l={prod:[],emulator:[]};for(const n of Object.keys(Va))Va[n]?l.emulator.push(n):l.prod.push(n);return l}function M1(l){let n=document.getElementById(l),a=!1;return n||(n=document.createElement("div"),n.setAttribute("id",l),a=!0),{created:a,element:n}}let Rp=!1;function D1(l,n){if(typeof window>"u"||typeof document>"u"||!Tf(window.location.host)||Va[l]===n||Va[l]||Rp)return;Va[l]=n;function a(E){return`__firebase__banner__${E}`}const s="__firebase__banner",f=R1().prod.length>0;function d(){const E=document.getElementById(s);E&&E.remove()}function m(E){E.style.display="flex",E.style.background="#7faaf0",E.style.position="fixed",E.style.bottom="5px",E.style.left="5px",E.style.padding=".5em",E.style.borderRadius="5px",E.style.alignItems="center"}function p(E,z){E.setAttribute("width","24"),E.setAttribute("id",z),E.setAttribute("height","24"),E.setAttribute("viewBox","0 0 24 24"),E.setAttribute("fill","none"),E.style.marginLeft="-6px"}function g(){const E=document.createElement("span");return E.style.cursor="pointer",E.style.marginLeft="16px",E.style.fontSize="24px",E.innerHTML=" &times;",E.onclick=()=>{Rp=!0,d()},E}function b(E,z){E.setAttribute("id",z),E.innerText="Learn more",E.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",E.setAttribute("target","__blank"),E.style.paddingLeft="5px",E.style.textDecoration="underline"}function v(){const E=M1(s),z=a("text"),L=document.getElementById(z)||document.createElement("span"),k=a("learnmore"),K=document.getElementById(k)||document.createElement("a"),fe=a("preprendIcon"),Ne=document.getElementById(fe)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(E.created){const oe=E.element;m(oe),b(K,k);const Oe=g();p(Ne,fe),oe.append(Ne,L,K,Oe),document.body.appendChild(oe)}f?(L.innerText="Preview backend disconnected.",Ne.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(Ne.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,L.innerText="Preview backend running in this workspace."),L.setAttribute("id",z)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",v):v()}function O1(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Iy(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(O1())}function j1(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function z1(){return Ry.NODE_ADMIN===!0}function I1(){try{return typeof indexedDB=="object"}catch{return!1}}function L1(){return new Promise((l,n)=>{try{let a=!0;const s="validate-browser-context-for-indexeddb-analytics-module",c=self.indexedDB.open(s);c.onsuccess=()=>{c.result.close(),a||self.indexedDB.deleteDatabase(s),l(!0)},c.onupgradeneeded=()=>{a=!1},c.onerror=()=>{n(c.error?.message||"")}}catch(a){n(a)}})}const U1="FirebaseError";class cs extends Error{constructor(n,a,s){super(a),this.code=n,this.customData=s,this.name=U1,Object.setPrototypeOf(this,cs.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Ly.prototype.create)}}class Ly{constructor(n,a,s){this.service=n,this.serviceName=a,this.errors=s}create(n,...a){const s=a[0]||{},c=`${this.service}/${n}`,f=this.errors[n],d=f?H1(f,s):"Error",m=`${this.serviceName}: ${d} (${c}).`;return new cs(c,m,s)}}function H1(l,n){return l.replace(B1,(a,s)=>{const c=n[s];return c!=null?String(c):`<${s}?>`})}const B1=/\{\$([^}]+)}/g;function Pa(l){return JSON.parse(l)}function Je(l){return JSON.stringify(l)}const Uy=function(l){let n={},a={},s={},c="";try{const f=l.split(".");n=Pa(ef(f[0])||""),a=Pa(ef(f[1])||""),c=f[2],s=a.d||{},delete a.d}catch{}return{header:n,claims:a,data:s,signature:c}},k1=function(l){const n=Uy(l),a=n.claims;return!!a&&typeof a=="object"&&a.hasOwnProperty("iat")},q1=function(l){const n=Uy(l).claims;return typeof n=="object"&&n.admin===!0};function on(l,n){return Object.prototype.hasOwnProperty.call(l,n)}function jl(l,n){if(Object.prototype.hasOwnProperty.call(l,n))return l[n]}function Mp(l){for(const n in l)if(Object.prototype.hasOwnProperty.call(l,n))return!1;return!0}function Br(l,n,a){const s={};for(const c in l)Object.prototype.hasOwnProperty.call(l,c)&&(s[c]=n.call(a,l[c],c,l));return s}function kr(l,n){if(l===n)return!0;const a=Object.keys(l),s=Object.keys(n);for(const c of a){if(!s.includes(c))return!1;const f=l[c],d=n[c];if(Dp(f)&&Dp(d)){if(!kr(f,d))return!1}else if(f!==d)return!1}for(const c of s)if(!a.includes(c))return!1;return!0}function Dp(l){return l!==null&&typeof l=="object"}function G1(l){const n=[];for(const[a,s]of Object.entries(l))Array.isArray(s)?s.forEach(c=>{n.push(encodeURIComponent(a)+"="+encodeURIComponent(c))}):n.push(encodeURIComponent(a)+"="+encodeURIComponent(s));return n.length?"&"+n.join("&"):""}class Y1{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=512/8,this.pad_[0]=128;for(let n=1;n<this.blockSize;++n)this.pad_[n]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(n,a){a||(a=0);const s=this.W_;if(typeof n=="string")for(let v=0;v<16;v++)s[v]=n.charCodeAt(a)<<24|n.charCodeAt(a+1)<<16|n.charCodeAt(a+2)<<8|n.charCodeAt(a+3),a+=4;else for(let v=0;v<16;v++)s[v]=n[a]<<24|n[a+1]<<16|n[a+2]<<8|n[a+3],a+=4;for(let v=16;v<80;v++){const E=s[v-3]^s[v-8]^s[v-14]^s[v-16];s[v]=(E<<1|E>>>31)&4294967295}let c=this.chain_[0],f=this.chain_[1],d=this.chain_[2],m=this.chain_[3],p=this.chain_[4],g,b;for(let v=0;v<80;v++){v<40?v<20?(g=m^f&(d^m),b=1518500249):(g=f^d^m,b=1859775393):v<60?(g=f&d|m&(f|d),b=2400959708):(g=f^d^m,b=3395469782);const E=(c<<5|c>>>27)+g+p+b+s[v]&4294967295;p=m,m=d,d=(f<<30|f>>>2)&4294967295,f=c,c=E}this.chain_[0]=this.chain_[0]+c&4294967295,this.chain_[1]=this.chain_[1]+f&4294967295,this.chain_[2]=this.chain_[2]+d&4294967295,this.chain_[3]=this.chain_[3]+m&4294967295,this.chain_[4]=this.chain_[4]+p&4294967295}update(n,a){if(n==null)return;a===void 0&&(a=n.length);const s=a-this.blockSize;let c=0;const f=this.buf_;let d=this.inbuf_;for(;c<a;){if(d===0)for(;c<=s;)this.compress_(n,c),c+=this.blockSize;if(typeof n=="string"){for(;c<a;)if(f[d]=n.charCodeAt(c),++d,++c,d===this.blockSize){this.compress_(f),d=0;break}}else for(;c<a;)if(f[d]=n[c],++d,++c,d===this.blockSize){this.compress_(f),d=0;break}}this.inbuf_=d,this.total_+=a}digest(){const n=[];let a=this.total_*8;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let c=this.blockSize-1;c>=56;c--)this.buf_[c]=a&255,a/=256;this.compress_(this.buf_);let s=0;for(let c=0;c<5;c++)for(let f=24;f>=0;f-=8)n[s]=this.chain_[c]>>f&255,++s;return n}}function nc(l,n){return`${l} failed: ${n} argument `}const V1=function(l){const n=[];let a=0;for(let s=0;s<l.length;s++){let c=l.charCodeAt(s);if(c>=55296&&c<=56319){const f=c-55296;s++,U(s<l.length,"Surrogate pair missing trail surrogate.");const d=l.charCodeAt(s)-56320;c=65536+(f<<10)+d}c<128?n[a++]=c:c<2048?(n[a++]=c>>6|192,n[a++]=c&63|128):c<65536?(n[a++]=c>>12|224,n[a++]=c>>6&63|128,n[a++]=c&63|128):(n[a++]=c>>18|240,n[a++]=c>>12&63|128,n[a++]=c>>6&63|128,n[a++]=c&63|128)}return n},ic=function(l){let n=0;for(let a=0;a<l.length;a++){const s=l.charCodeAt(a);s<128?n++:s<2048?n+=2:s>=55296&&s<=56319?(n+=4,a++):n+=3}return n};function kl(l){return l&&l._delegate?l._delegate:l}class Ja{constructor(n,a,s){this.name=n,this.instanceFactory=a,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(n){return this.instantiationMode=n,this}setMultipleInstances(n){return this.multipleInstances=n,this}setServiceProps(n){return this.serviceProps=n,this}setInstanceCreatedCallback(n){return this.onInstanceCreated=n,this}}const Ii="[DEFAULT]";class Q1{constructor(n,a){this.name=n,this.container=a,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(n){const a=this.normalizeInstanceIdentifier(n);if(!this.instancesDeferred.has(a)){const s=new rs;if(this.instancesDeferred.set(a,s),this.isInitialized(a)||this.shouldAutoInitialize())try{const c=this.getOrInitializeService({instanceIdentifier:a});c&&s.resolve(c)}catch{}}return this.instancesDeferred.get(a).promise}getImmediate(n){const a=this.normalizeInstanceIdentifier(n?.identifier),s=n?.optional??!1;if(this.isInitialized(a)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:a})}catch(c){if(s)return null;throw c}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(n){if(n.name!==this.name)throw Error(`Mismatching Component ${n.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=n,!!this.shouldAutoInitialize()){if(Z1(n))try{this.getOrInitializeService({instanceIdentifier:Ii})}catch{}for(const[a,s]of this.instancesDeferred.entries()){const c=this.normalizeInstanceIdentifier(a);try{const f=this.getOrInitializeService({instanceIdentifier:c});s.resolve(f)}catch{}}}}clearInstance(n=Ii){this.instancesDeferred.delete(n),this.instancesOptions.delete(n),this.instances.delete(n)}async delete(){const n=Array.from(this.instances.values());await Promise.all([...n.filter(a=>"INTERNAL"in a).map(a=>a.INTERNAL.delete()),...n.filter(a=>"_delete"in a).map(a=>a._delete())])}isComponentSet(){return this.component!=null}isInitialized(n=Ii){return this.instances.has(n)}getOptions(n=Ii){return this.instancesOptions.get(n)||{}}initialize(n={}){const{options:a={}}=n,s=this.normalizeInstanceIdentifier(n.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const c=this.getOrInitializeService({instanceIdentifier:s,options:a});for(const[f,d]of this.instancesDeferred.entries()){const m=this.normalizeInstanceIdentifier(f);s===m&&d.resolve(c)}return c}onInit(n,a){const s=this.normalizeInstanceIdentifier(a),c=this.onInitCallbacks.get(s)??new Set;c.add(n),this.onInitCallbacks.set(s,c);const f=this.instances.get(s);return f&&n(f,s),()=>{c.delete(n)}}invokeOnInitCallbacks(n,a){const s=this.onInitCallbacks.get(a);if(s)for(const c of s)try{c(n,a)}catch{}}getOrInitializeService({instanceIdentifier:n,options:a={}}){let s=this.instances.get(n);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:X1(n),options:a}),this.instances.set(n,s),this.instancesOptions.set(n,a),this.invokeOnInitCallbacks(s,n),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,n,s)}catch{}return s||null}normalizeInstanceIdentifier(n=Ii){return this.component?this.component.multipleInstances?n:Ii:n}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function X1(l){return l===Ii?void 0:l}function Z1(l){return l.instantiationMode==="EAGER"}class K1{constructor(n){this.name=n,this.providers=new Map}addComponent(n){const a=this.getProvider(n.name);if(a.isComponentSet())throw new Error(`Component ${n.name} has already been registered with ${this.name}`);a.setComponent(n)}addOrOverwriteComponent(n){this.getProvider(n.name).isComponentSet()&&this.providers.delete(n.name),this.addComponent(n)}getProvider(n){if(this.providers.has(n))return this.providers.get(n);const a=new Q1(n,this);return this.providers.set(n,a),a}getProviders(){return Array.from(this.providers.values())}}var Me;(function(l){l[l.DEBUG=0]="DEBUG",l[l.VERBOSE=1]="VERBOSE",l[l.INFO=2]="INFO",l[l.WARN=3]="WARN",l[l.ERROR=4]="ERROR",l[l.SILENT=5]="SILENT"})(Me||(Me={}));const F1={debug:Me.DEBUG,verbose:Me.VERBOSE,info:Me.INFO,warn:Me.WARN,error:Me.ERROR,silent:Me.SILENT},P1=Me.INFO,J1={[Me.DEBUG]:"log",[Me.VERBOSE]:"log",[Me.INFO]:"info",[Me.WARN]:"warn",[Me.ERROR]:"error"},$1=(l,n,...a)=>{if(n<l.logLevel)return;const s=new Date().toISOString(),c=J1[n];if(c)console[c](`[${s}]  ${l.name}:`,...a);else throw new Error(`Attempted to log a message with an invalid logType (value: ${n})`)};class Hy{constructor(n){this.name=n,this._logLevel=P1,this._logHandler=$1,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(n){if(!(n in Me))throw new TypeError(`Invalid value "${n}" assigned to \`logLevel\``);this._logLevel=n}setLogLevel(n){this._logLevel=typeof n=="string"?F1[n]:n}get logHandler(){return this._logHandler}set logHandler(n){if(typeof n!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=n}get userLogHandler(){return this._userLogHandler}set userLogHandler(n){this._userLogHandler=n}debug(...n){this._userLogHandler&&this._userLogHandler(this,Me.DEBUG,...n),this._logHandler(this,Me.DEBUG,...n)}log(...n){this._userLogHandler&&this._userLogHandler(this,Me.VERBOSE,...n),this._logHandler(this,Me.VERBOSE,...n)}info(...n){this._userLogHandler&&this._userLogHandler(this,Me.INFO,...n),this._logHandler(this,Me.INFO,...n)}warn(...n){this._userLogHandler&&this._userLogHandler(this,Me.WARN,...n),this._logHandler(this,Me.WARN,...n)}error(...n){this._userLogHandler&&this._userLogHandler(this,Me.ERROR,...n),this._logHandler(this,Me.ERROR,...n)}}const W1=(l,n)=>n.some(a=>l instanceof a);let Op,jp;function eS(){return Op||(Op=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function tS(){return jp||(jp=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const By=new WeakMap,tf=new WeakMap,ky=new WeakMap,qu=new WeakMap,Nf=new WeakMap;function nS(l){const n=new Promise((a,s)=>{const c=()=>{l.removeEventListener("success",f),l.removeEventListener("error",d)},f=()=>{a(ri(l.result)),c()},d=()=>{s(l.error),c()};l.addEventListener("success",f),l.addEventListener("error",d)});return n.then(a=>{a instanceof IDBCursor&&By.set(a,l)}).catch(()=>{}),Nf.set(n,l),n}function iS(l){if(tf.has(l))return;const n=new Promise((a,s)=>{const c=()=>{l.removeEventListener("complete",f),l.removeEventListener("error",d),l.removeEventListener("abort",d)},f=()=>{a(),c()},d=()=>{s(l.error||new DOMException("AbortError","AbortError")),c()};l.addEventListener("complete",f),l.addEventListener("error",d),l.addEventListener("abort",d)});tf.set(l,n)}let nf={get(l,n,a){if(l instanceof IDBTransaction){if(n==="done")return tf.get(l);if(n==="objectStoreNames")return l.objectStoreNames||ky.get(l);if(n==="store")return a.objectStoreNames[1]?void 0:a.objectStore(a.objectStoreNames[0])}return ri(l[n])},set(l,n,a){return l[n]=a,!0},has(l,n){return l instanceof IDBTransaction&&(n==="done"||n==="store")?!0:n in l}};function lS(l){nf=l(nf)}function aS(l){return l===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(n,...a){const s=l.call(Gu(this),n,...a);return ky.set(s,n.sort?n.sort():[n]),ri(s)}:tS().includes(l)?function(...n){return l.apply(Gu(this),n),ri(By.get(this))}:function(...n){return ri(l.apply(Gu(this),n))}}function sS(l){return typeof l=="function"?aS(l):(l instanceof IDBTransaction&&iS(l),W1(l,eS())?new Proxy(l,nf):l)}function ri(l){if(l instanceof IDBRequest)return nS(l);if(qu.has(l))return qu.get(l);const n=sS(l);return n!==l&&(qu.set(l,n),Nf.set(n,l)),n}const Gu=l=>Nf.get(l);function rS(l,n,{blocked:a,upgrade:s,blocking:c,terminated:f}={}){const d=indexedDB.open(l,n),m=ri(d);return s&&d.addEventListener("upgradeneeded",p=>{s(ri(d.result),p.oldVersion,p.newVersion,ri(d.transaction),p)}),a&&d.addEventListener("blocked",p=>a(p.oldVersion,p.newVersion,p)),m.then(p=>{f&&p.addEventListener("close",()=>f()),c&&p.addEventListener("versionchange",g=>c(g.oldVersion,g.newVersion,g))}).catch(()=>{}),m}const cS=["get","getKey","getAll","getAllKeys","count"],oS=["put","add","delete","clear"],Yu=new Map;function zp(l,n){if(!(l instanceof IDBDatabase&&!(n in l)&&typeof n=="string"))return;if(Yu.get(n))return Yu.get(n);const a=n.replace(/FromIndex$/,""),s=n!==a,c=oS.includes(a);if(!(a in(s?IDBIndex:IDBObjectStore).prototype)||!(c||cS.includes(a)))return;const f=async function(d,...m){const p=this.transaction(d,c?"readwrite":"readonly");let g=p.store;return s&&(g=g.index(m.shift())),(await Promise.all([g[a](...m),c&&p.done]))[0]};return Yu.set(n,f),f}lS(l=>({...l,get:(n,a,s)=>zp(n,a)||l.get(n,a,s),has:(n,a)=>!!zp(n,a)||l.has(n,a)}));class uS{constructor(n){this.container=n}getPlatformInfoString(){return this.container.getProviders().map(a=>{if(fS(a)){const s=a.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(a=>a).join(" ")}}function fS(l){return l.getComponent()?.type==="VERSION"}const lf="@firebase/app",Ip="0.14.8";const Dn=new Hy("@firebase/app"),dS="@firebase/app-compat",hS="@firebase/analytics-compat",mS="@firebase/analytics",gS="@firebase/app-check-compat",pS="@firebase/app-check",yS="@firebase/auth",_S="@firebase/auth-compat",vS="@firebase/database",bS="@firebase/data-connect",SS="@firebase/database-compat",ES="@firebase/functions",xS="@firebase/functions-compat",CS="@firebase/installations",TS="@firebase/installations-compat",NS="@firebase/messaging",AS="@firebase/messaging-compat",wS="@firebase/performance",RS="@firebase/performance-compat",MS="@firebase/remote-config",DS="@firebase/remote-config-compat",OS="@firebase/storage",jS="@firebase/storage-compat",zS="@firebase/firestore",IS="@firebase/ai",LS="@firebase/firestore-compat",US="firebase",HS="12.9.0";const af="[DEFAULT]",BS={[lf]:"fire-core",[dS]:"fire-core-compat",[mS]:"fire-analytics",[hS]:"fire-analytics-compat",[pS]:"fire-app-check",[gS]:"fire-app-check-compat",[yS]:"fire-auth",[_S]:"fire-auth-compat",[vS]:"fire-rtdb",[bS]:"fire-data-connect",[SS]:"fire-rtdb-compat",[ES]:"fire-fn",[xS]:"fire-fn-compat",[CS]:"fire-iid",[TS]:"fire-iid-compat",[NS]:"fire-fcm",[AS]:"fire-fcm-compat",[wS]:"fire-perf",[RS]:"fire-perf-compat",[MS]:"fire-rc",[DS]:"fire-rc-compat",[OS]:"fire-gcs",[jS]:"fire-gcs-compat",[zS]:"fire-fst",[LS]:"fire-fst-compat",[IS]:"fire-vertex","fire-js":"fire-js",[US]:"fire-js-all"};const qr=new Map,kS=new Map,sf=new Map;function Lp(l,n){try{l.container.addComponent(n)}catch(a){Dn.debug(`Component ${n.name} failed to register with FirebaseApp ${l.name}`,a)}}function Gr(l){const n=l.name;if(sf.has(n))return Dn.debug(`There were multiple attempts to register component ${n}.`),!1;sf.set(n,l);for(const a of qr.values())Lp(a,l);for(const a of kS.values())Lp(a,l);return!0}function qS(l,n){const a=l.container.getProvider("heartbeat").getImmediate({optional:!0});return a&&a.triggerHeartbeat(),l.container.getProvider(n)}function GS(l){return l==null?!1:l.settings!==void 0}const YS={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},ci=new Ly("app","Firebase",YS);class VS{constructor(n,a,s){this._isDeleted=!1,this._options={...n},this._config={...a},this._name=a.name,this._automaticDataCollectionEnabled=a.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new Ja("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(n){this.checkDestroyed(),this._automaticDataCollectionEnabled=n}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(n){this._isDeleted=n}checkDestroyed(){if(this.isDeleted)throw ci.create("app-deleted",{appName:this._name})}}const QS=HS;function qy(l,n={}){let a=l;typeof n!="object"&&(n={name:n});const s={name:af,automaticDataCollectionEnabled:!0,...n},c=s.name;if(typeof c!="string"||!c)throw ci.create("bad-app-name",{appName:String(c)});if(a||(a=zy()),!a)throw ci.create("no-options");const f=qr.get(c);if(f){if(kr(a,f.options)&&kr(s,f.config))return f;throw ci.create("duplicate-app",{appName:c})}const d=new K1(c);for(const p of sf.values())d.addComponent(p);const m=new VS(a,s,d);return qr.set(c,m),m}function XS(l=af){const n=qr.get(l);if(!n&&l===af&&zy())return qy();if(!n)throw ci.create("no-app",{appName:l});return n}function Ml(l,n,a){let s=BS[l]??l;a&&(s+=`-${a}`);const c=s.match(/\s|\//),f=n.match(/\s|\//);if(c||f){const d=[`Unable to register library "${s}" with version "${n}":`];c&&d.push(`library name "${s}" contains illegal characters (whitespace or "/")`),c&&f&&d.push("and"),f&&d.push(`version name "${n}" contains illegal characters (whitespace or "/")`),Dn.warn(d.join(" "));return}Gr(new Ja(`${s}-version`,()=>({library:s,version:n}),"VERSION"))}const ZS="firebase-heartbeat-database",KS=1,$a="firebase-heartbeat-store";let Vu=null;function Gy(){return Vu||(Vu=rS(ZS,KS,{upgrade:(l,n)=>{switch(n){case 0:try{l.createObjectStore($a)}catch(a){console.warn(a)}}}}).catch(l=>{throw ci.create("idb-open",{originalErrorMessage:l.message})})),Vu}async function FS(l){try{const a=(await Gy()).transaction($a),s=await a.objectStore($a).get(Yy(l));return await a.done,s}catch(n){if(n instanceof cs)Dn.warn(n.message);else{const a=ci.create("idb-get",{originalErrorMessage:n?.message});Dn.warn(a.message)}}}async function Up(l,n){try{const s=(await Gy()).transaction($a,"readwrite");await s.objectStore($a).put(n,Yy(l)),await s.done}catch(a){if(a instanceof cs)Dn.warn(a.message);else{const s=ci.create("idb-set",{originalErrorMessage:a?.message});Dn.warn(s.message)}}}function Yy(l){return`${l.name}!${l.options.appId}`}const PS=1024,JS=30;class $S{constructor(n){this.container=n,this._heartbeatsCache=null;const a=this.container.getProvider("app").getImmediate();this._storage=new eE(a),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){try{const a=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=Hp();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(c=>c.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:a}),this._heartbeatsCache.heartbeats.length>JS){const c=tE(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(c,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(n){Dn.warn(n)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=Hp(),{heartbeatsToSend:a,unsentEntries:s}=WS(this._heartbeatsCache.heartbeats),c=Hr(JSON.stringify({version:2,heartbeats:a}));return this._heartbeatsCache.lastSentHeartbeatDate=n,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),c}catch(n){return Dn.warn(n),""}}}function Hp(){return new Date().toISOString().substring(0,10)}function WS(l,n=PS){const a=[];let s=l.slice();for(const c of l){const f=a.find(d=>d.agent===c.agent);if(f){if(f.dates.push(c.date),Bp(a)>n){f.dates.pop();break}}else if(a.push({agent:c.agent,dates:[c.date]}),Bp(a)>n){a.pop();break}s=s.slice(1)}return{heartbeatsToSend:a,unsentEntries:s}}class eE{constructor(n){this.app=n,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return I1()?L1().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const a=await FS(this.app);return a?.heartbeats?a:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(n){if(await this._canUseIndexedDBPromise){const s=await this.read();return Up(this.app,{lastSentHeartbeatDate:n.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:n.heartbeats})}else return}async add(n){if(await this._canUseIndexedDBPromise){const s=await this.read();return Up(this.app,{lastSentHeartbeatDate:n.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...n.heartbeats]})}else return}}function Bp(l){return Hr(JSON.stringify({version:2,heartbeats:l})).length}function tE(l){if(l.length===0)return-1;let n=0,a=l[0].date;for(let s=1;s<l.length;s++)l[s].date<a&&(a=l[s].date,n=s);return n}function nE(l){Gr(new Ja("platform-logger",n=>new uS(n),"PRIVATE")),Gr(new Ja("heartbeat",n=>new $S(n),"PRIVATE")),Ml(lf,Ip,l),Ml(lf,Ip,"esm2020"),Ml("fire-js","")}nE("");var iE="firebase",lE="12.9.0";Ml(iE,lE,"app");var kp={};const qp="@firebase/database",Gp="1.1.0";let Vy="";function aE(l){Vy=l}class sE{constructor(n){this.domStorage_=n,this.prefix_="firebase:"}set(n,a){a==null?this.domStorage_.removeItem(this.prefixedName_(n)):this.domStorage_.setItem(this.prefixedName_(n),Je(a))}get(n){const a=this.domStorage_.getItem(this.prefixedName_(n));return a==null?null:Pa(a)}remove(n){this.domStorage_.removeItem(this.prefixedName_(n))}prefixedName_(n){return this.prefix_+n}toString(){return this.domStorage_.toString()}}class rE{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(n,a){a==null?delete this.cache_[n]:this.cache_[n]=a}get(n){return on(this.cache_,n)?this.cache_[n]:null}remove(n){delete this.cache_[n]}}const Qy=function(l){try{if(typeof window<"u"&&typeof window[l]<"u"){const n=window[l];return n.setItem("firebase:sentinel","cache"),n.removeItem("firebase:sentinel"),new sE(n)}}catch{}return new rE},Ui=Qy("localStorage"),cE=Qy("sessionStorage");const Dl=new Hy("@firebase/database"),oE=(function(){let l=1;return function(){return l++}})(),Xy=function(l){const n=V1(l),a=new Y1;a.update(n);const s=a.digest();return Cf.encodeByteArray(s)},os=function(...l){let n="";for(let a=0;a<l.length;a++){const s=l[a];Array.isArray(s)||s&&typeof s=="object"&&typeof s.length=="number"?n+=os.apply(null,s):typeof s=="object"?n+=Je(s):n+=s,n+=" "}return n};let Qa=null,Yp=!0;const uE=function(l,n){U(!0,"Can't turn on custom loggers persistently."),Dl.logLevel=Me.VERBOSE,Qa=Dl.log.bind(Dl)},rt=function(...l){if(Yp===!0&&(Yp=!1,Qa===null&&cE.get("logging_enabled")===!0&&uE()),Qa){const n=os.apply(null,l);Qa(n)}},us=function(l){return function(...n){rt(l,...n)}},rf=function(...l){const n="FIREBASE INTERNAL ERROR: "+os(...l);Dl.error(n)},On=function(...l){const n=`FIREBASE FATAL ERROR: ${os(...l)}`;throw Dl.error(n),new Error(n)},mt=function(...l){const n="FIREBASE WARNING: "+os(...l);Dl.warn(n)},fE=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&mt("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},Af=function(l){return typeof l=="number"&&(l!==l||l===Number.POSITIVE_INFINITY||l===Number.NEGATIVE_INFINITY)},dE=function(l){if(document.readyState==="complete")l();else{let n=!1;const a=function(){if(!document.body){setTimeout(a,Math.floor(10));return}n||(n=!0,l())};document.addEventListener?(document.addEventListener("DOMContentLoaded",a,!1),window.addEventListener("load",a,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{document.readyState==="complete"&&a()}),window.attachEvent("onload",a))}},zl="[MIN_NAME]",Hi="[MAX_NAME]",Gi=function(l,n){if(l===n)return 0;if(l===zl||n===Hi)return-1;if(n===zl||l===Hi)return 1;{const a=Vp(l),s=Vp(n);return a!==null?s!==null?a-s===0?l.length-n.length:a-s:-1:s!==null?1:l<n?-1:1}},hE=function(l,n){return l===n?0:l<n?-1:1},Ba=function(l,n){if(n&&l in n)return n[l];throw new Error("Missing required key ("+l+") in object: "+Je(n))},wf=function(l){if(typeof l!="object"||l===null)return Je(l);const n=[];for(const s in l)n.push(s);n.sort();let a="{";for(let s=0;s<n.length;s++)s!==0&&(a+=","),a+=Je(n[s]),a+=":",a+=wf(l[n[s]]);return a+="}",a},Zy=function(l,n){const a=l.length;if(a<=n)return[l];const s=[];for(let c=0;c<a;c+=n)c+n>a?s.push(l.substring(c,a)):s.push(l.substring(c,c+n));return s};function ct(l,n){for(const a in l)l.hasOwnProperty(a)&&n(a,l[a])}const Ky=function(l){U(!Af(l),"Invalid JSON number");const n=11,a=52,s=(1<<n-1)-1;let c,f,d,m,p;l===0?(f=0,d=0,c=1/l===-1/0?1:0):(c=l<0,l=Math.abs(l),l>=Math.pow(2,1-s)?(m=Math.min(Math.floor(Math.log(l)/Math.LN2),s),f=m+s,d=Math.round(l*Math.pow(2,a-m)-Math.pow(2,a))):(f=0,d=Math.round(l/Math.pow(2,1-s-a))));const g=[];for(p=a;p;p-=1)g.push(d%2?1:0),d=Math.floor(d/2);for(p=n;p;p-=1)g.push(f%2?1:0),f=Math.floor(f/2);g.push(c?1:0),g.reverse();const b=g.join("");let v="";for(p=0;p<64;p+=8){let E=parseInt(b.substr(p,8),2).toString(16);E.length===1&&(E="0"+E),v=v+E}return v.toLowerCase()},mE=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},gE=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"};function pE(l,n){let a="Unknown Error";l==="too_big"?a="The data requested exceeds the maximum size that can be accessed with a single request.":l==="permission_denied"?a="Client doesn't have permission to access the desired data.":l==="unavailable"&&(a="The service is unavailable");const s=new Error(l+" at "+n._path.toString()+": "+a);return s.code=l.toUpperCase(),s}const yE=new RegExp("^-?(0*)\\d{1,10}$"),_E=-2147483648,vE=2147483647,Vp=function(l){if(yE.test(l)){const n=Number(l);if(n>=_E&&n<=vE)return n}return null},ql=function(l){try{l()}catch(n){setTimeout(()=>{const a=n.stack||"";throw mt("Exception was thrown by user callback.",a),n},Math.floor(0))}},bE=function(){return(typeof window=="object"&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},Xa=function(l,n){const a=setTimeout(l,n);return typeof a=="number"&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(a):typeof a=="object"&&a.unref&&a.unref(),a};class SE{constructor(n,a){this.appCheckProvider=a,this.appName=n.name,GS(n)&&n.settings.appCheckToken&&(this.serverAppAppCheckToken=n.settings.appCheckToken),this.appCheck=a?.getImmediate({optional:!0}),this.appCheck||a?.get().then(s=>this.appCheck=s)}getToken(n){if(this.serverAppAppCheckToken){if(n)throw new Error("Attempted reuse of `FirebaseServerApp.appCheckToken` after previous usage failed.");return Promise.resolve({token:this.serverAppAppCheckToken})}return this.appCheck?this.appCheck.getToken(n):new Promise((a,s)=>{setTimeout(()=>{this.appCheck?this.getToken(n).then(a,s):a(null)},0)})}addTokenChangeListener(n){this.appCheckProvider?.get().then(a=>a.addTokenListener(n))}notifyForInvalidToken(){mt(`Provided AppCheck credentials for the app named "${this.appName}" are invalid. This usually indicates your app was not initialized correctly.`)}}class EE{constructor(n,a,s){this.appName_=n,this.firebaseOptions_=a,this.authProvider_=s,this.auth_=null,this.auth_=s.getImmediate({optional:!0}),this.auth_||s.onInit(c=>this.auth_=c)}getToken(n){return this.auth_?this.auth_.getToken(n).catch(a=>a&&a.code==="auth/token-not-initialized"?(rt("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(a)):new Promise((a,s)=>{setTimeout(()=>{this.auth_?this.getToken(n).then(a,s):a(null)},0)})}addTokenChangeListener(n){this.auth_?this.auth_.addAuthTokenListener(n):this.authProvider_.get().then(a=>a.addAuthTokenListener(n))}removeTokenChangeListener(n){this.authProvider_.get().then(a=>a.removeAuthTokenListener(n))}notifyForInvalidToken(){let n='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?n+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?n+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':n+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',mt(n)}}class Ur{constructor(n){this.accessToken=n}getToken(n){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(n){n(this.accessToken)}removeTokenChangeListener(n){}notifyForInvalidToken(){}}Ur.OWNER="owner";const Rf="5",Fy="v",Py="s",Jy="r",$y="f",Wy=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,e_="ls",t_="p",cf="ac",n_="websocket",i_="long_polling";class l_{constructor(n,a,s,c,f=!1,d="",m=!1,p=!1,g=null){this.secure=a,this.namespace=s,this.webSocketOnly=c,this.nodeAdmin=f,this.persistenceKey=d,this.includeNamespaceInQueryParams=m,this.isUsingEmulator=p,this.emulatorOptions=g,this._host=n.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=Ui.get("host:"+n)||this._host}isCacheableHost(){return this.internalHost.substr(0,2)==="s-"}isCustomHost(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"}get host(){return this._host}set host(n){n!==this.internalHost&&(this.internalHost=n,this.isCacheableHost()&&Ui.set("host:"+this._host,this.internalHost))}toString(){let n=this.toURLString();return this.persistenceKey&&(n+="<"+this.persistenceKey+">"),n}toURLString(){const n=this.secure?"https://":"http://",a=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${n}${this.host}/${a}`}}function xE(l){return l.host!==l.internalHost||l.isCustomHost()||l.includeNamespaceInQueryParams}function a_(l,n,a){U(typeof n=="string","typeof type must == string"),U(typeof a=="object","typeof params must == object");let s;if(n===n_)s=(l.secure?"wss://":"ws://")+l.internalHost+"/.ws?";else if(n===i_)s=(l.secure?"https://":"http://")+l.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+n);xE(l)&&(a.ns=l.namespace);const c=[];return ct(a,(f,d)=>{c.push(f+"="+d)}),s+c.join("&")}class CE{constructor(){this.counters_={}}incrementCounter(n,a=1){on(this.counters_,n)||(this.counters_[n]=0),this.counters_[n]+=a}get(){return v1(this.counters_)}}const Qu={},Xu={};function Mf(l){const n=l.toString();return Qu[n]||(Qu[n]=new CE),Qu[n]}function TE(l,n){const a=l.toString();return Xu[a]||(Xu[a]=n()),Xu[a]}class NE{constructor(n){this.onMessage_=n,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(n,a){this.closeAfterResponse=n,this.onClose=a,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(n,a){for(this.pendingResponses[n]=a;this.pendingResponses[this.currentResponseNum];){const s=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let c=0;c<s.length;++c)s[c]&&ql(()=>{this.onMessage_(s[c])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}const Qp="start",AE="close",wE="pLPCommand",RE="pRTLPCB",s_="id",r_="pw",c_="ser",ME="cb",DE="seg",OE="ts",jE="d",zE="dframe",o_=1870,u_=30,IE=o_-u_,LE=25e3,UE=3e4;class Rl{constructor(n,a,s,c,f,d,m){this.connId=n,this.repoInfo=a,this.applicationId=s,this.appCheckToken=c,this.authToken=f,this.transportSessionId=d,this.lastSessionId=m,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=us(n),this.stats_=Mf(a),this.urlFn=p=>(this.appCheckToken&&(p[cf]=this.appCheckToken),a_(a,i_,p))}open(n,a){this.curSegmentNum=0,this.onDisconnect_=a,this.myPacketOrderer=new NE(n),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(UE)),dE(()=>{if(this.isClosed_)return;this.scriptTagHolder=new Df((...f)=>{const[d,m,p,g,b]=f;if(this.incrementIncomingBytes_(f),!!this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,d===Qp)this.id=m,this.password=p;else if(d===AE)m?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(m,()=>{this.onClosed_()})):this.onClosed_();else throw new Error("Unrecognized command received: "+d)},(...f)=>{const[d,m]=f;this.incrementIncomingBytes_(f),this.myPacketOrderer.handleResponse(d,m)},()=>{this.onClosed_()},this.urlFn);const s={};s[Qp]="t",s[c_]=Math.floor(Math.random()*1e8),this.scriptTagHolder.uniqueCallbackIdentifier&&(s[ME]=this.scriptTagHolder.uniqueCallbackIdentifier),s[Fy]=Rf,this.transportSessionId&&(s[Py]=this.transportSessionId),this.lastSessionId&&(s[e_]=this.lastSessionId),this.applicationId&&(s[t_]=this.applicationId),this.appCheckToken&&(s[cf]=this.appCheckToken),typeof location<"u"&&location.hostname&&Wy.test(location.hostname)&&(s[Jy]=$y);const c=this.urlFn(s);this.log_("Connecting via long-poll to "+c),this.scriptTagHolder.addTag(c,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){Rl.forceAllow_=!0}static forceDisallow(){Rl.forceDisallow_=!0}static isAvailable(){return Rl.forceAllow_?!0:!Rl.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!mE()&&!gE()}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(n){const a=Je(n);this.bytesSent+=a.length,this.stats_.incrementCounter("bytes_sent",a.length);const s=Dy(a),c=Zy(s,IE);for(let f=0;f<c.length;f++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,c.length,c[f]),this.curSegmentNum++}addDisconnectPingFrame(n,a){this.myDisconnFrame=document.createElement("iframe");const s={};s[zE]="t",s[s_]=n,s[r_]=a,this.myDisconnFrame.src=this.urlFn(s),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(n){const a=Je(n).length;this.bytesReceived+=a,this.stats_.incrementCounter("bytes_received",a)}}class Df{constructor(n,a,s,c){this.onDisconnect=s,this.urlFn=c,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0;{this.uniqueCallbackIdentifier=oE(),window[wE+this.uniqueCallbackIdentifier]=n,window[RE+this.uniqueCallbackIdentifier]=a,this.myIFrame=Df.createIFrame_();let f="";this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"&&(f='<script>document.domain="'+document.domain+'";<\/script>');const d="<html><body>"+f+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(d),this.myIFrame.doc.close()}catch(m){rt("frame writing exception"),m.stack&&rt(m.stack),rt(m)}}}static createIFrame_(){const n=document.createElement("iframe");if(n.style.display="none",document.body){document.body.appendChild(n);try{n.contentWindow.document||rt("No IE domain setting required")}catch{const s=document.domain;n.src="javascript:void((function(){document.open();document.domain='"+s+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return n.contentDocument?n.doc=n.contentDocument:n.contentWindow?n.doc=n.contentWindow.document:n.document&&(n.doc=n.document),n}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{this.myIFrame!==null&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const n=this.onDisconnect;n&&(this.onDisconnect=null,n())}startLongPoll(n,a){for(this.myID=n,this.myPW=a,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const n={};n[s_]=this.myID,n[r_]=this.myPW,n[c_]=this.currentSerial;let a=this.urlFn(n),s="",c=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+u_+s.length<=o_;){const d=this.pendingSegs.shift();s=s+"&"+DE+c+"="+d.seg+"&"+OE+c+"="+d.ts+"&"+jE+c+"="+d.d,c++}return a=a+s,this.addLongPollTag_(a,this.currentSerial),!0}else return!1}enqueueSegment(n,a,s){this.pendingSegs.push({seg:n,ts:a,d:s}),this.alive&&this.newRequest_()}addLongPollTag_(n,a){this.outstandingRequests.add(a);const s=()=>{this.outstandingRequests.delete(a),this.newRequest_()},c=setTimeout(s,Math.floor(LE)),f=()=>{clearTimeout(c),s()};this.addTag(n,f)}addTag(n,a){setTimeout(()=>{try{if(!this.sendNewPolls)return;const s=this.myIFrame.doc.createElement("script");s.type="text/javascript",s.async=!0,s.src=n,s.onload=s.onreadystatechange=function(){const c=s.readyState;(!c||c==="loaded"||c==="complete")&&(s.onload=s.onreadystatechange=null,s.parentNode&&s.parentNode.removeChild(s),a())},s.onerror=()=>{rt("Long-poll script failed to load: "+n),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(s)}catch{}},Math.floor(1))}}const HE=16384,BE=45e3;let Yr=null;typeof MozWebSocket<"u"?Yr=MozWebSocket:typeof WebSocket<"u"&&(Yr=WebSocket);class Wt{constructor(n,a,s,c,f,d,m){this.connId=n,this.applicationId=s,this.appCheckToken=c,this.authToken=f,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=us(this.connId),this.stats_=Mf(a),this.connURL=Wt.connectionURL_(a,d,m,c,s),this.nodeAdmin=a.nodeAdmin}static connectionURL_(n,a,s,c,f){const d={};return d[Fy]=Rf,typeof location<"u"&&location.hostname&&Wy.test(location.hostname)&&(d[Jy]=$y),a&&(d[Py]=a),s&&(d[e_]=s),c&&(d[cf]=c),f&&(d[t_]=f),a_(n,n_,d)}open(n,a){this.onDisconnect=a,this.onMessage=n,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,Ui.set("previous_websocket_failure",!0);try{let s;z1(),this.mySock=new Yr(this.connURL,[],s)}catch(s){this.log_("Error instantiating WebSocket.");const c=s.message||s.data;c&&this.log_(c),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=s=>{this.handleIncomingFrame(s)},this.mySock.onerror=s=>{this.log_("WebSocket error.  Closing connection.");const c=s.message||s.data;c&&this.log_(c),this.onClosed_()}}start(){}static forceDisallow(){Wt.forceDisallow_=!0}static isAvailable(){let n=!1;if(typeof navigator<"u"&&navigator.userAgent){const a=/Android ([0-9]{0,}\.[0-9]{0,})/,s=navigator.userAgent.match(a);s&&s.length>1&&parseFloat(s[1])<4.4&&(n=!0)}return!n&&Yr!==null&&!Wt.forceDisallow_}static previouslyFailed(){return Ui.isInMemoryStorage||Ui.get("previous_websocket_failure")===!0}markConnectionHealthy(){Ui.remove("previous_websocket_failure")}appendFrame_(n){if(this.frames.push(n),this.frames.length===this.totalFrames){const a=this.frames.join("");this.frames=null;const s=Pa(a);this.onMessage(s)}}handleNewFrameCount_(n){this.totalFrames=n,this.frames=[]}extractFrameCount_(n){if(U(this.frames===null,"We already have a frame buffer"),n.length<=6){const a=Number(n);if(!isNaN(a))return this.handleNewFrameCount_(a),null}return this.handleNewFrameCount_(1),n}handleIncomingFrame(n){if(this.mySock===null)return;const a=n.data;if(this.bytesReceived+=a.length,this.stats_.incrementCounter("bytes_received",a.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(a);else{const s=this.extractFrameCount_(a);s!==null&&this.appendFrame_(s)}}send(n){this.resetKeepAlive();const a=Je(n);this.bytesSent+=a.length,this.stats_.incrementCounter("bytes_sent",a.length);const s=Zy(a,HE);s.length>1&&this.sendString_(String(s.length));for(let c=0;c<s.length;c++)this.sendString_(s[c])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(BE))}sendString_(n){try{this.mySock.send(n)}catch(a){this.log_("Exception thrown from WebSocket.send():",a.message||a.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}Wt.responsesRequiredToBeHealthy=2;Wt.healthyTimeout=3e4;class Wa{static get ALL_TRANSPORTS(){return[Rl,Wt]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}constructor(n){this.initTransports_(n)}initTransports_(n){const a=Wt&&Wt.isAvailable();let s=a&&!Wt.previouslyFailed();if(n.webSocketOnly&&(a||mt("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),s=!0),s)this.transports_=[Wt];else{const c=this.transports_=[];for(const f of Wa.ALL_TRANSPORTS)f&&f.isAvailable()&&c.push(f);Wa.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}Wa.globalTransportInitialized_=!1;const kE=6e4,qE=5e3,GE=10*1024,YE=100*1024,Zu="t",Xp="d",VE="s",Zp="r",QE="e",Kp="o",Fp="a",Pp="n",Jp="p",XE="h";class ZE{constructor(n,a,s,c,f,d,m,p,g,b){this.id=n,this.repoInfo_=a,this.applicationId_=s,this.appCheckToken_=c,this.authToken_=f,this.onMessage_=d,this.onReady_=m,this.onDisconnect_=p,this.onKill_=g,this.lastSessionId=b,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=us("c:"+this.id+":"),this.transportManager_=new Wa(a),this.log_("Connection created"),this.start_()}start_(){const n=this.transportManager_.initialTransport();this.conn_=new n(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=n.responsesRequiredToBeHealthy||0;const a=this.connReceiver_(this.conn_),s=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(a,s)},Math.floor(0));const c=n.healthyTimeout||0;c>0&&(this.healthyTimeout_=Xa(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>YE?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>GE?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(c)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(n){return a=>{n===this.conn_?this.onConnectionLost_(a):n===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(n){return a=>{this.state_!==2&&(n===this.rx_?this.onPrimaryMessageReceived_(a):n===this.secondaryConn_?this.onSecondaryMessageReceived_(a):this.log_("message on old connection"))}}sendRequest(n){const a={t:"d",d:n};this.sendData_(a)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(n){if(Zu in n){const a=n[Zu];a===Fp?this.upgradeIfSecondaryHealthy_():a===Zp?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):a===Kp&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(n){const a=Ba("t",n),s=Ba("d",n);if(a==="c")this.onSecondaryControl_(s);else if(a==="d")this.pendingDataMessages.push(s);else throw new Error("Unknown protocol layer: "+a)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:Jp,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:Fp,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:Pp,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(n){const a=Ba("t",n),s=Ba("d",n);a==="c"?this.onControl_(s):a==="d"&&this.onDataMessage_(s)}onDataMessage_(n){this.onPrimaryResponse_(),this.onMessage_(n)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(n){const a=Ba(Zu,n);if(Xp in n){const s=n[Xp];if(a===XE){const c={...s};this.repoInfo_.isUsingEmulator&&(c.h=this.repoInfo_.host),this.onHandshake_(c)}else if(a===Pp){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let c=0;c<this.pendingDataMessages.length;++c)this.onDataMessage_(this.pendingDataMessages[c]);this.pendingDataMessages=[],this.tryCleanupConnection()}else a===VE?this.onConnectionShutdown_(s):a===Zp?this.onReset_(s):a===QE?rf("Server Error: "+s):a===Kp?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):rf("Unknown control packet command: "+a)}}onHandshake_(n){const a=n.ts,s=n.v,c=n.h;this.sessionId=n.s,this.repoInfo_.host=c,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,a),Rf!==s&&mt("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const n=this.transportManager_.upgradeTransport();n&&this.startUpgrade_(n)}startUpgrade_(n){this.secondaryConn_=new n(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=n.responsesRequiredToBeHealthy||0;const a=this.connReceiver_(this.secondaryConn_),s=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(a,s),Xa(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(kE))}onReset_(n){this.log_("Reset packet received.  New host: "+n),this.repoInfo_.host=n,this.state_===1?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(n,a){this.log_("Realtime connection established."),this.conn_=n,this.state_=1,this.onReady_&&(this.onReady_(a,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):Xa(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(qE))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:Jp,d:{}}}))}onSecondaryConnectionLost_(){const n=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===n||this.rx_===n)&&this.close()}onConnectionLost_(n){this.conn_=null,!n&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(Ui.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()}onConnectionShutdown_(n){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(n),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(n){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(n)}close(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}class f_{put(n,a,s,c){}merge(n,a,s,c){}refreshAuthToken(n){}refreshAppCheckToken(n){}onDisconnectPut(n,a,s){}onDisconnectMerge(n,a,s){}onDisconnectCancel(n,a){}reportStats(n){}}class d_{constructor(n){this.allowedEvents_=n,this.listeners_={},U(Array.isArray(n)&&n.length>0,"Requires a non-empty array")}trigger(n,...a){if(Array.isArray(this.listeners_[n])){const s=[...this.listeners_[n]];for(let c=0;c<s.length;c++)s[c].callback.apply(s[c].context,a)}}on(n,a,s){this.validateEventType_(n),this.listeners_[n]=this.listeners_[n]||[],this.listeners_[n].push({callback:a,context:s});const c=this.getInitialEvent(n);c&&a.apply(s,c)}off(n,a,s){this.validateEventType_(n);const c=this.listeners_[n]||[];for(let f=0;f<c.length;f++)if(c[f].callback===a&&(!s||s===c[f].context)){c.splice(f,1);return}}validateEventType_(n){U(this.allowedEvents_.find(a=>a===n),"Unknown event: "+n)}}class Vr extends d_{static getInstance(){return new Vr}constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!Iy()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}getInitialEvent(n){return U(n==="online","Unknown event type: "+n),[this.online_]}currentlyOnline(){return this.online_}}const $p=32,Wp=768;class Te{constructor(n,a){if(a===void 0){this.pieces_=n.split("/");let s=0;for(let c=0;c<this.pieces_.length;c++)this.pieces_[c].length>0&&(this.pieces_[s]=this.pieces_[c],s++);this.pieces_.length=s,this.pieceNum_=0}else this.pieces_=n,this.pieceNum_=a}toString(){let n="";for(let a=this.pieceNum_;a<this.pieces_.length;a++)this.pieces_[a]!==""&&(n+="/"+this.pieces_[a]);return n||"/"}}function ge(){return new Te("")}function te(l){return l.pieceNum_>=l.pieces_.length?null:l.pieces_[l.pieceNum_]}function fi(l){return l.pieces_.length-l.pieceNum_}function De(l){let n=l.pieceNum_;return n<l.pieces_.length&&n++,new Te(l.pieces_,n)}function Of(l){return l.pieceNum_<l.pieces_.length?l.pieces_[l.pieces_.length-1]:null}function KE(l){let n="";for(let a=l.pieceNum_;a<l.pieces_.length;a++)l.pieces_[a]!==""&&(n+="/"+encodeURIComponent(String(l.pieces_[a])));return n||"/"}function es(l,n=0){return l.pieces_.slice(l.pieceNum_+n)}function h_(l){if(l.pieceNum_>=l.pieces_.length)return null;const n=[];for(let a=l.pieceNum_;a<l.pieces_.length-1;a++)n.push(l.pieces_[a]);return new Te(n,0)}function Be(l,n){const a=[];for(let s=l.pieceNum_;s<l.pieces_.length;s++)a.push(l.pieces_[s]);if(n instanceof Te)for(let s=n.pieceNum_;s<n.pieces_.length;s++)a.push(n.pieces_[s]);else{const s=n.split("/");for(let c=0;c<s.length;c++)s[c].length>0&&a.push(s[c])}return new Te(a,0)}function se(l){return l.pieceNum_>=l.pieces_.length}function ht(l,n){const a=te(l),s=te(n);if(a===null)return n;if(a===s)return ht(De(l),De(n));throw new Error("INTERNAL ERROR: innerPath ("+n+") is not within outerPath ("+l+")")}function FE(l,n){const a=es(l,0),s=es(n,0);for(let c=0;c<a.length&&c<s.length;c++){const f=Gi(a[c],s[c]);if(f!==0)return f}return a.length===s.length?0:a.length<s.length?-1:1}function jf(l,n){if(fi(l)!==fi(n))return!1;for(let a=l.pieceNum_,s=n.pieceNum_;a<=l.pieces_.length;a++,s++)if(l.pieces_[a]!==n.pieces_[s])return!1;return!0}function Kt(l,n){let a=l.pieceNum_,s=n.pieceNum_;if(fi(l)>fi(n))return!1;for(;a<l.pieces_.length;){if(l.pieces_[a]!==n.pieces_[s])return!1;++a,++s}return!0}class PE{constructor(n,a){this.errorPrefix_=a,this.parts_=es(n,0),this.byteLength_=Math.max(1,this.parts_.length);for(let s=0;s<this.parts_.length;s++)this.byteLength_+=ic(this.parts_[s]);m_(this)}}function JE(l,n){l.parts_.length>0&&(l.byteLength_+=1),l.parts_.push(n),l.byteLength_+=ic(n),m_(l)}function $E(l){const n=l.parts_.pop();l.byteLength_-=ic(n),l.parts_.length>0&&(l.byteLength_-=1)}function m_(l){if(l.byteLength_>Wp)throw new Error(l.errorPrefix_+"has a key path longer than "+Wp+" bytes ("+l.byteLength_+").");if(l.parts_.length>$p)throw new Error(l.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+$p+") or object contains a cycle "+Li(l))}function Li(l){return l.parts_.length===0?"":"in property '"+l.parts_.join(".")+"'"}class zf extends d_{static getInstance(){return new zf}constructor(){super(["visible"]);let n,a;typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(a="visibilitychange",n="hidden"):typeof document.mozHidden<"u"?(a="mozvisibilitychange",n="mozHidden"):typeof document.msHidden<"u"?(a="msvisibilitychange",n="msHidden"):typeof document.webkitHidden<"u"&&(a="webkitvisibilitychange",n="webkitHidden")),this.visible_=!0,a&&document.addEventListener(a,()=>{const s=!document[n];s!==this.visible_&&(this.visible_=s,this.trigger("visible",s))},!1)}getInitialEvent(n){return U(n==="visible","Unknown event type: "+n),[this.visible_]}}const ka=1e3,WE=300*1e3,ey=30*1e3,ex=1.3,tx=3e4,nx="server_kill",ty=3;class Mn extends f_{constructor(n,a,s,c,f,d,m,p){if(super(),this.repoInfo_=n,this.applicationId_=a,this.onDataUpdate_=s,this.onConnectStatus_=c,this.onServerInfoUpdate_=f,this.authTokenProvider_=d,this.appCheckTokenProvider_=m,this.authOverride_=p,this.id=Mn.nextPersistentConnectionId_++,this.log_=us("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=ka,this.maxReconnectDelay_=WE,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,p)throw new Error("Auth override specified in options, but not supported on non Node.js platforms");zf.getInstance().on("visible",this.onVisible_,this),n.host.indexOf("fblocal")===-1&&Vr.getInstance().on("online",this.onOnline_,this)}sendRequest(n,a,s){const c=++this.requestNumber_,f={r:c,a:n,b:a};this.log_(Je(f)),U(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(f),s&&(this.requestCBHash_[c]=s)}get(n){this.initConnection_();const a=new rs,c={action:"g",request:{p:n._path.toString(),q:n._queryObject},onComplete:d=>{const m=d.d;d.s==="ok"?a.resolve(m):a.reject(m)}};this.outstandingGets_.push(c),this.outstandingGetCount_++;const f=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(f),a.promise}listen(n,a,s,c){this.initConnection_();const f=n._queryIdentifier,d=n._path.toString();this.log_("Listen called for "+d+" "+f),this.listens.has(d)||this.listens.set(d,new Map),U(n._queryParams.isDefault()||!n._queryParams.loadsAllData(),"listen() called for non-default but complete query"),U(!this.listens.get(d).has(f),"listen() called twice for same path/queryId.");const m={onComplete:c,hashFn:a,query:n,tag:s};this.listens.get(d).set(f,m),this.connected_&&this.sendListen_(m)}sendGet_(n){const a=this.outstandingGets_[n];this.sendRequest("g",a.request,s=>{delete this.outstandingGets_[n],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),a.onComplete&&a.onComplete(s)})}sendListen_(n){const a=n.query,s=a._path.toString(),c=a._queryIdentifier;this.log_("Listen on "+s+" for "+c);const f={p:s},d="q";n.tag&&(f.q=a._queryObject,f.t=n.tag),f.h=n.hashFn(),this.sendRequest(d,f,m=>{const p=m.d,g=m.s;Mn.warnOnListenWarnings_(p,a),(this.listens.get(s)&&this.listens.get(s).get(c))===n&&(this.log_("listen response",m),g!=="ok"&&this.removeListen_(s,c),n.onComplete&&n.onComplete(g,p))})}static warnOnListenWarnings_(n,a){if(n&&typeof n=="object"&&on(n,"w")){const s=jl(n,"w");if(Array.isArray(s)&&~s.indexOf("no_index")){const c='".indexOn": "'+a._queryParams.getIndex().toString()+'"',f=a._path.toString();mt(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${c} at ${f} to your security rules for better performance.`)}}}refreshAuthToken(n){this.authToken_=n,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(n)}reduceReconnectDelayIfAdminCredential_(n){(n&&n.length===40||q1(n))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=ey)}refreshAppCheckToken(n){this.appCheckToken_=n,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const n=this.authToken_,a=k1(n)?"auth":"gauth",s={cred:n};this.authOverride_===null?s.noauth=!0:typeof this.authOverride_=="object"&&(s.authvar=this.authOverride_),this.sendRequest(a,s,c=>{const f=c.s,d=c.d||"error";this.authToken_===n&&(f==="ok"?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(f,d))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},n=>{const a=n.s,s=n.d||"error";a==="ok"?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(a,s)})}unlisten(n,a){const s=n._path.toString(),c=n._queryIdentifier;this.log_("Unlisten called for "+s+" "+c),U(n._queryParams.isDefault()||!n._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(s,c)&&this.connected_&&this.sendUnlisten_(s,c,n._queryObject,a)}sendUnlisten_(n,a,s,c){this.log_("Unlisten on "+n+" for "+a);const f={p:n},d="n";c&&(f.q=s,f.t=c),this.sendRequest(d,f)}onDisconnectPut(n,a,s){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",n,a,s):this.onDisconnectRequestQueue_.push({pathString:n,action:"o",data:a,onComplete:s})}onDisconnectMerge(n,a,s){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",n,a,s):this.onDisconnectRequestQueue_.push({pathString:n,action:"om",data:a,onComplete:s})}onDisconnectCancel(n,a){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",n,null,a):this.onDisconnectRequestQueue_.push({pathString:n,action:"oc",data:null,onComplete:a})}sendOnDisconnect_(n,a,s,c){const f={p:a,d:s};this.log_("onDisconnect "+n,f),this.sendRequest(n,f,d=>{c&&setTimeout(()=>{c(d.s,d.d)},Math.floor(0))})}put(n,a,s,c){this.putInternal("p",n,a,s,c)}merge(n,a,s,c){this.putInternal("m",n,a,s,c)}putInternal(n,a,s,c,f){this.initConnection_();const d={p:a,d:s};f!==void 0&&(d.h=f),this.outstandingPuts_.push({action:n,request:d,onComplete:c}),this.outstandingPutCount_++;const m=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(m):this.log_("Buffering put: "+a)}sendPut_(n){const a=this.outstandingPuts_[n].action,s=this.outstandingPuts_[n].request,c=this.outstandingPuts_[n].onComplete;this.outstandingPuts_[n].queued=this.connected_,this.sendRequest(a,s,f=>{this.log_(a+" response",f),delete this.outstandingPuts_[n],this.outstandingPutCount_--,this.outstandingPutCount_===0&&(this.outstandingPuts_=[]),c&&c(f.s,f.d)})}reportStats(n){if(this.connected_){const a={c:n};this.log_("reportStats",a),this.sendRequest("s",a,s=>{if(s.s!=="ok"){const f=s.d;this.log_("reportStats","Error sending stats: "+f)}})}}onDataMessage_(n){if("r"in n){this.log_("from server: "+Je(n));const a=n.r,s=this.requestCBHash_[a];s&&(delete this.requestCBHash_[a],s(n.b))}else{if("error"in n)throw"A server-side error has occurred: "+n.error;"a"in n&&this.onDataPush_(n.a,n.b)}}onDataPush_(n,a){this.log_("handleServerMessage",n,a),n==="d"?this.onDataUpdate_(a.p,a.d,!1,a.t):n==="m"?this.onDataUpdate_(a.p,a.d,!0,a.t):n==="c"?this.onListenRevoked_(a.p,a.q):n==="ac"?this.onAuthRevoked_(a.s,a.d):n==="apc"?this.onAppCheckRevoked_(a.s,a.d):n==="sd"?this.onSecurityDebugPacket_(a):rf("Unrecognized action received from server: "+Je(n)+`
Are you using the latest client?`)}onReady_(n,a){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(n),this.lastSessionId=a,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(n){U(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(n))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(n){n&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=ka,this.realtime_||this.scheduleConnect_(0)),this.visible_=n}onOnline_(n){n?(this.log_("Browser went online."),this.reconnectDelay_=ka,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>tx&&(this.reconnectDelay_=ka),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());const n=Math.max(0,new Date().getTime()-this.lastConnectionAttemptTime_);let a=Math.max(0,this.reconnectDelay_-n);a=Math.random()*a,this.log_("Trying to reconnect in "+a+"ms"),this.scheduleConnect_(a),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*ex)}this.onConnectStatus_(!1)}async establishConnection_(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;const n=this.onDataMessage_.bind(this),a=this.onReady_.bind(this),s=this.onRealtimeDisconnect_.bind(this),c=this.id+":"+Mn.nextConnectionId_++,f=this.lastSessionId;let d=!1,m=null;const p=function(){m?m.close():(d=!0,s())},g=function(v){U(m,"sendRequest call when we're not connected not allowed."),m.sendRequest(v)};this.realtime_={close:p,sendRequest:g};const b=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{const[v,E]=await Promise.all([this.authTokenProvider_.getToken(b),this.appCheckTokenProvider_.getToken(b)]);d?rt("getToken() completed but was canceled"):(rt("getToken() completed. Creating connection."),this.authToken_=v&&v.accessToken,this.appCheckToken_=E&&E.token,m=new ZE(c,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,n,a,s,z=>{mt(z+" ("+this.repoInfo_.toString()+")"),this.interrupt(nx)},f))}catch(v){this.log_("Failed to get token: "+v),d||(this.repoInfo_.nodeAdmin&&mt(v),p())}}}interrupt(n){rt("Interrupting connection for reason: "+n),this.interruptReasons_[n]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(n){rt("Resuming connection for reason: "+n),delete this.interruptReasons_[n],Mp(this.interruptReasons_)&&(this.reconnectDelay_=ka,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(n){const a=n-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:a})}cancelSentTransactions_(){for(let n=0;n<this.outstandingPuts_.length;n++){const a=this.outstandingPuts_[n];a&&"h"in a.request&&a.queued&&(a.onComplete&&a.onComplete("disconnect"),delete this.outstandingPuts_[n],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])}onListenRevoked_(n,a){let s;a?s=a.map(f=>wf(f)).join("$"):s="default";const c=this.removeListen_(n,s);c&&c.onComplete&&c.onComplete("permission_denied")}removeListen_(n,a){const s=new Te(n).toString();let c;if(this.listens.has(s)){const f=this.listens.get(s);c=f.get(a),f.delete(a),f.size===0&&this.listens.delete(s)}else c=void 0;return c}onAuthRevoked_(n,a){rt("Auth token revoked: "+n+"/"+a),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(n==="invalid_token"||n==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=ty&&(this.reconnectDelay_=ey,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(n,a){rt("App check token revoked: "+n+"/"+a),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(n==="invalid_token"||n==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=ty&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(n){this.securityDebugCallback_?this.securityDebugCallback_(n):"msg"in n&&console.log("FIREBASE: "+n.msg.replace(`
`,`
FIREBASE: `))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const n of this.listens.values())for(const a of n.values())this.sendListen_(a);for(let n=0;n<this.outstandingPuts_.length;n++)this.outstandingPuts_[n]&&this.sendPut_(n);for(;this.onDisconnectRequestQueue_.length;){const n=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(n.action,n.pathString,n.data,n.onComplete)}for(let n=0;n<this.outstandingGets_.length;n++)this.outstandingGets_[n]&&this.sendGet_(n)}sendConnectStats_(){const n={};let a="js";n["sdk."+a+"."+Vy.replace(/\./g,"-")]=1,Iy()?n["framework.cordova"]=1:j1()&&(n["framework.reactnative"]=1),this.reportStats(n)}shouldReconnect_(){const n=Vr.getInstance().currentlyOnline();return Mp(this.interruptReasons_)&&n}}Mn.nextPersistentConnectionId_=0;Mn.nextConnectionId_=0;class ne{constructor(n,a){this.name=n,this.node=a}static Wrap(n,a){return new ne(n,a)}}class lc{getCompare(){return this.compare.bind(this)}indexedValueChanged(n,a){const s=new ne(zl,n),c=new ne(zl,a);return this.compare(s,c)!==0}minPost(){return ne.MIN}}let Ir;class g_ extends lc{static get __EMPTY_NODE(){return Ir}static set __EMPTY_NODE(n){Ir=n}compare(n,a){return Gi(n.name,a.name)}isDefinedOn(n){throw Bl("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(n,a){return!1}minPost(){return ne.MIN}maxPost(){return new ne(Hi,Ir)}makePost(n,a){return U(typeof n=="string","KeyIndex indexValue must always be a string."),new ne(n,Ir)}toString(){return".key"}}const Ol=new g_;class Lr{constructor(n,a,s,c,f=null){this.isReverse_=c,this.resultGenerator_=f,this.nodeStack_=[];let d=1;for(;!n.isEmpty();)if(n=n,d=a?s(n.key,a):1,c&&(d*=-1),d<0)this.isReverse_?n=n.left:n=n.right;else if(d===0){this.nodeStack_.push(n);break}else this.nodeStack_.push(n),this.isReverse_?n=n.right:n=n.left}getNext(){if(this.nodeStack_.length===0)return null;let n=this.nodeStack_.pop(),a;if(this.resultGenerator_?a=this.resultGenerator_(n.key,n.value):a={key:n.key,value:n.value},this.isReverse_)for(n=n.left;!n.isEmpty();)this.nodeStack_.push(n),n=n.right;else for(n=n.right;!n.isEmpty();)this.nodeStack_.push(n),n=n.left;return a}hasNext(){return this.nodeStack_.length>0}peek(){if(this.nodeStack_.length===0)return null;const n=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(n.key,n.value):{key:n.key,value:n.value}}}class tt{constructor(n,a,s,c,f){this.key=n,this.value=a,this.color=s??tt.RED,this.left=c??xt.EMPTY_NODE,this.right=f??xt.EMPTY_NODE}copy(n,a,s,c,f){return new tt(n??this.key,a??this.value,s??this.color,c??this.left,f??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(n){return this.left.inorderTraversal(n)||!!n(this.key,this.value)||this.right.inorderTraversal(n)}reverseTraversal(n){return this.right.reverseTraversal(n)||n(this.key,this.value)||this.left.reverseTraversal(n)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(n,a,s){let c=this;const f=s(n,c.key);return f<0?c=c.copy(null,null,null,c.left.insert(n,a,s),null):f===0?c=c.copy(null,a,null,null,null):c=c.copy(null,null,null,null,c.right.insert(n,a,s)),c.fixUp_()}removeMin_(){if(this.left.isEmpty())return xt.EMPTY_NODE;let n=this;return!n.left.isRed_()&&!n.left.left.isRed_()&&(n=n.moveRedLeft_()),n=n.copy(null,null,null,n.left.removeMin_(),null),n.fixUp_()}remove(n,a){let s,c;if(s=this,a(n,s.key)<0)!s.left.isEmpty()&&!s.left.isRed_()&&!s.left.left.isRed_()&&(s=s.moveRedLeft_()),s=s.copy(null,null,null,s.left.remove(n,a),null);else{if(s.left.isRed_()&&(s=s.rotateRight_()),!s.right.isEmpty()&&!s.right.isRed_()&&!s.right.left.isRed_()&&(s=s.moveRedRight_()),a(n,s.key)===0){if(s.right.isEmpty())return xt.EMPTY_NODE;c=s.right.min_(),s=s.copy(c.key,c.value,null,null,s.right.removeMin_())}s=s.copy(null,null,null,null,s.right.remove(n,a))}return s.fixUp_()}isRed_(){return this.color}fixUp_(){let n=this;return n.right.isRed_()&&!n.left.isRed_()&&(n=n.rotateLeft_()),n.left.isRed_()&&n.left.left.isRed_()&&(n=n.rotateRight_()),n.left.isRed_()&&n.right.isRed_()&&(n=n.colorFlip_()),n}moveRedLeft_(){let n=this.colorFlip_();return n.right.left.isRed_()&&(n=n.copy(null,null,null,null,n.right.rotateRight_()),n=n.rotateLeft_(),n=n.colorFlip_()),n}moveRedRight_(){let n=this.colorFlip_();return n.left.left.isRed_()&&(n=n.rotateRight_(),n=n.colorFlip_()),n}rotateLeft_(){const n=this.copy(null,null,tt.RED,null,this.right.left);return this.right.copy(null,null,this.color,n,null)}rotateRight_(){const n=this.copy(null,null,tt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,n)}colorFlip_(){const n=this.left.copy(null,null,!this.left.color,null,null),a=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,n,a)}checkMaxDepth_(){const n=this.check_();return Math.pow(2,n)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const n=this.left.check_();if(n!==this.right.check_())throw new Error("Black depths differ");return n+(this.isRed_()?0:1)}}tt.RED=!0;tt.BLACK=!1;class ix{copy(n,a,s,c,f){return this}insert(n,a,s){return new tt(n,a,null)}remove(n,a){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(n){return!1}reverseTraversal(n){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}}class xt{constructor(n,a=xt.EMPTY_NODE){this.comparator_=n,this.root_=a}insert(n,a){return new xt(this.comparator_,this.root_.insert(n,a,this.comparator_).copy(null,null,tt.BLACK,null,null))}remove(n){return new xt(this.comparator_,this.root_.remove(n,this.comparator_).copy(null,null,tt.BLACK,null,null))}get(n){let a,s=this.root_;for(;!s.isEmpty();){if(a=this.comparator_(n,s.key),a===0)return s.value;a<0?s=s.left:a>0&&(s=s.right)}return null}getPredecessorKey(n){let a,s=this.root_,c=null;for(;!s.isEmpty();)if(a=this.comparator_(n,s.key),a===0){if(s.left.isEmpty())return c?c.key:null;for(s=s.left;!s.right.isEmpty();)s=s.right;return s.key}else a<0?s=s.left:a>0&&(c=s,s=s.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(n){return this.root_.inorderTraversal(n)}reverseTraversal(n){return this.root_.reverseTraversal(n)}getIterator(n){return new Lr(this.root_,null,this.comparator_,!1,n)}getIteratorFrom(n,a){return new Lr(this.root_,n,this.comparator_,!1,a)}getReverseIteratorFrom(n,a){return new Lr(this.root_,n,this.comparator_,!0,a)}getReverseIterator(n){return new Lr(this.root_,null,this.comparator_,!0,n)}}xt.EMPTY_NODE=new ix;function lx(l,n){return Gi(l.name,n.name)}function If(l,n){return Gi(l,n)}let of;function ax(l){of=l}const p_=function(l){return typeof l=="number"?"number:"+Ky(l):"string:"+l},y_=function(l){if(l.isLeafNode()){const n=l.val();U(typeof n=="string"||typeof n=="number"||typeof n=="object"&&on(n,".sv"),"Priority must be a string or number.")}else U(l===of||l.isEmpty(),"priority of unexpected type.");U(l===of||l.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};let ny;class et{static set __childrenNodeConstructor(n){ny=n}static get __childrenNodeConstructor(){return ny}constructor(n,a=et.__childrenNodeConstructor.EMPTY_NODE){this.value_=n,this.priorityNode_=a,this.lazyHash_=null,U(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),y_(this.priorityNode_)}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(n){return new et(this.value_,n)}getImmediateChild(n){return n===".priority"?this.priorityNode_:et.__childrenNodeConstructor.EMPTY_NODE}getChild(n){return se(n)?this:te(n)===".priority"?this.priorityNode_:et.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(n,a){return null}updateImmediateChild(n,a){return n===".priority"?this.updatePriority(a):a.isEmpty()&&n!==".priority"?this:et.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(n,a).updatePriority(this.priorityNode_)}updateChild(n,a){const s=te(n);return s===null?a:a.isEmpty()&&s!==".priority"?this:(U(s!==".priority"||fi(n)===1,".priority must be the last token in a path"),this.updateImmediateChild(s,et.__childrenNodeConstructor.EMPTY_NODE.updateChild(De(n),a)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(n,a){return!1}val(n){return n&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(this.lazyHash_===null){let n="";this.priorityNode_.isEmpty()||(n+="priority:"+p_(this.priorityNode_.val())+":");const a=typeof this.value_;n+=a+":",a==="number"?n+=Ky(this.value_):n+=this.value_,this.lazyHash_=Xy(n)}return this.lazyHash_}getValue(){return this.value_}compareTo(n){return n===et.__childrenNodeConstructor.EMPTY_NODE?1:n instanceof et.__childrenNodeConstructor?-1:(U(n.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(n))}compareToLeafNode_(n){const a=typeof n.value_,s=typeof this.value_,c=et.VALUE_TYPE_ORDER.indexOf(a),f=et.VALUE_TYPE_ORDER.indexOf(s);return U(c>=0,"Unknown leaf type: "+a),U(f>=0,"Unknown leaf type: "+s),c===f?s==="object"?0:this.value_<n.value_?-1:this.value_===n.value_?0:1:f-c}withIndex(){return this}isIndexed(){return!0}equals(n){if(n===this)return!0;if(n.isLeafNode()){const a=n;return this.value_===a.value_&&this.priorityNode_.equals(a.priorityNode_)}else return!1}}et.VALUE_TYPE_ORDER=["object","boolean","number","string"];let __,v_;function sx(l){__=l}function rx(l){v_=l}class cx extends lc{compare(n,a){const s=n.node.getPriority(),c=a.node.getPriority(),f=s.compareTo(c);return f===0?Gi(n.name,a.name):f}isDefinedOn(n){return!n.getPriority().isEmpty()}indexedValueChanged(n,a){return!n.getPriority().equals(a.getPriority())}minPost(){return ne.MIN}maxPost(){return new ne(Hi,new et("[PRIORITY-POST]",v_))}makePost(n,a){const s=__(n);return new ne(a,new et("[PRIORITY-POST]",s))}toString(){return".priority"}}const ke=new cx;const ox=Math.log(2);class ux{constructor(n){const a=f=>parseInt(Math.log(f)/ox,10),s=f=>parseInt(Array(f+1).join("1"),2);this.count=a(n+1),this.current_=this.count-1;const c=s(this.count);this.bits_=n+1&c}nextBitIsOne(){const n=!(this.bits_&1<<this.current_);return this.current_--,n}}const Qr=function(l,n,a,s){l.sort(n);const c=function(p,g){const b=g-p;let v,E;if(b===0)return null;if(b===1)return v=l[p],E=a?a(v):v,new tt(E,v.node,tt.BLACK,null,null);{const z=parseInt(b/2,10)+p,L=c(p,z),k=c(z+1,g);return v=l[z],E=a?a(v):v,new tt(E,v.node,tt.BLACK,L,k)}},f=function(p){let g=null,b=null,v=l.length;const E=function(L,k){const K=v-L,fe=v;v-=L;const Ne=c(K+1,fe),oe=l[K],Oe=a?a(oe):oe;z(new tt(Oe,oe.node,k,null,Ne))},z=function(L){g?(g.left=L,g=L):(b=L,g=L)};for(let L=0;L<p.count;++L){const k=p.nextBitIsOne(),K=Math.pow(2,p.count-(L+1));k?E(K,tt.BLACK):(E(K,tt.BLACK),E(K,tt.RED))}return b},d=new ux(l.length),m=f(d);return new xt(s||n,m)};let Ku;const wl={};class wn{static get Default(){return U(wl&&ke,"ChildrenNode.ts has not been loaded"),Ku=Ku||new wn({".priority":wl},{".priority":ke}),Ku}constructor(n,a){this.indexes_=n,this.indexSet_=a}get(n){const a=jl(this.indexes_,n);if(!a)throw new Error("No index defined for "+n);return a instanceof xt?a:null}hasIndex(n){return on(this.indexSet_,n.toString())}addIndex(n,a){U(n!==Ol,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const s=[];let c=!1;const f=a.getIterator(ne.Wrap);let d=f.getNext();for(;d;)c=c||n.isDefinedOn(d.node),s.push(d),d=f.getNext();let m;c?m=Qr(s,n.getCompare()):m=wl;const p=n.toString(),g={...this.indexSet_};g[p]=n;const b={...this.indexes_};return b[p]=m,new wn(b,g)}addToIndexes(n,a){const s=Br(this.indexes_,(c,f)=>{const d=jl(this.indexSet_,f);if(U(d,"Missing index implementation for "+f),c===wl)if(d.isDefinedOn(n.node)){const m=[],p=a.getIterator(ne.Wrap);let g=p.getNext();for(;g;)g.name!==n.name&&m.push(g),g=p.getNext();return m.push(n),Qr(m,d.getCompare())}else return wl;else{const m=a.get(n.name);let p=c;return m&&(p=p.remove(new ne(n.name,m))),p.insert(n,n.node)}});return new wn(s,this.indexSet_)}removeFromIndexes(n,a){const s=Br(this.indexes_,c=>{if(c===wl)return c;{const f=a.get(n.name);return f?c.remove(new ne(n.name,f)):c}});return new wn(s,this.indexSet_)}}let qa;class X{static get EMPTY_NODE(){return qa||(qa=new X(new xt(If),null,wn.Default))}constructor(n,a,s){this.children_=n,this.priorityNode_=a,this.indexMap_=s,this.lazyHash_=null,this.priorityNode_&&y_(this.priorityNode_),this.children_.isEmpty()&&U(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}isLeafNode(){return!1}getPriority(){return this.priorityNode_||qa}updatePriority(n){return this.children_.isEmpty()?this:new X(this.children_,n,this.indexMap_)}getImmediateChild(n){if(n===".priority")return this.getPriority();{const a=this.children_.get(n);return a===null?qa:a}}getChild(n){const a=te(n);return a===null?this:this.getImmediateChild(a).getChild(De(n))}hasChild(n){return this.children_.get(n)!==null}updateImmediateChild(n,a){if(U(a,"We should always be passing snapshot nodes"),n===".priority")return this.updatePriority(a);{const s=new ne(n,a);let c,f;a.isEmpty()?(c=this.children_.remove(n),f=this.indexMap_.removeFromIndexes(s,this.children_)):(c=this.children_.insert(n,a),f=this.indexMap_.addToIndexes(s,this.children_));const d=c.isEmpty()?qa:this.priorityNode_;return new X(c,d,f)}}updateChild(n,a){const s=te(n);if(s===null)return a;{U(te(n)!==".priority"||fi(n)===1,".priority must be the last token in a path");const c=this.getImmediateChild(s).updateChild(De(n),a);return this.updateImmediateChild(s,c)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(n){if(this.isEmpty())return null;const a={};let s=0,c=0,f=!0;if(this.forEachChild(ke,(d,m)=>{a[d]=m.val(n),s++,f&&X.INTEGER_REGEXP_.test(d)?c=Math.max(c,Number(d)):f=!1}),!n&&f&&c<2*s){const d=[];for(const m in a)d[m]=a[m];return d}else return n&&!this.getPriority().isEmpty()&&(a[".priority"]=this.getPriority().val()),a}hash(){if(this.lazyHash_===null){let n="";this.getPriority().isEmpty()||(n+="priority:"+p_(this.getPriority().val())+":"),this.forEachChild(ke,(a,s)=>{const c=s.hash();c!==""&&(n+=":"+a+":"+c)}),this.lazyHash_=n===""?"":Xy(n)}return this.lazyHash_}getPredecessorChildName(n,a,s){const c=this.resolveIndex_(s);if(c){const f=c.getPredecessorKey(new ne(n,a));return f?f.name:null}else return this.children_.getPredecessorKey(n)}getFirstChildName(n){const a=this.resolveIndex_(n);if(a){const s=a.minKey();return s&&s.name}else return this.children_.minKey()}getFirstChild(n){const a=this.getFirstChildName(n);return a?new ne(a,this.children_.get(a)):null}getLastChildName(n){const a=this.resolveIndex_(n);if(a){const s=a.maxKey();return s&&s.name}else return this.children_.maxKey()}getLastChild(n){const a=this.getLastChildName(n);return a?new ne(a,this.children_.get(a)):null}forEachChild(n,a){const s=this.resolveIndex_(n);return s?s.inorderTraversal(c=>a(c.name,c.node)):this.children_.inorderTraversal(a)}getIterator(n){return this.getIteratorFrom(n.minPost(),n)}getIteratorFrom(n,a){const s=this.resolveIndex_(a);if(s)return s.getIteratorFrom(n,c=>c);{const c=this.children_.getIteratorFrom(n.name,ne.Wrap);let f=c.peek();for(;f!=null&&a.compare(f,n)<0;)c.getNext(),f=c.peek();return c}}getReverseIterator(n){return this.getReverseIteratorFrom(n.maxPost(),n)}getReverseIteratorFrom(n,a){const s=this.resolveIndex_(a);if(s)return s.getReverseIteratorFrom(n,c=>c);{const c=this.children_.getReverseIteratorFrom(n.name,ne.Wrap);let f=c.peek();for(;f!=null&&a.compare(f,n)>0;)c.getNext(),f=c.peek();return c}}compareTo(n){return this.isEmpty()?n.isEmpty()?0:-1:n.isLeafNode()||n.isEmpty()?1:n===fs?-1:0}withIndex(n){if(n===Ol||this.indexMap_.hasIndex(n))return this;{const a=this.indexMap_.addIndex(n,this.children_);return new X(this.children_,this.priorityNode_,a)}}isIndexed(n){return n===Ol||this.indexMap_.hasIndex(n)}equals(n){if(n===this)return!0;if(n.isLeafNode())return!1;{const a=n;if(this.getPriority().equals(a.getPriority()))if(this.children_.count()===a.children_.count()){const s=this.getIterator(ke),c=a.getIterator(ke);let f=s.getNext(),d=c.getNext();for(;f&&d;){if(f.name!==d.name||!f.node.equals(d.node))return!1;f=s.getNext(),d=c.getNext()}return f===null&&d===null}else return!1;else return!1}}resolveIndex_(n){return n===Ol?null:this.indexMap_.get(n.toString())}}X.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;class fx extends X{constructor(){super(new xt(If),X.EMPTY_NODE,wn.Default)}compareTo(n){return n===this?0:1}equals(n){return n===this}getPriority(){return this}getImmediateChild(n){return X.EMPTY_NODE}isEmpty(){return!1}}const fs=new fx;Object.defineProperties(ne,{MIN:{value:new ne(zl,X.EMPTY_NODE)},MAX:{value:new ne(Hi,fs)}});g_.__EMPTY_NODE=X.EMPTY_NODE;et.__childrenNodeConstructor=X;ax(fs);rx(fs);const dx=!0;function Pe(l,n=null){if(l===null)return X.EMPTY_NODE;if(typeof l=="object"&&".priority"in l&&(n=l[".priority"]),U(n===null||typeof n=="string"||typeof n=="number"||typeof n=="object"&&".sv"in n,"Invalid priority type found: "+typeof n),typeof l=="object"&&".value"in l&&l[".value"]!==null&&(l=l[".value"]),typeof l!="object"||".sv"in l){const a=l;return new et(a,Pe(n))}if(!(l instanceof Array)&&dx){const a=[];let s=!1;if(ct(l,(d,m)=>{if(d.substring(0,1)!=="."){const p=Pe(m);p.isEmpty()||(s=s||!p.getPriority().isEmpty(),a.push(new ne(d,p)))}}),a.length===0)return X.EMPTY_NODE;const f=Qr(a,lx,d=>d.name,If);if(s){const d=Qr(a,ke.getCompare());return new X(f,Pe(n),new wn({".priority":d},{".priority":ke}))}else return new X(f,Pe(n),wn.Default)}else{let a=X.EMPTY_NODE;return ct(l,(s,c)=>{if(on(l,s)&&s.substring(0,1)!=="."){const f=Pe(c);(f.isLeafNode()||!f.isEmpty())&&(a=a.updateImmediateChild(s,f))}}),a.updatePriority(Pe(n))}}sx(Pe);class hx extends lc{constructor(n){super(),this.indexPath_=n,U(!se(n)&&te(n)!==".priority","Can't create PathIndex with empty path or .priority key")}extractChild(n){return n.getChild(this.indexPath_)}isDefinedOn(n){return!n.getChild(this.indexPath_).isEmpty()}compare(n,a){const s=this.extractChild(n.node),c=this.extractChild(a.node),f=s.compareTo(c);return f===0?Gi(n.name,a.name):f}makePost(n,a){const s=Pe(n),c=X.EMPTY_NODE.updateChild(this.indexPath_,s);return new ne(a,c)}maxPost(){const n=X.EMPTY_NODE.updateChild(this.indexPath_,fs);return new ne(Hi,n)}toString(){return es(this.indexPath_,0).join("/")}}class mx extends lc{compare(n,a){const s=n.node.compareTo(a.node);return s===0?Gi(n.name,a.name):s}isDefinedOn(n){return!0}indexedValueChanged(n,a){return!n.equals(a)}minPost(){return ne.MIN}maxPost(){return ne.MAX}makePost(n,a){const s=Pe(n);return new ne(a,s)}toString(){return".value"}}const gx=new mx;function b_(l){return{type:"value",snapshotNode:l}}function Il(l,n){return{type:"child_added",snapshotNode:n,childName:l}}function ts(l,n){return{type:"child_removed",snapshotNode:n,childName:l}}function ns(l,n,a){return{type:"child_changed",snapshotNode:n,childName:l,oldSnap:a}}function px(l,n){return{type:"child_moved",snapshotNode:n,childName:l}}class Lf{constructor(n){this.index_=n}updateChild(n,a,s,c,f,d){U(n.isIndexed(this.index_),"A node must be indexed if only a child is updated");const m=n.getImmediateChild(a);return m.getChild(c).equals(s.getChild(c))&&m.isEmpty()===s.isEmpty()||(d!=null&&(s.isEmpty()?n.hasChild(a)?d.trackChildChange(ts(a,m)):U(n.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):m.isEmpty()?d.trackChildChange(Il(a,s)):d.trackChildChange(ns(a,s,m))),n.isLeafNode()&&s.isEmpty())?n:n.updateImmediateChild(a,s).withIndex(this.index_)}updateFullNode(n,a,s){return s!=null&&(n.isLeafNode()||n.forEachChild(ke,(c,f)=>{a.hasChild(c)||s.trackChildChange(ts(c,f))}),a.isLeafNode()||a.forEachChild(ke,(c,f)=>{if(n.hasChild(c)){const d=n.getImmediateChild(c);d.equals(f)||s.trackChildChange(ns(c,f,d))}else s.trackChildChange(Il(c,f))})),a.withIndex(this.index_)}updatePriority(n,a){return n.isEmpty()?X.EMPTY_NODE:n.updatePriority(a)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}class is{constructor(n){this.indexedFilter_=new Lf(n.getIndex()),this.index_=n.getIndex(),this.startPost_=is.getStartPost_(n),this.endPost_=is.getEndPost_(n),this.startIsInclusive_=!n.startAfterSet_,this.endIsInclusive_=!n.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(n){const a=this.startIsInclusive_?this.index_.compare(this.getStartPost(),n)<=0:this.index_.compare(this.getStartPost(),n)<0,s=this.endIsInclusive_?this.index_.compare(n,this.getEndPost())<=0:this.index_.compare(n,this.getEndPost())<0;return a&&s}updateChild(n,a,s,c,f,d){return this.matches(new ne(a,s))||(s=X.EMPTY_NODE),this.indexedFilter_.updateChild(n,a,s,c,f,d)}updateFullNode(n,a,s){a.isLeafNode()&&(a=X.EMPTY_NODE);let c=a.withIndex(this.index_);c=c.updatePriority(X.EMPTY_NODE);const f=this;return a.forEachChild(ke,(d,m)=>{f.matches(new ne(d,m))||(c=c.updateImmediateChild(d,X.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(n,c,s)}updatePriority(n,a){return n}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(n){if(n.hasStart()){const a=n.getIndexStartName();return n.getIndex().makePost(n.getIndexStartValue(),a)}else return n.getIndex().minPost()}static getEndPost_(n){if(n.hasEnd()){const a=n.getIndexEndName();return n.getIndex().makePost(n.getIndexEndValue(),a)}else return n.getIndex().maxPost()}}class yx{constructor(n){this.withinDirectionalStart=a=>this.reverse_?this.withinEndPost(a):this.withinStartPost(a),this.withinDirectionalEnd=a=>this.reverse_?this.withinStartPost(a):this.withinEndPost(a),this.withinStartPost=a=>{const s=this.index_.compare(this.rangedFilter_.getStartPost(),a);return this.startIsInclusive_?s<=0:s<0},this.withinEndPost=a=>{const s=this.index_.compare(a,this.rangedFilter_.getEndPost());return this.endIsInclusive_?s<=0:s<0},this.rangedFilter_=new is(n),this.index_=n.getIndex(),this.limit_=n.getLimit(),this.reverse_=!n.isViewFromLeft(),this.startIsInclusive_=!n.startAfterSet_,this.endIsInclusive_=!n.endBeforeSet_}updateChild(n,a,s,c,f,d){return this.rangedFilter_.matches(new ne(a,s))||(s=X.EMPTY_NODE),n.getImmediateChild(a).equals(s)?n:n.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(n,a,s,c,f,d):this.fullLimitUpdateChild_(n,a,s,f,d)}updateFullNode(n,a,s){let c;if(a.isLeafNode()||a.isEmpty())c=X.EMPTY_NODE.withIndex(this.index_);else if(this.limit_*2<a.numChildren()&&a.isIndexed(this.index_)){c=X.EMPTY_NODE.withIndex(this.index_);let f;this.reverse_?f=a.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):f=a.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let d=0;for(;f.hasNext()&&d<this.limit_;){const m=f.getNext();if(this.withinDirectionalStart(m))if(this.withinDirectionalEnd(m))c=c.updateImmediateChild(m.name,m.node),d++;else break;else continue}}else{c=a.withIndex(this.index_),c=c.updatePriority(X.EMPTY_NODE);let f;this.reverse_?f=c.getReverseIterator(this.index_):f=c.getIterator(this.index_);let d=0;for(;f.hasNext();){const m=f.getNext();d<this.limit_&&this.withinDirectionalStart(m)&&this.withinDirectionalEnd(m)?d++:c=c.updateImmediateChild(m.name,X.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(n,c,s)}updatePriority(n,a){return n}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(n,a,s,c,f){let d;if(this.reverse_){const v=this.index_.getCompare();d=(E,z)=>v(z,E)}else d=this.index_.getCompare();const m=n;U(m.numChildren()===this.limit_,"");const p=new ne(a,s),g=this.reverse_?m.getFirstChild(this.index_):m.getLastChild(this.index_),b=this.rangedFilter_.matches(p);if(m.hasChild(a)){const v=m.getImmediateChild(a);let E=c.getChildAfterChild(this.index_,g,this.reverse_);for(;E!=null&&(E.name===a||m.hasChild(E.name));)E=c.getChildAfterChild(this.index_,E,this.reverse_);const z=E==null?1:d(E,p);if(b&&!s.isEmpty()&&z>=0)return f?.trackChildChange(ns(a,s,v)),m.updateImmediateChild(a,s);{f?.trackChildChange(ts(a,v));const k=m.updateImmediateChild(a,X.EMPTY_NODE);return E!=null&&this.rangedFilter_.matches(E)?(f?.trackChildChange(Il(E.name,E.node)),k.updateImmediateChild(E.name,E.node)):k}}else return s.isEmpty()?n:b&&d(g,p)>=0?(f!=null&&(f.trackChildChange(ts(g.name,g.node)),f.trackChildChange(Il(a,s))),m.updateImmediateChild(a,s).updateImmediateChild(g.name,X.EMPTY_NODE)):n}}class Uf{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=ke}hasStart(){return this.startSet_}isViewFromLeft(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"}getIndexStartValue(){return U(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return U(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:zl}hasEnd(){return this.endSet_}getIndexEndValue(){return U(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return U(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:Hi}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&this.viewFrom_!==""}getLimit(){return U(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===ke}copy(){const n=new Uf;return n.limitSet_=this.limitSet_,n.limit_=this.limit_,n.startSet_=this.startSet_,n.startAfterSet_=this.startAfterSet_,n.indexStartValue_=this.indexStartValue_,n.startNameSet_=this.startNameSet_,n.indexStartName_=this.indexStartName_,n.endSet_=this.endSet_,n.endBeforeSet_=this.endBeforeSet_,n.indexEndValue_=this.indexEndValue_,n.endNameSet_=this.endNameSet_,n.indexEndName_=this.indexEndName_,n.index_=this.index_,n.viewFrom_=this.viewFrom_,n}}function _x(l){return l.loadsAllData()?new Lf(l.getIndex()):l.hasLimit()?new yx(l):new is(l)}function iy(l){const n={};if(l.isDefault())return n;let a;if(l.index_===ke?a="$priority":l.index_===gx?a="$value":l.index_===Ol?a="$key":(U(l.index_ instanceof hx,"Unrecognized index type!"),a=l.index_.toString()),n.orderBy=Je(a),l.startSet_){const s=l.startAfterSet_?"startAfter":"startAt";n[s]=Je(l.indexStartValue_),l.startNameSet_&&(n[s]+=","+Je(l.indexStartName_))}if(l.endSet_){const s=l.endBeforeSet_?"endBefore":"endAt";n[s]=Je(l.indexEndValue_),l.endNameSet_&&(n[s]+=","+Je(l.indexEndName_))}return l.limitSet_&&(l.isViewFromLeft()?n.limitToFirst=l.limit_:n.limitToLast=l.limit_),n}function ly(l){const n={};if(l.startSet_&&(n.sp=l.indexStartValue_,l.startNameSet_&&(n.sn=l.indexStartName_),n.sin=!l.startAfterSet_),l.endSet_&&(n.ep=l.indexEndValue_,l.endNameSet_&&(n.en=l.indexEndName_),n.ein=!l.endBeforeSet_),l.limitSet_){n.l=l.limit_;let a=l.viewFrom_;a===""&&(l.isViewFromLeft()?a="l":a="r"),n.vf=a}return l.index_!==ke&&(n.i=l.index_.toString()),n}class Xr extends f_{reportStats(n){throw new Error("Method not implemented.")}static getListenId_(n,a){return a!==void 0?"tag$"+a:(U(n._queryParams.isDefault(),"should have a tag if it's not a default query."),n._path.toString())}constructor(n,a,s,c){super(),this.repoInfo_=n,this.onDataUpdate_=a,this.authTokenProvider_=s,this.appCheckTokenProvider_=c,this.log_=us("p:rest:"),this.listens_={}}listen(n,a,s,c){const f=n._path.toString();this.log_("Listen called for "+f+" "+n._queryIdentifier);const d=Xr.getListenId_(n,s),m={};this.listens_[d]=m;const p=iy(n._queryParams);this.restRequest_(f+".json",p,(g,b)=>{let v=b;if(g===404&&(v=null,g=null),g===null&&this.onDataUpdate_(f,v,!1,s),jl(this.listens_,d)===m){let E;g?g===401?E="permission_denied":E="rest_error:"+g:E="ok",c(E,null)}})}unlisten(n,a){const s=Xr.getListenId_(n,a);delete this.listens_[s]}get(n){const a=iy(n._queryParams),s=n._path.toString(),c=new rs;return this.restRequest_(s+".json",a,(f,d)=>{let m=d;f===404&&(m=null,f=null),f===null?(this.onDataUpdate_(s,m,!1,null),c.resolve(m)):c.reject(new Error(m))}),c.promise}refreshAuthToken(n){}restRequest_(n,a={},s){return a.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([c,f])=>{c&&c.accessToken&&(a.auth=c.accessToken),f&&f.token&&(a.ac=f.token);const d=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+n+"?ns="+this.repoInfo_.namespace+G1(a);this.log_("Sending REST request for "+d);const m=new XMLHttpRequest;m.onreadystatechange=()=>{if(s&&m.readyState===4){this.log_("REST Response for "+d+" received. status:",m.status,"response:",m.responseText);let p=null;if(m.status>=200&&m.status<300){try{p=Pa(m.responseText)}catch{mt("Failed to parse JSON response for "+d+": "+m.responseText)}s(null,p)}else m.status!==401&&m.status!==404&&mt("Got unsuccessful REST response for "+d+" Status: "+m.status),s(m.status);s=null}},m.open("GET",d,!0),m.send()})}}class vx{constructor(){this.rootNode_=X.EMPTY_NODE}getNode(n){return this.rootNode_.getChild(n)}updateSnapshot(n,a){this.rootNode_=this.rootNode_.updateChild(n,a)}}function Zr(){return{value:null,children:new Map}}function S_(l,n,a){if(se(n))l.value=a,l.children.clear();else if(l.value!==null)l.value=l.value.updateChild(n,a);else{const s=te(n);l.children.has(s)||l.children.set(s,Zr());const c=l.children.get(s);n=De(n),S_(c,n,a)}}function uf(l,n,a){l.value!==null?a(n,l.value):bx(l,(s,c)=>{const f=new Te(n.toString()+"/"+s);uf(c,f,a)})}function bx(l,n){l.children.forEach((a,s)=>{n(s,a)})}class Sx{constructor(n){this.collection_=n,this.last_=null}get(){const n=this.collection_.get(),a={...n};return this.last_&&ct(this.last_,(s,c)=>{a[s]=a[s]-c}),this.last_=n,a}}const ay=10*1e3,Ex=30*1e3,xx=300*1e3;class Cx{constructor(n,a){this.server_=a,this.statsToReport_={},this.statsListener_=new Sx(n);const s=ay+(Ex-ay)*Math.random();Xa(this.reportStats_.bind(this),Math.floor(s))}reportStats_(){const n=this.statsListener_.get(),a={};let s=!1;ct(n,(c,f)=>{f>0&&on(this.statsToReport_,c)&&(a[c]=f,s=!0)}),s&&this.server_.reportStats(a),Xa(this.reportStats_.bind(this),Math.floor(Math.random()*2*xx))}}var en;(function(l){l[l.OVERWRITE=0]="OVERWRITE",l[l.MERGE=1]="MERGE",l[l.ACK_USER_WRITE=2]="ACK_USER_WRITE",l[l.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"})(en||(en={}));function Hf(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function Bf(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function kf(l){return{fromUser:!1,fromServer:!0,queryId:l,tagged:!0}}class Kr{constructor(n,a,s){this.path=n,this.affectedTree=a,this.revert=s,this.type=en.ACK_USER_WRITE,this.source=Hf()}operationForChild(n){if(se(this.path)){if(this.affectedTree.value!=null)return U(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const a=this.affectedTree.subtree(new Te(n));return new Kr(ge(),a,this.revert)}}else return U(te(this.path)===n,"operationForChild called for unrelated child."),new Kr(De(this.path),this.affectedTree,this.revert)}}class ls{constructor(n,a){this.source=n,this.path=a,this.type=en.LISTEN_COMPLETE}operationForChild(n){return se(this.path)?new ls(this.source,ge()):new ls(this.source,De(this.path))}}class Bi{constructor(n,a,s){this.source=n,this.path=a,this.snap=s,this.type=en.OVERWRITE}operationForChild(n){return se(this.path)?new Bi(this.source,ge(),this.snap.getImmediateChild(n)):new Bi(this.source,De(this.path),this.snap)}}class Ll{constructor(n,a,s){this.source=n,this.path=a,this.children=s,this.type=en.MERGE}operationForChild(n){if(se(this.path)){const a=this.children.subtree(new Te(n));return a.isEmpty()?null:a.value?new Bi(this.source,ge(),a.value):new Ll(this.source,ge(),a)}else return U(te(this.path)===n,"Can't get a merge for a child not on the path of the operation"),new Ll(this.source,De(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}class di{constructor(n,a,s){this.node_=n,this.fullyInitialized_=a,this.filtered_=s}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(n){if(se(n))return this.isFullyInitialized()&&!this.filtered_;const a=te(n);return this.isCompleteForChild(a)}isCompleteForChild(n){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(n)}getNode(){return this.node_}}class Tx{constructor(n){this.query_=n,this.index_=this.query_._queryParams.getIndex()}}function Nx(l,n,a,s){const c=[],f=[];return n.forEach(d=>{d.type==="child_changed"&&l.index_.indexedValueChanged(d.oldSnap,d.snapshotNode)&&f.push(px(d.childName,d.snapshotNode))}),Ga(l,c,"child_removed",n,s,a),Ga(l,c,"child_added",n,s,a),Ga(l,c,"child_moved",f,s,a),Ga(l,c,"child_changed",n,s,a),Ga(l,c,"value",n,s,a),c}function Ga(l,n,a,s,c,f){const d=s.filter(m=>m.type===a);d.sort((m,p)=>wx(l,m,p)),d.forEach(m=>{const p=Ax(l,m,f);c.forEach(g=>{g.respondsTo(m.type)&&n.push(g.createEvent(p,l.query_))})})}function Ax(l,n,a){return n.type==="value"||n.type==="child_removed"||(n.prevName=a.getPredecessorChildName(n.childName,n.snapshotNode,l.index_)),n}function wx(l,n,a){if(n.childName==null||a.childName==null)throw Bl("Should only compare child_ events.");const s=new ne(n.childName,n.snapshotNode),c=new ne(a.childName,a.snapshotNode);return l.index_.compare(s,c)}function ac(l,n){return{eventCache:l,serverCache:n}}function Za(l,n,a,s){return ac(new di(n,a,s),l.serverCache)}function E_(l,n,a,s){return ac(l.eventCache,new di(n,a,s))}function Fr(l){return l.eventCache.isFullyInitialized()?l.eventCache.getNode():null}function ki(l){return l.serverCache.isFullyInitialized()?l.serverCache.getNode():null}let Fu;const Rx=()=>(Fu||(Fu=new xt(hE)),Fu);class Re{static fromObject(n){let a=new Re(null);return ct(n,(s,c)=>{a=a.set(new Te(s),c)}),a}constructor(n,a=Rx()){this.value=n,this.children=a}isEmpty(){return this.value===null&&this.children.isEmpty()}findRootMostMatchingPathAndValue(n,a){if(this.value!=null&&a(this.value))return{path:ge(),value:this.value};if(se(n))return null;{const s=te(n),c=this.children.get(s);if(c!==null){const f=c.findRootMostMatchingPathAndValue(De(n),a);return f!=null?{path:Be(new Te(s),f.path),value:f.value}:null}else return null}}findRootMostValueAndPath(n){return this.findRootMostMatchingPathAndValue(n,()=>!0)}subtree(n){if(se(n))return this;{const a=te(n),s=this.children.get(a);return s!==null?s.subtree(De(n)):new Re(null)}}set(n,a){if(se(n))return new Re(a,this.children);{const s=te(n),f=(this.children.get(s)||new Re(null)).set(De(n),a),d=this.children.insert(s,f);return new Re(this.value,d)}}remove(n){if(se(n))return this.children.isEmpty()?new Re(null):new Re(null,this.children);{const a=te(n),s=this.children.get(a);if(s){const c=s.remove(De(n));let f;return c.isEmpty()?f=this.children.remove(a):f=this.children.insert(a,c),this.value===null&&f.isEmpty()?new Re(null):new Re(this.value,f)}else return this}}get(n){if(se(n))return this.value;{const a=te(n),s=this.children.get(a);return s?s.get(De(n)):null}}setTree(n,a){if(se(n))return a;{const s=te(n),f=(this.children.get(s)||new Re(null)).setTree(De(n),a);let d;return f.isEmpty()?d=this.children.remove(s):d=this.children.insert(s,f),new Re(this.value,d)}}fold(n){return this.fold_(ge(),n)}fold_(n,a){const s={};return this.children.inorderTraversal((c,f)=>{s[c]=f.fold_(Be(n,c),a)}),a(n,this.value,s)}findOnPath(n,a){return this.findOnPath_(n,ge(),a)}findOnPath_(n,a,s){const c=this.value?s(a,this.value):!1;if(c)return c;if(se(n))return null;{const f=te(n),d=this.children.get(f);return d?d.findOnPath_(De(n),Be(a,f),s):null}}foreachOnPath(n,a){return this.foreachOnPath_(n,ge(),a)}foreachOnPath_(n,a,s){if(se(n))return this;{this.value&&s(a,this.value);const c=te(n),f=this.children.get(c);return f?f.foreachOnPath_(De(n),Be(a,c),s):new Re(null)}}foreach(n){this.foreach_(ge(),n)}foreach_(n,a){this.children.inorderTraversal((s,c)=>{c.foreach_(Be(n,s),a)}),this.value&&a(n,this.value)}foreachChild(n){this.children.inorderTraversal((a,s)=>{s.value&&n(a,s.value)})}}class tn{constructor(n){this.writeTree_=n}static empty(){return new tn(new Re(null))}}function Ka(l,n,a){if(se(n))return new tn(new Re(a));{const s=l.writeTree_.findRootMostValueAndPath(n);if(s!=null){const c=s.path;let f=s.value;const d=ht(c,n);return f=f.updateChild(d,a),new tn(l.writeTree_.set(c,f))}else{const c=new Re(a),f=l.writeTree_.setTree(n,c);return new tn(f)}}}function ff(l,n,a){let s=l;return ct(a,(c,f)=>{s=Ka(s,Be(n,c),f)}),s}function sy(l,n){if(se(n))return tn.empty();{const a=l.writeTree_.setTree(n,new Re(null));return new tn(a)}}function df(l,n){return Yi(l,n)!=null}function Yi(l,n){const a=l.writeTree_.findRootMostValueAndPath(n);return a!=null?l.writeTree_.get(a.path).getChild(ht(a.path,n)):null}function ry(l){const n=[],a=l.writeTree_.value;return a!=null?a.isLeafNode()||a.forEachChild(ke,(s,c)=>{n.push(new ne(s,c))}):l.writeTree_.children.inorderTraversal((s,c)=>{c.value!=null&&n.push(new ne(s,c.value))}),n}function oi(l,n){if(se(n))return l;{const a=Yi(l,n);return a!=null?new tn(new Re(a)):new tn(l.writeTree_.subtree(n))}}function hf(l){return l.writeTree_.isEmpty()}function Ul(l,n){return x_(ge(),l.writeTree_,n)}function x_(l,n,a){if(n.value!=null)return a.updateChild(l,n.value);{let s=null;return n.children.inorderTraversal((c,f)=>{c===".priority"?(U(f.value!==null,"Priority writes must always be leaf nodes"),s=f.value):a=x_(Be(l,c),f,a)}),!a.getChild(l).isEmpty()&&s!==null&&(a=a.updateChild(Be(l,".priority"),s)),a}}function sc(l,n){return A_(n,l)}function Mx(l,n,a,s,c){U(s>l.lastWriteId,"Stacking an older write on top of newer ones"),c===void 0&&(c=!0),l.allWrites.push({path:n,snap:a,writeId:s,visible:c}),c&&(l.visibleWrites=Ka(l.visibleWrites,n,a)),l.lastWriteId=s}function Dx(l,n,a,s){U(s>l.lastWriteId,"Stacking an older merge on top of newer ones"),l.allWrites.push({path:n,children:a,writeId:s,visible:!0}),l.visibleWrites=ff(l.visibleWrites,n,a),l.lastWriteId=s}function Ox(l,n){for(let a=0;a<l.allWrites.length;a++){const s=l.allWrites[a];if(s.writeId===n)return s}return null}function jx(l,n){const a=l.allWrites.findIndex(m=>m.writeId===n);U(a>=0,"removeWrite called with nonexistent writeId.");const s=l.allWrites[a];l.allWrites.splice(a,1);let c=s.visible,f=!1,d=l.allWrites.length-1;for(;c&&d>=0;){const m=l.allWrites[d];m.visible&&(d>=a&&zx(m,s.path)?c=!1:Kt(s.path,m.path)&&(f=!0)),d--}if(c){if(f)return Ix(l),!0;if(s.snap)l.visibleWrites=sy(l.visibleWrites,s.path);else{const m=s.children;ct(m,p=>{l.visibleWrites=sy(l.visibleWrites,Be(s.path,p))})}return!0}else return!1}function zx(l,n){if(l.snap)return Kt(l.path,n);for(const a in l.children)if(l.children.hasOwnProperty(a)&&Kt(Be(l.path,a),n))return!0;return!1}function Ix(l){l.visibleWrites=C_(l.allWrites,Lx,ge()),l.allWrites.length>0?l.lastWriteId=l.allWrites[l.allWrites.length-1].writeId:l.lastWriteId=-1}function Lx(l){return l.visible}function C_(l,n,a){let s=tn.empty();for(let c=0;c<l.length;++c){const f=l[c];if(n(f)){const d=f.path;let m;if(f.snap)Kt(a,d)?(m=ht(a,d),s=Ka(s,m,f.snap)):Kt(d,a)&&(m=ht(d,a),s=Ka(s,ge(),f.snap.getChild(m)));else if(f.children){if(Kt(a,d))m=ht(a,d),s=ff(s,m,f.children);else if(Kt(d,a))if(m=ht(d,a),se(m))s=ff(s,ge(),f.children);else{const p=jl(f.children,te(m));if(p){const g=p.getChild(De(m));s=Ka(s,ge(),g)}}}else throw Bl("WriteRecord should have .snap or .children")}}return s}function T_(l,n,a,s,c){if(!s&&!c){const f=Yi(l.visibleWrites,n);if(f!=null)return f;{const d=oi(l.visibleWrites,n);if(hf(d))return a;if(a==null&&!df(d,ge()))return null;{const m=a||X.EMPTY_NODE;return Ul(d,m)}}}else{const f=oi(l.visibleWrites,n);if(!c&&hf(f))return a;if(!c&&a==null&&!df(f,ge()))return null;{const d=function(g){return(g.visible||c)&&(!s||!~s.indexOf(g.writeId))&&(Kt(g.path,n)||Kt(n,g.path))},m=C_(l.allWrites,d,n),p=a||X.EMPTY_NODE;return Ul(m,p)}}}function Ux(l,n,a){let s=X.EMPTY_NODE;const c=Yi(l.visibleWrites,n);if(c)return c.isLeafNode()||c.forEachChild(ke,(f,d)=>{s=s.updateImmediateChild(f,d)}),s;if(a){const f=oi(l.visibleWrites,n);return a.forEachChild(ke,(d,m)=>{const p=Ul(oi(f,new Te(d)),m);s=s.updateImmediateChild(d,p)}),ry(f).forEach(d=>{s=s.updateImmediateChild(d.name,d.node)}),s}else{const f=oi(l.visibleWrites,n);return ry(f).forEach(d=>{s=s.updateImmediateChild(d.name,d.node)}),s}}function Hx(l,n,a,s,c){U(s||c,"Either existingEventSnap or existingServerSnap must exist");const f=Be(n,a);if(df(l.visibleWrites,f))return null;{const d=oi(l.visibleWrites,f);return hf(d)?c.getChild(a):Ul(d,c.getChild(a))}}function Bx(l,n,a,s){const c=Be(n,a),f=Yi(l.visibleWrites,c);if(f!=null)return f;if(s.isCompleteForChild(a)){const d=oi(l.visibleWrites,c);return Ul(d,s.getNode().getImmediateChild(a))}else return null}function kx(l,n){return Yi(l.visibleWrites,n)}function qx(l,n,a,s,c,f,d){let m;const p=oi(l.visibleWrites,n),g=Yi(p,ge());if(g!=null)m=g;else if(a!=null)m=Ul(p,a);else return[];if(m=m.withIndex(d),!m.isEmpty()&&!m.isLeafNode()){const b=[],v=d.getCompare(),E=f?m.getReverseIteratorFrom(s,d):m.getIteratorFrom(s,d);let z=E.getNext();for(;z&&b.length<c;)v(z,s)!==0&&b.push(z),z=E.getNext();return b}else return[]}function Gx(){return{visibleWrites:tn.empty(),allWrites:[],lastWriteId:-1}}function Pr(l,n,a,s){return T_(l.writeTree,l.treePath,n,a,s)}function qf(l,n){return Ux(l.writeTree,l.treePath,n)}function cy(l,n,a,s){return Hx(l.writeTree,l.treePath,n,a,s)}function Jr(l,n){return kx(l.writeTree,Be(l.treePath,n))}function Yx(l,n,a,s,c,f){return qx(l.writeTree,l.treePath,n,a,s,c,f)}function Gf(l,n,a){return Bx(l.writeTree,l.treePath,n,a)}function N_(l,n){return A_(Be(l.treePath,n),l.writeTree)}function A_(l,n){return{treePath:l,writeTree:n}}class Vx{constructor(){this.changeMap=new Map}trackChildChange(n){const a=n.type,s=n.childName;U(a==="child_added"||a==="child_changed"||a==="child_removed","Only child changes supported for tracking"),U(s!==".priority","Only non-priority child changes can be tracked.");const c=this.changeMap.get(s);if(c){const f=c.type;if(a==="child_added"&&f==="child_removed")this.changeMap.set(s,ns(s,n.snapshotNode,c.snapshotNode));else if(a==="child_removed"&&f==="child_added")this.changeMap.delete(s);else if(a==="child_removed"&&f==="child_changed")this.changeMap.set(s,ts(s,c.oldSnap));else if(a==="child_changed"&&f==="child_added")this.changeMap.set(s,Il(s,n.snapshotNode));else if(a==="child_changed"&&f==="child_changed")this.changeMap.set(s,ns(s,n.snapshotNode,c.oldSnap));else throw Bl("Illegal combination of changes: "+n+" occurred after "+c)}else this.changeMap.set(s,n)}getChanges(){return Array.from(this.changeMap.values())}}class Qx{getCompleteChild(n){return null}getChildAfterChild(n,a,s){return null}}const w_=new Qx;class Yf{constructor(n,a,s=null){this.writes_=n,this.viewCache_=a,this.optCompleteServerCache_=s}getCompleteChild(n){const a=this.viewCache_.eventCache;if(a.isCompleteForChild(n))return a.getNode().getImmediateChild(n);{const s=this.optCompleteServerCache_!=null?new di(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return Gf(this.writes_,n,s)}}getChildAfterChild(n,a,s){const c=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:ki(this.viewCache_),f=Yx(this.writes_,c,a,1,s,n);return f.length===0?null:f[0]}}function Xx(l){return{filter:l}}function Zx(l,n){U(n.eventCache.getNode().isIndexed(l.filter.getIndex()),"Event snap not indexed"),U(n.serverCache.getNode().isIndexed(l.filter.getIndex()),"Server snap not indexed")}function Kx(l,n,a,s,c){const f=new Vx;let d,m;if(a.type===en.OVERWRITE){const g=a;g.source.fromUser?d=mf(l,n,g.path,g.snap,s,c,f):(U(g.source.fromServer,"Unknown source."),m=g.source.tagged||n.serverCache.isFiltered()&&!se(g.path),d=$r(l,n,g.path,g.snap,s,c,m,f))}else if(a.type===en.MERGE){const g=a;g.source.fromUser?d=Px(l,n,g.path,g.children,s,c,f):(U(g.source.fromServer,"Unknown source."),m=g.source.tagged||n.serverCache.isFiltered(),d=gf(l,n,g.path,g.children,s,c,m,f))}else if(a.type===en.ACK_USER_WRITE){const g=a;g.revert?d=Wx(l,n,g.path,s,c,f):d=Jx(l,n,g.path,g.affectedTree,s,c,f)}else if(a.type===en.LISTEN_COMPLETE)d=$x(l,n,a.path,s,f);else throw Bl("Unknown operation type: "+a.type);const p=f.getChanges();return Fx(n,d,p),{viewCache:d,changes:p}}function Fx(l,n,a){const s=n.eventCache;if(s.isFullyInitialized()){const c=s.getNode().isLeafNode()||s.getNode().isEmpty(),f=Fr(l);(a.length>0||!l.eventCache.isFullyInitialized()||c&&!s.getNode().equals(f)||!s.getNode().getPriority().equals(f.getPriority()))&&a.push(b_(Fr(n)))}}function R_(l,n,a,s,c,f){const d=n.eventCache;if(Jr(s,a)!=null)return n;{let m,p;if(se(a))if(U(n.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),n.serverCache.isFiltered()){const g=ki(n),b=g instanceof X?g:X.EMPTY_NODE,v=qf(s,b);m=l.filter.updateFullNode(n.eventCache.getNode(),v,f)}else{const g=Pr(s,ki(n));m=l.filter.updateFullNode(n.eventCache.getNode(),g,f)}else{const g=te(a);if(g===".priority"){U(fi(a)===1,"Can't have a priority with additional path components");const b=d.getNode();p=n.serverCache.getNode();const v=cy(s,a,b,p);v!=null?m=l.filter.updatePriority(b,v):m=d.getNode()}else{const b=De(a);let v;if(d.isCompleteForChild(g)){p=n.serverCache.getNode();const E=cy(s,a,d.getNode(),p);E!=null?v=d.getNode().getImmediateChild(g).updateChild(b,E):v=d.getNode().getImmediateChild(g)}else v=Gf(s,g,n.serverCache);v!=null?m=l.filter.updateChild(d.getNode(),g,v,b,c,f):m=d.getNode()}}return Za(n,m,d.isFullyInitialized()||se(a),l.filter.filtersNodes())}}function $r(l,n,a,s,c,f,d,m){const p=n.serverCache;let g;const b=d?l.filter:l.filter.getIndexedFilter();if(se(a))g=b.updateFullNode(p.getNode(),s,null);else if(b.filtersNodes()&&!p.isFiltered()){const z=p.getNode().updateChild(a,s);g=b.updateFullNode(p.getNode(),z,null)}else{const z=te(a);if(!p.isCompleteForPath(a)&&fi(a)>1)return n;const L=De(a),K=p.getNode().getImmediateChild(z).updateChild(L,s);z===".priority"?g=b.updatePriority(p.getNode(),K):g=b.updateChild(p.getNode(),z,K,L,w_,null)}const v=E_(n,g,p.isFullyInitialized()||se(a),b.filtersNodes()),E=new Yf(c,v,f);return R_(l,v,a,c,E,m)}function mf(l,n,a,s,c,f,d){const m=n.eventCache;let p,g;const b=new Yf(c,n,f);if(se(a))g=l.filter.updateFullNode(n.eventCache.getNode(),s,d),p=Za(n,g,!0,l.filter.filtersNodes());else{const v=te(a);if(v===".priority")g=l.filter.updatePriority(n.eventCache.getNode(),s),p=Za(n,g,m.isFullyInitialized(),m.isFiltered());else{const E=De(a),z=m.getNode().getImmediateChild(v);let L;if(se(E))L=s;else{const k=b.getCompleteChild(v);k!=null?Of(E)===".priority"&&k.getChild(h_(E)).isEmpty()?L=k:L=k.updateChild(E,s):L=X.EMPTY_NODE}if(z.equals(L))p=n;else{const k=l.filter.updateChild(m.getNode(),v,L,E,b,d);p=Za(n,k,m.isFullyInitialized(),l.filter.filtersNodes())}}}return p}function oy(l,n){return l.eventCache.isCompleteForChild(n)}function Px(l,n,a,s,c,f,d){let m=n;return s.foreach((p,g)=>{const b=Be(a,p);oy(n,te(b))&&(m=mf(l,m,b,g,c,f,d))}),s.foreach((p,g)=>{const b=Be(a,p);oy(n,te(b))||(m=mf(l,m,b,g,c,f,d))}),m}function uy(l,n,a){return a.foreach((s,c)=>{n=n.updateChild(s,c)}),n}function gf(l,n,a,s,c,f,d,m){if(n.serverCache.getNode().isEmpty()&&!n.serverCache.isFullyInitialized())return n;let p=n,g;se(a)?g=s:g=new Re(null).setTree(a,s);const b=n.serverCache.getNode();return g.children.inorderTraversal((v,E)=>{if(b.hasChild(v)){const z=n.serverCache.getNode().getImmediateChild(v),L=uy(l,z,E);p=$r(l,p,new Te(v),L,c,f,d,m)}}),g.children.inorderTraversal((v,E)=>{const z=!n.serverCache.isCompleteForChild(v)&&E.value===null;if(!b.hasChild(v)&&!z){const L=n.serverCache.getNode().getImmediateChild(v),k=uy(l,L,E);p=$r(l,p,new Te(v),k,c,f,d,m)}}),p}function Jx(l,n,a,s,c,f,d){if(Jr(c,a)!=null)return n;const m=n.serverCache.isFiltered(),p=n.serverCache;if(s.value!=null){if(se(a)&&p.isFullyInitialized()||p.isCompleteForPath(a))return $r(l,n,a,p.getNode().getChild(a),c,f,m,d);if(se(a)){let g=new Re(null);return p.getNode().forEachChild(Ol,(b,v)=>{g=g.set(new Te(b),v)}),gf(l,n,a,g,c,f,m,d)}else return n}else{let g=new Re(null);return s.foreach((b,v)=>{const E=Be(a,b);p.isCompleteForPath(E)&&(g=g.set(b,p.getNode().getChild(E)))}),gf(l,n,a,g,c,f,m,d)}}function $x(l,n,a,s,c){const f=n.serverCache,d=E_(n,f.getNode(),f.isFullyInitialized()||se(a),f.isFiltered());return R_(l,d,a,s,w_,c)}function Wx(l,n,a,s,c,f){let d;if(Jr(s,a)!=null)return n;{const m=new Yf(s,n,c),p=n.eventCache.getNode();let g;if(se(a)||te(a)===".priority"){let b;if(n.serverCache.isFullyInitialized())b=Pr(s,ki(n));else{const v=n.serverCache.getNode();U(v instanceof X,"serverChildren would be complete if leaf node"),b=qf(s,v)}b=b,g=l.filter.updateFullNode(p,b,f)}else{const b=te(a);let v=Gf(s,b,n.serverCache);v==null&&n.serverCache.isCompleteForChild(b)&&(v=p.getImmediateChild(b)),v!=null?g=l.filter.updateChild(p,b,v,De(a),m,f):n.eventCache.getNode().hasChild(b)?g=l.filter.updateChild(p,b,X.EMPTY_NODE,De(a),m,f):g=p,g.isEmpty()&&n.serverCache.isFullyInitialized()&&(d=Pr(s,ki(n)),d.isLeafNode()&&(g=l.filter.updateFullNode(g,d,f)))}return d=n.serverCache.isFullyInitialized()||Jr(s,ge())!=null,Za(n,g,d,l.filter.filtersNodes())}}class eC{constructor(n,a){this.query_=n,this.eventRegistrations_=[];const s=this.query_._queryParams,c=new Lf(s.getIndex()),f=_x(s);this.processor_=Xx(f);const d=a.serverCache,m=a.eventCache,p=c.updateFullNode(X.EMPTY_NODE,d.getNode(),null),g=f.updateFullNode(X.EMPTY_NODE,m.getNode(),null),b=new di(p,d.isFullyInitialized(),c.filtersNodes()),v=new di(g,m.isFullyInitialized(),f.filtersNodes());this.viewCache_=ac(v,b),this.eventGenerator_=new Tx(this.query_)}get query(){return this.query_}}function tC(l){return l.viewCache_.serverCache.getNode()}function nC(l){return Fr(l.viewCache_)}function iC(l,n){const a=ki(l.viewCache_);return a&&(l.query._queryParams.loadsAllData()||!se(n)&&!a.getImmediateChild(te(n)).isEmpty())?a.getChild(n):null}function fy(l){return l.eventRegistrations_.length===0}function lC(l,n){l.eventRegistrations_.push(n)}function dy(l,n,a){const s=[];if(a){U(n==null,"A cancel should cancel all event registrations.");const c=l.query._path;l.eventRegistrations_.forEach(f=>{const d=f.createCancelEvent(a,c);d&&s.push(d)})}if(n){let c=[];for(let f=0;f<l.eventRegistrations_.length;++f){const d=l.eventRegistrations_[f];if(!d.matches(n))c.push(d);else if(n.hasAnyCallback()){c=c.concat(l.eventRegistrations_.slice(f+1));break}}l.eventRegistrations_=c}else l.eventRegistrations_=[];return s}function hy(l,n,a,s){n.type===en.MERGE&&n.source.queryId!==null&&(U(ki(l.viewCache_),"We should always have a full cache before handling merges"),U(Fr(l.viewCache_),"Missing event cache, even though we have a server cache"));const c=l.viewCache_,f=Kx(l.processor_,c,n,a,s);return Zx(l.processor_,f.viewCache),U(f.viewCache.serverCache.isFullyInitialized()||!c.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),l.viewCache_=f.viewCache,M_(l,f.changes,f.viewCache.eventCache.getNode(),null)}function aC(l,n){const a=l.viewCache_.eventCache,s=[];return a.getNode().isLeafNode()||a.getNode().forEachChild(ke,(f,d)=>{s.push(Il(f,d))}),a.isFullyInitialized()&&s.push(b_(a.getNode())),M_(l,s,a.getNode(),n)}function M_(l,n,a,s){const c=s?[s]:l.eventRegistrations_;return Nx(l.eventGenerator_,n,a,c)}let Wr;class D_{constructor(){this.views=new Map}}function sC(l){U(!Wr,"__referenceConstructor has already been defined"),Wr=l}function rC(){return U(Wr,"Reference.ts has not been loaded"),Wr}function cC(l){return l.views.size===0}function Vf(l,n,a,s){const c=n.source.queryId;if(c!==null){const f=l.views.get(c);return U(f!=null,"SyncTree gave us an op for an invalid query."),hy(f,n,a,s)}else{let f=[];for(const d of l.views.values())f=f.concat(hy(d,n,a,s));return f}}function O_(l,n,a,s,c){const f=n._queryIdentifier,d=l.views.get(f);if(!d){let m=Pr(a,c?s:null),p=!1;m?p=!0:s instanceof X?(m=qf(a,s),p=!1):(m=X.EMPTY_NODE,p=!1);const g=ac(new di(m,p,!1),new di(s,c,!1));return new eC(n,g)}return d}function oC(l,n,a,s,c,f){const d=O_(l,n,s,c,f);return l.views.has(n._queryIdentifier)||l.views.set(n._queryIdentifier,d),lC(d,a),aC(d,a)}function uC(l,n,a,s){const c=n._queryIdentifier,f=[];let d=[];const m=hi(l);if(c==="default")for(const[p,g]of l.views.entries())d=d.concat(dy(g,a,s)),fy(g)&&(l.views.delete(p),g.query._queryParams.loadsAllData()||f.push(g.query));else{const p=l.views.get(c);p&&(d=d.concat(dy(p,a,s)),fy(p)&&(l.views.delete(c),p.query._queryParams.loadsAllData()||f.push(p.query)))}return m&&!hi(l)&&f.push(new(rC())(n._repo,n._path)),{removed:f,events:d}}function j_(l){const n=[];for(const a of l.views.values())a.query._queryParams.loadsAllData()||n.push(a);return n}function ui(l,n){let a=null;for(const s of l.views.values())a=a||iC(s,n);return a}function z_(l,n){if(n._queryParams.loadsAllData())return rc(l);{const s=n._queryIdentifier;return l.views.get(s)}}function I_(l,n){return z_(l,n)!=null}function hi(l){return rc(l)!=null}function rc(l){for(const n of l.views.values())if(n.query._queryParams.loadsAllData())return n;return null}let ec;function fC(l){U(!ec,"__referenceConstructor has already been defined"),ec=l}function dC(){return U(ec,"Reference.ts has not been loaded"),ec}let hC=1;class my{constructor(n){this.listenProvider_=n,this.syncPointTree_=new Re(null),this.pendingWriteTree_=Gx(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function L_(l,n,a,s,c){return Mx(l.pendingWriteTree_,n,a,s,c),c?Gl(l,new Bi(Hf(),n,a)):[]}function mC(l,n,a,s){Dx(l.pendingWriteTree_,n,a,s);const c=Re.fromObject(a);return Gl(l,new Ll(Hf(),n,c))}function si(l,n,a=!1){const s=Ox(l.pendingWriteTree_,n);if(jx(l.pendingWriteTree_,n)){let f=new Re(null);return s.snap!=null?f=f.set(ge(),!0):ct(s.children,d=>{f=f.set(new Te(d),!0)}),Gl(l,new Kr(s.path,f,a))}else return[]}function ds(l,n,a){return Gl(l,new Bi(Bf(),n,a))}function gC(l,n,a){const s=Re.fromObject(a);return Gl(l,new Ll(Bf(),n,s))}function pC(l,n){return Gl(l,new ls(Bf(),n))}function yC(l,n,a){const s=Xf(l,a);if(s){const c=Zf(s),f=c.path,d=c.queryId,m=ht(f,n),p=new ls(kf(d),m);return Kf(l,f,p)}else return[]}function tc(l,n,a,s,c=!1){const f=n._path,d=l.syncPointTree_.get(f);let m=[];if(d&&(n._queryIdentifier==="default"||I_(d,n))){const p=uC(d,n,a,s);cC(d)&&(l.syncPointTree_=l.syncPointTree_.remove(f));const g=p.removed;if(m=p.events,!c){const b=g.findIndex(E=>E._queryParams.loadsAllData())!==-1,v=l.syncPointTree_.findOnPath(f,(E,z)=>hi(z));if(b&&!v){const E=l.syncPointTree_.subtree(f);if(!E.isEmpty()){const z=bC(E);for(let L=0;L<z.length;++L){const k=z[L],K=k.query,fe=k_(l,k);l.listenProvider_.startListening(Fa(K),as(l,K),fe.hashFn,fe.onComplete)}}}!v&&g.length>0&&!s&&(b?l.listenProvider_.stopListening(Fa(n),null):g.forEach(E=>{const z=l.queryToTagMap.get(cc(E));l.listenProvider_.stopListening(Fa(E),z)}))}SC(l,g)}return m}function U_(l,n,a,s){const c=Xf(l,s);if(c!=null){const f=Zf(c),d=f.path,m=f.queryId,p=ht(d,n),g=new Bi(kf(m),p,a);return Kf(l,d,g)}else return[]}function _C(l,n,a,s){const c=Xf(l,s);if(c){const f=Zf(c),d=f.path,m=f.queryId,p=ht(d,n),g=Re.fromObject(a),b=new Ll(kf(m),p,g);return Kf(l,d,b)}else return[]}function pf(l,n,a,s=!1){const c=n._path;let f=null,d=!1;l.syncPointTree_.foreachOnPath(c,(E,z)=>{const L=ht(E,c);f=f||ui(z,L),d=d||hi(z)});let m=l.syncPointTree_.get(c);m?(d=d||hi(m),f=f||ui(m,ge())):(m=new D_,l.syncPointTree_=l.syncPointTree_.set(c,m));let p;f!=null?p=!0:(p=!1,f=X.EMPTY_NODE,l.syncPointTree_.subtree(c).foreachChild((z,L)=>{const k=ui(L,ge());k&&(f=f.updateImmediateChild(z,k))}));const g=I_(m,n);if(!g&&!n._queryParams.loadsAllData()){const E=cc(n);U(!l.queryToTagMap.has(E),"View does not exist, but we have a tag");const z=EC();l.queryToTagMap.set(E,z),l.tagToQueryMap.set(z,E)}const b=sc(l.pendingWriteTree_,c);let v=oC(m,n,a,b,f,p);if(!g&&!d&&!s){const E=z_(m,n);v=v.concat(xC(l,n,E))}return v}function Qf(l,n,a){const c=l.pendingWriteTree_,f=l.syncPointTree_.findOnPath(n,(d,m)=>{const p=ht(d,n),g=ui(m,p);if(g)return g});return T_(c,n,f,a,!0)}function vC(l,n){const a=n._path;let s=null;l.syncPointTree_.foreachOnPath(a,(g,b)=>{const v=ht(g,a);s=s||ui(b,v)});let c=l.syncPointTree_.get(a);c?s=s||ui(c,ge()):(c=new D_,l.syncPointTree_=l.syncPointTree_.set(a,c));const f=s!=null,d=f?new di(s,!0,!1):null,m=sc(l.pendingWriteTree_,n._path),p=O_(c,n,m,f?d.getNode():X.EMPTY_NODE,f);return nC(p)}function Gl(l,n){return H_(n,l.syncPointTree_,null,sc(l.pendingWriteTree_,ge()))}function H_(l,n,a,s){if(se(l.path))return B_(l,n,a,s);{const c=n.get(ge());a==null&&c!=null&&(a=ui(c,ge()));let f=[];const d=te(l.path),m=l.operationForChild(d),p=n.children.get(d);if(p&&m){const g=a?a.getImmediateChild(d):null,b=N_(s,d);f=f.concat(H_(m,p,g,b))}return c&&(f=f.concat(Vf(c,l,s,a))),f}}function B_(l,n,a,s){const c=n.get(ge());a==null&&c!=null&&(a=ui(c,ge()));let f=[];return n.children.inorderTraversal((d,m)=>{const p=a?a.getImmediateChild(d):null,g=N_(s,d),b=l.operationForChild(d);b&&(f=f.concat(B_(b,m,p,g)))}),c&&(f=f.concat(Vf(c,l,s,a))),f}function k_(l,n){const a=n.query,s=as(l,a);return{hashFn:()=>(tC(n)||X.EMPTY_NODE).hash(),onComplete:c=>{if(c==="ok")return s?yC(l,a._path,s):pC(l,a._path);{const f=pE(c,a);return tc(l,a,null,f)}}}}function as(l,n){const a=cc(n);return l.queryToTagMap.get(a)}function cc(l){return l._path.toString()+"$"+l._queryIdentifier}function Xf(l,n){return l.tagToQueryMap.get(n)}function Zf(l){const n=l.indexOf("$");return U(n!==-1&&n<l.length-1,"Bad queryKey."),{queryId:l.substr(n+1),path:new Te(l.substr(0,n))}}function Kf(l,n,a){const s=l.syncPointTree_.get(n);U(s,"Missing sync point for query tag that we're tracking");const c=sc(l.pendingWriteTree_,n);return Vf(s,a,c,null)}function bC(l){return l.fold((n,a,s)=>{if(a&&hi(a))return[rc(a)];{let c=[];return a&&(c=j_(a)),ct(s,(f,d)=>{c=c.concat(d)}),c}})}function Fa(l){return l._queryParams.loadsAllData()&&!l._queryParams.isDefault()?new(dC())(l._repo,l._path):l}function SC(l,n){for(let a=0;a<n.length;++a){const s=n[a];if(!s._queryParams.loadsAllData()){const c=cc(s),f=l.queryToTagMap.get(c);l.queryToTagMap.delete(c),l.tagToQueryMap.delete(f)}}}function EC(){return hC++}function xC(l,n,a){const s=n._path,c=as(l,n),f=k_(l,a),d=l.listenProvider_.startListening(Fa(n),c,f.hashFn,f.onComplete),m=l.syncPointTree_.subtree(s);if(c)U(!hi(m.value),"If we're adding a query, it shouldn't be shadowed");else{const p=m.fold((g,b,v)=>{if(!se(g)&&b&&hi(b))return[rc(b).query];{let E=[];return b&&(E=E.concat(j_(b).map(z=>z.query))),ct(v,(z,L)=>{E=E.concat(L)}),E}});for(let g=0;g<p.length;++g){const b=p[g];l.listenProvider_.stopListening(Fa(b),as(l,b))}}return d}class Ff{constructor(n){this.node_=n}getImmediateChild(n){const a=this.node_.getImmediateChild(n);return new Ff(a)}node(){return this.node_}}class Pf{constructor(n,a){this.syncTree_=n,this.path_=a}getImmediateChild(n){const a=Be(this.path_,n);return new Pf(this.syncTree_,a)}node(){return Qf(this.syncTree_,this.path_)}}const CC=function(l){return l=l||{},l.timestamp=l.timestamp||new Date().getTime(),l},gy=function(l,n,a){if(!l||typeof l!="object")return l;if(U(".sv"in l,"Unexpected leaf node or priority contents"),typeof l[".sv"]=="string")return TC(l[".sv"],n,a);if(typeof l[".sv"]=="object")return NC(l[".sv"],n);U(!1,"Unexpected server value: "+JSON.stringify(l,null,2))},TC=function(l,n,a){if(l==="timestamp")return a.timestamp;U(!1,"Unexpected server value: "+l)},NC=function(l,n,a){l.hasOwnProperty("increment")||U(!1,"Unexpected server value: "+JSON.stringify(l,null,2));const s=l.increment;typeof s!="number"&&U(!1,"Unexpected increment value: "+s);const c=n.node();if(U(c!==null&&typeof c<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!c.isLeafNode())return s;const d=c.getValue();return typeof d!="number"?s:d+s},q_=function(l,n,a,s){return Jf(n,new Pf(a,l),s)},G_=function(l,n,a){return Jf(l,new Ff(n),a)};function Jf(l,n,a){const s=l.getPriority().val(),c=gy(s,n.getImmediateChild(".priority"),a);let f;if(l.isLeafNode()){const d=l,m=gy(d.getValue(),n,a);return m!==d.getValue()||c!==d.getPriority().val()?new et(m,Pe(c)):l}else{const d=l;return f=d,c!==d.getPriority().val()&&(f=f.updatePriority(new et(c))),d.forEachChild(ke,(m,p)=>{const g=Jf(p,n.getImmediateChild(m),a);g!==p&&(f=f.updateImmediateChild(m,g))}),f}}class $f{constructor(n="",a=null,s={children:{},childCount:0}){this.name=n,this.parent=a,this.node=s}}function Wf(l,n){let a=n instanceof Te?n:new Te(n),s=l,c=te(a);for(;c!==null;){const f=jl(s.node.children,c)||{children:{},childCount:0};s=new $f(c,s,f),a=De(a),c=te(a)}return s}function Yl(l){return l.node.value}function Y_(l,n){l.node.value=n,yf(l)}function V_(l){return l.node.childCount>0}function AC(l){return Yl(l)===void 0&&!V_(l)}function oc(l,n){ct(l.node.children,(a,s)=>{n(new $f(a,l,s))})}function Q_(l,n,a,s){a&&n(l),oc(l,c=>{Q_(c,n,!0)})}function wC(l,n,a){let s=l.parent;for(;s!==null;){if(n(s))return!0;s=s.parent}return!1}function hs(l){return new Te(l.parent===null?l.name:hs(l.parent)+"/"+l.name)}function yf(l){l.parent!==null&&RC(l.parent,l.name,l)}function RC(l,n,a){const s=AC(a),c=on(l.node.children,n);s&&c?(delete l.node.children[n],l.node.childCount--,yf(l)):!s&&!c&&(l.node.children[n]=a.node,l.node.childCount++,yf(l))}const MC=/[\[\].#$\/\u0000-\u001F\u007F]/,DC=/[\[\].#$\u0000-\u001F\u007F]/,Pu=10*1024*1024,ed=function(l){return typeof l=="string"&&l.length!==0&&!MC.test(l)},X_=function(l){return typeof l=="string"&&l.length!==0&&!DC.test(l)},OC=function(l){return l&&(l=l.replace(/^\/*\.info(\/|$)/,"/")),X_(l)},jC=function(l){return l===null||typeof l=="string"||typeof l=="number"&&!Af(l)||l&&typeof l=="object"&&on(l,".sv")},zC=function(l,n,a,s){uc(nc(l,"value"),n,a)},uc=function(l,n,a){const s=a instanceof Te?new PE(a,l):a;if(n===void 0)throw new Error(l+"contains undefined "+Li(s));if(typeof n=="function")throw new Error(l+"contains a function "+Li(s)+" with contents = "+n.toString());if(Af(n))throw new Error(l+"contains "+n.toString()+" "+Li(s));if(typeof n=="string"&&n.length>Pu/3&&ic(n)>Pu)throw new Error(l+"contains a string greater than "+Pu+" utf8 bytes "+Li(s)+" ('"+n.substring(0,50)+"...')");if(n&&typeof n=="object"){let c=!1,f=!1;if(ct(n,(d,m)=>{if(d===".value")c=!0;else if(d!==".priority"&&d!==".sv"&&(f=!0,!ed(d)))throw new Error(l+" contains an invalid key ("+d+") "+Li(s)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);JE(s,d),uc(l,m,s),$E(s)}),c&&f)throw new Error(l+' contains ".value" child '+Li(s)+" in addition to actual children.")}},IC=function(l,n){let a,s;for(a=0;a<n.length;a++){s=n[a];const f=es(s);for(let d=0;d<f.length;d++)if(!(f[d]===".priority"&&d===f.length-1)){if(!ed(f[d]))throw new Error(l+"contains an invalid key ("+f[d]+") in path "+s.toString()+`. Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`)}}n.sort(FE);let c=null;for(a=0;a<n.length;a++){if(s=n[a],c!==null&&Kt(c,s))throw new Error(l+"contains a path "+c.toString()+" that is ancestor of another path "+s.toString());c=s}},LC=function(l,n,a,s){const c=nc(l,"values");if(!(n&&typeof n=="object")||Array.isArray(n))throw new Error(c+" must be an object containing the children to replace.");const f=[];ct(n,(d,m)=>{const p=new Te(d);if(uc(c,m,Be(a,p)),Of(p)===".priority"&&!jC(m))throw new Error(c+"contains an invalid value for '"+p.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");f.push(p)}),IC(c,f)},Z_=function(l,n,a,s){if(!X_(a))throw new Error(nc(l,n)+'was an invalid path = "'+a+`". Paths must be non-empty strings and can't contain ".", "#", "$", "[", or "]"`)},UC=function(l,n,a,s){a&&(a=a.replace(/^\/*\.info(\/|$)/,"/")),Z_(l,n,a)},K_=function(l,n){if(te(n)===".info")throw new Error(l+" failed = Can't modify data under /.info/")},HC=function(l,n){const a=n.path.toString();if(typeof n.repoInfo.host!="string"||n.repoInfo.host.length===0||!ed(n.repoInfo.namespace)&&n.repoInfo.host.split(":")[0]!=="localhost"||a.length!==0&&!OC(a))throw new Error(nc(l,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)};class BC{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function fc(l,n){let a=null;for(let s=0;s<n.length;s++){const c=n[s],f=c.getPath();a!==null&&!jf(f,a.path)&&(l.eventLists_.push(a),a=null),a===null&&(a={events:[],path:f}),a.events.push(c)}a&&l.eventLists_.push(a)}function F_(l,n,a){fc(l,a),P_(l,s=>jf(s,n))}function Ft(l,n,a){fc(l,a),P_(l,s=>Kt(s,n)||Kt(n,s))}function P_(l,n){l.recursionDepth_++;let a=!0;for(let s=0;s<l.eventLists_.length;s++){const c=l.eventLists_[s];if(c){const f=c.path;n(f)?(kC(l.eventLists_[s]),l.eventLists_[s]=null):a=!1}}a&&(l.eventLists_=[]),l.recursionDepth_--}function kC(l){for(let n=0;n<l.events.length;n++){const a=l.events[n];if(a!==null){l.events[n]=null;const s=a.getEventRunner();Qa&&rt("event: "+a.toString()),ql(s)}}}const qC="repo_interrupt",GC=25;class YC{constructor(n,a,s,c){this.repoInfo_=n,this.forceRestClient_=a,this.authTokenProvider_=s,this.appCheckProvider_=c,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new BC,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=Zr(),this.transactionQueueTree_=new $f,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function VC(l,n,a){if(l.stats_=Mf(l.repoInfo_),l.forceRestClient_||bE())l.server_=new Xr(l.repoInfo_,(s,c,f,d)=>{py(l,s,c,f,d)},l.authTokenProvider_,l.appCheckProvider_),setTimeout(()=>yy(l,!0),0);else{if(typeof a<"u"&&a!==null){if(typeof a!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{Je(a)}catch(s){throw new Error("Invalid authOverride provided: "+s)}}l.persistentConnection_=new Mn(l.repoInfo_,n,(s,c,f,d)=>{py(l,s,c,f,d)},s=>{yy(l,s)},s=>{XC(l,s)},l.authTokenProvider_,l.appCheckProvider_,a),l.server_=l.persistentConnection_}l.authTokenProvider_.addTokenChangeListener(s=>{l.server_.refreshAuthToken(s)}),l.appCheckProvider_.addTokenChangeListener(s=>{l.server_.refreshAppCheckToken(s.token)}),l.statsReporter_=TE(l.repoInfo_,()=>new Cx(l.stats_,l.server_)),l.infoData_=new vx,l.infoSyncTree_=new my({startListening:(s,c,f,d)=>{let m=[];const p=l.infoData_.getNode(s._path);return p.isEmpty()||(m=ds(l.infoSyncTree_,s._path,p),setTimeout(()=>{d("ok")},0)),m},stopListening:()=>{}}),td(l,"connected",!1),l.serverSyncTree_=new my({startListening:(s,c,f,d)=>(l.server_.listen(s,f,c,(m,p)=>{const g=d(m,p);Ft(l.eventQueue_,s._path,g)}),[]),stopListening:(s,c)=>{l.server_.unlisten(s,c)}})}function QC(l){const a=l.infoData_.getNode(new Te(".info/serverTimeOffset")).val()||0;return new Date().getTime()+a}function dc(l){return CC({timestamp:QC(l)})}function py(l,n,a,s,c){l.dataUpdateCount++;const f=new Te(n);a=l.interceptServerDataCallback_?l.interceptServerDataCallback_(n,a):a;let d=[];if(c)if(s){const p=Br(a,g=>Pe(g));d=_C(l.serverSyncTree_,f,p,c)}else{const p=Pe(a);d=U_(l.serverSyncTree_,f,p,c)}else if(s){const p=Br(a,g=>Pe(g));d=gC(l.serverSyncTree_,f,p)}else{const p=Pe(a);d=ds(l.serverSyncTree_,f,p)}let m=f;d.length>0&&(m=Hl(l,f)),Ft(l.eventQueue_,m,d)}function yy(l,n){td(l,"connected",n),n===!1&&PC(l)}function XC(l,n){ct(n,(a,s)=>{td(l,a,s)})}function td(l,n,a){const s=new Te("/.info/"+n),c=Pe(a);l.infoData_.updateSnapshot(s,c);const f=ds(l.infoSyncTree_,s,c);Ft(l.eventQueue_,s,f)}function nd(l){return l.nextWriteId_++}function ZC(l,n,a){const s=vC(l.serverSyncTree_,n);return s!=null?Promise.resolve(s):l.server_.get(n).then(c=>{const f=Pe(c).withIndex(n._queryParams.getIndex());pf(l.serverSyncTree_,n,a,!0);let d;if(n._queryParams.loadsAllData())d=ds(l.serverSyncTree_,n._path,f);else{const m=as(l.serverSyncTree_,n);d=U_(l.serverSyncTree_,n._path,f,m)}return Ft(l.eventQueue_,n._path,d),tc(l.serverSyncTree_,n,a,null,!0),f},c=>(ms(l,"get for query "+Je(n)+" failed: "+c),Promise.reject(new Error(c))))}function KC(l,n,a,s,c){ms(l,"set",{path:n.toString(),value:a,priority:s});const f=dc(l),d=Pe(a,s),m=Qf(l.serverSyncTree_,n),p=G_(d,m,f),g=nd(l),b=L_(l.serverSyncTree_,n,p,g,!0);fc(l.eventQueue_,b),l.server_.put(n.toString(),d.val(!0),(E,z)=>{const L=E==="ok";L||mt("set at "+n+" failed: "+E);const k=si(l.serverSyncTree_,g,!L);Ft(l.eventQueue_,n,k),_f(l,c,E,z)});const v=ld(l,n);Hl(l,v),Ft(l.eventQueue_,v,[])}function FC(l,n,a,s){ms(l,"update",{path:n.toString(),value:a});let c=!0;const f=dc(l),d={};if(ct(a,(m,p)=>{c=!1,d[m]=q_(Be(n,m),Pe(p),l.serverSyncTree_,f)}),c)rt("update() called with empty data.  Don't do anything."),_f(l,s,"ok",void 0);else{const m=nd(l),p=mC(l.serverSyncTree_,n,d,m);fc(l.eventQueue_,p),l.server_.merge(n.toString(),a,(g,b)=>{const v=g==="ok";v||mt("update at "+n+" failed: "+g);const E=si(l.serverSyncTree_,m,!v),z=E.length>0?Hl(l,n):n;Ft(l.eventQueue_,z,E),_f(l,s,g,b)}),ct(a,g=>{const b=ld(l,Be(n,g));Hl(l,b)}),Ft(l.eventQueue_,n,[])}}function PC(l){ms(l,"onDisconnectEvents");const n=dc(l),a=Zr();uf(l.onDisconnect_,ge(),(c,f)=>{const d=q_(c,f,l.serverSyncTree_,n);S_(a,c,d)});let s=[];uf(a,ge(),(c,f)=>{s=s.concat(ds(l.serverSyncTree_,c,f));const d=ld(l,c);Hl(l,d)}),l.onDisconnect_=Zr(),Ft(l.eventQueue_,ge(),s)}function JC(l,n,a){let s;te(n._path)===".info"?s=pf(l.infoSyncTree_,n,a):s=pf(l.serverSyncTree_,n,a),F_(l.eventQueue_,n._path,s)}function J_(l,n,a){let s;te(n._path)===".info"?s=tc(l.infoSyncTree_,n,a):s=tc(l.serverSyncTree_,n,a),F_(l.eventQueue_,n._path,s)}function $C(l){l.persistentConnection_&&l.persistentConnection_.interrupt(qC)}function ms(l,...n){let a="";l.persistentConnection_&&(a=l.persistentConnection_.id+":"),rt(a,...n)}function _f(l,n,a,s){n&&ql(()=>{if(a==="ok")n(null);else{const c=(a||"error").toUpperCase();let f=c;s&&(f+=": "+s);const d=new Error(f);d.code=c,n(d)}})}function $_(l,n,a){return Qf(l.serverSyncTree_,n,a)||X.EMPTY_NODE}function id(l,n=l.transactionQueueTree_){if(n||hc(l,n),Yl(n)){const a=ev(l,n);U(a.length>0,"Sending zero length transaction queue"),a.every(c=>c.status===0)&&WC(l,hs(n),a)}else V_(n)&&oc(n,a=>{id(l,a)})}function WC(l,n,a){const s=a.map(g=>g.currentWriteId),c=$_(l,n,s);let f=c;const d=c.hash();for(let g=0;g<a.length;g++){const b=a[g];U(b.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),b.status=1,b.retryCount++;const v=ht(n,b.path);f=f.updateChild(v,b.currentOutputSnapshotRaw)}const m=f.val(!0),p=n;l.server_.put(p.toString(),m,g=>{ms(l,"transaction put response",{path:p.toString(),status:g});let b=[];if(g==="ok"){const v=[];for(let E=0;E<a.length;E++)a[E].status=2,b=b.concat(si(l.serverSyncTree_,a[E].currentWriteId)),a[E].onComplete&&v.push(()=>a[E].onComplete(null,!0,a[E].currentOutputSnapshotResolved)),a[E].unwatcher();hc(l,Wf(l.transactionQueueTree_,n)),id(l,l.transactionQueueTree_),Ft(l.eventQueue_,n,b);for(let E=0;E<v.length;E++)ql(v[E])}else{if(g==="datastale")for(let v=0;v<a.length;v++)a[v].status===3?a[v].status=4:a[v].status=0;else{mt("transaction at "+p.toString()+" failed: "+g);for(let v=0;v<a.length;v++)a[v].status=4,a[v].abortReason=g}Hl(l,n)}},d)}function Hl(l,n){const a=W_(l,n),s=hs(a),c=ev(l,a);return eT(l,c,s),s}function eT(l,n,a){if(n.length===0)return;const s=[];let c=[];const d=n.filter(m=>m.status===0).map(m=>m.currentWriteId);for(let m=0;m<n.length;m++){const p=n[m],g=ht(a,p.path);let b=!1,v;if(U(g!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),p.status===4)b=!0,v=p.abortReason,c=c.concat(si(l.serverSyncTree_,p.currentWriteId,!0));else if(p.status===0)if(p.retryCount>=GC)b=!0,v="maxretry",c=c.concat(si(l.serverSyncTree_,p.currentWriteId,!0));else{const E=$_(l,p.path,d);p.currentInputSnapshot=E;const z=n[m].update(E.val());if(z!==void 0){uc("transaction failed: Data returned ",z,p.path);let L=Pe(z);typeof z=="object"&&z!=null&&on(z,".priority")||(L=L.updatePriority(E.getPriority()));const K=p.currentWriteId,fe=dc(l),Ne=G_(L,E,fe);p.currentOutputSnapshotRaw=L,p.currentOutputSnapshotResolved=Ne,p.currentWriteId=nd(l),d.splice(d.indexOf(K),1),c=c.concat(L_(l.serverSyncTree_,p.path,Ne,p.currentWriteId,p.applyLocally)),c=c.concat(si(l.serverSyncTree_,K,!0))}else b=!0,v="nodata",c=c.concat(si(l.serverSyncTree_,p.currentWriteId,!0))}Ft(l.eventQueue_,a,c),c=[],b&&(n[m].status=2,(function(E){setTimeout(E,Math.floor(0))})(n[m].unwatcher),n[m].onComplete&&(v==="nodata"?s.push(()=>n[m].onComplete(null,!1,n[m].currentInputSnapshot)):s.push(()=>n[m].onComplete(new Error(v),!1,null))))}hc(l,l.transactionQueueTree_);for(let m=0;m<s.length;m++)ql(s[m]);id(l,l.transactionQueueTree_)}function W_(l,n){let a,s=l.transactionQueueTree_;for(a=te(n);a!==null&&Yl(s)===void 0;)s=Wf(s,a),n=De(n),a=te(n);return s}function ev(l,n){const a=[];return tv(l,n,a),a.sort((s,c)=>s.order-c.order),a}function tv(l,n,a){const s=Yl(n);if(s)for(let c=0;c<s.length;c++)a.push(s[c]);oc(n,c=>{tv(l,c,a)})}function hc(l,n){const a=Yl(n);if(a){let s=0;for(let c=0;c<a.length;c++)a[c].status!==2&&(a[s]=a[c],s++);a.length=s,Y_(n,a.length>0?a:void 0)}oc(n,s=>{hc(l,s)})}function ld(l,n){const a=hs(W_(l,n)),s=Wf(l.transactionQueueTree_,n);return wC(s,c=>{Ju(l,c)}),Ju(l,s),Q_(s,c=>{Ju(l,c)}),a}function Ju(l,n){const a=Yl(n);if(a){const s=[];let c=[],f=-1;for(let d=0;d<a.length;d++)a[d].status===3||(a[d].status===1?(U(f===d-1,"All SENT items should be at beginning of queue."),f=d,a[d].status=3,a[d].abortReason="set"):(U(a[d].status===0,"Unexpected transaction status in abort"),a[d].unwatcher(),c=c.concat(si(l.serverSyncTree_,a[d].currentWriteId,!0)),a[d].onComplete&&s.push(a[d].onComplete.bind(null,new Error("set"),!1,null))));f===-1?Y_(n,void 0):a.length=f+1,Ft(l.eventQueue_,hs(n),c);for(let d=0;d<s.length;d++)ql(s[d])}}function tT(l){let n="";const a=l.split("/");for(let s=0;s<a.length;s++)if(a[s].length>0){let c=a[s];try{c=decodeURIComponent(c.replace(/\+/g," "))}catch{}n+="/"+c}return n}function nT(l){const n={};l.charAt(0)==="?"&&(l=l.substring(1));for(const a of l.split("&")){if(a.length===0)continue;const s=a.split("=");s.length===2?n[decodeURIComponent(s[0])]=decodeURIComponent(s[1]):mt(`Invalid query segment '${a}' in query '${l}'`)}return n}const _y=function(l,n){const a=iT(l),s=a.namespace;a.domain==="firebase.com"&&On(a.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!s||s==="undefined")&&a.domain!=="localhost"&&On("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),a.secure||fE();const c=a.scheme==="ws"||a.scheme==="wss";return{repoInfo:new l_(a.host,a.secure,s,c,n,"",s!==a.subdomain),path:new Te(a.pathString)}},iT=function(l){let n="",a="",s="",c="",f="",d=!0,m="https",p=443;if(typeof l=="string"){let g=l.indexOf("//");g>=0&&(m=l.substring(0,g-1),l=l.substring(g+2));let b=l.indexOf("/");b===-1&&(b=l.length);let v=l.indexOf("?");v===-1&&(v=l.length),n=l.substring(0,Math.min(b,v)),b<v&&(c=tT(l.substring(b,v)));const E=nT(l.substring(Math.min(l.length,v)));g=n.indexOf(":"),g>=0?(d=m==="https"||m==="wss",p=parseInt(n.substring(g+1),10)):g=n.length;const z=n.slice(0,g);if(z.toLowerCase()==="localhost")a="localhost";else if(z.split(".").length<=2)a=z;else{const L=n.indexOf(".");s=n.substring(0,L).toLowerCase(),a=n.substring(L+1),f=s}"ns"in E&&(f=E.ns)}return{host:n,port:p,domain:a,subdomain:s,secure:d,scheme:m,pathString:c,namespace:f}};class lT{constructor(n,a,s,c){this.eventType=n,this.eventRegistration=a,this.snapshot=s,this.prevName=c}getPath(){const n=this.snapshot.ref;return this.eventType==="value"?n._path:n.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+Je(this.snapshot.exportVal())}}class aT{constructor(n,a,s){this.eventRegistration=n,this.error=a,this.path=s}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}class nv{constructor(n,a){this.snapshotCallback=n,this.cancelCallback=a}onValue(n,a){this.snapshotCallback.call(null,n,a)}onCancel(n){return U(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,n)}get hasCancelCallback(){return!!this.cancelCallback}matches(n){return this.snapshotCallback===n.snapshotCallback||this.snapshotCallback.userCallback!==void 0&&this.snapshotCallback.userCallback===n.snapshotCallback.userCallback&&this.snapshotCallback.context===n.snapshotCallback.context}}class ad{constructor(n,a,s,c){this._repo=n,this._path=a,this._queryParams=s,this._orderByCalled=c}get key(){return se(this._path)?null:Of(this._path)}get ref(){return new jn(this._repo,this._path)}get _queryIdentifier(){const n=ly(this._queryParams),a=wf(n);return a==="{}"?"default":a}get _queryObject(){return ly(this._queryParams)}isEqual(n){if(n=kl(n),!(n instanceof ad))return!1;const a=this._repo===n._repo,s=jf(this._path,n._path),c=this._queryIdentifier===n._queryIdentifier;return a&&s&&c}toJSON(){return this.toString()}toString(){return this._repo.toString()+KE(this._path)}}class jn extends ad{constructor(n,a){super(n,a,new Uf,!1)}get parent(){const n=h_(this._path);return n===null?null:new jn(this._repo,n)}get root(){let n=this;for(;n.parent!==null;)n=n.parent;return n}}class ss{constructor(n,a,s){this._node=n,this.ref=a,this._index=s}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(n){const a=new Te(n),s=vf(this.ref,n);return new ss(this._node.getChild(a),s,ke)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(n){return this._node.isLeafNode()?!1:!!this._node.forEachChild(this._index,(s,c)=>n(new ss(c,vf(this.ref,s),ke)))}hasChild(n){const a=new Te(n);return!this._node.getChild(a).isEmpty()}hasChildren(){return this._node.isLeafNode()?!1:!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function mi(l,n){return l=kl(l),l._checkNotDeleted("ref"),n!==void 0?vf(l._root,n):l._root}function vf(l,n){return l=kl(l),te(l._path)===null?UC("child","path",n):Z_("child","path",n),new jn(l._repo,Be(l._path,n))}function sT(l){return K_("remove",l._path),iv(l,null)}function iv(l,n){l=kl(l),K_("set",l._path),zC("set",n,l._path);const a=new rs;return KC(l._repo,l._path,n,null,a.wrapCallback(()=>{})),a.promise}function qi(l,n){LC("update",n,l._path);const a=new rs;return FC(l._repo,l._path,n,a.wrapCallback(()=>{})),a.promise}function gs(l){l=kl(l);const n=new nv(()=>{}),a=new mc(n);return ZC(l._repo,l,a).then(s=>new ss(s,new jn(l._repo,l._path),l._queryParams.getIndex()))}class mc{constructor(n){this.callbackContext=n}respondsTo(n){return n==="value"}createEvent(n,a){const s=a._queryParams.getIndex();return new lT("value",this,new ss(n.snapshotNode,new jn(a._repo,a._path),s))}getEventRunner(n){return n.getEventType()==="cancel"?()=>this.callbackContext.onCancel(n.error):()=>this.callbackContext.onValue(n.snapshot,null)}createCancelEvent(n,a){return this.callbackContext.hasCancelCallback?new aT(this,n,a):null}matches(n){return n instanceof mc?!n.callbackContext||!this.callbackContext?!0:n.callbackContext.matches(this.callbackContext):!1}hasAnyCallback(){return this.callbackContext!==null}}function rT(l,n,a,s,c){const f=new nv(a,void 0),d=new mc(f);return JC(l._repo,l,d),()=>J_(l._repo,l,d)}function cT(l,n,a,s){return rT(l,"value",n)}function oT(l,n,a){J_(l._repo,l,null)}sC(jn);fC(jn);const uT="FIREBASE_DATABASE_EMULATOR_HOST",bf={};let fT=!1;function dT(l,n,a,s){const c=n.lastIndexOf(":"),f=n.substring(0,c),d=Tf(f);l.repoInfo_=new l_(n,d,l.repoInfo_.namespace,l.repoInfo_.webSocketOnly,l.repoInfo_.nodeAdmin,l.repoInfo_.persistenceKey,l.repoInfo_.includeNamespaceInQueryParams,!0,a),s&&(l.authTokenProvider_=s)}function hT(l,n,a,s,c){let f=s||l.options.databaseURL;f===void 0&&(l.options.projectId||On("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),rt("Using default host for project ",l.options.projectId),f=`${l.options.projectId}-default-rtdb.firebaseio.com`);let d=_y(f,c),m=d.repoInfo,p;typeof process<"u"&&kp&&(p=kp[uT]),p?(f=`http://${p}?ns=${m.namespace}`,d=_y(f,c),m=d.repoInfo):d.repoInfo.secure;const g=new EE(l.name,l.options,n);HC("Invalid Firebase Database URL",d),se(d.path)||On("Database URL must point to the root of a Firebase Database (not including a child path).");const b=gT(m,l,g,new SE(l,a));return new pT(b,l)}function mT(l,n){const a=bf[n];(!a||a[l.key]!==l)&&On(`Database ${n}(${l.repoInfo_}) has already been deleted.`),$C(l),delete a[l.key]}function gT(l,n,a,s){let c=bf[n.name];c||(c={},bf[n.name]=c);let f=c[l.toURLString()];return f&&On("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),f=new YC(l,fT,a,s),c[l.toURLString()]=f,f}class pT{constructor(n,a){this._repoInternal=n,this.app=a,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(VC(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new jn(this._repo,ge())),this._rootInternal}_delete(){return this._rootInternal!==null&&(mT(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(n){this._rootInternal===null&&On("Cannot call "+n+" on a deleted database.")}}function yT(l=XS(),n){const a=qS(l,"database").getImmediate({identifier:n});if(!a._instanceStarted){const s=N1("database");s&&_T(a,...s)}return a}function _T(l,n,a,s={}){l=kl(l),l._checkNotDeleted("useEmulator");const c=`${n}:${a}`,f=l._repoInternal;if(l._instanceStarted){if(c===l._repoInternal.repoInfo_.host&&kr(s,f.repoInfo_.emulatorOptions))return;On("connectDatabaseEmulator() cannot initialize or alter the emulator configuration after the database instance has started.")}let d;if(f.repoInfo_.nodeAdmin)s.mockUserToken&&On('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),d=new Ur(Ur.OWNER);else if(s.mockUserToken){const m=typeof s.mockUserToken=="string"?s.mockUserToken:w1(s.mockUserToken,l.app.options.projectId);d=new Ur(m)}Tf(n)&&(A1(n),D1("Database",!0)),dT(f,c,s,d)}function vT(l){aE(QS),Gr(new Ja("database",(n,{instanceIdentifier:a})=>{const s=n.getProvider("app").getImmediate(),c=n.getProvider("auth-internal"),f=n.getProvider("app-check-internal");return hT(s,c,f,a)},"PUBLIC").setMultipleInstances(!0)),Ml(qp,Gp,l),Ml(qp,Gp,"esm2020")}Mn.prototype.simpleListen=function(l,n){this.sendRequest("q",{p:l},n)};Mn.prototype.echo=function(l,n){this.sendRequest("echo",{d:l},n)};vT();const bT={apiKey:"AIzaSyAEOAwPVqYO-BbsBYQC6o7CfJvHdGfYKss",authDomain:"relife-bbd8c.firebaseapp.com",databaseURL:"https://relife-bbd8c-default-rtdb.asia-southeast1.firebasedatabase.app",projectId:"relife-bbd8c",storageBucket:"relife-bbd8c.firebasestorage.app",messagingSenderId:"144008353106",appId:"1:144008353106:web:cc629a581daf2e2ed1168b"},ST=qy(bT),gi=yT(ST),ET=()=>Math.random().toString().slice(2,8),lv=()=>"player_"+Math.random().toString(36).slice(2,11),xT=async(l,n)=>{const a=ET(),s=lv(),c={id:a,hostId:s,players:[{id:s,name:l,characterId:n,ready:!0}],status:"waiting",gameState:null,createdAt:Date.now()};return await iv(mi(gi,`rooms/${a}`),c),{roomId:a,playerId:s}},CT=async(l,n,a)=>{const s=mi(gi,`rooms/${l}`),c=await gs(s);if(!c.exists())return{success:!1,error:""};const f=c.val();if(f.status!=="waiting")return{success:!1,error:""};if(f.players.length>=4)return{success:!1,error:""};if(f.players.some(p=>p.characterId===a))return{success:!1,error:""};const d=lv(),m={id:d,name:n,characterId:a,ready:!1};return await qi(s,{players:[...f.players,m]}),{success:!0,playerId:d}},TT=async(l,n)=>{const a=mi(gi,`rooms/${l}`),s=await gs(a);if(!s.exists())return;const c=s.val(),f=c.players.filter(d=>d.id!==n);f.length===0?await sT(a):c.hostId===n?await qi(a,{players:f,hostId:f[0].id}):await qi(a,{players:f})},NT=async(l,n,a)=>{const s=mi(gi,`rooms/${l}`),c=await gs(s);if(!c.exists())return;const d=c.val().players.map(m=>m.id===n?{...m,ready:a}:m);await qi(s,{players:d})},AT=async(l,n,a)=>{const s=mi(gi,`rooms/${l}`),c=await gs(s);if(!c.exists())return{success:!1,error:""};const f=c.val();if(f.players.some(m=>m.id!==n&&m.characterId===a))return{success:!1,error:""};const d=f.players.map(m=>m.id===n?{...m,characterId:a}:m);return await qi(s,{players:d}),{success:!0}},wT=async(l,n,a)=>{const s=mi(gi,`rooms/${l}`),c=await gs(s);if(!c.exists())return{success:!1,error:""};const f=c.val();return f.hostId!==n?{success:!1,error:""}:f.players.length<2?{success:!1,error:" 2 "}:f.players.every(d=>d.ready)?(await qi(s,{status:"playing",gameState:a}),{success:!0}):{success:!1,error:""}},RT=async(l,n)=>{const a=mi(gi,`rooms/${l}`);await qi(a,{gameState:n})},vy=(l,n)=>{const a=mi(gi,`rooms/${l}`);return cT(a,s=>{s.exists()?n(s.val()):n(null)}),()=>oT(a)},av=Sy((l,n)=>{let a=null;return{roomId:null,playerId:null,room:null,isOnlineMode:!1,error:null,createNewRoom:async(s,c)=>{try{const{roomId:f,playerId:d}=await xT(s,c);a=vy(f,m=>{l({room:m})}),l({roomId:f,playerId:d,isOnlineMode:!0,error:null})}catch{l({error:""})}},joinExistingRoom:async(s,c,f)=>{try{const d=await CT(s,c,f);return d.success?(a=vy(s,m=>{l({room:m})}),l({roomId:s,playerId:d.playerId,isOnlineMode:!0,error:null}),!0):(l({error:d.error||""}),!1)}catch{return l({error:""}),!1}},leaveCurrentRoom:async()=>{const{roomId:s,playerId:c}=n();!s||!c||(a&&(a(),a=null),await TT(s,c),l({roomId:null,playerId:null,room:null,isOnlineMode:!1,error:null}))},toggleReady:async()=>{const{roomId:s,playerId:c,room:f}=n();if(!s||!c||!f)return;const d=f.players.find(m=>m.id===c);d&&await NT(s,c,!d.ready)},changeCharacter:async s=>{const{roomId:c,playerId:f}=n();if(!c||!f)return!1;const d=await AT(c,f,s);return d.success?!0:(l({error:d.error||""}),!1)},startOnlineGame:async()=>{const{roomId:s,playerId:c,room:f}=n();if(!s||!c||!f)return!1;const d=f.players.map(v=>v.name),m=f.players.map(v=>v.characterId),p=Ay(d,m),g=Wu(p),b=await wT(s,c,g);return b.success?!0:(l({error:b.error||""}),!1)},syncGameState:async s=>{const{roomId:c}=n();c&&await RT(c,s)},getCurrentPlayer:()=>{const{room:s,playerId:c}=n();return!s||!c?null:s.players.find(f=>f.id===c)||null},isHost:()=>{const{room:s,playerId:c}=n();return!s||!c?!1:s.hostId===c},canStartGame:()=>{const{room:s}=n();return s?s.players.length>=2&&s.players.every(c=>c.ready):!1},resetRoom:()=>{a&&(a(),a=null),l({roomId:null,playerId:null,room:null,isOnlineMode:!1,error:null})}}}),MT=({onOnlineClick:l})=>{const{startGame:n}=Rn(),[a,s]=rn.useState(["1","2","3","4"]),[c,f]=rn.useState([Zt[0].id,Zt[1].id,Zt[2].id,Zt[3].id]),d=(b,v)=>{const E=[...a];E[b]=v,s(E)},m=(b,v)=>{const E=[...c];E[b]=v,f(E)},p=()=>{n(a,c)},g=new Set(c).size!==c.length;return _.jsx("div",{className:"min-h-screen bg-gray-900 flex items-center justify-center p-4",children:_.jsxs("div",{className:"bg-gray-800 rounded-xl p-8 max-w-2xl w-full",children:[_.jsxs("div",{className:"text-center mb-8",children:[_.jsx("img",{src:"/Relife/logo.png",alt:"ReLife ",className:"h-20 mx-auto mb-4"}),_.jsx("p",{className:"text-gray-400",children:""})]}),_.jsxs("div",{className:"space-y-4 mb-8",children:[_.jsx("h2",{className:"text-xl font-bold text-white",children:""}),[0,1,2,3].map(b=>_.jsxs("div",{className:"bg-gray-700 rounded-lg p-4 flex flex-col sm:flex-row gap-4 items-start sm:items-center",children:[_.jsxs("div",{className:"flex-1 w-full sm:w-auto",children:[_.jsxs("label",{className:"block text-gray-400 text-sm mb-1",children:[" ",b+1]}),_.jsx("input",{type:"text",value:a[b],onChange:v=>d(b,v.target.value),className:"w-full bg-gray-600 text-white rounded px-3 py-2 focus:outline-none focus:ring-2 focus:ring-yellow-500"})]}),_.jsxs("div",{className:"flex-1 w-full sm:w-auto",children:[_.jsx("label",{className:"block text-gray-400 text-sm mb-1",children:""}),_.jsx("select",{value:c[b],onChange:v=>m(b,v.target.value),className:"w-full bg-gray-600 text-white rounded px-3 py-2 focus:outline-none focus:ring-2 focus:ring-yellow-500",children:Zt.map(v=>_.jsxs("option",{value:v.id,children:[v.name," ($",v.initialMoney.toLocaleString(),")"]},v.id))})]}),_.jsx("div",{className:"text-xs text-gray-400 w-full sm:w-32",children:(()=>{const v=Zt.find(E=>E.id===c[b]);return v?_.jsxs(_.Fragment,{children:[_.jsxs("div",{children:[":",v.initialStats.intelligence]}),_.jsxs("div",{children:[":",v.initialStats.stamina]}),_.jsxs("div",{children:[":",v.initialStats.charisma]})]}):null})()})]},b)),g&&_.jsx("div",{className:"text-red-400 text-sm",children:" "})]}),_.jsxs("div",{className:"space-y-3",children:[_.jsx("button",{onClick:p,disabled:g,className:`w-full py-4 rounded-lg font-bold text-xl transition-colors ${g?"bg-gray-600 text-gray-400 cursor-not-allowed":"bg-yellow-500 hover:bg-yellow-400 text-black"}`,children:""}),l&&_.jsx("button",{onClick:l,className:"w-full py-4 rounded-lg font-bold text-xl bg-blue-600 hover:bg-blue-500 text-white transition-colors",children:""})]}),_.jsxs("div",{className:"mt-8 text-gray-400 text-sm",children:[_.jsx("h3",{className:"font-bold text-white mb-2",children:""}),_.jsxs("ul",{className:"list-disc list-inside space-y-1",children:[_.jsx("li",{children:""}),_.jsx("li",{children:""}),_.jsx("li",{children:""}),_.jsx("li",{children:" 10 "})]})]})]})})},by=({player:l,isCurrentPlayer:n,isCompact:a=!1})=>{const s=n?"border-yellow-400":"border-gray-600",c=n?"bg-gray-800":"bg-gray-900";return a?_.jsxs("div",{className:`${c} ${s} border-2 rounded-lg p-2 text-sm`,children:[_.jsxs("div",{className:"flex justify-between items-center mb-1",children:[_.jsx("span",{className:"font-bold text-white",children:l.name}),_.jsxs("span",{className:"text-yellow-400",children:["$",l.money.toLocaleString()]})]}),_.jsxs("div",{className:"flex gap-2 text-xs",children:[_.jsxs("span",{className:"text-blue-400",children:["",l.stats.intelligence]}),_.jsxs("span",{className:"text-red-400",children:["",l.stats.stamina]}),_.jsxs("span",{className:"text-pink-400",children:["",l.stats.charisma]})]}),_.jsxs("div",{className:"text-xs text-gray-400 mt-1",children:[bp(l)," |  ",l.hand.length]})]}):_.jsxs("div",{className:`${c} ${s} border-2 rounded-lg p-4`,children:[_.jsxs("div",{className:"flex justify-between items-start mb-3",children:[_.jsxs("div",{children:[_.jsx("h3",{className:"text-lg font-bold text-white",children:l.name}),_.jsx("p",{className:"text-sm text-gray-400",children:l.character.name})]}),n&&_.jsx("span",{className:"bg-yellow-500 text-black text-xs px-2 py-1 rounded",children:""})]}),_.jsx("div",{className:"mb-3",children:_.jsxs("span",{className:"text-yellow-400 text-2xl font-bold",children:["$",l.money.toLocaleString()]})}),_.jsxs("div",{className:"grid grid-cols-3 gap-2 mb-3",children:[_.jsx($u,{label:"",value:l.stats.intelligence,color:"blue"}),_.jsx($u,{label:"",value:l.stats.stamina,color:"red"}),_.jsx($u,{label:"",value:l.stats.charisma,color:"pink"})]}),_.jsxs("div",{className:"border-t border-gray-700 pt-3",children:[_.jsxs("div",{className:"flex justify-between text-sm",children:[_.jsx("span",{className:"text-gray-400",children:""}),_.jsx("span",{className:"text-white",children:bp(l)})]}),l.job&&_.jsxs("div",{className:"flex justify-between text-sm mt-1",children:[_.jsx("span",{className:"text-gray-400",children:""}),_.jsxs("span",{className:"text-green-400",children:[l.performance,"/9"]})]}),_.jsxs("div",{className:"flex justify-between text-sm mt-1",children:[_.jsx("span",{className:"text-gray-400",children:""}),_.jsxs("span",{className:"text-white",children:[l.hand.length,"/10"]})]})]})]})},$u=({label:l,value:n,color:a})=>{const s={blue:"bg-blue-900 text-blue-300",red:"bg-red-900 text-red-300",pink:"bg-pink-900 text-pink-300"};return _.jsxs("div",{className:`${s[a]} rounded px-2 py-1 text-center`,children:[_.jsx("div",{className:"text-xs",children:l}),_.jsx("div",{className:"text-lg font-bold",children:n})]})},DT=({card:l,isSelected:n=!1,onClick:a,disabled:s=!1,size:c="medium"})=>{const f={study:{bg:"bg-blue-900",border:"border-blue-500",text:"text-blue-300"},work:{bg:"bg-green-900",border:"border-green-500",text:"text-green-300"},explore:{bg:"bg-yellow-900",border:"border-yellow-500",text:"text-yellow-300"},function:{bg:"bg-purple-900",border:"border-purple-500",text:"text-purple-300"}},d={study:"",work:"",explore:"",function:""},m={small:"w-20 h-28 text-xs",medium:"w-28 h-40 text-sm",large:"w-36 h-52 text-base"},p=f[l.type];return _.jsxs("div",{onClick:s?void 0:a,className:`
        ${m[c]}
        ${p.bg}
        ${n?"border-yellow-400 border-4 -translate-y-2":`${p.border} border-2`}
        ${s?"opacity-50 cursor-not-allowed":"cursor-pointer hover:-translate-y-1"}
        rounded-lg p-2 flex flex-col transition-all duration-200
      `,children:[_.jsx("div",{className:`${p.text} text-xs mb-1`,children:d[l.type]}),_.jsx("div",{className:"text-white font-bold flex-grow flex items-center justify-center text-center",children:l.name}),_.jsx("div",{className:"text-gray-300 text-xs mt-1 text-center",children:l.description}),l.cost&&_.jsxs("div",{className:"mt-1 text-yellow-400 text-xs text-center",children:["$",l.cost]})]})},OT=({cards:l,canPlay:n})=>{const{selectedCardIndex:a,selectCard:s,canCurrentPlayerPlayCard:c}=Rn();return l.length===0?_.jsx("div",{className:"text-gray-500 text-center py-8",children:""}):_.jsx("div",{className:"flex flex-wrap gap-2 justify-center",children:l.map((f,d)=>{const m=c(d),p=!n||!m.canPlay;return _.jsxs("div",{className:"relative",children:[_.jsx(DT,{card:f,isSelected:a===d,onClick:()=>s(a===d?null:d),disabled:p,size:"medium"}),p&&m.reason&&a===d&&_.jsx("div",{className:"absolute -top-8 left-1/2 transform -translate-x-1/2 bg-red-800 text-white text-xs px-2 py-1 rounded whitespace-nowrap",children:m.reason})]},f.id)})})},jT=({event:l,onConfirm:n})=>_.jsx("div",{className:"fixed inset-0 bg-black/70 flex items-center justify-center z-50",children:_.jsxs("div",{className:"bg-gray-800 border-2 border-yellow-500 rounded-xl p-6 max-w-md mx-4 animate-bounce-in",children:[_.jsxs("div",{className:"text-center mb-4",children:[_.jsx("div",{className:"text-yellow-400 text-sm mb-1",children:""}),_.jsx("h2",{className:"text-2xl font-bold text-white",children:l.name})]}),_.jsx("div",{className:"bg-gray-900 rounded-lg p-4 mb-6",children:_.jsx("p",{className:"text-gray-200 text-center leading-relaxed",children:l.description})}),_.jsx("div",{className:"text-center mb-6",children:_.jsx(zT,{event:l})}),_.jsx("button",{onClick:n,className:"w-full bg-yellow-500 hover:bg-yellow-400 text-black font-bold py-3 px-6 rounded-lg transition-colors",children:""})]})}),zT=({event:l})=>{const{effect:n,target:a}=l;let s="";switch(a.type){case"all":s="";break;case"richest":s=` ${a.count} `;break;case"poorest":s=` ${a.count} `;break;case"has_job":s="";break;default:s=""}let c="";switch(n.type){case"money_change":c=` ${n.value>0?"+":""}$${n.value}`;break;case"stat_change":c=`${{intelligence:"",stamina:"",charisma:""}[n.stat]} ${n.value>0?"+":""}${n.value}`;break;case"draw_cards":c=` ${n.count} `;break;case"special":c="";break}return _.jsxs("div",{className:"text-sm",children:[_.jsx("span",{className:"text-gray-400",children:""}),_.jsx("span",{className:"text-white ml-2",children:s}),c&&n.type!=="special"&&_.jsxs(_.Fragment,{children:[_.jsx("br",{}),_.jsx("span",{className:"text-gray-400",children:""}),_.jsx("span",{className:`ml-2 ${n.type==="money_change"||n.type==="stat_change"?(n.type==="money_change",n.value>0?"text-green-400":"text-red-400"):"text-white"}`,children:c})]})]})},IT=()=>{const{phase:l,players:n,currentPlayerIndex:a,selectedCardIndex:s,pendingStatChoice:c,pendingExplore:f,pendingTargetPlayer:d,pendingFunctionCard:m,lastMessage:p,playSelectedCard:g,chooseStat:b,chooseExploreLocation:v,chooseTargetPlayer:E,useInvalidCard:z,passReaction:L,cancelPendingAction:k,endPlayerTurn:K,nextPhase:fe}=Rn(),Ne={steal:"",sabotage:""};if(m){const{card:oe,sourcePlayerIndex:Oe,respondingPlayerIndex:Ve}=m,je=n[Oe],F=n[Ve],be=F.hand.map((ee,Ct)=>({card:ee,index:Ct})).filter(({card:ee})=>ee.effect.type==="special"&&ee.effect.handler==="invalid");return _.jsxs("div",{className:"bg-gray-800 rounded-lg p-4",children:[_.jsxs("div",{className:"text-yellow-400 text-center mb-2",children:[" ",je.name," ",oe.name,""]}),_.jsxs("div",{className:"text-white text-center mb-3",children:[F.name,""]}),_.jsxs("div",{className:"flex justify-center gap-3 flex-wrap",children:[be.map(({card:ee,index:Ct})=>_.jsxs("button",{onClick:()=>z(Ct),className:"bg-purple-600 hover:bg-purple-500 text-white px-4 py-2 rounded",children:["",ee.name,""]},Ct)),_.jsx("button",{onClick:L,className:"bg-gray-600 hover:bg-gray-500 text-white px-4 py-2 rounded",children:""})]})]})}if(c)return _.jsxs("div",{className:"bg-gray-800 rounded-lg p-4",children:[_.jsx("div",{className:"text-white text-center mb-3",children:""}),_.jsxs("div",{className:"flex justify-center gap-3 flex-wrap",children:[_.jsxs("button",{onClick:()=>b("intelligence"),className:"bg-blue-600 hover:bg-blue-500 text-white px-4 py-2 rounded",children:[" +",c.value]}),_.jsxs("button",{onClick:()=>b("stamina"),className:"bg-red-600 hover:bg-red-500 text-white px-4 py-2 rounded",children:[" +",c.value]}),_.jsxs("button",{onClick:()=>b("charisma"),className:"bg-pink-600 hover:bg-pink-500 text-white px-4 py-2 rounded",children:[" +",c.value]}),_.jsx("button",{onClick:k,className:"bg-gray-600 hover:bg-gray-500 text-white px-4 py-2 rounded",children:""})]})]});if(f)return _.jsxs("div",{className:"bg-gray-800 rounded-lg p-4",children:[_.jsx("div",{className:"text-white text-center mb-3",children:""}),_.jsxs("div",{className:"flex justify-center gap-3 flex-wrap",children:[Cy.map(oe=>_.jsx("button",{onClick:()=>v(oe.id),className:"bg-yellow-600 hover:bg-yellow-500 text-white px-4 py-2 rounded",children:oe.name},oe.id)),_.jsx("button",{onClick:k,className:"bg-gray-600 hover:bg-gray-500 text-white px-4 py-2 rounded",children:""})]})]});if(d){const oe=n.filter((Ve,je)=>je!==a),Oe=Ne[d.action]||d.action;return _.jsxs("div",{className:"bg-gray-800 rounded-lg p-4",children:[_.jsxs("div",{className:"text-white text-center mb-3",children:["",Oe,""]}),_.jsxs("div",{className:"flex justify-center gap-3 flex-wrap",children:[oe.map(Ve=>_.jsxs("button",{onClick:()=>E(Ve.id),className:"bg-purple-600 hover:bg-purple-500 text-white px-4 py-2 rounded",children:[Ve.name,d.action==="steal"&&_.jsxs("span",{className:"text-xs ml-1",children:["(",Ve.hand.length," )"]})]},Ve.id)),_.jsx("button",{onClick:k,className:"bg-gray-600 hover:bg-gray-500 text-white px-4 py-2 rounded",children:""})]})]})}return _.jsxs("div",{className:"bg-gray-800 rounded-lg p-4",children:[p&&_.jsx("div",{className:"text-yellow-400 text-center mb-3 text-sm",children:p}),_.jsxs("div",{className:"flex justify-center gap-3",children:[l==="action"&&_.jsxs(_.Fragment,{children:[_.jsx("button",{onClick:g,disabled:s===null,className:`px-4 py-2 rounded font-bold ${s!==null?"bg-green-600 hover:bg-green-500 text-white":"bg-gray-600 text-gray-400 cursor-not-allowed"}`,children:""}),_.jsx("button",{onClick:K,className:"bg-gray-600 hover:bg-gray-500 text-white px-4 py-2 rounded",children:""})]}),l==="salary"&&_.jsx("button",{onClick:fe,className:"bg-blue-600 hover:bg-blue-500 text-white px-4 py-2 rounded font-bold",children:" "}),l==="draw"&&_.jsx("button",{onClick:fe,className:"bg-blue-600 hover:bg-blue-500 text-white px-4 py-2 rounded font-bold",children:" "})]})]})},LT=()=>{const{phase:l,getCurrentPlayer:n,getAvailableJobsForCurrentPlayer:a,applyJob:s,tryPromote:c}=Rn(),f=n();if(!f)return null;const d=a(),m=Ef(f),p=Fb(),g={intelligence:{name:"",color:"text-blue-400",bg:"bg-blue-900/30"},stamina:{name:"",color:"text-red-400",bg:"bg-red-900/30"},charisma:{name:"",color:"text-pink-400",bg:"bg-pink-900/30"}};return l!=="action"?_.jsxs("div",{className:"bg-gray-800 rounded-lg p-4",children:[_.jsx("h3",{className:"text-white font-bold mb-2",children:""}),_.jsx("div",{className:"text-gray-400 text-sm",children:""})]}):_.jsxs("div",{className:"bg-gray-800 rounded-lg p-4",children:[_.jsx("h3",{className:"text-white font-bold mb-3",children:""}),f.job?_.jsxs("div",{className:"mb-4 p-3 bg-gray-700 rounded",children:[_.jsx("div",{className:"text-sm text-gray-400",children:""}),_.jsx("div",{className:"text-white font-bold",children:f.job.levels[f.jobLevel].name}),_.jsx("div",{className:"text-xs text-gray-400 mt-1",children:f.job.skill}),_.jsxs("div",{className:"text-sm text-gray-300 mt-1",children:[": ",f.performance,"/9"]}),m&&_.jsx("button",{onClick:c,className:"mt-2 bg-green-600 hover:bg-green-500 text-white text-sm px-3 py-1 rounded w-full",children:""})]}):_.jsx("div",{className:"mb-4 text-gray-400 text-sm",children:""}),!f.job&&_.jsxs("div",{children:[_.jsxs("div",{className:"text-sm text-gray-400 mb-2",children:[" (",d.length,")"]}),d.length>0?_.jsx("div",{className:"space-y-2 max-h-48 overflow-y-auto",children:d.map(b=>{const v=g[b.category];return _.jsxs("button",{onClick:()=>s(b.id),className:`w-full text-left p-2 ${v.bg} hover:brightness-125 rounded transition-all`,children:[_.jsxs("div",{className:"flex justify-between items-center",children:[_.jsx("span",{className:"text-white font-bold",children:b.levels[0].name}),_.jsx("span",{className:`text-xs ${v.color}`,children:v.name})]}),_.jsxs("div",{className:"text-xs text-gray-400",children:[": $",b.levels[0].salary[0].toLocaleString()]})]},b.id)})}):_.jsx("div",{className:"text-gray-500 text-sm",children:""})]}),_.jsxs("details",{className:"mt-4",children:[_.jsx("summary",{className:"text-gray-400 text-xs cursor-pointer hover:text-gray-300",children:""}),_.jsx("div",{className:"mt-2 space-y-3 text-xs max-h-64 overflow-y-auto",children:["intelligence","stamina","charisma"].map(b=>{const v=g[b];return _.jsxs("div",{children:[_.jsx("div",{className:`${v.color} font-bold mb-1`,children:v.name}),_.jsx("div",{className:"space-y-1",children:p[b].map(E=>{const z=E.levels[0].requiredStats,L=d.some(k=>k.id===E.id);return _.jsxs("div",{className:`p-2 rounded ${L?v.bg:"bg-gray-900"}`,children:[_.jsxs("div",{className:"flex justify-between",children:[_.jsx("span",{className:L?"text-white":"text-gray-500",children:E.name}),_.jsxs("span",{className:"text-gray-500",children:["$",E.levels[0].salary[0].toLocaleString()]})]}),_.jsxs("div",{className:"text-gray-500",children:[z.intelligence?`${z.intelligence} `:"",z.stamina?`${z.stamina} `:"",z.charisma?`${z.charisma}`:""]})]},E.id)})})]},b)})})]})]})},UT=()=>{const{players:l,currentPlayerIndex:n,turn:a,phase:s,currentEvent:c,showEventModal:f,confirmEvent:d}=Rn(),m=l[n],p=l.filter((b,v)=>v!==n),g={event:"",salary:"",action:"",draw:"",end_turn:""};return _.jsxs("div",{className:"min-h-screen bg-gray-900 p-4",children:[_.jsxs("div",{className:"bg-gray-800 rounded-lg p-3 mb-4 flex justify-between items-center",children:[_.jsxs("div",{className:"flex items-center gap-4",children:[_.jsx("img",{src:"/Relife/logo.png",alt:"ReLife",className:"h-8"}),_.jsxs("div",{className:"text-white",children:[_.jsxs("span",{className:"text-yellow-400 font-bold",children:[" ",a," "]}),_.jsx("span",{className:"text-gray-400 mx-2",children:"|"}),_.jsx("span",{children:g[s]||s})]})]}),_.jsxs("div",{className:"text-gray-400 text-sm",children:[": ",Rn.getState().deck.length," "]})]}),_.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-4",children:[_.jsxs("div",{className:"lg:col-span-1 space-y-3",children:[_.jsx("h2",{className:"text-gray-400 text-sm font-bold",children:""}),p.map(b=>_.jsx(by,{player:b,isCurrentPlayer:!1,isCompact:!0},b.id))]}),_.jsxs("div",{className:"lg:col-span-2 space-y-4",children:[_.jsx(by,{player:m,isCurrentPlayer:!0}),_.jsx(IT,{}),_.jsxs("div",{className:"bg-gray-800 rounded-lg p-4",children:[_.jsxs("h3",{className:"text-white font-bold mb-3",children:[m.name," "]}),_.jsx(OT,{cards:m.hand,canPlay:s==="action"})]})]}),_.jsxs("div",{className:"lg:col-span-1",children:[_.jsx(LT,{}),_.jsxs("div",{className:"bg-gray-800 rounded-lg p-4 mt-4",children:[_.jsx("h3",{className:"text-white font-bold mb-2",children:""}),_.jsx("div",{className:"max-h-48 overflow-y-auto text-sm space-y-1",children:Rn.getState().eventLog.slice(-10).map((b,v)=>_.jsx("div",{className:"text-gray-400",children:b},v))})]})]})]}),f&&c&&_.jsx(jT,{event:c,onConfirm:d})]})},HT=()=>{const{getGameResult:l,resetGame:n}=Rn(),a=l();if(!a)return null;const s=["","","",""];return _.jsx("div",{className:"min-h-screen bg-gray-900 flex items-center justify-center p-4",children:_.jsxs("div",{className:"bg-gray-800 rounded-xl p-8 max-w-2xl w-full",children:[_.jsxs("div",{className:"text-center mb-8",children:[_.jsx("img",{src:"/Relife/logo.png",alt:"ReLife",className:"h-16 mx-auto mb-4"}),_.jsx("h1",{className:"text-3xl font-bold text-white mb-2",children:""}),_.jsx("p",{className:"text-gray-400",children:""})]}),_.jsx("div",{className:"space-y-4 mb-8",children:a.rankings.map((c,f)=>_.jsxs("div",{className:`rounded-lg p-4 ${f===0?"bg-yellow-900/50 border-2 border-yellow-500":"bg-gray-700"}`,children:[_.jsxs("div",{className:"flex items-center justify-between",children:[_.jsxs("div",{className:"flex items-center gap-4",children:[_.jsx("div",{className:"text-3xl",children:s[f]||`#${c.rank}`}),_.jsxs("div",{children:[_.jsx("div",{className:"text-white font-bold text-lg",children:c.player.name}),_.jsx("div",{className:"text-gray-400 text-sm",children:c.player.character.name})]})]}),_.jsxs("div",{className:"text-right",children:[_.jsx("div",{className:"text-2xl font-bold text-yellow-400",children:c.score.total.toLocaleString()}),_.jsx("div",{className:"text-gray-400 text-xs",children:""})]})]}),_.jsxs("div",{className:"mt-3 pt-3 border-t border-gray-600 grid grid-cols-3 gap-4 text-sm",children:[_.jsxs("div",{children:[_.jsx("div",{className:"text-gray-400",children:""}),_.jsxs("div",{className:"text-white",children:["$",c.score.money.toLocaleString()]})]}),_.jsxs("div",{children:[_.jsx("div",{className:"text-gray-400",children:""}),_.jsx("div",{className:"text-white",children:c.score.stats.toLocaleString()})]}),_.jsxs("div",{children:[_.jsx("div",{className:"text-gray-400",children:""}),_.jsx("div",{className:"text-white",children:c.score.jobBonus.toLocaleString()})]})]}),_.jsxs("div",{className:"mt-3 pt-3 border-t border-gray-600 flex gap-4 text-xs text-gray-400",children:[_.jsxs("span",{children:[": ",c.player.stats.intelligence]}),_.jsxs("span",{children:[": ",c.player.stats.stamina]}),_.jsxs("span",{children:[": ",c.player.stats.charisma]}),_.jsxs("span",{children:[": ",c.player.job?c.player.job.levels[c.player.jobLevel].name:""]})]})]},c.player.id))}),_.jsx("button",{onClick:n,className:"w-full bg-yellow-500 hover:bg-yellow-400 text-black font-bold py-4 rounded-lg transition-colors",children:""})]})})},BT=({onStartGame:l,onBack:n})=>{const{roomId:a,room:s,error:c,createNewRoom:f,joinExistingRoom:d,leaveCurrentRoom:m,toggleReady:p,changeCharacter:g,startOnlineGame:b,getCurrentPlayer:v,isHost:E,canStartGame:z}=av(),[L,k]=rn.useState("menu"),[K,fe]=rn.useState(""),[Ne,oe]=rn.useState(Zt[0].id),[Oe,Ve]=rn.useState(""),[je,F]=rn.useState(!1);if(a&&s){const be=v(),ee=async()=>{F(!0),await b()&&l(),F(!1)},Ct=async()=>{await m(),k("menu")},Lt=s.players.filter(de=>de.id!==be?.id).map(de=>de.characterId);return _.jsx("div",{className:"min-h-screen bg-gray-900 flex items-center justify-center p-4",children:_.jsxs("div",{className:"bg-gray-800 rounded-lg p-6 w-full max-w-md",children:[_.jsxs("div",{className:"text-center mb-6",children:[_.jsx("h2",{className:"text-white text-xl font-bold mb-2",children:""}),_.jsx("div",{className:"bg-gray-700 rounded-lg p-4",children:_.jsx("span",{className:"text-yellow-400 text-3xl font-mono tracking-widest",children:a})}),_.jsx("p",{className:"text-gray-400 text-sm mt-2",children:""})]}),_.jsxs("div",{className:"mb-6",children:[_.jsxs("h3",{className:"text-white font-bold mb-3",children:[" (",s.players.length,"/4)"]}),_.jsxs("div",{className:"space-y-2",children:[s.players.map(de=>{const ot=Zt.find(D=>D.id===de.characterId),gt=de.id===be?.id,Tt=de.id===s.hostId;return _.jsxs("div",{className:`p-3 rounded-lg flex items-center justify-between ${gt?"bg-blue-900/50 border border-blue-500":"bg-gray-700"}`,children:[_.jsxs("div",{className:"flex items-center gap-3",children:[_.jsxs("span",{className:"text-white font-bold",children:[de.name,gt&&_.jsx("span",{className:"text-blue-400 text-sm ml-1",children:"()"}),Tt&&_.jsx("span",{className:"text-yellow-400 text-sm ml-1",children:""})]}),_.jsx("span",{className:"text-gray-400 text-sm",children:ot?.name})]}),_.jsx("div",{children:de.ready?_.jsx("span",{className:"text-green-400 text-sm",children:" "}):_.jsx("span",{className:"text-gray-500 text-sm",children:"..."})})]},de.id)}),Array.from({length:4-s.players.length}).map((de,ot)=>_.jsx("div",{className:"p-3 rounded-lg bg-gray-700/50 border border-dashed border-gray-600",children:_.jsx("span",{className:"text-gray-500",children:"..."})},`empty-${ot}`))]})]}),be&&_.jsxs("div",{className:"mb-6",children:[_.jsx("h3",{className:"text-white font-bold mb-3",children:""}),_.jsx("div",{className:"grid grid-cols-2 gap-2",children:Zt.map(de=>{const ot=Lt.includes(de.id),gt=be.characterId===de.id;return _.jsxs("button",{onClick:()=>!ot&&g(de.id),disabled:ot||be.ready,className:`p-2 rounded text-left text-sm ${gt?"bg-blue-600 text-white":ot?"bg-gray-700 text-gray-500 cursor-not-allowed":"bg-gray-700 text-white hover:bg-gray-600"}`,children:[_.jsx("div",{className:"font-bold",children:de.name}),_.jsxs("div",{className:"text-xs opacity-75",children:["$",de.initialMoney.toLocaleString(),ot&&" ()"]})]},de.id)})})]}),c&&_.jsx("div",{className:"mb-4 p-3 bg-red-900/50 border border-red-500 rounded text-red-300 text-sm",children:c}),_.jsxs("div",{className:"space-y-2",children:[E()?_.jsx("button",{onClick:ee,disabled:!z()||je,className:`w-full py-3 rounded-lg font-bold ${z()?"bg-green-600 hover:bg-green-500 text-white":"bg-gray-600 text-gray-400 cursor-not-allowed"}`,children:je?"...":z()?"":""}):_.jsx("button",{onClick:p,className:`w-full py-3 rounded-lg font-bold ${be?.ready?"bg-gray-600 hover:bg-gray-500 text-white":"bg-green-600 hover:bg-green-500 text-white"}`,children:be?.ready?"":""}),_.jsx("button",{onClick:Ct,className:"w-full py-2 rounded-lg bg-gray-700 hover:bg-gray-600 text-gray-300",children:""})]})]})})}if(L==="menu")return _.jsx("div",{className:"min-h-screen bg-gray-900 flex items-center justify-center p-4",children:_.jsxs("div",{className:"bg-gray-800 rounded-lg p-6 w-full max-w-sm",children:[_.jsx("h2",{className:"text-white text-2xl font-bold text-center mb-6",children:""}),_.jsxs("div",{className:"space-y-3",children:[_.jsx("button",{onClick:()=>k("create"),className:"w-full py-3 rounded-lg bg-blue-600 hover:bg-blue-500 text-white font-bold",children:""}),_.jsx("button",{onClick:()=>k("join"),className:"w-full py-3 rounded-lg bg-green-600 hover:bg-green-500 text-white font-bold",children:""}),_.jsx("button",{onClick:n,className:"w-full py-2 rounded-lg bg-gray-700 hover:bg-gray-600 text-gray-300",children:""})]})]})});if(L==="create"){const be=async()=>{K.trim()&&(F(!0),await f(K.trim(),Ne),F(!1))};return _.jsx("div",{className:"min-h-screen bg-gray-900 flex items-center justify-center p-4",children:_.jsxs("div",{className:"bg-gray-800 rounded-lg p-6 w-full max-w-sm",children:[_.jsx("h2",{className:"text-white text-xl font-bold text-center mb-6",children:""}),_.jsxs("div",{className:"space-y-4",children:[_.jsxs("div",{children:[_.jsx("label",{className:"text-gray-400 text-sm block mb-1",children:""}),_.jsx("input",{type:"text",value:K,onChange:ee=>fe(ee.target.value),placeholder:"",className:"w-full p-3 rounded bg-gray-700 text-white border border-gray-600 focus:border-blue-500 focus:outline-none",maxLength:10})]}),_.jsxs("div",{children:[_.jsx("label",{className:"text-gray-400 text-sm block mb-1",children:""}),_.jsx("select",{value:Ne,onChange:ee=>oe(ee.target.value),className:"w-full p-3 rounded bg-gray-700 text-white border border-gray-600 focus:border-blue-500 focus:outline-none",children:Zt.map(ee=>_.jsxs("option",{value:ee.id,children:[ee.name," ($",ee.initialMoney.toLocaleString(),")"]},ee.id))})]}),c&&_.jsx("div",{className:"p-3 bg-red-900/50 border border-red-500 rounded text-red-300 text-sm",children:c}),_.jsx("button",{onClick:be,disabled:!K.trim()||je,className:"w-full py-3 rounded-lg bg-blue-600 hover:bg-blue-500 text-white font-bold disabled:bg-gray-600 disabled:cursor-not-allowed",children:je?"...":""}),_.jsx("button",{onClick:()=>k("menu"),className:"w-full py-2 rounded-lg bg-gray-700 hover:bg-gray-600 text-gray-300",children:""})]})]})})}if(L==="join"){const be=async()=>{!K.trim()||!Oe.trim()||(F(!0),await d(Oe.trim(),K.trim(),Ne),F(!1))};return _.jsx("div",{className:"min-h-screen bg-gray-900 flex items-center justify-center p-4",children:_.jsxs("div",{className:"bg-gray-800 rounded-lg p-6 w-full max-w-sm",children:[_.jsx("h2",{className:"text-white text-xl font-bold text-center mb-6",children:""}),_.jsxs("div",{className:"space-y-4",children:[_.jsxs("div",{children:[_.jsx("label",{className:"text-gray-400 text-sm block mb-1",children:""}),_.jsx("input",{type:"text",value:Oe,onChange:ee=>Ve(ee.target.value),placeholder:" 6 ",className:"w-full p-3 rounded bg-gray-700 text-white border border-gray-600 focus:border-blue-500 focus:outline-none text-center text-xl tracking-widest",maxLength:6})]}),_.jsxs("div",{children:[_.jsx("label",{className:"text-gray-400 text-sm block mb-1",children:""}),_.jsx("input",{type:"text",value:K,onChange:ee=>fe(ee.target.value),placeholder:"",className:"w-full p-3 rounded bg-gray-700 text-white border border-gray-600 focus:border-blue-500 focus:outline-none",maxLength:10})]}),_.jsxs("div",{children:[_.jsx("label",{className:"text-gray-400 text-sm block mb-1",children:""}),_.jsx("select",{value:Ne,onChange:ee=>oe(ee.target.value),className:"w-full p-3 rounded bg-gray-700 text-white border border-gray-600 focus:border-blue-500 focus:outline-none",children:Zt.map(ee=>_.jsxs("option",{value:ee.id,children:[ee.name," ($",ee.initialMoney.toLocaleString(),")"]},ee.id))})]}),c&&_.jsx("div",{className:"p-3 bg-red-900/50 border border-red-500 rounded text-red-300 text-sm",children:c}),_.jsx("button",{onClick:be,disabled:!K.trim()||!Oe.trim()||je,className:"w-full py-3 rounded-lg bg-green-600 hover:bg-green-500 text-white font-bold disabled:bg-gray-600 disabled:cursor-not-allowed",children:je?"...":""}),_.jsx("button",{onClick:()=>k("menu"),className:"w-full py-2 rounded-lg bg-gray-700 hover:bg-gray-600 text-gray-300",children:""})]})]})})}return null};function kT(){const{phase:l}=Rn(),{room:n}=av(),[a,s]=rn.useState(!1);return a&&(!n||n.status==="waiting")?_.jsx(BT,{onStartGame:()=>s(!1),onBack:()=>s(!1)}):l==="setup"?_.jsx(MT,{onOnlineClick:()=>s(!0)}):l==="game_over"?_.jsx(HT,{}):_.jsx(UT,{})}Bb.createRoot(document.getElementById("root")).render(_.jsx(rn.StrictMode,{children:_.jsx(kT,{})}));

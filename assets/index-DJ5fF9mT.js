(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const c of document.querySelectorAll('link[rel="modulepreload"]'))s(c);new MutationObserver(c=>{for(const f of c)if(f.type==="childList")for(const d of f.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&s(d)}).observe(document,{childList:!0,subtree:!0});function a(c){const f={};return c.integrity&&(f.integrity=c.integrity),c.referrerPolicy&&(f.referrerPolicy=c.referrerPolicy),c.crossOrigin==="use-credentials"?f.credentials="include":c.crossOrigin==="anonymous"?f.credentials="omit":f.credentials="same-origin",f}function s(c){if(c.ep)return;c.ep=!0;const f=a(c);fetch(c.href,f)}})();function Vb(l){return l&&l.__esModule&&Object.prototype.hasOwnProperty.call(l,"default")?l.default:l}var ku={exports:{}},Ga={};var yp;function Qb(){if(yp)return Ga;yp=1;var l=Symbol.for("react.transitional.element"),n=Symbol.for("react.fragment");function a(s,c,f){var d=null;if(f!==void 0&&(d=""+f),c.key!==void 0&&(d=""+c.key),"key"in c){f={};for(var m in c)m!=="key"&&(f[m]=c[m])}else f=c;return c=f.ref,{$$typeof:l,type:s,key:d,ref:c!==void 0?c:null,props:f}}return Ga.Fragment=n,Ga.jsx=a,Ga.jsxs=a,Ga}var _p;function Xb(){return _p||(_p=1,ku.exports=Qb()),ku.exports}var y=Xb(),qu={exports:{}},ne={};var vp;function Pb(){if(vp)return ne;vp=1;var l=Symbol.for("react.transitional.element"),n=Symbol.for("react.portal"),a=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),c=Symbol.for("react.profiler"),f=Symbol.for("react.consumer"),d=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),S=Symbol.for("react.lazy"),v=Symbol.for("react.activity"),b=Symbol.iterator;function R(C){return C===null||typeof C!="object"?null:(C=b&&C[b]||C["@@iterator"],typeof C=="function"?C:null)}var j={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},H=Object.assign,G={};function U(C,L,Y){this.props=C,this.context=L,this.refs=G,this.updater=Y||j}U.prototype.isReactComponent={},U.prototype.setState=function(C,L){if(typeof C!="object"&&typeof C!="function"&&C!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,C,L,"setState")},U.prototype.forceUpdate=function(C){this.updater.enqueueForceUpdate(this,C,"forceUpdate")};function k(){}k.prototype=U.prototype;function Q(C,L,Y){this.props=C,this.context=L,this.refs=G,this.updater=Y||j}var W=Q.prototype=new k;W.constructor=Q,H(W,U.prototype),W.isPureReactComponent=!0;var ie=Array.isArray;function fe(){}var X={H:null,A:null,T:null,S:null},K=Object.prototype.hasOwnProperty;function $(C,L,Y){var P=Y.ref;return{$$typeof:l,type:C,key:L,ref:P!==void 0?P:null,props:Y}}function ht(C,L){return $(C.type,L,C.props)}function Le(C){return typeof C=="object"&&C!==null&&C.$$typeof===l}function ce(C){var L={"=":"=0",":":"=2"};return"$"+C.replace(/[=:]/g,function(Y){return L[Y]})}var ke=/\/+/g;function mt(C,L){return typeof C=="object"&&C!==null&&C.key!=null?ce(""+C.key):L.toString(36)}function pt(C){switch(C.status){case"fulfilled":return C.value;case"rejected":throw C.reason;default:switch(typeof C.status=="string"?C.then(fe,fe):(C.status="pending",C.then(function(L){C.status==="pending"&&(C.status="fulfilled",C.value=L)},function(L){C.status==="pending"&&(C.status="rejected",C.reason=L)})),C.status){case"fulfilled":return C.value;case"rejected":throw C.reason}}throw C}function D(C,L,Y,P,le){var de=typeof C;(de==="undefined"||de==="boolean")&&(C=null);var Ee=!1;if(C===null)Ee=!0;else switch(de){case"bigint":case"string":case"number":Ee=!0;break;case"object":switch(C.$$typeof){case l:case n:Ee=!0;break;case S:return Ee=C._init,D(Ee(C._payload),L,Y,P,le)}}if(Ee)return le=le(C),Ee=P===""?"."+mt(C,0):P,ie(le)?(Y="",Ee!=null&&(Y=Ee.replace(ke,"$&/")+"/"),D(le,L,Y,"",function(Kl){return Kl})):le!=null&&(Le(le)&&(le=ht(le,Y+(le.key==null||C&&C.key===le.key?"":(""+le.key).replace(ke,"$&/")+"/")+Ee)),L.push(le)),1;Ee=0;var yt=P===""?".":P+":";if(ie(C))for(var Qe=0;Qe<C.length;Qe++)P=C[Qe],de=yt+mt(P,Qe),Ee+=D(P,L,Y,de,le);else if(Qe=R(C),typeof Qe=="function")for(C=Qe.call(C),Qe=0;!(P=C.next()).done;)P=P.value,de=yt+mt(P,Qe++),Ee+=D(P,L,Y,de,le);else if(de==="object"){if(typeof C.then=="function")return D(pt(C),L,Y,P,le);throw L=String(C),Error("Objects are not valid as a React child (found: "+(L==="[object Object]"?"object with keys {"+Object.keys(C).join(", ")+"}":L)+"). If you meant to render a collection of children, use an array instead.")}return Ee}function q(C,L,Y){if(C==null)return C;var P=[],le=0;return D(C,P,"","",function(de){return L.call(Y,de,le++)}),P}function te(C){if(C._status===-1){var L=C._result;L=L(),L.then(function(Y){(C._status===0||C._status===-1)&&(C._status=1,C._result=Y)},function(Y){(C._status===0||C._status===-1)&&(C._status=2,C._result=Y)}),C._status===-1&&(C._status=0,C._result=L)}if(C._status===1)return C._result.default;throw C._result}var Ne=typeof reportError=="function"?reportError:function(C){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var L=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof C=="object"&&C!==null&&typeof C.message=="string"?String(C.message):String(C),error:C});if(!window.dispatchEvent(L))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",C);return}console.error(C)},De={map:q,forEach:function(C,L,Y){q(C,function(){L.apply(this,arguments)},Y)},count:function(C){var L=0;return q(C,function(){L++}),L},toArray:function(C){return q(C,function(L){return L})||[]},only:function(C){if(!Le(C))throw Error("React.Children.only expected to receive a single React element child.");return C}};return ne.Activity=v,ne.Children=De,ne.Component=U,ne.Fragment=a,ne.Profiler=c,ne.PureComponent=Q,ne.StrictMode=s,ne.Suspense=p,ne.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=X,ne.__COMPILER_RUNTIME={__proto__:null,c:function(C){return X.H.useMemoCache(C)}},ne.cache=function(C){return function(){return C.apply(null,arguments)}},ne.cacheSignal=function(){return null},ne.cloneElement=function(C,L,Y){if(C==null)throw Error("The argument must be a React element, but you passed "+C+".");var P=H({},C.props),le=C.key;if(L!=null)for(de in L.key!==void 0&&(le=""+L.key),L)!K.call(L,de)||de==="key"||de==="__self"||de==="__source"||de==="ref"&&L.ref===void 0||(P[de]=L[de]);var de=arguments.length-2;if(de===1)P.children=Y;else if(1<de){for(var Ee=Array(de),yt=0;yt<de;yt++)Ee[yt]=arguments[yt+2];P.children=Ee}return $(C.type,le,P)},ne.createContext=function(C){return C={$$typeof:d,_currentValue:C,_currentValue2:C,_threadCount:0,Provider:null,Consumer:null},C.Provider=C,C.Consumer={$$typeof:f,_context:C},C},ne.createElement=function(C,L,Y){var P,le={},de=null;if(L!=null)for(P in L.key!==void 0&&(de=""+L.key),L)K.call(L,P)&&P!=="key"&&P!=="__self"&&P!=="__source"&&(le[P]=L[P]);var Ee=arguments.length-2;if(Ee===1)le.children=Y;else if(1<Ee){for(var yt=Array(Ee),Qe=0;Qe<Ee;Qe++)yt[Qe]=arguments[Qe+2];le.children=yt}if(C&&C.defaultProps)for(P in Ee=C.defaultProps,Ee)le[P]===void 0&&(le[P]=Ee[P]);return $(C,de,le)},ne.createRef=function(){return{current:null}},ne.forwardRef=function(C){return{$$typeof:m,render:C}},ne.isValidElement=Le,ne.lazy=function(C){return{$$typeof:S,_payload:{_status:-1,_result:C},_init:te}},ne.memo=function(C,L){return{$$typeof:g,type:C,compare:L===void 0?null:L}},ne.startTransition=function(C){var L=X.T,Y={};X.T=Y;try{var P=C(),le=X.S;le!==null&&le(Y,P),typeof P=="object"&&P!==null&&typeof P.then=="function"&&P.then(fe,Ne)}catch(de){Ne(de)}finally{L!==null&&Y.types!==null&&(L.types=Y.types),X.T=L}},ne.unstable_useCacheRefresh=function(){return X.H.useCacheRefresh()},ne.use=function(C){return X.H.use(C)},ne.useActionState=function(C,L,Y){return X.H.useActionState(C,L,Y)},ne.useCallback=function(C,L){return X.H.useCallback(C,L)},ne.useContext=function(C){return X.H.useContext(C)},ne.useDebugValue=function(){},ne.useDeferredValue=function(C,L){return X.H.useDeferredValue(C,L)},ne.useEffect=function(C,L){return X.H.useEffect(C,L)},ne.useEffectEvent=function(C){return X.H.useEffectEvent(C)},ne.useId=function(){return X.H.useId()},ne.useImperativeHandle=function(C,L,Y){return X.H.useImperativeHandle(C,L,Y)},ne.useInsertionEffect=function(C,L){return X.H.useInsertionEffect(C,L)},ne.useLayoutEffect=function(C,L){return X.H.useLayoutEffect(C,L)},ne.useMemo=function(C,L){return X.H.useMemo(C,L)},ne.useOptimistic=function(C,L){return X.H.useOptimistic(C,L)},ne.useReducer=function(C,L,Y){return X.H.useReducer(C,L,Y)},ne.useRef=function(C){return X.H.useRef(C)},ne.useState=function(C){return X.H.useState(C)},ne.useSyncExternalStore=function(C,L,Y){return X.H.useSyncExternalStore(C,L,Y)},ne.useTransition=function(){return X.H.useTransition()},ne.version="19.2.4",ne}var bp;function Df(){return bp||(bp=1,qu.exports=Pb()),qu.exports}var re=Df();const kr=Vb(re);var Gu={exports:{}},Ya={},Yu={exports:{}},Vu={};var Sp;function Zb(){return Sp||(Sp=1,(function(l){function n(D,q){var te=D.length;D.push(q);e:for(;0<te;){var Ne=te-1>>>1,De=D[Ne];if(0<c(De,q))D[Ne]=q,D[te]=De,te=Ne;else break e}}function a(D){return D.length===0?null:D[0]}function s(D){if(D.length===0)return null;var q=D[0],te=D.pop();if(te!==q){D[0]=te;e:for(var Ne=0,De=D.length,C=De>>>1;Ne<C;){var L=2*(Ne+1)-1,Y=D[L],P=L+1,le=D[P];if(0>c(Y,te))P<De&&0>c(le,Y)?(D[Ne]=le,D[P]=te,Ne=P):(D[Ne]=Y,D[L]=te,Ne=L);else if(P<De&&0>c(le,te))D[Ne]=le,D[P]=te,Ne=P;else break e}}return q}function c(D,q){var te=D.sortIndex-q.sortIndex;return te!==0?te:D.id-q.id}if(l.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var f=performance;l.unstable_now=function(){return f.now()}}else{var d=Date,m=d.now();l.unstable_now=function(){return d.now()-m}}var p=[],g=[],S=1,v=null,b=3,R=!1,j=!1,H=!1,G=!1,U=typeof setTimeout=="function"?setTimeout:null,k=typeof clearTimeout=="function"?clearTimeout:null,Q=typeof setImmediate<"u"?setImmediate:null;function W(D){for(var q=a(g);q!==null;){if(q.callback===null)s(g);else if(q.startTime<=D)s(g),q.sortIndex=q.expirationTime,n(p,q);else break;q=a(g)}}function ie(D){if(H=!1,W(D),!j)if(a(p)!==null)j=!0,fe||(fe=!0,ce());else{var q=a(g);q!==null&&pt(ie,q.startTime-D)}}var fe=!1,X=-1,K=5,$=-1;function ht(){return G?!0:!(l.unstable_now()-$<K)}function Le(){if(G=!1,fe){var D=l.unstable_now();$=D;var q=!0;try{e:{j=!1,H&&(H=!1,k(X),X=-1),R=!0;var te=b;try{t:{for(W(D),v=a(p);v!==null&&!(v.expirationTime>D&&ht());){var Ne=v.callback;if(typeof Ne=="function"){v.callback=null,b=v.priorityLevel;var De=Ne(v.expirationTime<=D);if(D=l.unstable_now(),typeof De=="function"){v.callback=De,W(D),q=!0;break t}v===a(p)&&s(p),W(D)}else s(p);v=a(p)}if(v!==null)q=!0;else{var C=a(g);C!==null&&pt(ie,C.startTime-D),q=!1}}break e}finally{v=null,b=te,R=!1}q=void 0}}finally{q?ce():fe=!1}}}var ce;if(typeof Q=="function")ce=function(){Q(Le)};else if(typeof MessageChannel<"u"){var ke=new MessageChannel,mt=ke.port2;ke.port1.onmessage=Le,ce=function(){mt.postMessage(null)}}else ce=function(){U(Le,0)};function pt(D,q){X=U(function(){D(l.unstable_now())},q)}l.unstable_IdlePriority=5,l.unstable_ImmediatePriority=1,l.unstable_LowPriority=4,l.unstable_NormalPriority=3,l.unstable_Profiling=null,l.unstable_UserBlockingPriority=2,l.unstable_cancelCallback=function(D){D.callback=null},l.unstable_forceFrameRate=function(D){0>D||125<D?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):K=0<D?Math.floor(1e3/D):5},l.unstable_getCurrentPriorityLevel=function(){return b},l.unstable_next=function(D){switch(b){case 1:case 2:case 3:var q=3;break;default:q=b}var te=b;b=q;try{return D()}finally{b=te}},l.unstable_requestPaint=function(){G=!0},l.unstable_runWithPriority=function(D,q){switch(D){case 1:case 2:case 3:case 4:case 5:break;default:D=3}var te=b;b=D;try{return q()}finally{b=te}},l.unstable_scheduleCallback=function(D,q,te){var Ne=l.unstable_now();switch(typeof te=="object"&&te!==null?(te=te.delay,te=typeof te=="number"&&0<te?Ne+te:Ne):te=Ne,D){case 1:var De=-1;break;case 2:De=250;break;case 5:De=1073741823;break;case 4:De=1e4;break;default:De=5e3}return De=te+De,D={id:S++,callback:q,priorityLevel:D,startTime:te,expirationTime:De,sortIndex:-1},te>Ne?(D.sortIndex=te,n(g,D),a(p)===null&&D===a(g)&&(H?(k(X),X=-1):H=!0,pt(ie,te-Ne))):(D.sortIndex=De,n(p,D),j||R||(j=!0,fe||(fe=!0,ce()))),D},l.unstable_shouldYield=ht,l.unstable_wrapCallback=function(D){var q=b;return function(){var te=b;b=q;try{return D.apply(this,arguments)}finally{b=te}}}})(Vu)),Vu}var xp;function Kb(){return xp||(xp=1,Yu.exports=Zb()),Yu.exports}var Qu={exports:{}},gt={};var Ep;function Fb(){if(Ep)return gt;Ep=1;var l=Df();function n(p){var g="https://react.dev/errors/"+p;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var S=2;S<arguments.length;S++)g+="&args[]="+encodeURIComponent(arguments[S])}return"Minified React error #"+p+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(){}var s={d:{f:a,r:function(){throw Error(n(522))},D:a,C:a,L:a,m:a,X:a,S:a,M:a},p:0,findDOMNode:null},c=Symbol.for("react.portal");function f(p,g,S){var v=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:c,key:v==null?null:""+v,children:p,containerInfo:g,implementation:S}}var d=l.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function m(p,g){if(p==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return gt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,gt.createPortal=function(p,g){var S=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(n(299));return f(p,g,null,S)},gt.flushSync=function(p){var g=d.T,S=s.p;try{if(d.T=null,s.p=2,p)return p()}finally{d.T=g,s.p=S,s.d.f()}},gt.preconnect=function(p,g){typeof p=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,s.d.C(p,g))},gt.prefetchDNS=function(p){typeof p=="string"&&s.d.D(p)},gt.preinit=function(p,g){if(typeof p=="string"&&g&&typeof g.as=="string"){var S=g.as,v=m(S,g.crossOrigin),b=typeof g.integrity=="string"?g.integrity:void 0,R=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;S==="style"?s.d.S(p,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:v,integrity:b,fetchPriority:R}):S==="script"&&s.d.X(p,{crossOrigin:v,integrity:b,fetchPriority:R,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},gt.preinitModule=function(p,g){if(typeof p=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var S=m(g.as,g.crossOrigin);s.d.M(p,{crossOrigin:S,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&s.d.M(p)},gt.preload=function(p,g){if(typeof p=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var S=g.as,v=m(S,g.crossOrigin);s.d.L(p,S,{crossOrigin:v,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},gt.preloadModule=function(p,g){if(typeof p=="string")if(g){var S=m(g.as,g.crossOrigin);s.d.m(p,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:S,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else s.d.m(p)},gt.requestFormReset=function(p){s.d.r(p)},gt.unstable_batchedUpdates=function(p,g){return p(g)},gt.useFormState=function(p,g,S){return d.H.useFormState(p,g,S)},gt.useFormStatus=function(){return d.H.useHostTransitionStatus()},gt.version="19.2.4",gt}var Cp;function $b(){if(Cp)return Qu.exports;Cp=1;function l(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(l)}catch(n){console.error(n)}}return l(),Qu.exports=Fb(),Qu.exports}var Tp;function Jb(){if(Tp)return Ya;Tp=1;var l=Kb(),n=Df(),a=$b();function s(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var i=2;i<arguments.length;i++)t+="&args[]="+encodeURIComponent(arguments[i])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function c(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function f(e){var t=e,i=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,(t.flags&4098)!==0&&(i=t.return),e=t.return;while(e)}return t.tag===3?i:null}function d(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function m(e){if(e.tag===31){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function p(e){if(f(e)!==e)throw Error(s(188))}function g(e){var t=e.alternate;if(!t){if(t=f(e),t===null)throw Error(s(188));return t!==e?null:e}for(var i=e,r=t;;){var o=i.return;if(o===null)break;var u=o.alternate;if(u===null){if(r=o.return,r!==null){i=r;continue}break}if(o.child===u.child){for(u=o.child;u;){if(u===i)return p(o),e;if(u===r)return p(o),t;u=u.sibling}throw Error(s(188))}if(i.return!==r.return)i=o,r=u;else{for(var h=!1,_=o.child;_;){if(_===i){h=!0,i=o,r=u;break}if(_===r){h=!0,r=o,i=u;break}_=_.sibling}if(!h){for(_=u.child;_;){if(_===i){h=!0,i=u,r=o;break}if(_===r){h=!0,r=u,i=o;break}_=_.sibling}if(!h)throw Error(s(189))}}if(i.alternate!==r)throw Error(s(190))}if(i.tag!==3)throw Error(s(188));return i.stateNode.current===i?e:t}function S(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e;for(e=e.child;e!==null;){if(t=S(e),t!==null)return t;e=e.sibling}return null}var v=Object.assign,b=Symbol.for("react.element"),R=Symbol.for("react.transitional.element"),j=Symbol.for("react.portal"),H=Symbol.for("react.fragment"),G=Symbol.for("react.strict_mode"),U=Symbol.for("react.profiler"),k=Symbol.for("react.consumer"),Q=Symbol.for("react.context"),W=Symbol.for("react.forward_ref"),ie=Symbol.for("react.suspense"),fe=Symbol.for("react.suspense_list"),X=Symbol.for("react.memo"),K=Symbol.for("react.lazy"),$=Symbol.for("react.activity"),ht=Symbol.for("react.memo_cache_sentinel"),Le=Symbol.iterator;function ce(e){return e===null||typeof e!="object"?null:(e=Le&&e[Le]||e["@@iterator"],typeof e=="function"?e:null)}var ke=Symbol.for("react.client.reference");function mt(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===ke?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case H:return"Fragment";case U:return"Profiler";case G:return"StrictMode";case ie:return"Suspense";case fe:return"SuspenseList";case $:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case j:return"Portal";case Q:return e.displayName||"Context";case k:return(e._context.displayName||"Context")+".Consumer";case W:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case X:return t=e.displayName||null,t!==null?t:mt(e.type)||"Memo";case K:t=e._payload,e=e._init;try{return mt(e(t))}catch{}}return null}var pt=Array.isArray,D=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,q=a.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,te={pending:!1,data:null,method:null,action:null},Ne=[],De=-1;function C(e){return{current:e}}function L(e){0>De||(e.current=Ne[De],Ne[De]=null,De--)}function Y(e,t){De++,Ne[De]=e.current,e.current=t}var P=C(null),le=C(null),de=C(null),Ee=C(null);function yt(e,t){switch(Y(de,t),Y(le,e),Y(P,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?kg(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)t=kg(t),e=qg(t,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}L(P),Y(P,e)}function Qe(){L(P),L(le),L(de)}function Kl(e){e.memoizedState!==null&&Y(Ee,e);var t=P.current,i=qg(t,e.type);t!==i&&(Y(le,e),Y(P,i))}function xs(e){le.current===e&&(L(P),L(le)),Ee.current===e&&(L(Ee),Ha._currentValue=te)}var Sc,pd;function vi(e){if(Sc===void 0)try{throw Error()}catch(i){var t=i.stack.trim().match(/\n( *(at )?)/);Sc=t&&t[1]||"",pd=-1<i.stack.indexOf(`
    at`)?" (<anonymous>)":-1<i.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Sc+e+pd}var xc=!1;function Ec(e,t){if(!e||xc)return"";xc=!0;var i=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var r={DetermineComponentFrameRoot:function(){try{if(t){var z=function(){throw Error()};if(Object.defineProperty(z.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(z,[])}catch(M){var w=M}Reflect.construct(e,[],z)}else{try{z.call()}catch(M){w=M}e.call(z.prototype)}}else{try{throw Error()}catch(M){w=M}(z=e())&&typeof z.catch=="function"&&z.catch(function(){})}}catch(M){if(M&&w&&typeof M.stack=="string")return[M.stack,w.stack]}return[null,null]}};r.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var o=Object.getOwnPropertyDescriptor(r.DetermineComponentFrameRoot,"name");o&&o.configurable&&Object.defineProperty(r.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var u=r.DetermineComponentFrameRoot(),h=u[0],_=u[1];if(h&&_){var x=h.split(`
`),A=_.split(`
`);for(o=r=0;r<x.length&&!x[r].includes("DetermineComponentFrameRoot");)r++;for(;o<A.length&&!A[o].includes("DetermineComponentFrameRoot");)o++;if(r===x.length||o===A.length)for(r=x.length-1,o=A.length-1;1<=r&&0<=o&&x[r]!==A[o];)o--;for(;1<=r&&0<=o;r--,o--)if(x[r]!==A[o]){if(r!==1||o!==1)do if(r--,o--,0>o||x[r]!==A[o]){var O=`
`+x[r].replace(" at new "," at ");return e.displayName&&O.includes("<anonymous>")&&(O=O.replace("<anonymous>",e.displayName)),O}while(1<=r&&0<=o);break}}}finally{xc=!1,Error.prepareStackTrace=i}return(i=e?e.displayName||e.name:"")?vi(i):""}function S0(e,t){switch(e.tag){case 26:case 27:case 5:return vi(e.type);case 16:return vi("Lazy");case 13:return e.child!==t&&t!==null?vi("Suspense Fallback"):vi("Suspense");case 19:return vi("SuspenseList");case 0:case 15:return Ec(e.type,!1);case 11:return Ec(e.type.render,!1);case 1:return Ec(e.type,!0);case 31:return vi("Activity");default:return""}}function yd(e){try{var t="",i=null;do t+=S0(e,i),i=e,e=e.return;while(e);return t}catch(r){return`
Error generating stack: `+r.message+`
`+r.stack}}var Cc=Object.prototype.hasOwnProperty,Tc=l.unstable_scheduleCallback,Nc=l.unstable_cancelCallback,x0=l.unstable_shouldYield,E0=l.unstable_requestPaint,Mt=l.unstable_now,C0=l.unstable_getCurrentPriorityLevel,_d=l.unstable_ImmediatePriority,vd=l.unstable_UserBlockingPriority,Es=l.unstable_NormalPriority,T0=l.unstable_LowPriority,bd=l.unstable_IdlePriority,N0=l.log,A0=l.unstable_setDisableYieldValue,Fl=null,Dt=null;function Hn(e){if(typeof N0=="function"&&A0(e),Dt&&typeof Dt.setStrictMode=="function")try{Dt.setStrictMode(Fl,e)}catch{}}var Ot=Math.clz32?Math.clz32:M0,w0=Math.log,R0=Math.LN2;function M0(e){return e>>>=0,e===0?32:31-(w0(e)/R0|0)|0}var Cs=256,Ts=262144,Ns=4194304;function bi(e){var t=e&42;if(t!==0)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function As(e,t,i){var r=e.pendingLanes;if(r===0)return 0;var o=0,u=e.suspendedLanes,h=e.pingedLanes;e=e.warmLanes;var _=r&134217727;return _!==0?(r=_&~u,r!==0?o=bi(r):(h&=_,h!==0?o=bi(h):i||(i=_&~e,i!==0&&(o=bi(i))))):(_=r&~u,_!==0?o=bi(_):h!==0?o=bi(h):i||(i=r&~e,i!==0&&(o=bi(i)))),o===0?0:t!==0&&t!==o&&(t&u)===0&&(u=o&-o,i=t&-t,u>=i||u===32&&(i&4194048)!==0)?t:o}function $l(e,t){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)===0}function D0(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Sd(){var e=Ns;return Ns<<=1,(Ns&62914560)===0&&(Ns=4194304),e}function Ac(e){for(var t=[],i=0;31>i;i++)t.push(e);return t}function Jl(e,t){e.pendingLanes|=t,t!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function O0(e,t,i,r,o,u){var h=e.pendingLanes;e.pendingLanes=i,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=i,e.entangledLanes&=i,e.errorRecoveryDisabledLanes&=i,e.shellSuspendCounter=0;var _=e.entanglements,x=e.expirationTimes,A=e.hiddenUpdates;for(i=h&~i;0<i;){var O=31-Ot(i),z=1<<O;_[O]=0,x[O]=-1;var w=A[O];if(w!==null)for(A[O]=null,O=0;O<w.length;O++){var M=w[O];M!==null&&(M.lane&=-536870913)}i&=~z}r!==0&&xd(e,r,0),u!==0&&o===0&&e.tag!==0&&(e.suspendedLanes|=u&~(h&~t))}function xd(e,t,i){e.pendingLanes|=t,e.suspendedLanes&=~t;var r=31-Ot(t);e.entangledLanes|=t,e.entanglements[r]=e.entanglements[r]|1073741824|i&261930}function Ed(e,t){var i=e.entangledLanes|=t;for(e=e.entanglements;i;){var r=31-Ot(i),o=1<<r;o&t|e[r]&t&&(e[r]|=t),i&=~o}}function Cd(e,t){var i=t&-t;return i=(i&42)!==0?1:wc(i),(i&(e.suspendedLanes|t))!==0?0:i}function wc(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Rc(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function Td(){var e=q.p;return e!==0?e:(e=window.event,e===void 0?32:up(e.type))}function Nd(e,t){var i=q.p;try{return q.p=e,t()}finally{q.p=i}}var Bn=Math.random().toString(36).slice(2),st="__reactFiber$"+Bn,St="__reactProps$"+Bn,Pi="__reactContainer$"+Bn,Mc="__reactEvents$"+Bn,j0="__reactListeners$"+Bn,I0="__reactHandles$"+Bn,Ad="__reactResources$"+Bn,Wl="__reactMarker$"+Bn;function Dc(e){delete e[st],delete e[St],delete e[Mc],delete e[j0],delete e[I0]}function Zi(e){var t=e[st];if(t)return t;for(var i=e.parentNode;i;){if(t=i[Pi]||i[st]){if(i=t.alternate,t.child!==null||i!==null&&i.child!==null)for(e=Zg(e);e!==null;){if(i=e[st])return i;e=Zg(e)}return t}e=i,i=e.parentNode}return null}function Ki(e){if(e=e[st]||e[Pi]){var t=e.tag;if(t===5||t===6||t===13||t===31||t===26||t===27||t===3)return e}return null}function ea(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e.stateNode;throw Error(s(33))}function Fi(e){var t=e[Ad];return t||(t=e[Ad]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function nt(e){e[Wl]=!0}var wd=new Set,Rd={};function Si(e,t){$i(e,t),$i(e+"Capture",t)}function $i(e,t){for(Rd[e]=t,e=0;e<t.length;e++)wd.add(t[e])}var z0=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Md={},Dd={};function L0(e){return Cc.call(Dd,e)?!0:Cc.call(Md,e)?!1:z0.test(e)?Dd[e]=!0:(Md[e]=!0,!1)}function ws(e,t,i){if(L0(t))if(i===null)e.removeAttribute(t);else{switch(typeof i){case"undefined":case"function":case"symbol":e.removeAttribute(t);return;case"boolean":var r=t.toLowerCase().slice(0,5);if(r!=="data-"&&r!=="aria-"){e.removeAttribute(t);return}}e.setAttribute(t,""+i)}}function Rs(e,t,i){if(i===null)e.removeAttribute(t);else{switch(typeof i){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(t);return}e.setAttribute(t,""+i)}}function hn(e,t,i,r){if(r===null)e.removeAttribute(i);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(i);return}e.setAttributeNS(t,i,""+r)}}function Gt(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Od(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function U0(e,t,i){var r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t);if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var o=r.get,u=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return o.call(this)},set:function(h){i=""+h,u.call(this,h)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return i},setValue:function(h){i=""+h},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Oc(e){if(!e._valueTracker){var t=Od(e)?"checked":"value";e._valueTracker=U0(e,t,""+e[t])}}function jd(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var i=t.getValue(),r="";return e&&(r=Od(e)?e.checked?"true":"false":e.value),e=r,e!==i?(t.setValue(e),!0):!1}function Ms(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var H0=/[\n"\\]/g;function Yt(e){return e.replace(H0,function(t){return"\\"+t.charCodeAt(0).toString(16)+" "})}function jc(e,t,i,r,o,u,h,_){e.name="",h!=null&&typeof h!="function"&&typeof h!="symbol"&&typeof h!="boolean"?e.type=h:e.removeAttribute("type"),t!=null?h==="number"?(t===0&&e.value===""||e.value!=t)&&(e.value=""+Gt(t)):e.value!==""+Gt(t)&&(e.value=""+Gt(t)):h!=="submit"&&h!=="reset"||e.removeAttribute("value"),t!=null?Ic(e,h,Gt(t)):i!=null?Ic(e,h,Gt(i)):r!=null&&e.removeAttribute("value"),o==null&&u!=null&&(e.defaultChecked=!!u),o!=null&&(e.checked=o&&typeof o!="function"&&typeof o!="symbol"),_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"?e.name=""+Gt(_):e.removeAttribute("name")}function Id(e,t,i,r,o,u,h,_){if(u!=null&&typeof u!="function"&&typeof u!="symbol"&&typeof u!="boolean"&&(e.type=u),t!=null||i!=null){if(!(u!=="submit"&&u!=="reset"||t!=null)){Oc(e);return}i=i!=null?""+Gt(i):"",t=t!=null?""+Gt(t):i,_||t===e.value||(e.value=t),e.defaultValue=t}r=r??o,r=typeof r!="function"&&typeof r!="symbol"&&!!r,e.checked=_?e.checked:!!r,e.defaultChecked=!!r,h!=null&&typeof h!="function"&&typeof h!="symbol"&&typeof h!="boolean"&&(e.name=h),Oc(e)}function Ic(e,t,i){t==="number"&&Ms(e.ownerDocument)===e||e.defaultValue===""+i||(e.defaultValue=""+i)}function Ji(e,t,i,r){if(e=e.options,t){t={};for(var o=0;o<i.length;o++)t["$"+i[o]]=!0;for(i=0;i<e.length;i++)o=t.hasOwnProperty("$"+e[i].value),e[i].selected!==o&&(e[i].selected=o),o&&r&&(e[i].defaultSelected=!0)}else{for(i=""+Gt(i),t=null,o=0;o<e.length;o++){if(e[o].value===i){e[o].selected=!0,r&&(e[o].defaultSelected=!0);return}t!==null||e[o].disabled||(t=e[o])}t!==null&&(t.selected=!0)}}function zd(e,t,i){if(t!=null&&(t=""+Gt(t),t!==e.value&&(e.value=t),i==null)){e.defaultValue!==t&&(e.defaultValue=t);return}e.defaultValue=i!=null?""+Gt(i):""}function Ld(e,t,i,r){if(t==null){if(r!=null){if(i!=null)throw Error(s(92));if(pt(r)){if(1<r.length)throw Error(s(93));r=r[0]}i=r}i==null&&(i=""),t=i}i=Gt(t),e.defaultValue=i,r=e.textContent,r===i&&r!==""&&r!==null&&(e.value=r),Oc(e)}function Wi(e,t){if(t){var i=e.firstChild;if(i&&i===e.lastChild&&i.nodeType===3){i.nodeValue=t;return}}e.textContent=t}var B0=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Ud(e,t,i){var r=t.indexOf("--")===0;i==null||typeof i=="boolean"||i===""?r?e.setProperty(t,""):t==="float"?e.cssFloat="":e[t]="":r?e.setProperty(t,i):typeof i!="number"||i===0||B0.has(t)?t==="float"?e.cssFloat=i:e[t]=(""+i).trim():e[t]=i+"px"}function Hd(e,t,i){if(t!=null&&typeof t!="object")throw Error(s(62));if(e=e.style,i!=null){for(var r in i)!i.hasOwnProperty(r)||t!=null&&t.hasOwnProperty(r)||(r.indexOf("--")===0?e.setProperty(r,""):r==="float"?e.cssFloat="":e[r]="");for(var o in t)r=t[o],t.hasOwnProperty(o)&&i[o]!==r&&Ud(e,o,r)}else for(var u in t)t.hasOwnProperty(u)&&Ud(e,u,t[u])}function zc(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var k0=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),q0=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Ds(e){return q0.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function mn(){}var Lc=null;function Uc(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var el=null,tl=null;function Bd(e){var t=Ki(e);if(t&&(e=t.stateNode)){var i=e[St]||null;e:switch(e=t.stateNode,t.type){case"input":if(jc(e,i.value,i.defaultValue,i.defaultValue,i.checked,i.defaultChecked,i.type,i.name),t=i.name,i.type==="radio"&&t!=null){for(i=e;i.parentNode;)i=i.parentNode;for(i=i.querySelectorAll('input[name="'+Yt(""+t)+'"][type="radio"]'),t=0;t<i.length;t++){var r=i[t];if(r!==e&&r.form===e.form){var o=r[St]||null;if(!o)throw Error(s(90));jc(r,o.value,o.defaultValue,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name)}}for(t=0;t<i.length;t++)r=i[t],r.form===e.form&&jd(r)}break e;case"textarea":zd(e,i.value,i.defaultValue);break e;case"select":t=i.value,t!=null&&Ji(e,!!i.multiple,t,!1)}}}var Hc=!1;function kd(e,t,i){if(Hc)return e(t,i);Hc=!0;try{var r=e(t);return r}finally{if(Hc=!1,(el!==null||tl!==null)&&(_r(),el&&(t=el,e=tl,tl=el=null,Bd(t),e)))for(t=0;t<e.length;t++)Bd(e[t])}}function ta(e,t){var i=e.stateNode;if(i===null)return null;var r=i[St]||null;if(r===null)return null;i=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(i&&typeof i!="function")throw Error(s(231,t,typeof i));return i}var gn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Bc=!1;if(gn)try{var na={};Object.defineProperty(na,"passive",{get:function(){Bc=!0}}),window.addEventListener("test",na,na),window.removeEventListener("test",na,na)}catch{Bc=!1}var kn=null,kc=null,Os=null;function qd(){if(Os)return Os;var e,t=kc,i=t.length,r,o="value"in kn?kn.value:kn.textContent,u=o.length;for(e=0;e<i&&t[e]===o[e];e++);var h=i-e;for(r=1;r<=h&&t[i-r]===o[u-r];r++);return Os=o.slice(e,1<r?1-r:void 0)}function js(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Is(){return!0}function Gd(){return!1}function xt(e){function t(i,r,o,u,h){this._reactName=i,this._targetInst=o,this.type=r,this.nativeEvent=u,this.target=h,this.currentTarget=null;for(var _ in e)e.hasOwnProperty(_)&&(i=e[_],this[_]=i?i(u):u[_]);return this.isDefaultPrevented=(u.defaultPrevented!=null?u.defaultPrevented:u.returnValue===!1)?Is:Gd,this.isPropagationStopped=Gd,this}return v(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var i=this.nativeEvent;i&&(i.preventDefault?i.preventDefault():typeof i.returnValue!="unknown"&&(i.returnValue=!1),this.isDefaultPrevented=Is)},stopPropagation:function(){var i=this.nativeEvent;i&&(i.stopPropagation?i.stopPropagation():typeof i.cancelBubble!="unknown"&&(i.cancelBubble=!0),this.isPropagationStopped=Is)},persist:function(){},isPersistent:Is}),t}var xi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},zs=xt(xi),ia=v({},xi,{view:0,detail:0}),G0=xt(ia),qc,Gc,la,Ls=v({},ia,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Vc,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==la&&(la&&e.type==="mousemove"?(qc=e.screenX-la.screenX,Gc=e.screenY-la.screenY):Gc=qc=0,la=e),qc)},movementY:function(e){return"movementY"in e?e.movementY:Gc}}),Yd=xt(Ls),Y0=v({},Ls,{dataTransfer:0}),V0=xt(Y0),Q0=v({},ia,{relatedTarget:0}),Yc=xt(Q0),X0=v({},xi,{animationName:0,elapsedTime:0,pseudoElement:0}),P0=xt(X0),Z0=v({},xi,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),K0=xt(Z0),F0=v({},xi,{data:0}),Vd=xt(F0),$0={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},J0={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},W0={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function ev(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=W0[e])?!!t[e]:!1}function Vc(){return ev}var tv=v({},ia,{key:function(e){if(e.key){var t=$0[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=js(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?J0[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Vc,charCode:function(e){return e.type==="keypress"?js(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?js(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),nv=xt(tv),iv=v({},Ls,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Qd=xt(iv),lv=v({},ia,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Vc}),av=xt(lv),sv=v({},xi,{propertyName:0,elapsedTime:0,pseudoElement:0}),rv=xt(sv),cv=v({},Ls,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),ov=xt(cv),uv=v({},xi,{newState:0,oldState:0}),fv=xt(uv),dv=[9,13,27,32],Qc=gn&&"CompositionEvent"in window,aa=null;gn&&"documentMode"in document&&(aa=document.documentMode);var hv=gn&&"TextEvent"in window&&!aa,Xd=gn&&(!Qc||aa&&8<aa&&11>=aa),Pd=" ",Zd=!1;function Kd(e,t){switch(e){case"keyup":return dv.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Fd(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var nl=!1;function mv(e,t){switch(e){case"compositionend":return Fd(t);case"keypress":return t.which!==32?null:(Zd=!0,Pd);case"textInput":return e=t.data,e===Pd&&Zd?null:e;default:return null}}function gv(e,t){if(nl)return e==="compositionend"||!Qc&&Kd(e,t)?(e=qd(),Os=kc=kn=null,nl=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Xd&&t.locale!=="ko"?null:t.data;default:return null}}var pv={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function $d(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!pv[e.type]:t==="textarea"}function Jd(e,t,i,r){el?tl?tl.push(r):tl=[r]:el=r,t=Tr(t,"onChange"),0<t.length&&(i=new zs("onChange","change",null,i,r),e.push({event:i,listeners:t}))}var sa=null,ra=null;function yv(e){Ig(e,0)}function Us(e){var t=ea(e);if(jd(t))return e}function Wd(e,t){if(e==="change")return t}var eh=!1;if(gn){var Xc;if(gn){var Pc="oninput"in document;if(!Pc){var th=document.createElement("div");th.setAttribute("oninput","return;"),Pc=typeof th.oninput=="function"}Xc=Pc}else Xc=!1;eh=Xc&&(!document.documentMode||9<document.documentMode)}function nh(){sa&&(sa.detachEvent("onpropertychange",ih),ra=sa=null)}function ih(e){if(e.propertyName==="value"&&Us(ra)){var t=[];Jd(t,ra,e,Uc(e)),kd(yv,t)}}function _v(e,t,i){e==="focusin"?(nh(),sa=t,ra=i,sa.attachEvent("onpropertychange",ih)):e==="focusout"&&nh()}function vv(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Us(ra)}function bv(e,t){if(e==="click")return Us(t)}function Sv(e,t){if(e==="input"||e==="change")return Us(t)}function xv(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var jt=typeof Object.is=="function"?Object.is:xv;function ca(e,t){if(jt(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var i=Object.keys(e),r=Object.keys(t);if(i.length!==r.length)return!1;for(r=0;r<i.length;r++){var o=i[r];if(!Cc.call(t,o)||!jt(e[o],t[o]))return!1}return!0}function lh(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function ah(e,t){var i=lh(e);e=0;for(var r;i;){if(i.nodeType===3){if(r=e+i.textContent.length,e<=t&&r>=t)return{node:i,offset:t-e};e=r}e:{for(;i;){if(i.nextSibling){i=i.nextSibling;break e}i=i.parentNode}i=void 0}i=lh(i)}}function sh(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?sh(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function rh(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var t=Ms(e.document);t instanceof e.HTMLIFrameElement;){try{var i=typeof t.contentWindow.location.href=="string"}catch{i=!1}if(i)e=t.contentWindow;else break;t=Ms(e.document)}return t}function Zc(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}var Ev=gn&&"documentMode"in document&&11>=document.documentMode,il=null,Kc=null,oa=null,Fc=!1;function ch(e,t,i){var r=i.window===i?i.document:i.nodeType===9?i:i.ownerDocument;Fc||il==null||il!==Ms(r)||(r=il,"selectionStart"in r&&Zc(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),oa&&ca(oa,r)||(oa=r,r=Tr(Kc,"onSelect"),0<r.length&&(t=new zs("onSelect","select",null,t,i),e.push({event:t,listeners:r}),t.target=il)))}function Ei(e,t){var i={};return i[e.toLowerCase()]=t.toLowerCase(),i["Webkit"+e]="webkit"+t,i["Moz"+e]="moz"+t,i}var ll={animationend:Ei("Animation","AnimationEnd"),animationiteration:Ei("Animation","AnimationIteration"),animationstart:Ei("Animation","AnimationStart"),transitionrun:Ei("Transition","TransitionRun"),transitionstart:Ei("Transition","TransitionStart"),transitioncancel:Ei("Transition","TransitionCancel"),transitionend:Ei("Transition","TransitionEnd")},$c={},oh={};gn&&(oh=document.createElement("div").style,"AnimationEvent"in window||(delete ll.animationend.animation,delete ll.animationiteration.animation,delete ll.animationstart.animation),"TransitionEvent"in window||delete ll.transitionend.transition);function Ci(e){if($c[e])return $c[e];if(!ll[e])return e;var t=ll[e],i;for(i in t)if(t.hasOwnProperty(i)&&i in oh)return $c[e]=t[i];return e}var uh=Ci("animationend"),fh=Ci("animationiteration"),dh=Ci("animationstart"),Cv=Ci("transitionrun"),Tv=Ci("transitionstart"),Nv=Ci("transitioncancel"),hh=Ci("transitionend"),mh=new Map,Jc="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Jc.push("scrollEnd");function en(e,t){mh.set(e,t),Si(t,[e])}var Hs=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},Vt=[],al=0,Wc=0;function Bs(){for(var e=al,t=Wc=al=0;t<e;){var i=Vt[t];Vt[t++]=null;var r=Vt[t];Vt[t++]=null;var o=Vt[t];Vt[t++]=null;var u=Vt[t];if(Vt[t++]=null,r!==null&&o!==null){var h=r.pending;h===null?o.next=o:(o.next=h.next,h.next=o),r.pending=o}u!==0&&gh(i,o,u)}}function ks(e,t,i,r){Vt[al++]=e,Vt[al++]=t,Vt[al++]=i,Vt[al++]=r,Wc|=r,e.lanes|=r,e=e.alternate,e!==null&&(e.lanes|=r)}function eo(e,t,i,r){return ks(e,t,i,r),qs(e)}function Ti(e,t){return ks(e,null,null,t),qs(e)}function gh(e,t,i){e.lanes|=i;var r=e.alternate;r!==null&&(r.lanes|=i);for(var o=!1,u=e.return;u!==null;)u.childLanes|=i,r=u.alternate,r!==null&&(r.childLanes|=i),u.tag===22&&(e=u.stateNode,e===null||e._visibility&1||(o=!0)),e=u,u=u.return;return e.tag===3?(u=e.stateNode,o&&t!==null&&(o=31-Ot(i),e=u.hiddenUpdates,r=e[o],r===null?e[o]=[t]:r.push(t),t.lane=i|536870912),u):null}function qs(e){if(50<Da)throw Da=0,uu=null,Error(s(185));for(var t=e.return;t!==null;)e=t,t=e.return;return e.tag===3?e.stateNode:null}var sl={};function Av(e,t,i,r){this.tag=e,this.key=i,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function It(e,t,i,r){return new Av(e,t,i,r)}function to(e){return e=e.prototype,!(!e||!e.isReactComponent)}function pn(e,t){var i=e.alternate;return i===null?(i=It(e.tag,t,e.key,e.mode),i.elementType=e.elementType,i.type=e.type,i.stateNode=e.stateNode,i.alternate=e,e.alternate=i):(i.pendingProps=t,i.type=e.type,i.flags=0,i.subtreeFlags=0,i.deletions=null),i.flags=e.flags&65011712,i.childLanes=e.childLanes,i.lanes=e.lanes,i.child=e.child,i.memoizedProps=e.memoizedProps,i.memoizedState=e.memoizedState,i.updateQueue=e.updateQueue,t=e.dependencies,i.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},i.sibling=e.sibling,i.index=e.index,i.ref=e.ref,i.refCleanup=e.refCleanup,i}function ph(e,t){e.flags&=65011714;var i=e.alternate;return i===null?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=i.childLanes,e.lanes=i.lanes,e.child=i.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=i.memoizedProps,e.memoizedState=i.memoizedState,e.updateQueue=i.updateQueue,e.type=i.type,t=i.dependencies,e.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function Gs(e,t,i,r,o,u){var h=0;if(r=e,typeof e=="function")to(e)&&(h=1);else if(typeof e=="string")h=Ob(e,i,P.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case $:return e=It(31,i,t,o),e.elementType=$,e.lanes=u,e;case H:return Ni(i.children,o,u,t);case G:h=8,o|=24;break;case U:return e=It(12,i,t,o|2),e.elementType=U,e.lanes=u,e;case ie:return e=It(13,i,t,o),e.elementType=ie,e.lanes=u,e;case fe:return e=It(19,i,t,o),e.elementType=fe,e.lanes=u,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Q:h=10;break e;case k:h=9;break e;case W:h=11;break e;case X:h=14;break e;case K:h=16,r=null;break e}h=29,i=Error(s(130,e===null?"null":typeof e,"")),r=null}return t=It(h,i,t,o),t.elementType=e,t.type=r,t.lanes=u,t}function Ni(e,t,i,r){return e=It(7,e,r,t),e.lanes=i,e}function no(e,t,i){return e=It(6,e,null,t),e.lanes=i,e}function yh(e){var t=It(18,null,null,0);return t.stateNode=e,t}function io(e,t,i){return t=It(4,e.children!==null?e.children:[],e.key,t),t.lanes=i,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var _h=new WeakMap;function Qt(e,t){if(typeof e=="object"&&e!==null){var i=_h.get(e);return i!==void 0?i:(t={value:e,source:t,stack:yd(t)},_h.set(e,t),t)}return{value:e,source:t,stack:yd(t)}}var rl=[],cl=0,Ys=null,ua=0,Xt=[],Pt=0,qn=null,cn=1,on="";function yn(e,t){rl[cl++]=ua,rl[cl++]=Ys,Ys=e,ua=t}function vh(e,t,i){Xt[Pt++]=cn,Xt[Pt++]=on,Xt[Pt++]=qn,qn=e;var r=cn;e=on;var o=32-Ot(r)-1;r&=~(1<<o),i+=1;var u=32-Ot(t)+o;if(30<u){var h=o-o%5;u=(r&(1<<h)-1).toString(32),r>>=h,o-=h,cn=1<<32-Ot(t)+o|i<<o|r,on=u+e}else cn=1<<u|i<<o|r,on=e}function lo(e){e.return!==null&&(yn(e,1),vh(e,1,0))}function ao(e){for(;e===Ys;)Ys=rl[--cl],rl[cl]=null,ua=rl[--cl],rl[cl]=null;for(;e===qn;)qn=Xt[--Pt],Xt[Pt]=null,on=Xt[--Pt],Xt[Pt]=null,cn=Xt[--Pt],Xt[Pt]=null}function bh(e,t){Xt[Pt++]=cn,Xt[Pt++]=on,Xt[Pt++]=qn,cn=t.id,on=t.overflow,qn=e}var rt=null,Ue=null,_e=!1,Gn=null,Zt=!1,so=Error(s(519));function Yn(e){var t=Error(s(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw fa(Qt(t,e)),so}function Sh(e){var t=e.stateNode,i=e.type,r=e.memoizedProps;switch(t[st]=e,t[St]=r,i){case"dialog":me("cancel",t),me("close",t);break;case"iframe":case"object":case"embed":me("load",t);break;case"video":case"audio":for(i=0;i<ja.length;i++)me(ja[i],t);break;case"source":me("error",t);break;case"img":case"image":case"link":me("error",t),me("load",t);break;case"details":me("toggle",t);break;case"input":me("invalid",t),Id(t,r.value,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name,!0);break;case"select":me("invalid",t);break;case"textarea":me("invalid",t),Ld(t,r.value,r.defaultValue,r.children)}i=r.children,typeof i!="string"&&typeof i!="number"&&typeof i!="bigint"||t.textContent===""+i||r.suppressHydrationWarning===!0||Hg(t.textContent,i)?(r.popover!=null&&(me("beforetoggle",t),me("toggle",t)),r.onScroll!=null&&me("scroll",t),r.onScrollEnd!=null&&me("scrollend",t),r.onClick!=null&&(t.onclick=mn),t=!0):t=!1,t||Yn(e,!0)}function xh(e){for(rt=e.return;rt;)switch(rt.tag){case 5:case 31:case 13:Zt=!1;return;case 27:case 3:Zt=!0;return;default:rt=rt.return}}function ol(e){if(e!==rt)return!1;if(!_e)return xh(e),_e=!0,!1;var t=e.tag,i;if((i=t!==3&&t!==27)&&((i=t===5)&&(i=e.type,i=!(i!=="form"&&i!=="button")||Tu(e.type,e.memoizedProps)),i=!i),i&&Ue&&Yn(e),xh(e),t===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(s(317));Ue=Pg(e)}else if(t===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(s(317));Ue=Pg(e)}else t===27?(t=Ue,ii(e.type)?(e=Mu,Mu=null,Ue=e):Ue=t):Ue=rt?Ft(e.stateNode.nextSibling):null;return!0}function Ai(){Ue=rt=null,_e=!1}function ro(){var e=Gn;return e!==null&&(Nt===null?Nt=e:Nt.push.apply(Nt,e),Gn=null),e}function fa(e){Gn===null?Gn=[e]:Gn.push(e)}var co=C(null),wi=null,_n=null;function Vn(e,t,i){Y(co,t._currentValue),t._currentValue=i}function vn(e){e._currentValue=co.current,L(co)}function oo(e,t,i){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===i)break;e=e.return}}function uo(e,t,i,r){var o=e.child;for(o!==null&&(o.return=e);o!==null;){var u=o.dependencies;if(u!==null){var h=o.child;u=u.firstContext;e:for(;u!==null;){var _=u;u=o;for(var x=0;x<t.length;x++)if(_.context===t[x]){u.lanes|=i,_=u.alternate,_!==null&&(_.lanes|=i),oo(u.return,i,e),r||(h=null);break e}u=_.next}}else if(o.tag===18){if(h=o.return,h===null)throw Error(s(341));h.lanes|=i,u=h.alternate,u!==null&&(u.lanes|=i),oo(h,i,e),h=null}else h=o.child;if(h!==null)h.return=o;else for(h=o;h!==null;){if(h===e){h=null;break}if(o=h.sibling,o!==null){o.return=h.return,h=o;break}h=h.return}o=h}}function ul(e,t,i,r){e=null;for(var o=t,u=!1;o!==null;){if(!u){if((o.flags&524288)!==0)u=!0;else if((o.flags&262144)!==0)break}if(o.tag===10){var h=o.alternate;if(h===null)throw Error(s(387));if(h=h.memoizedProps,h!==null){var _=o.type;jt(o.pendingProps.value,h.value)||(e!==null?e.push(_):e=[_])}}else if(o===Ee.current){if(h=o.alternate,h===null)throw Error(s(387));h.memoizedState.memoizedState!==o.memoizedState.memoizedState&&(e!==null?e.push(Ha):e=[Ha])}o=o.return}e!==null&&uo(t,e,i,r),t.flags|=262144}function Vs(e){for(e=e.firstContext;e!==null;){if(!jt(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Ri(e){wi=e,_n=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function ct(e){return Eh(wi,e)}function Qs(e,t){return wi===null&&Ri(e),Eh(e,t)}function Eh(e,t){var i=t._currentValue;if(t={context:t,memoizedValue:i,next:null},_n===null){if(e===null)throw Error(s(308));_n=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else _n=_n.next=t;return i}var wv=typeof AbortController<"u"?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(i,r){e.push(r)}};this.abort=function(){t.aborted=!0,e.forEach(function(i){return i()})}},Rv=l.unstable_scheduleCallback,Mv=l.unstable_NormalPriority,Ke={$$typeof:Q,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function fo(){return{controller:new wv,data:new Map,refCount:0}}function da(e){e.refCount--,e.refCount===0&&Rv(Mv,function(){e.controller.abort()})}var ha=null,ho=0,fl=0,dl=null;function Dv(e,t){if(ha===null){var i=ha=[];ho=0,fl=pu(),dl={status:"pending",value:void 0,then:function(r){i.push(r)}}}return ho++,t.then(Ch,Ch),t}function Ch(){if(--ho===0&&ha!==null){dl!==null&&(dl.status="fulfilled");var e=ha;ha=null,fl=0,dl=null;for(var t=0;t<e.length;t++)(0,e[t])()}}function Ov(e,t){var i=[],r={status:"pending",value:null,reason:null,then:function(o){i.push(o)}};return e.then(function(){r.status="fulfilled",r.value=t;for(var o=0;o<i.length;o++)(0,i[o])(t)},function(o){for(r.status="rejected",r.reason=o,o=0;o<i.length;o++)(0,i[o])(void 0)}),r}var Th=D.S;D.S=function(e,t){cg=Mt(),typeof t=="object"&&t!==null&&typeof t.then=="function"&&Dv(e,t),Th!==null&&Th(e,t)};var Mi=C(null);function mo(){var e=Mi.current;return e!==null?e:Oe.pooledCache}function Xs(e,t){t===null?Y(Mi,Mi.current):Y(Mi,t.pool)}function Nh(){var e=mo();return e===null?null:{parent:Ke._currentValue,pool:e}}var hl=Error(s(460)),go=Error(s(474)),Ps=Error(s(542)),Zs={then:function(){}};function Ah(e){return e=e.status,e==="fulfilled"||e==="rejected"}function wh(e,t,i){switch(i=e[i],i===void 0?e.push(t):i!==t&&(t.then(mn,mn),t=i),t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,Mh(e),e;default:if(typeof t.status=="string")t.then(mn,mn);else{if(e=Oe,e!==null&&100<e.shellSuspendCounter)throw Error(s(482));e=t,e.status="pending",e.then(function(r){if(t.status==="pending"){var o=t;o.status="fulfilled",o.value=r}},function(r){if(t.status==="pending"){var o=t;o.status="rejected",o.reason=r}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,Mh(e),e}throw Oi=t,hl}}function Di(e){try{var t=e._init;return t(e._payload)}catch(i){throw i!==null&&typeof i=="object"&&typeof i.then=="function"?(Oi=i,hl):i}}var Oi=null;function Rh(){if(Oi===null)throw Error(s(459));var e=Oi;return Oi=null,e}function Mh(e){if(e===hl||e===Ps)throw Error(s(483))}var ml=null,ma=0;function Ks(e){var t=ma;return ma+=1,ml===null&&(ml=[]),wh(ml,e,t)}function ga(e,t){t=t.props.ref,e.ref=t!==void 0?t:null}function Fs(e,t){throw t.$$typeof===b?Error(s(525)):(e=Object.prototype.toString.call(t),Error(s(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)))}function Dh(e){function t(T,E){if(e){var N=T.deletions;N===null?(T.deletions=[E],T.flags|=16):N.push(E)}}function i(T,E){if(!e)return null;for(;E!==null;)t(T,E),E=E.sibling;return null}function r(T){for(var E=new Map;T!==null;)T.key!==null?E.set(T.key,T):E.set(T.index,T),T=T.sibling;return E}function o(T,E){return T=pn(T,E),T.index=0,T.sibling=null,T}function u(T,E,N){return T.index=N,e?(N=T.alternate,N!==null?(N=N.index,N<E?(T.flags|=67108866,E):N):(T.flags|=67108866,E)):(T.flags|=1048576,E)}function h(T){return e&&T.alternate===null&&(T.flags|=67108866),T}function _(T,E,N,I){return E===null||E.tag!==6?(E=no(N,T.mode,I),E.return=T,E):(E=o(E,N),E.return=T,E)}function x(T,E,N,I){var F=N.type;return F===H?O(T,E,N.props.children,I,N.key):E!==null&&(E.elementType===F||typeof F=="object"&&F!==null&&F.$$typeof===K&&Di(F)===E.type)?(E=o(E,N.props),ga(E,N),E.return=T,E):(E=Gs(N.type,N.key,N.props,null,T.mode,I),ga(E,N),E.return=T,E)}function A(T,E,N,I){return E===null||E.tag!==4||E.stateNode.containerInfo!==N.containerInfo||E.stateNode.implementation!==N.implementation?(E=io(N,T.mode,I),E.return=T,E):(E=o(E,N.children||[]),E.return=T,E)}function O(T,E,N,I,F){return E===null||E.tag!==7?(E=Ni(N,T.mode,I,F),E.return=T,E):(E=o(E,N),E.return=T,E)}function z(T,E,N){if(typeof E=="string"&&E!==""||typeof E=="number"||typeof E=="bigint")return E=no(""+E,T.mode,N),E.return=T,E;if(typeof E=="object"&&E!==null){switch(E.$$typeof){case R:return N=Gs(E.type,E.key,E.props,null,T.mode,N),ga(N,E),N.return=T,N;case j:return E=io(E,T.mode,N),E.return=T,E;case K:return E=Di(E),z(T,E,N)}if(pt(E)||ce(E))return E=Ni(E,T.mode,N,null),E.return=T,E;if(typeof E.then=="function")return z(T,Ks(E),N);if(E.$$typeof===Q)return z(T,Qs(T,E),N);Fs(T,E)}return null}function w(T,E,N,I){var F=E!==null?E.key:null;if(typeof N=="string"&&N!==""||typeof N=="number"||typeof N=="bigint")return F!==null?null:_(T,E,""+N,I);if(typeof N=="object"&&N!==null){switch(N.$$typeof){case R:return N.key===F?x(T,E,N,I):null;case j:return N.key===F?A(T,E,N,I):null;case K:return N=Di(N),w(T,E,N,I)}if(pt(N)||ce(N))return F!==null?null:O(T,E,N,I,null);if(typeof N.then=="function")return w(T,E,Ks(N),I);if(N.$$typeof===Q)return w(T,E,Qs(T,N),I);Fs(T,N)}return null}function M(T,E,N,I,F){if(typeof I=="string"&&I!==""||typeof I=="number"||typeof I=="bigint")return T=T.get(N)||null,_(E,T,""+I,F);if(typeof I=="object"&&I!==null){switch(I.$$typeof){case R:return T=T.get(I.key===null?N:I.key)||null,x(E,T,I,F);case j:return T=T.get(I.key===null?N:I.key)||null,A(E,T,I,F);case K:return I=Di(I),M(T,E,N,I,F)}if(pt(I)||ce(I))return T=T.get(N)||null,O(E,T,I,F,null);if(typeof I.then=="function")return M(T,E,N,Ks(I),F);if(I.$$typeof===Q)return M(T,E,N,Qs(E,I),F);Fs(E,I)}return null}function V(T,E,N,I){for(var F=null,ve=null,Z=E,se=E=0,ye=null;Z!==null&&se<N.length;se++){Z.index>se?(ye=Z,Z=null):ye=Z.sibling;var be=w(T,Z,N[se],I);if(be===null){Z===null&&(Z=ye);break}e&&Z&&be.alternate===null&&t(T,Z),E=u(be,E,se),ve===null?F=be:ve.sibling=be,ve=be,Z=ye}if(se===N.length)return i(T,Z),_e&&yn(T,se),F;if(Z===null){for(;se<N.length;se++)Z=z(T,N[se],I),Z!==null&&(E=u(Z,E,se),ve===null?F=Z:ve.sibling=Z,ve=Z);return _e&&yn(T,se),F}for(Z=r(Z);se<N.length;se++)ye=M(Z,T,se,N[se],I),ye!==null&&(e&&ye.alternate!==null&&Z.delete(ye.key===null?se:ye.key),E=u(ye,E,se),ve===null?F=ye:ve.sibling=ye,ve=ye);return e&&Z.forEach(function(ci){return t(T,ci)}),_e&&yn(T,se),F}function J(T,E,N,I){if(N==null)throw Error(s(151));for(var F=null,ve=null,Z=E,se=E=0,ye=null,be=N.next();Z!==null&&!be.done;se++,be=N.next()){Z.index>se?(ye=Z,Z=null):ye=Z.sibling;var ci=w(T,Z,be.value,I);if(ci===null){Z===null&&(Z=ye);break}e&&Z&&ci.alternate===null&&t(T,Z),E=u(ci,E,se),ve===null?F=ci:ve.sibling=ci,ve=ci,Z=ye}if(be.done)return i(T,Z),_e&&yn(T,se),F;if(Z===null){for(;!be.done;se++,be=N.next())be=z(T,be.value,I),be!==null&&(E=u(be,E,se),ve===null?F=be:ve.sibling=be,ve=be);return _e&&yn(T,se),F}for(Z=r(Z);!be.done;se++,be=N.next())be=M(Z,T,se,be.value,I),be!==null&&(e&&be.alternate!==null&&Z.delete(be.key===null?se:be.key),E=u(be,E,se),ve===null?F=be:ve.sibling=be,ve=be);return e&&Z.forEach(function(Yb){return t(T,Yb)}),_e&&yn(T,se),F}function Re(T,E,N,I){if(typeof N=="object"&&N!==null&&N.type===H&&N.key===null&&(N=N.props.children),typeof N=="object"&&N!==null){switch(N.$$typeof){case R:e:{for(var F=N.key;E!==null;){if(E.key===F){if(F=N.type,F===H){if(E.tag===7){i(T,E.sibling),I=o(E,N.props.children),I.return=T,T=I;break e}}else if(E.elementType===F||typeof F=="object"&&F!==null&&F.$$typeof===K&&Di(F)===E.type){i(T,E.sibling),I=o(E,N.props),ga(I,N),I.return=T,T=I;break e}i(T,E);break}else t(T,E);E=E.sibling}N.type===H?(I=Ni(N.props.children,T.mode,I,N.key),I.return=T,T=I):(I=Gs(N.type,N.key,N.props,null,T.mode,I),ga(I,N),I.return=T,T=I)}return h(T);case j:e:{for(F=N.key;E!==null;){if(E.key===F)if(E.tag===4&&E.stateNode.containerInfo===N.containerInfo&&E.stateNode.implementation===N.implementation){i(T,E.sibling),I=o(E,N.children||[]),I.return=T,T=I;break e}else{i(T,E);break}else t(T,E);E=E.sibling}I=io(N,T.mode,I),I.return=T,T=I}return h(T);case K:return N=Di(N),Re(T,E,N,I)}if(pt(N))return V(T,E,N,I);if(ce(N)){if(F=ce(N),typeof F!="function")throw Error(s(150));return N=F.call(N),J(T,E,N,I)}if(typeof N.then=="function")return Re(T,E,Ks(N),I);if(N.$$typeof===Q)return Re(T,E,Qs(T,N),I);Fs(T,N)}return typeof N=="string"&&N!==""||typeof N=="number"||typeof N=="bigint"?(N=""+N,E!==null&&E.tag===6?(i(T,E.sibling),I=o(E,N),I.return=T,T=I):(i(T,E),I=no(N,T.mode,I),I.return=T,T=I),h(T)):i(T,E)}return function(T,E,N,I){try{ma=0;var F=Re(T,E,N,I);return ml=null,F}catch(Z){if(Z===hl||Z===Ps)throw Z;var ve=It(29,Z,null,T.mode);return ve.lanes=I,ve.return=T,ve}}}var ji=Dh(!0),Oh=Dh(!1),Qn=!1;function po(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function yo(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Xn(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Pn(e,t,i){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,(xe&2)!==0){var o=r.pending;return o===null?t.next=t:(t.next=o.next,o.next=t),r.pending=t,t=qs(e),gh(e,null,i),t}return ks(e,r,t,i),qs(e)}function pa(e,t,i){if(t=t.updateQueue,t!==null&&(t=t.shared,(i&4194048)!==0)){var r=t.lanes;r&=e.pendingLanes,i|=r,t.lanes=i,Ed(e,i)}}function _o(e,t){var i=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,i===r)){var o=null,u=null;if(i=i.firstBaseUpdate,i!==null){do{var h={lane:i.lane,tag:i.tag,payload:i.payload,callback:null,next:null};u===null?o=u=h:u=u.next=h,i=i.next}while(i!==null);u===null?o=u=t:u=u.next=t}else o=u=t;i={baseState:r.baseState,firstBaseUpdate:o,lastBaseUpdate:u,shared:r.shared,callbacks:r.callbacks},e.updateQueue=i;return}e=i.lastBaseUpdate,e===null?i.firstBaseUpdate=t:e.next=t,i.lastBaseUpdate=t}var vo=!1;function ya(){if(vo){var e=dl;if(e!==null)throw e}}function _a(e,t,i,r){vo=!1;var o=e.updateQueue;Qn=!1;var u=o.firstBaseUpdate,h=o.lastBaseUpdate,_=o.shared.pending;if(_!==null){o.shared.pending=null;var x=_,A=x.next;x.next=null,h===null?u=A:h.next=A,h=x;var O=e.alternate;O!==null&&(O=O.updateQueue,_=O.lastBaseUpdate,_!==h&&(_===null?O.firstBaseUpdate=A:_.next=A,O.lastBaseUpdate=x))}if(u!==null){var z=o.baseState;h=0,O=A=x=null,_=u;do{var w=_.lane&-536870913,M=w!==_.lane;if(M?(pe&w)===w:(r&w)===w){w!==0&&w===fl&&(vo=!0),O!==null&&(O=O.next={lane:0,tag:_.tag,payload:_.payload,callback:null,next:null});e:{var V=e,J=_;w=t;var Re=i;switch(J.tag){case 1:if(V=J.payload,typeof V=="function"){z=V.call(Re,z,w);break e}z=V;break e;case 3:V.flags=V.flags&-65537|128;case 0:if(V=J.payload,w=typeof V=="function"?V.call(Re,z,w):V,w==null)break e;z=v({},z,w);break e;case 2:Qn=!0}}w=_.callback,w!==null&&(e.flags|=64,M&&(e.flags|=8192),M=o.callbacks,M===null?o.callbacks=[w]:M.push(w))}else M={lane:w,tag:_.tag,payload:_.payload,callback:_.callback,next:null},O===null?(A=O=M,x=z):O=O.next=M,h|=w;if(_=_.next,_===null){if(_=o.shared.pending,_===null)break;M=_,_=M.next,M.next=null,o.lastBaseUpdate=M,o.shared.pending=null}}while(!0);O===null&&(x=z),o.baseState=x,o.firstBaseUpdate=A,o.lastBaseUpdate=O,u===null&&(o.shared.lanes=0),Jn|=h,e.lanes=h,e.memoizedState=z}}function jh(e,t){if(typeof e!="function")throw Error(s(191,e));e.call(t)}function Ih(e,t){var i=e.callbacks;if(i!==null)for(e.callbacks=null,e=0;e<i.length;e++)jh(i[e],t)}var gl=C(null),$s=C(0);function zh(e,t){e=wn,Y($s,e),Y(gl,t),wn=e|t.baseLanes}function bo(){Y($s,wn),Y(gl,gl.current)}function So(){wn=$s.current,L(gl),L($s)}var zt=C(null),Kt=null;function Zn(e){var t=e.alternate;Y(Xe,Xe.current&1),Y(zt,e),Kt===null&&(t===null||gl.current!==null||t.memoizedState!==null)&&(Kt=e)}function xo(e){Y(Xe,Xe.current),Y(zt,e),Kt===null&&(Kt=e)}function Lh(e){e.tag===22?(Y(Xe,Xe.current),Y(zt,e),Kt===null&&(Kt=e)):Kn()}function Kn(){Y(Xe,Xe.current),Y(zt,zt.current)}function Lt(e){L(zt),Kt===e&&(Kt=null),L(Xe)}var Xe=C(0);function Js(e){for(var t=e;t!==null;){if(t.tag===13){var i=t.memoizedState;if(i!==null&&(i=i.dehydrated,i===null||wu(i)||Ru(i)))return t}else if(t.tag===19&&(t.memoizedProps.revealOrder==="forwards"||t.memoizedProps.revealOrder==="backwards"||t.memoizedProps.revealOrder==="unstable_legacy-backwards"||t.memoizedProps.revealOrder==="together")){if((t.flags&128)!==0)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var bn=0,ae=null,Ae=null,Fe=null,Ws=!1,pl=!1,Ii=!1,er=0,va=0,yl=null,jv=0;function qe(){throw Error(s(321))}function Eo(e,t){if(t===null)return!1;for(var i=0;i<t.length&&i<e.length;i++)if(!jt(e[i],t[i]))return!1;return!0}function Co(e,t,i,r,o,u){return bn=u,ae=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,D.H=e===null||e.memoizedState===null?vm:Bo,Ii=!1,u=i(r,o),Ii=!1,pl&&(u=Hh(t,i,r,o)),Uh(e),u}function Uh(e){D.H=xa;var t=Ae!==null&&Ae.next!==null;if(bn=0,Fe=Ae=ae=null,Ws=!1,va=0,yl=null,t)throw Error(s(300));e===null||$e||(e=e.dependencies,e!==null&&Vs(e)&&($e=!0))}function Hh(e,t,i,r){ae=e;var o=0;do{if(pl&&(yl=null),va=0,pl=!1,25<=o)throw Error(s(301));if(o+=1,Fe=Ae=null,e.updateQueue!=null){var u=e.updateQueue;u.lastEffect=null,u.events=null,u.stores=null,u.memoCache!=null&&(u.memoCache.index=0)}D.H=bm,u=t(i,r)}while(pl);return u}function Iv(){var e=D.H,t=e.useState()[0];return t=typeof t.then=="function"?ba(t):t,e=e.useState()[0],(Ae!==null?Ae.memoizedState:null)!==e&&(ae.flags|=1024),t}function To(){var e=er!==0;return er=0,e}function No(e,t,i){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i}function Ao(e){if(Ws){for(e=e.memoizedState;e!==null;){var t=e.queue;t!==null&&(t.pending=null),e=e.next}Ws=!1}bn=0,Fe=Ae=ae=null,pl=!1,va=er=0,yl=null}function _t(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Fe===null?ae.memoizedState=Fe=e:Fe=Fe.next=e,Fe}function Pe(){if(Ae===null){var e=ae.alternate;e=e!==null?e.memoizedState:null}else e=Ae.next;var t=Fe===null?ae.memoizedState:Fe.next;if(t!==null)Fe=t,Ae=e;else{if(e===null)throw ae.alternate===null?Error(s(467)):Error(s(310));Ae=e,e={memoizedState:Ae.memoizedState,baseState:Ae.baseState,baseQueue:Ae.baseQueue,queue:Ae.queue,next:null},Fe===null?ae.memoizedState=Fe=e:Fe=Fe.next=e}return Fe}function tr(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function ba(e){var t=va;return va+=1,yl===null&&(yl=[]),e=wh(yl,e,t),t=ae,(Fe===null?t.memoizedState:Fe.next)===null&&(t=t.alternate,D.H=t===null||t.memoizedState===null?vm:Bo),e}function nr(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return ba(e);if(e.$$typeof===Q)return ct(e)}throw Error(s(438,String(e)))}function wo(e){var t=null,i=ae.updateQueue;if(i!==null&&(t=i.memoCache),t==null){var r=ae.alternate;r!==null&&(r=r.updateQueue,r!==null&&(r=r.memoCache,r!=null&&(t={data:r.data.map(function(o){return o.slice()}),index:0})))}if(t==null&&(t={data:[],index:0}),i===null&&(i=tr(),ae.updateQueue=i),i.memoCache=t,i=t.data[t.index],i===void 0)for(i=t.data[t.index]=Array(e),r=0;r<e;r++)i[r]=ht;return t.index++,i}function Sn(e,t){return typeof t=="function"?t(e):t}function ir(e){var t=Pe();return Ro(t,Ae,e)}function Ro(e,t,i){var r=e.queue;if(r===null)throw Error(s(311));r.lastRenderedReducer=i;var o=e.baseQueue,u=r.pending;if(u!==null){if(o!==null){var h=o.next;o.next=u.next,u.next=h}t.baseQueue=o=u,r.pending=null}if(u=e.baseState,o===null)e.memoizedState=u;else{t=o.next;var _=h=null,x=null,A=t,O=!1;do{var z=A.lane&-536870913;if(z!==A.lane?(pe&z)===z:(bn&z)===z){var w=A.revertLane;if(w===0)x!==null&&(x=x.next={lane:0,revertLane:0,gesture:null,action:A.action,hasEagerState:A.hasEagerState,eagerState:A.eagerState,next:null}),z===fl&&(O=!0);else if((bn&w)===w){A=A.next,w===fl&&(O=!0);continue}else z={lane:0,revertLane:A.revertLane,gesture:null,action:A.action,hasEagerState:A.hasEagerState,eagerState:A.eagerState,next:null},x===null?(_=x=z,h=u):x=x.next=z,ae.lanes|=w,Jn|=w;z=A.action,Ii&&i(u,z),u=A.hasEagerState?A.eagerState:i(u,z)}else w={lane:z,revertLane:A.revertLane,gesture:A.gesture,action:A.action,hasEagerState:A.hasEagerState,eagerState:A.eagerState,next:null},x===null?(_=x=w,h=u):x=x.next=w,ae.lanes|=z,Jn|=z;A=A.next}while(A!==null&&A!==t);if(x===null?h=u:x.next=_,!jt(u,e.memoizedState)&&($e=!0,O&&(i=dl,i!==null)))throw i;e.memoizedState=u,e.baseState=h,e.baseQueue=x,r.lastRenderedState=u}return o===null&&(r.lanes=0),[e.memoizedState,r.dispatch]}function Mo(e){var t=Pe(),i=t.queue;if(i===null)throw Error(s(311));i.lastRenderedReducer=e;var r=i.dispatch,o=i.pending,u=t.memoizedState;if(o!==null){i.pending=null;var h=o=o.next;do u=e(u,h.action),h=h.next;while(h!==o);jt(u,t.memoizedState)||($e=!0),t.memoizedState=u,t.baseQueue===null&&(t.baseState=u),i.lastRenderedState=u}return[u,r]}function Bh(e,t,i){var r=ae,o=Pe(),u=_e;if(u){if(i===void 0)throw Error(s(407));i=i()}else i=t();var h=!jt((Ae||o).memoizedState,i);if(h&&(o.memoizedState=i,$e=!0),o=o.queue,jo(Gh.bind(null,r,o,e),[e]),o.getSnapshot!==t||h||Fe!==null&&Fe.memoizedState.tag&1){if(r.flags|=2048,_l(9,{destroy:void 0},qh.bind(null,r,o,i,t),null),Oe===null)throw Error(s(349));u||(bn&127)!==0||kh(r,t,i)}return i}function kh(e,t,i){e.flags|=16384,e={getSnapshot:t,value:i},t=ae.updateQueue,t===null?(t=tr(),ae.updateQueue=t,t.stores=[e]):(i=t.stores,i===null?t.stores=[e]:i.push(e))}function qh(e,t,i,r){t.value=i,t.getSnapshot=r,Yh(t)&&Vh(e)}function Gh(e,t,i){return i(function(){Yh(t)&&Vh(e)})}function Yh(e){var t=e.getSnapshot;e=e.value;try{var i=t();return!jt(e,i)}catch{return!0}}function Vh(e){var t=Ti(e,2);t!==null&&At(t,e,2)}function Do(e){var t=_t();if(typeof e=="function"){var i=e;if(e=i(),Ii){Hn(!0);try{i()}finally{Hn(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Sn,lastRenderedState:e},t}function Qh(e,t,i,r){return e.baseState=i,Ro(e,Ae,typeof r=="function"?r:Sn)}function zv(e,t,i,r,o){if(sr(e))throw Error(s(485));if(e=t.action,e!==null){var u={payload:o,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(h){u.listeners.push(h)}};D.T!==null?i(!0):u.isTransition=!1,r(u),i=t.pending,i===null?(u.next=t.pending=u,Xh(t,u)):(u.next=i.next,t.pending=i.next=u)}}function Xh(e,t){var i=t.action,r=t.payload,o=e.state;if(t.isTransition){var u=D.T,h={};D.T=h;try{var _=i(o,r),x=D.S;x!==null&&x(h,_),Ph(e,t,_)}catch(A){Oo(e,t,A)}finally{u!==null&&h.types!==null&&(u.types=h.types),D.T=u}}else try{u=i(o,r),Ph(e,t,u)}catch(A){Oo(e,t,A)}}function Ph(e,t,i){i!==null&&typeof i=="object"&&typeof i.then=="function"?i.then(function(r){Zh(e,t,r)},function(r){return Oo(e,t,r)}):Zh(e,t,i)}function Zh(e,t,i){t.status="fulfilled",t.value=i,Kh(t),e.state=i,t=e.pending,t!==null&&(i=t.next,i===t?e.pending=null:(i=i.next,t.next=i,Xh(e,i)))}function Oo(e,t,i){var r=e.pending;if(e.pending=null,r!==null){r=r.next;do t.status="rejected",t.reason=i,Kh(t),t=t.next;while(t!==r)}e.action=null}function Kh(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function Fh(e,t){return t}function $h(e,t){if(_e){var i=Oe.formState;if(i!==null){e:{var r=ae;if(_e){if(Ue){t:{for(var o=Ue,u=Zt;o.nodeType!==8;){if(!u){o=null;break t}if(o=Ft(o.nextSibling),o===null){o=null;break t}}u=o.data,o=u==="F!"||u==="F"?o:null}if(o){Ue=Ft(o.nextSibling),r=o.data==="F!";break e}}Yn(r)}r=!1}r&&(t=i[0])}}return i=_t(),i.memoizedState=i.baseState=t,r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Fh,lastRenderedState:t},i.queue=r,i=pm.bind(null,ae,r),r.dispatch=i,r=Do(!1),u=Ho.bind(null,ae,!1,r.queue),r=_t(),o={state:t,dispatch:null,action:e,pending:null},r.queue=o,i=zv.bind(null,ae,o,u,i),o.dispatch=i,r.memoizedState=e,[t,i,!1]}function Jh(e){var t=Pe();return Wh(t,Ae,e)}function Wh(e,t,i){if(t=Ro(e,t,Fh)[0],e=ir(Sn)[0],typeof t=="object"&&t!==null&&typeof t.then=="function")try{var r=ba(t)}catch(h){throw h===hl?Ps:h}else r=t;t=Pe();var o=t.queue,u=o.dispatch;return i!==t.memoizedState&&(ae.flags|=2048,_l(9,{destroy:void 0},Lv.bind(null,o,i),null)),[r,u,e]}function Lv(e,t){e.action=t}function em(e){var t=Pe(),i=Ae;if(i!==null)return Wh(t,i,e);Pe(),t=t.memoizedState,i=Pe();var r=i.queue.dispatch;return i.memoizedState=e,[t,r,!1]}function _l(e,t,i,r){return e={tag:e,create:i,deps:r,inst:t,next:null},t=ae.updateQueue,t===null&&(t=tr(),ae.updateQueue=t),i=t.lastEffect,i===null?t.lastEffect=e.next=e:(r=i.next,i.next=e,e.next=r,t.lastEffect=e),e}function tm(){return Pe().memoizedState}function lr(e,t,i,r){var o=_t();ae.flags|=e,o.memoizedState=_l(1|t,{destroy:void 0},i,r===void 0?null:r)}function ar(e,t,i,r){var o=Pe();r=r===void 0?null:r;var u=o.memoizedState.inst;Ae!==null&&r!==null&&Eo(r,Ae.memoizedState.deps)?o.memoizedState=_l(t,u,i,r):(ae.flags|=e,o.memoizedState=_l(1|t,u,i,r))}function nm(e,t){lr(8390656,8,e,t)}function jo(e,t){ar(2048,8,e,t)}function Uv(e){ae.flags|=4;var t=ae.updateQueue;if(t===null)t=tr(),ae.updateQueue=t,t.events=[e];else{var i=t.events;i===null?t.events=[e]:i.push(e)}}function im(e){var t=Pe().memoizedState;return Uv({ref:t,nextImpl:e}),function(){if((xe&2)!==0)throw Error(s(440));return t.impl.apply(void 0,arguments)}}function lm(e,t){return ar(4,2,e,t)}function am(e,t){return ar(4,4,e,t)}function sm(e,t){if(typeof t=="function"){e=e();var i=t(e);return function(){typeof i=="function"?i():t(null)}}if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function rm(e,t,i){i=i!=null?i.concat([e]):null,ar(4,4,sm.bind(null,t,e),i)}function Io(){}function cm(e,t){var i=Pe();t=t===void 0?null:t;var r=i.memoizedState;return t!==null&&Eo(t,r[1])?r[0]:(i.memoizedState=[e,t],e)}function om(e,t){var i=Pe();t=t===void 0?null:t;var r=i.memoizedState;if(t!==null&&Eo(t,r[1]))return r[0];if(r=e(),Ii){Hn(!0);try{e()}finally{Hn(!1)}}return i.memoizedState=[r,t],r}function zo(e,t,i){return i===void 0||(bn&1073741824)!==0&&(pe&261930)===0?e.memoizedState=t:(e.memoizedState=i,e=ug(),ae.lanes|=e,Jn|=e,i)}function um(e,t,i,r){return jt(i,t)?i:gl.current!==null?(e=zo(e,i,r),jt(e,t)||($e=!0),e):(bn&42)===0||(bn&1073741824)!==0&&(pe&261930)===0?($e=!0,e.memoizedState=i):(e=ug(),ae.lanes|=e,Jn|=e,t)}function fm(e,t,i,r,o){var u=q.p;q.p=u!==0&&8>u?u:8;var h=D.T,_={};D.T=_,Ho(e,!1,t,i);try{var x=o(),A=D.S;if(A!==null&&A(_,x),x!==null&&typeof x=="object"&&typeof x.then=="function"){var O=Ov(x,r);Sa(e,t,O,Bt(e))}else Sa(e,t,r,Bt(e))}catch(z){Sa(e,t,{then:function(){},status:"rejected",reason:z},Bt())}finally{q.p=u,h!==null&&_.types!==null&&(h.types=_.types),D.T=h}}function Hv(){}function Lo(e,t,i,r){if(e.tag!==5)throw Error(s(476));var o=dm(e).queue;fm(e,o,t,te,i===null?Hv:function(){return hm(e),i(r)})}function dm(e){var t=e.memoizedState;if(t!==null)return t;t={memoizedState:te,baseState:te,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Sn,lastRenderedState:te},next:null};var i={};return t.next={memoizedState:i,baseState:i,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Sn,lastRenderedState:i},next:null},e.memoizedState=t,e=e.alternate,e!==null&&(e.memoizedState=t),t}function hm(e){var t=dm(e);t.next===null&&(t=e.alternate.memoizedState),Sa(e,t.next.queue,{},Bt())}function Uo(){return ct(Ha)}function mm(){return Pe().memoizedState}function gm(){return Pe().memoizedState}function Bv(e){for(var t=e.return;t!==null;){switch(t.tag){case 24:case 3:var i=Bt();e=Xn(i);var r=Pn(t,e,i);r!==null&&(At(r,t,i),pa(r,t,i)),t={cache:fo()},e.payload=t;return}t=t.return}}function kv(e,t,i){var r=Bt();i={lane:r,revertLane:0,gesture:null,action:i,hasEagerState:!1,eagerState:null,next:null},sr(e)?ym(t,i):(i=eo(e,t,i,r),i!==null&&(At(i,e,r),_m(i,t,r)))}function pm(e,t,i){var r=Bt();Sa(e,t,i,r)}function Sa(e,t,i,r){var o={lane:r,revertLane:0,gesture:null,action:i,hasEagerState:!1,eagerState:null,next:null};if(sr(e))ym(t,o);else{var u=e.alternate;if(e.lanes===0&&(u===null||u.lanes===0)&&(u=t.lastRenderedReducer,u!==null))try{var h=t.lastRenderedState,_=u(h,i);if(o.hasEagerState=!0,o.eagerState=_,jt(_,h))return ks(e,t,o,0),Oe===null&&Bs(),!1}catch{}if(i=eo(e,t,o,r),i!==null)return At(i,e,r),_m(i,t,r),!0}return!1}function Ho(e,t,i,r){if(r={lane:2,revertLane:pu(),gesture:null,action:r,hasEagerState:!1,eagerState:null,next:null},sr(e)){if(t)throw Error(s(479))}else t=eo(e,i,r,2),t!==null&&At(t,e,2)}function sr(e){var t=e.alternate;return e===ae||t!==null&&t===ae}function ym(e,t){pl=Ws=!0;var i=e.pending;i===null?t.next=t:(t.next=i.next,i.next=t),e.pending=t}function _m(e,t,i){if((i&4194048)!==0){var r=t.lanes;r&=e.pendingLanes,i|=r,t.lanes=i,Ed(e,i)}}var xa={readContext:ct,use:nr,useCallback:qe,useContext:qe,useEffect:qe,useImperativeHandle:qe,useLayoutEffect:qe,useInsertionEffect:qe,useMemo:qe,useReducer:qe,useRef:qe,useState:qe,useDebugValue:qe,useDeferredValue:qe,useTransition:qe,useSyncExternalStore:qe,useId:qe,useHostTransitionStatus:qe,useFormState:qe,useActionState:qe,useOptimistic:qe,useMemoCache:qe,useCacheRefresh:qe};xa.useEffectEvent=qe;var vm={readContext:ct,use:nr,useCallback:function(e,t){return _t().memoizedState=[e,t===void 0?null:t],e},useContext:ct,useEffect:nm,useImperativeHandle:function(e,t,i){i=i!=null?i.concat([e]):null,lr(4194308,4,sm.bind(null,t,e),i)},useLayoutEffect:function(e,t){return lr(4194308,4,e,t)},useInsertionEffect:function(e,t){lr(4,2,e,t)},useMemo:function(e,t){var i=_t();t=t===void 0?null:t;var r=e();if(Ii){Hn(!0);try{e()}finally{Hn(!1)}}return i.memoizedState=[r,t],r},useReducer:function(e,t,i){var r=_t();if(i!==void 0){var o=i(t);if(Ii){Hn(!0);try{i(t)}finally{Hn(!1)}}}else o=t;return r.memoizedState=r.baseState=o,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:o},r.queue=e,e=e.dispatch=kv.bind(null,ae,e),[r.memoizedState,e]},useRef:function(e){var t=_t();return e={current:e},t.memoizedState=e},useState:function(e){e=Do(e);var t=e.queue,i=pm.bind(null,ae,t);return t.dispatch=i,[e.memoizedState,i]},useDebugValue:Io,useDeferredValue:function(e,t){var i=_t();return zo(i,e,t)},useTransition:function(){var e=Do(!1);return e=fm.bind(null,ae,e.queue,!0,!1),_t().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,i){var r=ae,o=_t();if(_e){if(i===void 0)throw Error(s(407));i=i()}else{if(i=t(),Oe===null)throw Error(s(349));(pe&127)!==0||kh(r,t,i)}o.memoizedState=i;var u={value:i,getSnapshot:t};return o.queue=u,nm(Gh.bind(null,r,u,e),[e]),r.flags|=2048,_l(9,{destroy:void 0},qh.bind(null,r,u,i,t),null),i},useId:function(){var e=_t(),t=Oe.identifierPrefix;if(_e){var i=on,r=cn;i=(r&~(1<<32-Ot(r)-1)).toString(32)+i,t="_"+t+"R_"+i,i=er++,0<i&&(t+="H"+i.toString(32)),t+="_"}else i=jv++,t="_"+t+"r_"+i.toString(32)+"_";return e.memoizedState=t},useHostTransitionStatus:Uo,useFormState:$h,useActionState:$h,useOptimistic:function(e){var t=_t();t.memoizedState=t.baseState=e;var i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=i,t=Ho.bind(null,ae,!0,i),i.dispatch=t,[e,t]},useMemoCache:wo,useCacheRefresh:function(){return _t().memoizedState=Bv.bind(null,ae)},useEffectEvent:function(e){var t=_t(),i={impl:e};return t.memoizedState=i,function(){if((xe&2)!==0)throw Error(s(440));return i.impl.apply(void 0,arguments)}}},Bo={readContext:ct,use:nr,useCallback:cm,useContext:ct,useEffect:jo,useImperativeHandle:rm,useInsertionEffect:lm,useLayoutEffect:am,useMemo:om,useReducer:ir,useRef:tm,useState:function(){return ir(Sn)},useDebugValue:Io,useDeferredValue:function(e,t){var i=Pe();return um(i,Ae.memoizedState,e,t)},useTransition:function(){var e=ir(Sn)[0],t=Pe().memoizedState;return[typeof e=="boolean"?e:ba(e),t]},useSyncExternalStore:Bh,useId:mm,useHostTransitionStatus:Uo,useFormState:Jh,useActionState:Jh,useOptimistic:function(e,t){var i=Pe();return Qh(i,Ae,e,t)},useMemoCache:wo,useCacheRefresh:gm};Bo.useEffectEvent=im;var bm={readContext:ct,use:nr,useCallback:cm,useContext:ct,useEffect:jo,useImperativeHandle:rm,useInsertionEffect:lm,useLayoutEffect:am,useMemo:om,useReducer:Mo,useRef:tm,useState:function(){return Mo(Sn)},useDebugValue:Io,useDeferredValue:function(e,t){var i=Pe();return Ae===null?zo(i,e,t):um(i,Ae.memoizedState,e,t)},useTransition:function(){var e=Mo(Sn)[0],t=Pe().memoizedState;return[typeof e=="boolean"?e:ba(e),t]},useSyncExternalStore:Bh,useId:mm,useHostTransitionStatus:Uo,useFormState:em,useActionState:em,useOptimistic:function(e,t){var i=Pe();return Ae!==null?Qh(i,Ae,e,t):(i.baseState=e,[e,i.queue.dispatch])},useMemoCache:wo,useCacheRefresh:gm};bm.useEffectEvent=im;function ko(e,t,i,r){t=e.memoizedState,i=i(r,t),i=i==null?t:v({},t,i),e.memoizedState=i,e.lanes===0&&(e.updateQueue.baseState=i)}var qo={enqueueSetState:function(e,t,i){e=e._reactInternals;var r=Bt(),o=Xn(r);o.payload=t,i!=null&&(o.callback=i),t=Pn(e,o,r),t!==null&&(At(t,e,r),pa(t,e,r))},enqueueReplaceState:function(e,t,i){e=e._reactInternals;var r=Bt(),o=Xn(r);o.tag=1,o.payload=t,i!=null&&(o.callback=i),t=Pn(e,o,r),t!==null&&(At(t,e,r),pa(t,e,r))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var i=Bt(),r=Xn(i);r.tag=2,t!=null&&(r.callback=t),t=Pn(e,r,i),t!==null&&(At(t,e,i),pa(t,e,i))}};function Sm(e,t,i,r,o,u,h){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,u,h):t.prototype&&t.prototype.isPureReactComponent?!ca(i,r)||!ca(o,u):!0}function xm(e,t,i,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(i,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(i,r),t.state!==e&&qo.enqueueReplaceState(t,t.state,null)}function zi(e,t){var i=t;if("ref"in t){i={};for(var r in t)r!=="ref"&&(i[r]=t[r])}if(e=e.defaultProps){i===t&&(i=v({},i));for(var o in e)i[o]===void 0&&(i[o]=e[o])}return i}function Em(e){Hs(e)}function Cm(e){console.error(e)}function Tm(e){Hs(e)}function rr(e,t){try{var i=e.onUncaughtError;i(t.value,{componentStack:t.stack})}catch(r){setTimeout(function(){throw r})}}function Nm(e,t,i){try{var r=e.onCaughtError;r(i.value,{componentStack:i.stack,errorBoundary:t.tag===1?t.stateNode:null})}catch(o){setTimeout(function(){throw o})}}function Go(e,t,i){return i=Xn(i),i.tag=3,i.payload={element:null},i.callback=function(){rr(e,t)},i}function Am(e){return e=Xn(e),e.tag=3,e}function wm(e,t,i,r){var o=i.type.getDerivedStateFromError;if(typeof o=="function"){var u=r.value;e.payload=function(){return o(u)},e.callback=function(){Nm(t,i,r)}}var h=i.stateNode;h!==null&&typeof h.componentDidCatch=="function"&&(e.callback=function(){Nm(t,i,r),typeof o!="function"&&(Wn===null?Wn=new Set([this]):Wn.add(this));var _=r.stack;this.componentDidCatch(r.value,{componentStack:_!==null?_:""})})}function qv(e,t,i,r,o){if(i.flags|=32768,r!==null&&typeof r=="object"&&typeof r.then=="function"){if(t=i.alternate,t!==null&&ul(t,i,o,!0),i=zt.current,i!==null){switch(i.tag){case 31:case 13:return Kt===null?vr():i.alternate===null&&Ge===0&&(Ge=3),i.flags&=-257,i.flags|=65536,i.lanes=o,r===Zs?i.flags|=16384:(t=i.updateQueue,t===null?i.updateQueue=new Set([r]):t.add(r),hu(e,r,o)),!1;case 22:return i.flags|=65536,r===Zs?i.flags|=16384:(t=i.updateQueue,t===null?(t={transitions:null,markerInstances:null,retryQueue:new Set([r])},i.updateQueue=t):(i=t.retryQueue,i===null?t.retryQueue=new Set([r]):i.add(r)),hu(e,r,o)),!1}throw Error(s(435,i.tag))}return hu(e,r,o),vr(),!1}if(_e)return t=zt.current,t!==null?((t.flags&65536)===0&&(t.flags|=256),t.flags|=65536,t.lanes=o,r!==so&&(e=Error(s(422),{cause:r}),fa(Qt(e,i)))):(r!==so&&(t=Error(s(423),{cause:r}),fa(Qt(t,i))),e=e.current.alternate,e.flags|=65536,o&=-o,e.lanes|=o,r=Qt(r,i),o=Go(e.stateNode,r,o),_o(e,o),Ge!==4&&(Ge=2)),!1;var u=Error(s(520),{cause:r});if(u=Qt(u,i),Ma===null?Ma=[u]:Ma.push(u),Ge!==4&&(Ge=2),t===null)return!0;r=Qt(r,i),i=t;do{switch(i.tag){case 3:return i.flags|=65536,e=o&-o,i.lanes|=e,e=Go(i.stateNode,r,e),_o(i,e),!1;case 1:if(t=i.type,u=i.stateNode,(i.flags&128)===0&&(typeof t.getDerivedStateFromError=="function"||u!==null&&typeof u.componentDidCatch=="function"&&(Wn===null||!Wn.has(u))))return i.flags|=65536,o&=-o,i.lanes|=o,o=Am(o),wm(o,e,i,r),_o(i,o),!1}i=i.return}while(i!==null);return!1}var Yo=Error(s(461)),$e=!1;function ot(e,t,i,r){t.child=e===null?Oh(t,null,i,r):ji(t,e.child,i,r)}function Rm(e,t,i,r,o){i=i.render;var u=t.ref;if("ref"in r){var h={};for(var _ in r)_!=="ref"&&(h[_]=r[_])}else h=r;return Ri(t),r=Co(e,t,i,h,u,o),_=To(),e!==null&&!$e?(No(e,t,o),xn(e,t,o)):(_e&&_&&lo(t),t.flags|=1,ot(e,t,r,o),t.child)}function Mm(e,t,i,r,o){if(e===null){var u=i.type;return typeof u=="function"&&!to(u)&&u.defaultProps===void 0&&i.compare===null?(t.tag=15,t.type=u,Dm(e,t,u,r,o)):(e=Gs(i.type,null,r,t,t.mode,o),e.ref=t.ref,e.return=t,t.child=e)}if(u=e.child,!$o(e,o)){var h=u.memoizedProps;if(i=i.compare,i=i!==null?i:ca,i(h,r)&&e.ref===t.ref)return xn(e,t,o)}return t.flags|=1,e=pn(u,r),e.ref=t.ref,e.return=t,t.child=e}function Dm(e,t,i,r,o){if(e!==null){var u=e.memoizedProps;if(ca(u,r)&&e.ref===t.ref)if($e=!1,t.pendingProps=r=u,$o(e,o))(e.flags&131072)!==0&&($e=!0);else return t.lanes=e.lanes,xn(e,t,o)}return Vo(e,t,i,r,o)}function Om(e,t,i,r){var o=r.children,u=e!==null?e.memoizedState:null;if(e===null&&t.stateNode===null&&(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),r.mode==="hidden"){if((t.flags&128)!==0){if(u=u!==null?u.baseLanes|i:i,e!==null){for(r=t.child=e.child,o=0;r!==null;)o=o|r.lanes|r.childLanes,r=r.sibling;r=o&~u}else r=0,t.child=null;return jm(e,t,u,i,r)}if((i&536870912)!==0)t.memoizedState={baseLanes:0,cachePool:null},e!==null&&Xs(t,u!==null?u.cachePool:null),u!==null?zh(t,u):bo(),Lh(t);else return r=t.lanes=536870912,jm(e,t,u!==null?u.baseLanes|i:i,i,r)}else u!==null?(Xs(t,u.cachePool),zh(t,u),Kn(),t.memoizedState=null):(e!==null&&Xs(t,null),bo(),Kn());return ot(e,t,o,i),t.child}function Ea(e,t){return e!==null&&e.tag===22||t.stateNode!==null||(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),t.sibling}function jm(e,t,i,r,o){var u=mo();return u=u===null?null:{parent:Ke._currentValue,pool:u},t.memoizedState={baseLanes:i,cachePool:u},e!==null&&Xs(t,null),bo(),Lh(t),e!==null&&ul(e,t,r,!0),t.childLanes=o,null}function cr(e,t){return t=ur({mode:t.mode,children:t.children},e.mode),t.ref=e.ref,e.child=t,t.return=e,t}function Im(e,t,i){return ji(t,e.child,null,i),e=cr(t,t.pendingProps),e.flags|=2,Lt(t),t.memoizedState=null,e}function Gv(e,t,i){var r=t.pendingProps,o=(t.flags&128)!==0;if(t.flags&=-129,e===null){if(_e){if(r.mode==="hidden")return e=cr(t,r),t.lanes=536870912,Ea(null,e);if(xo(t),(e=Ue)?(e=Xg(e,Zt),e=e!==null&&e.data==="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:qn!==null?{id:cn,overflow:on}:null,retryLane:536870912,hydrationErrors:null},i=yh(e),i.return=t,t.child=i,rt=t,Ue=null)):e=null,e===null)throw Yn(t);return t.lanes=536870912,null}return cr(t,r)}var u=e.memoizedState;if(u!==null){var h=u.dehydrated;if(xo(t),o)if(t.flags&256)t.flags&=-257,t=Im(e,t,i);else if(t.memoizedState!==null)t.child=e.child,t.flags|=128,t=null;else throw Error(s(558));else if($e||ul(e,t,i,!1),o=(i&e.childLanes)!==0,$e||o){if(r=Oe,r!==null&&(h=Cd(r,i),h!==0&&h!==u.retryLane))throw u.retryLane=h,Ti(e,h),At(r,e,h),Yo;vr(),t=Im(e,t,i)}else e=u.treeContext,Ue=Ft(h.nextSibling),rt=t,_e=!0,Gn=null,Zt=!1,e!==null&&bh(t,e),t=cr(t,r),t.flags|=4096;return t}return e=pn(e.child,{mode:r.mode,children:r.children}),e.ref=t.ref,t.child=e,e.return=t,e}function or(e,t){var i=t.ref;if(i===null)e!==null&&e.ref!==null&&(t.flags|=4194816);else{if(typeof i!="function"&&typeof i!="object")throw Error(s(284));(e===null||e.ref!==i)&&(t.flags|=4194816)}}function Vo(e,t,i,r,o){return Ri(t),i=Co(e,t,i,r,void 0,o),r=To(),e!==null&&!$e?(No(e,t,o),xn(e,t,o)):(_e&&r&&lo(t),t.flags|=1,ot(e,t,i,o),t.child)}function zm(e,t,i,r,o,u){return Ri(t),t.updateQueue=null,i=Hh(t,r,i,o),Uh(e),r=To(),e!==null&&!$e?(No(e,t,u),xn(e,t,u)):(_e&&r&&lo(t),t.flags|=1,ot(e,t,i,u),t.child)}function Lm(e,t,i,r,o){if(Ri(t),t.stateNode===null){var u=sl,h=i.contextType;typeof h=="object"&&h!==null&&(u=ct(h)),u=new i(r,u),t.memoizedState=u.state!==null&&u.state!==void 0?u.state:null,u.updater=qo,t.stateNode=u,u._reactInternals=t,u=t.stateNode,u.props=r,u.state=t.memoizedState,u.refs={},po(t),h=i.contextType,u.context=typeof h=="object"&&h!==null?ct(h):sl,u.state=t.memoizedState,h=i.getDerivedStateFromProps,typeof h=="function"&&(ko(t,i,h,r),u.state=t.memoizedState),typeof i.getDerivedStateFromProps=="function"||typeof u.getSnapshotBeforeUpdate=="function"||typeof u.UNSAFE_componentWillMount!="function"&&typeof u.componentWillMount!="function"||(h=u.state,typeof u.componentWillMount=="function"&&u.componentWillMount(),typeof u.UNSAFE_componentWillMount=="function"&&u.UNSAFE_componentWillMount(),h!==u.state&&qo.enqueueReplaceState(u,u.state,null),_a(t,r,u,o),ya(),u.state=t.memoizedState),typeof u.componentDidMount=="function"&&(t.flags|=4194308),r=!0}else if(e===null){u=t.stateNode;var _=t.memoizedProps,x=zi(i,_);u.props=x;var A=u.context,O=i.contextType;h=sl,typeof O=="object"&&O!==null&&(h=ct(O));var z=i.getDerivedStateFromProps;O=typeof z=="function"||typeof u.getSnapshotBeforeUpdate=="function",_=t.pendingProps!==_,O||typeof u.UNSAFE_componentWillReceiveProps!="function"&&typeof u.componentWillReceiveProps!="function"||(_||A!==h)&&xm(t,u,r,h),Qn=!1;var w=t.memoizedState;u.state=w,_a(t,r,u,o),ya(),A=t.memoizedState,_||w!==A||Qn?(typeof z=="function"&&(ko(t,i,z,r),A=t.memoizedState),(x=Qn||Sm(t,i,x,r,w,A,h))?(O||typeof u.UNSAFE_componentWillMount!="function"&&typeof u.componentWillMount!="function"||(typeof u.componentWillMount=="function"&&u.componentWillMount(),typeof u.UNSAFE_componentWillMount=="function"&&u.UNSAFE_componentWillMount()),typeof u.componentDidMount=="function"&&(t.flags|=4194308)):(typeof u.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=A),u.props=r,u.state=A,u.context=h,r=x):(typeof u.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{u=t.stateNode,yo(e,t),h=t.memoizedProps,O=zi(i,h),u.props=O,z=t.pendingProps,w=u.context,A=i.contextType,x=sl,typeof A=="object"&&A!==null&&(x=ct(A)),_=i.getDerivedStateFromProps,(A=typeof _=="function"||typeof u.getSnapshotBeforeUpdate=="function")||typeof u.UNSAFE_componentWillReceiveProps!="function"&&typeof u.componentWillReceiveProps!="function"||(h!==z||w!==x)&&xm(t,u,r,x),Qn=!1,w=t.memoizedState,u.state=w,_a(t,r,u,o),ya();var M=t.memoizedState;h!==z||w!==M||Qn||e!==null&&e.dependencies!==null&&Vs(e.dependencies)?(typeof _=="function"&&(ko(t,i,_,r),M=t.memoizedState),(O=Qn||Sm(t,i,O,r,w,M,x)||e!==null&&e.dependencies!==null&&Vs(e.dependencies))?(A||typeof u.UNSAFE_componentWillUpdate!="function"&&typeof u.componentWillUpdate!="function"||(typeof u.componentWillUpdate=="function"&&u.componentWillUpdate(r,M,x),typeof u.UNSAFE_componentWillUpdate=="function"&&u.UNSAFE_componentWillUpdate(r,M,x)),typeof u.componentDidUpdate=="function"&&(t.flags|=4),typeof u.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof u.componentDidUpdate!="function"||h===e.memoizedProps&&w===e.memoizedState||(t.flags|=4),typeof u.getSnapshotBeforeUpdate!="function"||h===e.memoizedProps&&w===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=M),u.props=r,u.state=M,u.context=x,r=O):(typeof u.componentDidUpdate!="function"||h===e.memoizedProps&&w===e.memoizedState||(t.flags|=4),typeof u.getSnapshotBeforeUpdate!="function"||h===e.memoizedProps&&w===e.memoizedState||(t.flags|=1024),r=!1)}return u=r,or(e,t),r=(t.flags&128)!==0,u||r?(u=t.stateNode,i=r&&typeof i.getDerivedStateFromError!="function"?null:u.render(),t.flags|=1,e!==null&&r?(t.child=ji(t,e.child,null,o),t.child=ji(t,null,i,o)):ot(e,t,i,o),t.memoizedState=u.state,e=t.child):e=xn(e,t,o),e}function Um(e,t,i,r){return Ai(),t.flags|=256,ot(e,t,i,r),t.child}var Qo={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Xo(e){return{baseLanes:e,cachePool:Nh()}}function Po(e,t,i){return e=e!==null?e.childLanes&~i:0,t&&(e|=Ht),e}function Hm(e,t,i){var r=t.pendingProps,o=!1,u=(t.flags&128)!==0,h;if((h=u)||(h=e!==null&&e.memoizedState===null?!1:(Xe.current&2)!==0),h&&(o=!0,t.flags&=-129),h=(t.flags&32)!==0,t.flags&=-33,e===null){if(_e){if(o?Zn(t):Kn(),(e=Ue)?(e=Xg(e,Zt),e=e!==null&&e.data!=="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:qn!==null?{id:cn,overflow:on}:null,retryLane:536870912,hydrationErrors:null},i=yh(e),i.return=t,t.child=i,rt=t,Ue=null)):e=null,e===null)throw Yn(t);return Ru(e)?t.lanes=32:t.lanes=536870912,null}var _=r.children;return r=r.fallback,o?(Kn(),o=t.mode,_=ur({mode:"hidden",children:_},o),r=Ni(r,o,i,null),_.return=t,r.return=t,_.sibling=r,t.child=_,r=t.child,r.memoizedState=Xo(i),r.childLanes=Po(e,h,i),t.memoizedState=Qo,Ea(null,r)):(Zn(t),Zo(t,_))}var x=e.memoizedState;if(x!==null&&(_=x.dehydrated,_!==null)){if(u)t.flags&256?(Zn(t),t.flags&=-257,t=Ko(e,t,i)):t.memoizedState!==null?(Kn(),t.child=e.child,t.flags|=128,t=null):(Kn(),_=r.fallback,o=t.mode,r=ur({mode:"visible",children:r.children},o),_=Ni(_,o,i,null),_.flags|=2,r.return=t,_.return=t,r.sibling=_,t.child=r,ji(t,e.child,null,i),r=t.child,r.memoizedState=Xo(i),r.childLanes=Po(e,h,i),t.memoizedState=Qo,t=Ea(null,r));else if(Zn(t),Ru(_)){if(h=_.nextSibling&&_.nextSibling.dataset,h)var A=h.dgst;h=A,r=Error(s(419)),r.stack="",r.digest=h,fa({value:r,source:null,stack:null}),t=Ko(e,t,i)}else if($e||ul(e,t,i,!1),h=(i&e.childLanes)!==0,$e||h){if(h=Oe,h!==null&&(r=Cd(h,i),r!==0&&r!==x.retryLane))throw x.retryLane=r,Ti(e,r),At(h,e,r),Yo;wu(_)||vr(),t=Ko(e,t,i)}else wu(_)?(t.flags|=192,t.child=e.child,t=null):(e=x.treeContext,Ue=Ft(_.nextSibling),rt=t,_e=!0,Gn=null,Zt=!1,e!==null&&bh(t,e),t=Zo(t,r.children),t.flags|=4096);return t}return o?(Kn(),_=r.fallback,o=t.mode,x=e.child,A=x.sibling,r=pn(x,{mode:"hidden",children:r.children}),r.subtreeFlags=x.subtreeFlags&65011712,A!==null?_=pn(A,_):(_=Ni(_,o,i,null),_.flags|=2),_.return=t,r.return=t,r.sibling=_,t.child=r,Ea(null,r),r=t.child,_=e.child.memoizedState,_===null?_=Xo(i):(o=_.cachePool,o!==null?(x=Ke._currentValue,o=o.parent!==x?{parent:x,pool:x}:o):o=Nh(),_={baseLanes:_.baseLanes|i,cachePool:o}),r.memoizedState=_,r.childLanes=Po(e,h,i),t.memoizedState=Qo,Ea(e.child,r)):(Zn(t),i=e.child,e=i.sibling,i=pn(i,{mode:"visible",children:r.children}),i.return=t,i.sibling=null,e!==null&&(h=t.deletions,h===null?(t.deletions=[e],t.flags|=16):h.push(e)),t.child=i,t.memoizedState=null,i)}function Zo(e,t){return t=ur({mode:"visible",children:t},e.mode),t.return=e,e.child=t}function ur(e,t){return e=It(22,e,null,t),e.lanes=0,e}function Ko(e,t,i){return ji(t,e.child,null,i),e=Zo(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Bm(e,t,i){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),oo(e.return,t,i)}function Fo(e,t,i,r,o,u){var h=e.memoizedState;h===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:i,tailMode:o,treeForkCount:u}:(h.isBackwards=t,h.rendering=null,h.renderingStartTime=0,h.last=r,h.tail=i,h.tailMode=o,h.treeForkCount=u)}function km(e,t,i){var r=t.pendingProps,o=r.revealOrder,u=r.tail;r=r.children;var h=Xe.current,_=(h&2)!==0;if(_?(h=h&1|2,t.flags|=128):h&=1,Y(Xe,h),ot(e,t,r,i),r=_e?ua:0,!_&&e!==null&&(e.flags&128)!==0)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Bm(e,i,t);else if(e.tag===19)Bm(e,i,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(o){case"forwards":for(i=t.child,o=null;i!==null;)e=i.alternate,e!==null&&Js(e)===null&&(o=i),i=i.sibling;i=o,i===null?(o=t.child,t.child=null):(o=i.sibling,i.sibling=null),Fo(t,!1,o,i,u,r);break;case"backwards":case"unstable_legacy-backwards":for(i=null,o=t.child,t.child=null;o!==null;){if(e=o.alternate,e!==null&&Js(e)===null){t.child=o;break}e=o.sibling,o.sibling=i,i=o,o=e}Fo(t,!0,i,null,u,r);break;case"together":Fo(t,!1,null,null,void 0,r);break;default:t.memoizedState=null}return t.child}function xn(e,t,i){if(e!==null&&(t.dependencies=e.dependencies),Jn|=t.lanes,(i&t.childLanes)===0)if(e!==null){if(ul(e,t,i,!1),(i&t.childLanes)===0)return null}else return null;if(e!==null&&t.child!==e.child)throw Error(s(153));if(t.child!==null){for(e=t.child,i=pn(e,e.pendingProps),t.child=i,i.return=t;e.sibling!==null;)e=e.sibling,i=i.sibling=pn(e,e.pendingProps),i.return=t;i.sibling=null}return t.child}function $o(e,t){return(e.lanes&t)!==0?!0:(e=e.dependencies,!!(e!==null&&Vs(e)))}function Yv(e,t,i){switch(t.tag){case 3:yt(t,t.stateNode.containerInfo),Vn(t,Ke,e.memoizedState.cache),Ai();break;case 27:case 5:Kl(t);break;case 4:yt(t,t.stateNode.containerInfo);break;case 10:Vn(t,t.type,t.memoizedProps.value);break;case 31:if(t.memoizedState!==null)return t.flags|=128,xo(t),null;break;case 13:var r=t.memoizedState;if(r!==null)return r.dehydrated!==null?(Zn(t),t.flags|=128,null):(i&t.child.childLanes)!==0?Hm(e,t,i):(Zn(t),e=xn(e,t,i),e!==null?e.sibling:null);Zn(t);break;case 19:var o=(e.flags&128)!==0;if(r=(i&t.childLanes)!==0,r||(ul(e,t,i,!1),r=(i&t.childLanes)!==0),o){if(r)return km(e,t,i);t.flags|=128}if(o=t.memoizedState,o!==null&&(o.rendering=null,o.tail=null,o.lastEffect=null),Y(Xe,Xe.current),r)break;return null;case 22:return t.lanes=0,Om(e,t,i,t.pendingProps);case 24:Vn(t,Ke,e.memoizedState.cache)}return xn(e,t,i)}function qm(e,t,i){if(e!==null)if(e.memoizedProps!==t.pendingProps)$e=!0;else{if(!$o(e,i)&&(t.flags&128)===0)return $e=!1,Yv(e,t,i);$e=(e.flags&131072)!==0}else $e=!1,_e&&(t.flags&1048576)!==0&&vh(t,ua,t.index);switch(t.lanes=0,t.tag){case 16:e:{var r=t.pendingProps;if(e=Di(t.elementType),t.type=e,typeof e=="function")to(e)?(r=zi(e,r),t.tag=1,t=Lm(null,t,e,r,i)):(t.tag=0,t=Vo(null,t,e,r,i));else{if(e!=null){var o=e.$$typeof;if(o===W){t.tag=11,t=Rm(null,t,e,r,i);break e}else if(o===X){t.tag=14,t=Mm(null,t,e,r,i);break e}}throw t=mt(e)||e,Error(s(306,t,""))}}return t;case 0:return Vo(e,t,t.type,t.pendingProps,i);case 1:return r=t.type,o=zi(r,t.pendingProps),Lm(e,t,r,o,i);case 3:e:{if(yt(t,t.stateNode.containerInfo),e===null)throw Error(s(387));r=t.pendingProps;var u=t.memoizedState;o=u.element,yo(e,t),_a(t,r,null,i);var h=t.memoizedState;if(r=h.cache,Vn(t,Ke,r),r!==u.cache&&uo(t,[Ke],i,!0),ya(),r=h.element,u.isDehydrated)if(u={element:r,isDehydrated:!1,cache:h.cache},t.updateQueue.baseState=u,t.memoizedState=u,t.flags&256){t=Um(e,t,r,i);break e}else if(r!==o){o=Qt(Error(s(424)),t),fa(o),t=Um(e,t,r,i);break e}else for(e=t.stateNode.containerInfo,e.nodeType===9?e=e.body:e=e.nodeName==="HTML"?e.ownerDocument.body:e,Ue=Ft(e.firstChild),rt=t,_e=!0,Gn=null,Zt=!0,i=Oh(t,null,r,i),t.child=i;i;)i.flags=i.flags&-3|4096,i=i.sibling;else{if(Ai(),r===o){t=xn(e,t,i);break e}ot(e,t,r,i)}t=t.child}return t;case 26:return or(e,t),e===null?(i=Jg(t.type,null,t.pendingProps,null))?t.memoizedState=i:_e||(i=t.type,e=t.pendingProps,r=Nr(de.current).createElement(i),r[st]=t,r[St]=e,ut(r,i,e),nt(r),t.stateNode=r):t.memoizedState=Jg(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return Kl(t),e===null&&_e&&(r=t.stateNode=Kg(t.type,t.pendingProps,de.current),rt=t,Zt=!0,o=Ue,ii(t.type)?(Mu=o,Ue=Ft(r.firstChild)):Ue=o),ot(e,t,t.pendingProps.children,i),or(e,t),e===null&&(t.flags|=4194304),t.child;case 5:return e===null&&_e&&((o=r=Ue)&&(r=vb(r,t.type,t.pendingProps,Zt),r!==null?(t.stateNode=r,rt=t,Ue=Ft(r.firstChild),Zt=!1,o=!0):o=!1),o||Yn(t)),Kl(t),o=t.type,u=t.pendingProps,h=e!==null?e.memoizedProps:null,r=u.children,Tu(o,u)?r=null:h!==null&&Tu(o,h)&&(t.flags|=32),t.memoizedState!==null&&(o=Co(e,t,Iv,null,null,i),Ha._currentValue=o),or(e,t),ot(e,t,r,i),t.child;case 6:return e===null&&_e&&((e=i=Ue)&&(i=bb(i,t.pendingProps,Zt),i!==null?(t.stateNode=i,rt=t,Ue=null,e=!0):e=!1),e||Yn(t)),null;case 13:return Hm(e,t,i);case 4:return yt(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=ji(t,null,r,i):ot(e,t,r,i),t.child;case 11:return Rm(e,t,t.type,t.pendingProps,i);case 7:return ot(e,t,t.pendingProps,i),t.child;case 8:return ot(e,t,t.pendingProps.children,i),t.child;case 12:return ot(e,t,t.pendingProps.children,i),t.child;case 10:return r=t.pendingProps,Vn(t,t.type,r.value),ot(e,t,r.children,i),t.child;case 9:return o=t.type._context,r=t.pendingProps.children,Ri(t),o=ct(o),r=r(o),t.flags|=1,ot(e,t,r,i),t.child;case 14:return Mm(e,t,t.type,t.pendingProps,i);case 15:return Dm(e,t,t.type,t.pendingProps,i);case 19:return km(e,t,i);case 31:return Gv(e,t,i);case 22:return Om(e,t,i,t.pendingProps);case 24:return Ri(t),r=ct(Ke),e===null?(o=mo(),o===null&&(o=Oe,u=fo(),o.pooledCache=u,u.refCount++,u!==null&&(o.pooledCacheLanes|=i),o=u),t.memoizedState={parent:r,cache:o},po(t),Vn(t,Ke,o)):((e.lanes&i)!==0&&(yo(e,t),_a(t,null,null,i),ya()),o=e.memoizedState,u=t.memoizedState,o.parent!==r?(o={parent:r,cache:r},t.memoizedState=o,t.lanes===0&&(t.memoizedState=t.updateQueue.baseState=o),Vn(t,Ke,r)):(r=u.cache,Vn(t,Ke,r),r!==o.cache&&uo(t,[Ke],i,!0))),ot(e,t,t.pendingProps.children,i),t.child;case 29:throw t.pendingProps}throw Error(s(156,t.tag))}function En(e){e.flags|=4}function Jo(e,t,i,r,o){if((t=(e.mode&32)!==0)&&(t=!1),t){if(e.flags|=16777216,(o&335544128)===o)if(e.stateNode.complete)e.flags|=8192;else if(mg())e.flags|=8192;else throw Oi=Zs,go}else e.flags&=-16777217}function Gm(e,t){if(t.type!=="stylesheet"||(t.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!ip(t))if(mg())e.flags|=8192;else throw Oi=Zs,go}function fr(e,t){t!==null&&(e.flags|=4),e.flags&16384&&(t=e.tag!==22?Sd():536870912,e.lanes|=t,xl|=t)}function Ca(e,t){if(!_e)switch(e.tailMode){case"hidden":t=e.tail;for(var i=null;t!==null;)t.alternate!==null&&(i=t),t=t.sibling;i===null?e.tail=null:i.sibling=null;break;case"collapsed":i=e.tail;for(var r=null;i!==null;)i.alternate!==null&&(r=i),i=i.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function He(e){var t=e.alternate!==null&&e.alternate.child===e.child,i=0,r=0;if(t)for(var o=e.child;o!==null;)i|=o.lanes|o.childLanes,r|=o.subtreeFlags&65011712,r|=o.flags&65011712,o.return=e,o=o.sibling;else for(o=e.child;o!==null;)i|=o.lanes|o.childLanes,r|=o.subtreeFlags,r|=o.flags,o.return=e,o=o.sibling;return e.subtreeFlags|=r,e.childLanes=i,t}function Vv(e,t,i){var r=t.pendingProps;switch(ao(t),t.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return He(t),null;case 1:return He(t),null;case 3:return i=t.stateNode,r=null,e!==null&&(r=e.memoizedState.cache),t.memoizedState.cache!==r&&(t.flags|=2048),vn(Ke),Qe(),i.pendingContext&&(i.context=i.pendingContext,i.pendingContext=null),(e===null||e.child===null)&&(ol(t)?En(t):e===null||e.memoizedState.isDehydrated&&(t.flags&256)===0||(t.flags|=1024,ro())),He(t),null;case 26:var o=t.type,u=t.memoizedState;return e===null?(En(t),u!==null?(He(t),Gm(t,u)):(He(t),Jo(t,o,null,r,i))):u?u!==e.memoizedState?(En(t),He(t),Gm(t,u)):(He(t),t.flags&=-16777217):(e=e.memoizedProps,e!==r&&En(t),He(t),Jo(t,o,e,r,i)),null;case 27:if(xs(t),i=de.current,o=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==r&&En(t);else{if(!r){if(t.stateNode===null)throw Error(s(166));return He(t),null}e=P.current,ol(t)?Sh(t):(e=Kg(o,r,i),t.stateNode=e,En(t))}return He(t),null;case 5:if(xs(t),o=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==r&&En(t);else{if(!r){if(t.stateNode===null)throw Error(s(166));return He(t),null}if(u=P.current,ol(t))Sh(t);else{var h=Nr(de.current);switch(u){case 1:u=h.createElementNS("http://www.w3.org/2000/svg",o);break;case 2:u=h.createElementNS("http://www.w3.org/1998/Math/MathML",o);break;default:switch(o){case"svg":u=h.createElementNS("http://www.w3.org/2000/svg",o);break;case"math":u=h.createElementNS("http://www.w3.org/1998/Math/MathML",o);break;case"script":u=h.createElement("div"),u.innerHTML="<script><\/script>",u=u.removeChild(u.firstChild);break;case"select":u=typeof r.is=="string"?h.createElement("select",{is:r.is}):h.createElement("select"),r.multiple?u.multiple=!0:r.size&&(u.size=r.size);break;default:u=typeof r.is=="string"?h.createElement(o,{is:r.is}):h.createElement(o)}}u[st]=t,u[St]=r;e:for(h=t.child;h!==null;){if(h.tag===5||h.tag===6)u.appendChild(h.stateNode);else if(h.tag!==4&&h.tag!==27&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===t)break e;for(;h.sibling===null;){if(h.return===null||h.return===t)break e;h=h.return}h.sibling.return=h.return,h=h.sibling}t.stateNode=u;e:switch(ut(u,o,r),o){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}r&&En(t)}}return He(t),Jo(t,t.type,e===null?null:e.memoizedProps,t.pendingProps,i),null;case 6:if(e&&t.stateNode!=null)e.memoizedProps!==r&&En(t);else{if(typeof r!="string"&&t.stateNode===null)throw Error(s(166));if(e=de.current,ol(t)){if(e=t.stateNode,i=t.memoizedProps,r=null,o=rt,o!==null)switch(o.tag){case 27:case 5:r=o.memoizedProps}e[st]=t,e=!!(e.nodeValue===i||r!==null&&r.suppressHydrationWarning===!0||Hg(e.nodeValue,i)),e||Yn(t,!0)}else e=Nr(e).createTextNode(r),e[st]=t,t.stateNode=e}return He(t),null;case 31:if(i=t.memoizedState,e===null||e.memoizedState!==null){if(r=ol(t),i!==null){if(e===null){if(!r)throw Error(s(318));if(e=t.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(s(557));e[st]=t}else Ai(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;He(t),e=!1}else i=ro(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=i),e=!0;if(!e)return t.flags&256?(Lt(t),t):(Lt(t),null);if((t.flags&128)!==0)throw Error(s(558))}return He(t),null;case 13:if(r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(o=ol(t),r!==null&&r.dehydrated!==null){if(e===null){if(!o)throw Error(s(318));if(o=t.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(s(317));o[st]=t}else Ai(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;He(t),o=!1}else o=ro(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=o),o=!0;if(!o)return t.flags&256?(Lt(t),t):(Lt(t),null)}return Lt(t),(t.flags&128)!==0?(t.lanes=i,t):(i=r!==null,e=e!==null&&e.memoizedState!==null,i&&(r=t.child,o=null,r.alternate!==null&&r.alternate.memoizedState!==null&&r.alternate.memoizedState.cachePool!==null&&(o=r.alternate.memoizedState.cachePool.pool),u=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(u=r.memoizedState.cachePool.pool),u!==o&&(r.flags|=2048)),i!==e&&i&&(t.child.flags|=8192),fr(t,t.updateQueue),He(t),null);case 4:return Qe(),e===null&&bu(t.stateNode.containerInfo),He(t),null;case 10:return vn(t.type),He(t),null;case 19:if(L(Xe),r=t.memoizedState,r===null)return He(t),null;if(o=(t.flags&128)!==0,u=r.rendering,u===null)if(o)Ca(r,!1);else{if(Ge!==0||e!==null&&(e.flags&128)!==0)for(e=t.child;e!==null;){if(u=Js(e),u!==null){for(t.flags|=128,Ca(r,!1),e=u.updateQueue,t.updateQueue=e,fr(t,e),t.subtreeFlags=0,e=i,i=t.child;i!==null;)ph(i,e),i=i.sibling;return Y(Xe,Xe.current&1|2),_e&&yn(t,r.treeForkCount),t.child}e=e.sibling}r.tail!==null&&Mt()>pr&&(t.flags|=128,o=!0,Ca(r,!1),t.lanes=4194304)}else{if(!o)if(e=Js(u),e!==null){if(t.flags|=128,o=!0,e=e.updateQueue,t.updateQueue=e,fr(t,e),Ca(r,!0),r.tail===null&&r.tailMode==="hidden"&&!u.alternate&&!_e)return He(t),null}else 2*Mt()-r.renderingStartTime>pr&&i!==536870912&&(t.flags|=128,o=!0,Ca(r,!1),t.lanes=4194304);r.isBackwards?(u.sibling=t.child,t.child=u):(e=r.last,e!==null?e.sibling=u:t.child=u,r.last=u)}return r.tail!==null?(e=r.tail,r.rendering=e,r.tail=e.sibling,r.renderingStartTime=Mt(),e.sibling=null,i=Xe.current,Y(Xe,o?i&1|2:i&1),_e&&yn(t,r.treeForkCount),e):(He(t),null);case 22:case 23:return Lt(t),So(),r=t.memoizedState!==null,e!==null?e.memoizedState!==null!==r&&(t.flags|=8192):r&&(t.flags|=8192),r?(i&536870912)!==0&&(t.flags&128)===0&&(He(t),t.subtreeFlags&6&&(t.flags|=8192)):He(t),i=t.updateQueue,i!==null&&fr(t,i.retryQueue),i=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(i=e.memoizedState.cachePool.pool),r=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(r=t.memoizedState.cachePool.pool),r!==i&&(t.flags|=2048),e!==null&&L(Mi),null;case 24:return i=null,e!==null&&(i=e.memoizedState.cache),t.memoizedState.cache!==i&&(t.flags|=2048),vn(Ke),He(t),null;case 25:return null;case 30:return null}throw Error(s(156,t.tag))}function Qv(e,t){switch(ao(t),t.tag){case 1:return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return vn(Ke),Qe(),e=t.flags,(e&65536)!==0&&(e&128)===0?(t.flags=e&-65537|128,t):null;case 26:case 27:case 5:return xs(t),null;case 31:if(t.memoizedState!==null){if(Lt(t),t.alternate===null)throw Error(s(340));Ai()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 13:if(Lt(t),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(s(340));Ai()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return L(Xe),null;case 4:return Qe(),null;case 10:return vn(t.type),null;case 22:case 23:return Lt(t),So(),e!==null&&L(Mi),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 24:return vn(Ke),null;case 25:return null;default:return null}}function Ym(e,t){switch(ao(t),t.tag){case 3:vn(Ke),Qe();break;case 26:case 27:case 5:xs(t);break;case 4:Qe();break;case 31:t.memoizedState!==null&&Lt(t);break;case 13:Lt(t);break;case 19:L(Xe);break;case 10:vn(t.type);break;case 22:case 23:Lt(t),So(),e!==null&&L(Mi);break;case 24:vn(Ke)}}function Ta(e,t){try{var i=t.updateQueue,r=i!==null?i.lastEffect:null;if(r!==null){var o=r.next;i=o;do{if((i.tag&e)===e){r=void 0;var u=i.create,h=i.inst;r=u(),h.destroy=r}i=i.next}while(i!==o)}}catch(_){Te(t,t.return,_)}}function Fn(e,t,i){try{var r=t.updateQueue,o=r!==null?r.lastEffect:null;if(o!==null){var u=o.next;r=u;do{if((r.tag&e)===e){var h=r.inst,_=h.destroy;if(_!==void 0){h.destroy=void 0,o=t;var x=i,A=_;try{A()}catch(O){Te(o,x,O)}}}r=r.next}while(r!==u)}}catch(O){Te(t,t.return,O)}}function Vm(e){var t=e.updateQueue;if(t!==null){var i=e.stateNode;try{Ih(t,i)}catch(r){Te(e,e.return,r)}}}function Qm(e,t,i){i.props=zi(e.type,e.memoizedProps),i.state=e.memoizedState;try{i.componentWillUnmount()}catch(r){Te(e,t,r)}}function Na(e,t){try{var i=e.ref;if(i!==null){switch(e.tag){case 26:case 27:case 5:var r=e.stateNode;break;case 30:r=e.stateNode;break;default:r=e.stateNode}typeof i=="function"?e.refCleanup=i(r):i.current=r}}catch(o){Te(e,t,o)}}function un(e,t){var i=e.ref,r=e.refCleanup;if(i!==null)if(typeof r=="function")try{r()}catch(o){Te(e,t,o)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof i=="function")try{i(null)}catch(o){Te(e,t,o)}else i.current=null}function Xm(e){var t=e.type,i=e.memoizedProps,r=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":i.autoFocus&&r.focus();break e;case"img":i.src?r.src=i.src:i.srcSet&&(r.srcset=i.srcSet)}}catch(o){Te(e,e.return,o)}}function Wo(e,t,i){try{var r=e.stateNode;hb(r,e.type,i,t),r[St]=t}catch(o){Te(e,e.return,o)}}function Pm(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&ii(e.type)||e.tag===4}function eu(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Pm(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&ii(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function tu(e,t,i){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?(i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i).insertBefore(e,t):(t=i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i,t.appendChild(e),i=i._reactRootContainer,i!=null||t.onclick!==null||(t.onclick=mn));else if(r!==4&&(r===27&&ii(e.type)&&(i=e.stateNode,t=null),e=e.child,e!==null))for(tu(e,t,i),e=e.sibling;e!==null;)tu(e,t,i),e=e.sibling}function dr(e,t,i){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?i.insertBefore(e,t):i.appendChild(e);else if(r!==4&&(r===27&&ii(e.type)&&(i=e.stateNode),e=e.child,e!==null))for(dr(e,t,i),e=e.sibling;e!==null;)dr(e,t,i),e=e.sibling}function Zm(e){var t=e.stateNode,i=e.memoizedProps;try{for(var r=e.type,o=t.attributes;o.length;)t.removeAttributeNode(o[0]);ut(t,r,i),t[st]=e,t[St]=i}catch(u){Te(e,e.return,u)}}var Cn=!1,Je=!1,nu=!1,Km=typeof WeakSet=="function"?WeakSet:Set,it=null;function Xv(e,t){if(e=e.containerInfo,Eu=jr,e=rh(e),Zc(e)){if("selectionStart"in e)var i={start:e.selectionStart,end:e.selectionEnd};else e:{i=(i=e.ownerDocument)&&i.defaultView||window;var r=i.getSelection&&i.getSelection();if(r&&r.rangeCount!==0){i=r.anchorNode;var o=r.anchorOffset,u=r.focusNode;r=r.focusOffset;try{i.nodeType,u.nodeType}catch{i=null;break e}var h=0,_=-1,x=-1,A=0,O=0,z=e,w=null;t:for(;;){for(var M;z!==i||o!==0&&z.nodeType!==3||(_=h+o),z!==u||r!==0&&z.nodeType!==3||(x=h+r),z.nodeType===3&&(h+=z.nodeValue.length),(M=z.firstChild)!==null;)w=z,z=M;for(;;){if(z===e)break t;if(w===i&&++A===o&&(_=h),w===u&&++O===r&&(x=h),(M=z.nextSibling)!==null)break;z=w,w=z.parentNode}z=M}i=_===-1||x===-1?null:{start:_,end:x}}else i=null}i=i||{start:0,end:0}}else i=null;for(Cu={focusedElem:e,selectionRange:i},jr=!1,it=t;it!==null;)if(t=it,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,it=e;else for(;it!==null;){switch(t=it,u=t.alternate,e=t.flags,t.tag){case 0:if((e&4)!==0&&(e=t.updateQueue,e=e!==null?e.events:null,e!==null))for(i=0;i<e.length;i++)o=e[i],o.ref.impl=o.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&u!==null){e=void 0,i=t,o=u.memoizedProps,u=u.memoizedState,r=i.stateNode;try{var V=zi(i.type,o);e=r.getSnapshotBeforeUpdate(V,u),r.__reactInternalSnapshotBeforeUpdate=e}catch(J){Te(i,i.return,J)}}break;case 3:if((e&1024)!==0){if(e=t.stateNode.containerInfo,i=e.nodeType,i===9)Au(e);else if(i===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":Au(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(s(163))}if(e=t.sibling,e!==null){e.return=t.return,it=e;break}it=t.return}}function Fm(e,t,i){var r=i.flags;switch(i.tag){case 0:case 11:case 15:Nn(e,i),r&4&&Ta(5,i);break;case 1:if(Nn(e,i),r&4)if(e=i.stateNode,t===null)try{e.componentDidMount()}catch(h){Te(i,i.return,h)}else{var o=zi(i.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(o,t,e.__reactInternalSnapshotBeforeUpdate)}catch(h){Te(i,i.return,h)}}r&64&&Vm(i),r&512&&Na(i,i.return);break;case 3:if(Nn(e,i),r&64&&(e=i.updateQueue,e!==null)){if(t=null,i.child!==null)switch(i.child.tag){case 27:case 5:t=i.child.stateNode;break;case 1:t=i.child.stateNode}try{Ih(e,t)}catch(h){Te(i,i.return,h)}}break;case 27:t===null&&r&4&&Zm(i);case 26:case 5:Nn(e,i),t===null&&r&4&&Xm(i),r&512&&Na(i,i.return);break;case 12:Nn(e,i);break;case 31:Nn(e,i),r&4&&Wm(e,i);break;case 13:Nn(e,i),r&4&&eg(e,i),r&64&&(e=i.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(i=tb.bind(null,i),Sb(e,i))));break;case 22:if(r=i.memoizedState!==null||Cn,!r){t=t!==null&&t.memoizedState!==null||Je,o=Cn;var u=Je;Cn=r,(Je=t)&&!u?An(e,i,(i.subtreeFlags&8772)!==0):Nn(e,i),Cn=o,Je=u}break;case 30:break;default:Nn(e,i)}}function $m(e){var t=e.alternate;t!==null&&(e.alternate=null,$m(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&Dc(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var Be=null,Et=!1;function Tn(e,t,i){for(i=i.child;i!==null;)Jm(e,t,i),i=i.sibling}function Jm(e,t,i){if(Dt&&typeof Dt.onCommitFiberUnmount=="function")try{Dt.onCommitFiberUnmount(Fl,i)}catch{}switch(i.tag){case 26:Je||un(i,t),Tn(e,t,i),i.memoizedState?i.memoizedState.count--:i.stateNode&&(i=i.stateNode,i.parentNode.removeChild(i));break;case 27:Je||un(i,t);var r=Be,o=Et;ii(i.type)&&(Be=i.stateNode,Et=!1),Tn(e,t,i),za(i.stateNode),Be=r,Et=o;break;case 5:Je||un(i,t);case 6:if(r=Be,o=Et,Be=null,Tn(e,t,i),Be=r,Et=o,Be!==null)if(Et)try{(Be.nodeType===9?Be.body:Be.nodeName==="HTML"?Be.ownerDocument.body:Be).removeChild(i.stateNode)}catch(u){Te(i,t,u)}else try{Be.removeChild(i.stateNode)}catch(u){Te(i,t,u)}break;case 18:Be!==null&&(Et?(e=Be,Vg(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,i.stateNode),Ml(e)):Vg(Be,i.stateNode));break;case 4:r=Be,o=Et,Be=i.stateNode.containerInfo,Et=!0,Tn(e,t,i),Be=r,Et=o;break;case 0:case 11:case 14:case 15:Fn(2,i,t),Je||Fn(4,i,t),Tn(e,t,i);break;case 1:Je||(un(i,t),r=i.stateNode,typeof r.componentWillUnmount=="function"&&Qm(i,t,r)),Tn(e,t,i);break;case 21:Tn(e,t,i);break;case 22:Je=(r=Je)||i.memoizedState!==null,Tn(e,t,i),Je=r;break;default:Tn(e,t,i)}}function Wm(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{Ml(e)}catch(i){Te(t,t.return,i)}}}function eg(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{Ml(e)}catch(i){Te(t,t.return,i)}}function Pv(e){switch(e.tag){case 31:case 13:case 19:var t=e.stateNode;return t===null&&(t=e.stateNode=new Km),t;case 22:return e=e.stateNode,t=e._retryCache,t===null&&(t=e._retryCache=new Km),t;default:throw Error(s(435,e.tag))}}function hr(e,t){var i=Pv(e);t.forEach(function(r){if(!i.has(r)){i.add(r);var o=nb.bind(null,e,r);r.then(o,o)}})}function Ct(e,t){var i=t.deletions;if(i!==null)for(var r=0;r<i.length;r++){var o=i[r],u=e,h=t,_=h;e:for(;_!==null;){switch(_.tag){case 27:if(ii(_.type)){Be=_.stateNode,Et=!1;break e}break;case 5:Be=_.stateNode,Et=!1;break e;case 3:case 4:Be=_.stateNode.containerInfo,Et=!0;break e}_=_.return}if(Be===null)throw Error(s(160));Jm(u,h,o),Be=null,Et=!1,u=o.alternate,u!==null&&(u.return=null),o.return=null}if(t.subtreeFlags&13886)for(t=t.child;t!==null;)tg(t,e),t=t.sibling}var tn=null;function tg(e,t){var i=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:Ct(t,e),Tt(e),r&4&&(Fn(3,e,e.return),Ta(3,e),Fn(5,e,e.return));break;case 1:Ct(t,e),Tt(e),r&512&&(Je||i===null||un(i,i.return)),r&64&&Cn&&(e=e.updateQueue,e!==null&&(r=e.callbacks,r!==null&&(i=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=i===null?r:i.concat(r))));break;case 26:var o=tn;if(Ct(t,e),Tt(e),r&512&&(Je||i===null||un(i,i.return)),r&4){var u=i!==null?i.memoizedState:null;if(r=e.memoizedState,i===null)if(r===null)if(e.stateNode===null){e:{r=e.type,i=e.memoizedProps,o=o.ownerDocument||o;t:switch(r){case"title":u=o.getElementsByTagName("title")[0],(!u||u[Wl]||u[st]||u.namespaceURI==="http://www.w3.org/2000/svg"||u.hasAttribute("itemprop"))&&(u=o.createElement(r),o.head.insertBefore(u,o.querySelector("head > title"))),ut(u,r,i),u[st]=e,nt(u),r=u;break e;case"link":var h=tp("link","href",o).get(r+(i.href||""));if(h){for(var _=0;_<h.length;_++)if(u=h[_],u.getAttribute("href")===(i.href==null||i.href===""?null:i.href)&&u.getAttribute("rel")===(i.rel==null?null:i.rel)&&u.getAttribute("title")===(i.title==null?null:i.title)&&u.getAttribute("crossorigin")===(i.crossOrigin==null?null:i.crossOrigin)){h.splice(_,1);break t}}u=o.createElement(r),ut(u,r,i),o.head.appendChild(u);break;case"meta":if(h=tp("meta","content",o).get(r+(i.content||""))){for(_=0;_<h.length;_++)if(u=h[_],u.getAttribute("content")===(i.content==null?null:""+i.content)&&u.getAttribute("name")===(i.name==null?null:i.name)&&u.getAttribute("property")===(i.property==null?null:i.property)&&u.getAttribute("http-equiv")===(i.httpEquiv==null?null:i.httpEquiv)&&u.getAttribute("charset")===(i.charSet==null?null:i.charSet)){h.splice(_,1);break t}}u=o.createElement(r),ut(u,r,i),o.head.appendChild(u);break;default:throw Error(s(468,r))}u[st]=e,nt(u),r=u}e.stateNode=r}else np(o,e.type,e.stateNode);else e.stateNode=ep(o,r,e.memoizedProps);else u!==r?(u===null?i.stateNode!==null&&(i=i.stateNode,i.parentNode.removeChild(i)):u.count--,r===null?np(o,e.type,e.stateNode):ep(o,r,e.memoizedProps)):r===null&&e.stateNode!==null&&Wo(e,e.memoizedProps,i.memoizedProps)}break;case 27:Ct(t,e),Tt(e),r&512&&(Je||i===null||un(i,i.return)),i!==null&&r&4&&Wo(e,e.memoizedProps,i.memoizedProps);break;case 5:if(Ct(t,e),Tt(e),r&512&&(Je||i===null||un(i,i.return)),e.flags&32){o=e.stateNode;try{Wi(o,"")}catch(V){Te(e,e.return,V)}}r&4&&e.stateNode!=null&&(o=e.memoizedProps,Wo(e,o,i!==null?i.memoizedProps:o)),r&1024&&(nu=!0);break;case 6:if(Ct(t,e),Tt(e),r&4){if(e.stateNode===null)throw Error(s(162));r=e.memoizedProps,i=e.stateNode;try{i.nodeValue=r}catch(V){Te(e,e.return,V)}}break;case 3:if(Rr=null,o=tn,tn=Ar(t.containerInfo),Ct(t,e),tn=o,Tt(e),r&4&&i!==null&&i.memoizedState.isDehydrated)try{Ml(t.containerInfo)}catch(V){Te(e,e.return,V)}nu&&(nu=!1,ng(e));break;case 4:r=tn,tn=Ar(e.stateNode.containerInfo),Ct(t,e),Tt(e),tn=r;break;case 12:Ct(t,e),Tt(e);break;case 31:Ct(t,e),Tt(e),r&4&&(r=e.updateQueue,r!==null&&(e.updateQueue=null,hr(e,r)));break;case 13:Ct(t,e),Tt(e),e.child.flags&8192&&e.memoizedState!==null!=(i!==null&&i.memoizedState!==null)&&(gr=Mt()),r&4&&(r=e.updateQueue,r!==null&&(e.updateQueue=null,hr(e,r)));break;case 22:o=e.memoizedState!==null;var x=i!==null&&i.memoizedState!==null,A=Cn,O=Je;if(Cn=A||o,Je=O||x,Ct(t,e),Je=O,Cn=A,Tt(e),r&8192)e:for(t=e.stateNode,t._visibility=o?t._visibility&-2:t._visibility|1,o&&(i===null||x||Cn||Je||Li(e)),i=null,t=e;;){if(t.tag===5||t.tag===26){if(i===null){x=i=t;try{if(u=x.stateNode,o)h=u.style,typeof h.setProperty=="function"?h.setProperty("display","none","important"):h.display="none";else{_=x.stateNode;var z=x.memoizedProps.style,w=z!=null&&z.hasOwnProperty("display")?z.display:null;_.style.display=w==null||typeof w=="boolean"?"":(""+w).trim()}}catch(V){Te(x,x.return,V)}}}else if(t.tag===6){if(i===null){x=t;try{x.stateNode.nodeValue=o?"":x.memoizedProps}catch(V){Te(x,x.return,V)}}}else if(t.tag===18){if(i===null){x=t;try{var M=x.stateNode;o?Qg(M,!0):Qg(x.stateNode,!1)}catch(V){Te(x,x.return,V)}}}else if((t.tag!==22&&t.tag!==23||t.memoizedState===null||t===e)&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;i===t&&(i=null),t=t.return}i===t&&(i=null),t.sibling.return=t.return,t=t.sibling}r&4&&(r=e.updateQueue,r!==null&&(i=r.retryQueue,i!==null&&(r.retryQueue=null,hr(e,i))));break;case 19:Ct(t,e),Tt(e),r&4&&(r=e.updateQueue,r!==null&&(e.updateQueue=null,hr(e,r)));break;case 30:break;case 21:break;default:Ct(t,e),Tt(e)}}function Tt(e){var t=e.flags;if(t&2){try{for(var i,r=e.return;r!==null;){if(Pm(r)){i=r;break}r=r.return}if(i==null)throw Error(s(160));switch(i.tag){case 27:var o=i.stateNode,u=eu(e);dr(e,u,o);break;case 5:var h=i.stateNode;i.flags&32&&(Wi(h,""),i.flags&=-33);var _=eu(e);dr(e,_,h);break;case 3:case 4:var x=i.stateNode.containerInfo,A=eu(e);tu(e,A,x);break;default:throw Error(s(161))}}catch(O){Te(e,e.return,O)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function ng(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var t=e;ng(t),t.tag===5&&t.flags&1024&&t.stateNode.reset(),e=e.sibling}}function Nn(e,t){if(t.subtreeFlags&8772)for(t=t.child;t!==null;)Fm(e,t.alternate,t),t=t.sibling}function Li(e){for(e=e.child;e!==null;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:Fn(4,t,t.return),Li(t);break;case 1:un(t,t.return);var i=t.stateNode;typeof i.componentWillUnmount=="function"&&Qm(t,t.return,i),Li(t);break;case 27:za(t.stateNode);case 26:case 5:un(t,t.return),Li(t);break;case 22:t.memoizedState===null&&Li(t);break;case 30:Li(t);break;default:Li(t)}e=e.sibling}}function An(e,t,i){for(i=i&&(t.subtreeFlags&8772)!==0,t=t.child;t!==null;){var r=t.alternate,o=e,u=t,h=u.flags;switch(u.tag){case 0:case 11:case 15:An(o,u,i),Ta(4,u);break;case 1:if(An(o,u,i),r=u,o=r.stateNode,typeof o.componentDidMount=="function")try{o.componentDidMount()}catch(A){Te(r,r.return,A)}if(r=u,o=r.updateQueue,o!==null){var _=r.stateNode;try{var x=o.shared.hiddenCallbacks;if(x!==null)for(o.shared.hiddenCallbacks=null,o=0;o<x.length;o++)jh(x[o],_)}catch(A){Te(r,r.return,A)}}i&&h&64&&Vm(u),Na(u,u.return);break;case 27:Zm(u);case 26:case 5:An(o,u,i),i&&r===null&&h&4&&Xm(u),Na(u,u.return);break;case 12:An(o,u,i);break;case 31:An(o,u,i),i&&h&4&&Wm(o,u);break;case 13:An(o,u,i),i&&h&4&&eg(o,u);break;case 22:u.memoizedState===null&&An(o,u,i),Na(u,u.return);break;case 30:break;default:An(o,u,i)}t=t.sibling}}function iu(e,t){var i=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(i=e.memoizedState.cachePool.pool),e=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(e=t.memoizedState.cachePool.pool),e!==i&&(e!=null&&e.refCount++,i!=null&&da(i))}function lu(e,t){e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&da(e))}function nn(e,t,i,r){if(t.subtreeFlags&10256)for(t=t.child;t!==null;)ig(e,t,i,r),t=t.sibling}function ig(e,t,i,r){var o=t.flags;switch(t.tag){case 0:case 11:case 15:nn(e,t,i,r),o&2048&&Ta(9,t);break;case 1:nn(e,t,i,r);break;case 3:nn(e,t,i,r),o&2048&&(e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&da(e)));break;case 12:if(o&2048){nn(e,t,i,r),e=t.stateNode;try{var u=t.memoizedProps,h=u.id,_=u.onPostCommit;typeof _=="function"&&_(h,t.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(x){Te(t,t.return,x)}}else nn(e,t,i,r);break;case 31:nn(e,t,i,r);break;case 13:nn(e,t,i,r);break;case 23:break;case 22:u=t.stateNode,h=t.alternate,t.memoizedState!==null?u._visibility&2?nn(e,t,i,r):Aa(e,t):u._visibility&2?nn(e,t,i,r):(u._visibility|=2,vl(e,t,i,r,(t.subtreeFlags&10256)!==0||!1)),o&2048&&iu(h,t);break;case 24:nn(e,t,i,r),o&2048&&lu(t.alternate,t);break;default:nn(e,t,i,r)}}function vl(e,t,i,r,o){for(o=o&&((t.subtreeFlags&10256)!==0||!1),t=t.child;t!==null;){var u=e,h=t,_=i,x=r,A=h.flags;switch(h.tag){case 0:case 11:case 15:vl(u,h,_,x,o),Ta(8,h);break;case 23:break;case 22:var O=h.stateNode;h.memoizedState!==null?O._visibility&2?vl(u,h,_,x,o):Aa(u,h):(O._visibility|=2,vl(u,h,_,x,o)),o&&A&2048&&iu(h.alternate,h);break;case 24:vl(u,h,_,x,o),o&&A&2048&&lu(h.alternate,h);break;default:vl(u,h,_,x,o)}t=t.sibling}}function Aa(e,t){if(t.subtreeFlags&10256)for(t=t.child;t!==null;){var i=e,r=t,o=r.flags;switch(r.tag){case 22:Aa(i,r),o&2048&&iu(r.alternate,r);break;case 24:Aa(i,r),o&2048&&lu(r.alternate,r);break;default:Aa(i,r)}t=t.sibling}}var wa=8192;function bl(e,t,i){if(e.subtreeFlags&wa)for(e=e.child;e!==null;)lg(e,t,i),e=e.sibling}function lg(e,t,i){switch(e.tag){case 26:bl(e,t,i),e.flags&wa&&e.memoizedState!==null&&jb(i,tn,e.memoizedState,e.memoizedProps);break;case 5:bl(e,t,i);break;case 3:case 4:var r=tn;tn=Ar(e.stateNode.containerInfo),bl(e,t,i),tn=r;break;case 22:e.memoizedState===null&&(r=e.alternate,r!==null&&r.memoizedState!==null?(r=wa,wa=16777216,bl(e,t,i),wa=r):bl(e,t,i));break;default:bl(e,t,i)}}function ag(e){var t=e.alternate;if(t!==null&&(e=t.child,e!==null)){t.child=null;do t=e.sibling,e.sibling=null,e=t;while(e!==null)}}function Ra(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var i=0;i<t.length;i++){var r=t[i];it=r,rg(r,e)}ag(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)sg(e),e=e.sibling}function sg(e){switch(e.tag){case 0:case 11:case 15:Ra(e),e.flags&2048&&Fn(9,e,e.return);break;case 3:Ra(e);break;case 12:Ra(e);break;case 22:var t=e.stateNode;e.memoizedState!==null&&t._visibility&2&&(e.return===null||e.return.tag!==13)?(t._visibility&=-3,mr(e)):Ra(e);break;default:Ra(e)}}function mr(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var i=0;i<t.length;i++){var r=t[i];it=r,rg(r,e)}ag(e)}for(e=e.child;e!==null;){switch(t=e,t.tag){case 0:case 11:case 15:Fn(8,t,t.return),mr(t);break;case 22:i=t.stateNode,i._visibility&2&&(i._visibility&=-3,mr(t));break;default:mr(t)}e=e.sibling}}function rg(e,t){for(;it!==null;){var i=it;switch(i.tag){case 0:case 11:case 15:Fn(8,i,t);break;case 23:case 22:if(i.memoizedState!==null&&i.memoizedState.cachePool!==null){var r=i.memoizedState.cachePool.pool;r!=null&&r.refCount++}break;case 24:da(i.memoizedState.cache)}if(r=i.child,r!==null)r.return=i,it=r;else e:for(i=e;it!==null;){r=it;var o=r.sibling,u=r.return;if($m(r),r===i){it=null;break e}if(o!==null){o.return=u,it=o;break e}it=u}}}var Zv={getCacheForType:function(e){var t=ct(Ke),i=t.data.get(e);return i===void 0&&(i=e(),t.data.set(e,i)),i},cacheSignal:function(){return ct(Ke).controller.signal}},Kv=typeof WeakMap=="function"?WeakMap:Map,xe=0,Oe=null,he=null,pe=0,Ce=0,Ut=null,$n=!1,Sl=!1,au=!1,wn=0,Ge=0,Jn=0,Ui=0,su=0,Ht=0,xl=0,Ma=null,Nt=null,ru=!1,gr=0,cg=0,pr=1/0,yr=null,Wn=null,We=0,ei=null,El=null,Rn=0,cu=0,ou=null,og=null,Da=0,uu=null;function Bt(){return(xe&2)!==0&&pe!==0?pe&-pe:D.T!==null?pu():Td()}function ug(){if(Ht===0)if((pe&536870912)===0||_e){var e=Ts;Ts<<=1,(Ts&3932160)===0&&(Ts=262144),Ht=e}else Ht=536870912;return e=zt.current,e!==null&&(e.flags|=32),Ht}function At(e,t,i){(e===Oe&&(Ce===2||Ce===9)||e.cancelPendingCommit!==null)&&(Cl(e,0),ti(e,pe,Ht,!1)),Jl(e,i),((xe&2)===0||e!==Oe)&&(e===Oe&&((xe&2)===0&&(Ui|=i),Ge===4&&ti(e,pe,Ht,!1)),fn(e))}function fg(e,t,i){if((xe&6)!==0)throw Error(s(327));var r=!i&&(t&127)===0&&(t&e.expiredLanes)===0||$l(e,t),o=r?Jv(e,t):du(e,t,!0),u=r;do{if(o===0){Sl&&!r&&ti(e,t,0,!1);break}else{if(i=e.current.alternate,u&&!Fv(i)){o=du(e,t,!1),u=!1;continue}if(o===2){if(u=t,e.errorRecoveryDisabledLanes&u)var h=0;else h=e.pendingLanes&-536870913,h=h!==0?h:h&536870912?536870912:0;if(h!==0){t=h;e:{var _=e;o=Ma;var x=_.current.memoizedState.isDehydrated;if(x&&(Cl(_,h).flags|=256),h=du(_,h,!1),h!==2){if(au&&!x){_.errorRecoveryDisabledLanes|=u,Ui|=u,o=4;break e}u=Nt,Nt=o,u!==null&&(Nt===null?Nt=u:Nt.push.apply(Nt,u))}o=h}if(u=!1,o!==2)continue}}if(o===1){Cl(e,0),ti(e,t,0,!0);break}e:{switch(r=e,u=o,u){case 0:case 1:throw Error(s(345));case 4:if((t&4194048)!==t)break;case 6:ti(r,t,Ht,!$n);break e;case 2:Nt=null;break;case 3:case 5:break;default:throw Error(s(329))}if((t&62914560)===t&&(o=gr+300-Mt(),10<o)){if(ti(r,t,Ht,!$n),As(r,0,!0)!==0)break e;Rn=t,r.timeoutHandle=Gg(dg.bind(null,r,i,Nt,yr,ru,t,Ht,Ui,xl,$n,u,"Throttled",-0,0),o);break e}dg(r,i,Nt,yr,ru,t,Ht,Ui,xl,$n,u,null,-0,0)}}break}while(!0);fn(e)}function dg(e,t,i,r,o,u,h,_,x,A,O,z,w,M){if(e.timeoutHandle=-1,z=t.subtreeFlags,z&8192||(z&16785408)===16785408){z={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:mn},lg(t,u,z);var V=(u&62914560)===u?gr-Mt():(u&4194048)===u?cg-Mt():0;if(V=Ib(z,V),V!==null){Rn=u,e.cancelPendingCommit=V(bg.bind(null,e,t,u,i,r,o,h,_,x,O,z,null,w,M)),ti(e,u,h,!A);return}}bg(e,t,u,i,r,o,h,_,x)}function Fv(e){for(var t=e;;){var i=t.tag;if((i===0||i===11||i===15)&&t.flags&16384&&(i=t.updateQueue,i!==null&&(i=i.stores,i!==null)))for(var r=0;r<i.length;r++){var o=i[r],u=o.getSnapshot;o=o.value;try{if(!jt(u(),o))return!1}catch{return!1}}if(i=t.child,t.subtreeFlags&16384&&i!==null)i.return=t,t=i;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function ti(e,t,i,r){t&=~su,t&=~Ui,e.suspendedLanes|=t,e.pingedLanes&=~t,r&&(e.warmLanes|=t),r=e.expirationTimes;for(var o=t;0<o;){var u=31-Ot(o),h=1<<u;r[u]=-1,o&=~h}i!==0&&xd(e,i,t)}function _r(){return(xe&6)===0?(Oa(0),!1):!0}function fu(){if(he!==null){if(Ce===0)var e=he.return;else e=he,_n=wi=null,Ao(e),ml=null,ma=0,e=he;for(;e!==null;)Ym(e.alternate,e),e=e.return;he=null}}function Cl(e,t){var i=e.timeoutHandle;i!==-1&&(e.timeoutHandle=-1,pb(i)),i=e.cancelPendingCommit,i!==null&&(e.cancelPendingCommit=null,i()),Rn=0,fu(),Oe=e,he=i=pn(e.current,null),pe=t,Ce=0,Ut=null,$n=!1,Sl=$l(e,t),au=!1,xl=Ht=su=Ui=Jn=Ge=0,Nt=Ma=null,ru=!1,(t&8)!==0&&(t|=t&32);var r=e.entangledLanes;if(r!==0)for(e=e.entanglements,r&=t;0<r;){var o=31-Ot(r),u=1<<o;t|=e[o],r&=~u}return wn=t,Bs(),i}function hg(e,t){ae=null,D.H=xa,t===hl||t===Ps?(t=Rh(),Ce=3):t===go?(t=Rh(),Ce=4):Ce=t===Yo?8:t!==null&&typeof t=="object"&&typeof t.then=="function"?6:1,Ut=t,he===null&&(Ge=1,rr(e,Qt(t,e.current)))}function mg(){var e=zt.current;return e===null?!0:(pe&4194048)===pe?Kt===null:(pe&62914560)===pe||(pe&536870912)!==0?e===Kt:!1}function gg(){var e=D.H;return D.H=xa,e===null?xa:e}function pg(){var e=D.A;return D.A=Zv,e}function vr(){Ge=4,$n||(pe&4194048)!==pe&&zt.current!==null||(Sl=!0),(Jn&134217727)===0&&(Ui&134217727)===0||Oe===null||ti(Oe,pe,Ht,!1)}function du(e,t,i){var r=xe;xe|=2;var o=gg(),u=pg();(Oe!==e||pe!==t)&&(yr=null,Cl(e,t)),t=!1;var h=Ge;e:do try{if(Ce!==0&&he!==null){var _=he,x=Ut;switch(Ce){case 8:fu(),h=6;break e;case 3:case 2:case 9:case 6:zt.current===null&&(t=!0);var A=Ce;if(Ce=0,Ut=null,Tl(e,_,x,A),i&&Sl){h=0;break e}break;default:A=Ce,Ce=0,Ut=null,Tl(e,_,x,A)}}$v(),h=Ge;break}catch(O){hg(e,O)}while(!0);return t&&e.shellSuspendCounter++,_n=wi=null,xe=r,D.H=o,D.A=u,he===null&&(Oe=null,pe=0,Bs()),h}function $v(){for(;he!==null;)yg(he)}function Jv(e,t){var i=xe;xe|=2;var r=gg(),o=pg();Oe!==e||pe!==t?(yr=null,pr=Mt()+500,Cl(e,t)):Sl=$l(e,t);e:do try{if(Ce!==0&&he!==null){t=he;var u=Ut;t:switch(Ce){case 1:Ce=0,Ut=null,Tl(e,t,u,1);break;case 2:case 9:if(Ah(u)){Ce=0,Ut=null,_g(t);break}t=function(){Ce!==2&&Ce!==9||Oe!==e||(Ce=7),fn(e)},u.then(t,t);break e;case 3:Ce=7;break e;case 4:Ce=5;break e;case 7:Ah(u)?(Ce=0,Ut=null,_g(t)):(Ce=0,Ut=null,Tl(e,t,u,7));break;case 5:var h=null;switch(he.tag){case 26:h=he.memoizedState;case 5:case 27:var _=he;if(h?ip(h):_.stateNode.complete){Ce=0,Ut=null;var x=_.sibling;if(x!==null)he=x;else{var A=_.return;A!==null?(he=A,br(A)):he=null}break t}}Ce=0,Ut=null,Tl(e,t,u,5);break;case 6:Ce=0,Ut=null,Tl(e,t,u,6);break;case 8:fu(),Ge=6;break e;default:throw Error(s(462))}}Wv();break}catch(O){hg(e,O)}while(!0);return _n=wi=null,D.H=r,D.A=o,xe=i,he!==null?0:(Oe=null,pe=0,Bs(),Ge)}function Wv(){for(;he!==null&&!x0();)yg(he)}function yg(e){var t=qm(e.alternate,e,wn);e.memoizedProps=e.pendingProps,t===null?br(e):he=t}function _g(e){var t=e,i=t.alternate;switch(t.tag){case 15:case 0:t=zm(i,t,t.pendingProps,t.type,void 0,pe);break;case 11:t=zm(i,t,t.pendingProps,t.type.render,t.ref,pe);break;case 5:Ao(t);default:Ym(i,t),t=he=ph(t,wn),t=qm(i,t,wn)}e.memoizedProps=e.pendingProps,t===null?br(e):he=t}function Tl(e,t,i,r){_n=wi=null,Ao(t),ml=null,ma=0;var o=t.return;try{if(qv(e,o,t,i,pe)){Ge=1,rr(e,Qt(i,e.current)),he=null;return}}catch(u){if(o!==null)throw he=o,u;Ge=1,rr(e,Qt(i,e.current)),he=null;return}t.flags&32768?(_e||r===1?e=!0:Sl||(pe&536870912)!==0?e=!1:($n=e=!0,(r===2||r===9||r===3||r===6)&&(r=zt.current,r!==null&&r.tag===13&&(r.flags|=16384))),vg(t,e)):br(t)}function br(e){var t=e;do{if((t.flags&32768)!==0){vg(t,$n);return}e=t.return;var i=Vv(t.alternate,t,wn);if(i!==null){he=i;return}if(t=t.sibling,t!==null){he=t;return}he=t=e}while(t!==null);Ge===0&&(Ge=5)}function vg(e,t){do{var i=Qv(e.alternate,e);if(i!==null){i.flags&=32767,he=i;return}if(i=e.return,i!==null&&(i.flags|=32768,i.subtreeFlags=0,i.deletions=null),!t&&(e=e.sibling,e!==null)){he=e;return}he=e=i}while(e!==null);Ge=6,he=null}function bg(e,t,i,r,o,u,h,_,x){e.cancelPendingCommit=null;do Sr();while(We!==0);if((xe&6)!==0)throw Error(s(327));if(t!==null){if(t===e.current)throw Error(s(177));if(u=t.lanes|t.childLanes,u|=Wc,O0(e,i,u,h,_,x),e===Oe&&(he=Oe=null,pe=0),El=t,ei=e,Rn=i,cu=u,ou=o,og=r,(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,ib(Es,function(){return Tg(),null})):(e.callbackNode=null,e.callbackPriority=0),r=(t.flags&13878)!==0,(t.subtreeFlags&13878)!==0||r){r=D.T,D.T=null,o=q.p,q.p=2,h=xe,xe|=4;try{Xv(e,t,i)}finally{xe=h,q.p=o,D.T=r}}We=1,Sg(),xg(),Eg()}}function Sg(){if(We===1){We=0;var e=ei,t=El,i=(t.flags&13878)!==0;if((t.subtreeFlags&13878)!==0||i){i=D.T,D.T=null;var r=q.p;q.p=2;var o=xe;xe|=4;try{tg(t,e);var u=Cu,h=rh(e.containerInfo),_=u.focusedElem,x=u.selectionRange;if(h!==_&&_&&_.ownerDocument&&sh(_.ownerDocument.documentElement,_)){if(x!==null&&Zc(_)){var A=x.start,O=x.end;if(O===void 0&&(O=A),"selectionStart"in _)_.selectionStart=A,_.selectionEnd=Math.min(O,_.value.length);else{var z=_.ownerDocument||document,w=z&&z.defaultView||window;if(w.getSelection){var M=w.getSelection(),V=_.textContent.length,J=Math.min(x.start,V),Re=x.end===void 0?J:Math.min(x.end,V);!M.extend&&J>Re&&(h=Re,Re=J,J=h);var T=ah(_,J),E=ah(_,Re);if(T&&E&&(M.rangeCount!==1||M.anchorNode!==T.node||M.anchorOffset!==T.offset||M.focusNode!==E.node||M.focusOffset!==E.offset)){var N=z.createRange();N.setStart(T.node,T.offset),M.removeAllRanges(),J>Re?(M.addRange(N),M.extend(E.node,E.offset)):(N.setEnd(E.node,E.offset),M.addRange(N))}}}}for(z=[],M=_;M=M.parentNode;)M.nodeType===1&&z.push({element:M,left:M.scrollLeft,top:M.scrollTop});for(typeof _.focus=="function"&&_.focus(),_=0;_<z.length;_++){var I=z[_];I.element.scrollLeft=I.left,I.element.scrollTop=I.top}}jr=!!Eu,Cu=Eu=null}finally{xe=o,q.p=r,D.T=i}}e.current=t,We=2}}function xg(){if(We===2){We=0;var e=ei,t=El,i=(t.flags&8772)!==0;if((t.subtreeFlags&8772)!==0||i){i=D.T,D.T=null;var r=q.p;q.p=2;var o=xe;xe|=4;try{Fm(e,t.alternate,t)}finally{xe=o,q.p=r,D.T=i}}We=3}}function Eg(){if(We===4||We===3){We=0,E0();var e=ei,t=El,i=Rn,r=og;(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?We=5:(We=0,El=ei=null,Cg(e,e.pendingLanes));var o=e.pendingLanes;if(o===0&&(Wn=null),Rc(i),t=t.stateNode,Dt&&typeof Dt.onCommitFiberRoot=="function")try{Dt.onCommitFiberRoot(Fl,t,void 0,(t.current.flags&128)===128)}catch{}if(r!==null){t=D.T,o=q.p,q.p=2,D.T=null;try{for(var u=e.onRecoverableError,h=0;h<r.length;h++){var _=r[h];u(_.value,{componentStack:_.stack})}}finally{D.T=t,q.p=o}}(Rn&3)!==0&&Sr(),fn(e),o=e.pendingLanes,(i&261930)!==0&&(o&42)!==0?e===uu?Da++:(Da=0,uu=e):Da=0,Oa(0)}}function Cg(e,t){(e.pooledCacheLanes&=t)===0&&(t=e.pooledCache,t!=null&&(e.pooledCache=null,da(t)))}function Sr(){return Sg(),xg(),Eg(),Tg()}function Tg(){if(We!==5)return!1;var e=ei,t=cu;cu=0;var i=Rc(Rn),r=D.T,o=q.p;try{q.p=32>i?32:i,D.T=null,i=ou,ou=null;var u=ei,h=Rn;if(We=0,El=ei=null,Rn=0,(xe&6)!==0)throw Error(s(331));var _=xe;if(xe|=4,sg(u.current),ig(u,u.current,h,i),xe=_,Oa(0,!1),Dt&&typeof Dt.onPostCommitFiberRoot=="function")try{Dt.onPostCommitFiberRoot(Fl,u)}catch{}return!0}finally{q.p=o,D.T=r,Cg(e,t)}}function Ng(e,t,i){t=Qt(i,t),t=Go(e.stateNode,t,2),e=Pn(e,t,2),e!==null&&(Jl(e,2),fn(e))}function Te(e,t,i){if(e.tag===3)Ng(e,e,i);else for(;t!==null;){if(t.tag===3){Ng(t,e,i);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Wn===null||!Wn.has(r))){e=Qt(i,e),i=Am(2),r=Pn(t,i,2),r!==null&&(wm(i,r,t,e),Jl(r,2),fn(r));break}}t=t.return}}function hu(e,t,i){var r=e.pingCache;if(r===null){r=e.pingCache=new Kv;var o=new Set;r.set(t,o)}else o=r.get(t),o===void 0&&(o=new Set,r.set(t,o));o.has(i)||(au=!0,o.add(i),e=eb.bind(null,e,t,i),t.then(e,e))}function eb(e,t,i){var r=e.pingCache;r!==null&&r.delete(t),e.pingedLanes|=e.suspendedLanes&i,e.warmLanes&=~i,Oe===e&&(pe&i)===i&&(Ge===4||Ge===3&&(pe&62914560)===pe&&300>Mt()-gr?(xe&2)===0&&Cl(e,0):su|=i,xl===pe&&(xl=0)),fn(e)}function Ag(e,t){t===0&&(t=Sd()),e=Ti(e,t),e!==null&&(Jl(e,t),fn(e))}function tb(e){var t=e.memoizedState,i=0;t!==null&&(i=t.retryLane),Ag(e,i)}function nb(e,t){var i=0;switch(e.tag){case 31:case 13:var r=e.stateNode,o=e.memoizedState;o!==null&&(i=o.retryLane);break;case 19:r=e.stateNode;break;case 22:r=e.stateNode._retryCache;break;default:throw Error(s(314))}r!==null&&r.delete(t),Ag(e,i)}function ib(e,t){return Tc(e,t)}var xr=null,Nl=null,mu=!1,Er=!1,gu=!1,ni=0;function fn(e){e!==Nl&&e.next===null&&(Nl===null?xr=Nl=e:Nl=Nl.next=e),Er=!0,mu||(mu=!0,ab())}function Oa(e,t){if(!gu&&Er){gu=!0;do for(var i=!1,r=xr;r!==null;){if(e!==0){var o=r.pendingLanes;if(o===0)var u=0;else{var h=r.suspendedLanes,_=r.pingedLanes;u=(1<<31-Ot(42|e)+1)-1,u&=o&~(h&~_),u=u&201326741?u&201326741|1:u?u|2:0}u!==0&&(i=!0,Dg(r,u))}else u=pe,u=As(r,r===Oe?u:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),(u&3)===0||$l(r,u)||(i=!0,Dg(r,u));r=r.next}while(i);gu=!1}}function lb(){wg()}function wg(){Er=mu=!1;var e=0;ni!==0&&gb()&&(e=ni);for(var t=Mt(),i=null,r=xr;r!==null;){var o=r.next,u=Rg(r,t);u===0?(r.next=null,i===null?xr=o:i.next=o,o===null&&(Nl=i)):(i=r,(e!==0||(u&3)!==0)&&(Er=!0)),r=o}We!==0&&We!==5||Oa(e),ni!==0&&(ni=0)}function Rg(e,t){for(var i=e.suspendedLanes,r=e.pingedLanes,o=e.expirationTimes,u=e.pendingLanes&-62914561;0<u;){var h=31-Ot(u),_=1<<h,x=o[h];x===-1?((_&i)===0||(_&r)!==0)&&(o[h]=D0(_,t)):x<=t&&(e.expiredLanes|=_),u&=~_}if(t=Oe,i=pe,i=As(e,e===t?i:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),r=e.callbackNode,i===0||e===t&&(Ce===2||Ce===9)||e.cancelPendingCommit!==null)return r!==null&&r!==null&&Nc(r),e.callbackNode=null,e.callbackPriority=0;if((i&3)===0||$l(e,i)){if(t=i&-i,t===e.callbackPriority)return t;switch(r!==null&&Nc(r),Rc(i)){case 2:case 8:i=vd;break;case 32:i=Es;break;case 268435456:i=bd;break;default:i=Es}return r=Mg.bind(null,e),i=Tc(i,r),e.callbackPriority=t,e.callbackNode=i,t}return r!==null&&r!==null&&Nc(r),e.callbackPriority=2,e.callbackNode=null,2}function Mg(e,t){if(We!==0&&We!==5)return e.callbackNode=null,e.callbackPriority=0,null;var i=e.callbackNode;if(Sr()&&e.callbackNode!==i)return null;var r=pe;return r=As(e,e===Oe?r:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),r===0?null:(fg(e,r,t),Rg(e,Mt()),e.callbackNode!=null&&e.callbackNode===i?Mg.bind(null,e):null)}function Dg(e,t){if(Sr())return null;fg(e,t,!0)}function ab(){yb(function(){(xe&6)!==0?Tc(_d,lb):wg()})}function pu(){if(ni===0){var e=fl;e===0&&(e=Cs,Cs<<=1,(Cs&261888)===0&&(Cs=256)),ni=e}return ni}function Og(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:Ds(""+e)}function jg(e,t){var i=t.ownerDocument.createElement("input");return i.name=t.name,i.value=t.value,e.id&&i.setAttribute("form",e.id),t.parentNode.insertBefore(i,t),e=new FormData(e),i.parentNode.removeChild(i),e}function sb(e,t,i,r,o){if(t==="submit"&&i&&i.stateNode===o){var u=Og((o[St]||null).action),h=r.submitter;h&&(t=(t=h[St]||null)?Og(t.formAction):h.getAttribute("formAction"),t!==null&&(u=t,h=null));var _=new zs("action","action",null,r,o);e.push({event:_,listeners:[{instance:null,listener:function(){if(r.defaultPrevented){if(ni!==0){var x=h?jg(o,h):new FormData(o);Lo(i,{pending:!0,data:x,method:o.method,action:u},null,x)}}else typeof u=="function"&&(_.preventDefault(),x=h?jg(o,h):new FormData(o),Lo(i,{pending:!0,data:x,method:o.method,action:u},u,x))},currentTarget:o}]})}}for(var yu=0;yu<Jc.length;yu++){var _u=Jc[yu],rb=_u.toLowerCase(),cb=_u[0].toUpperCase()+_u.slice(1);en(rb,"on"+cb)}en(uh,"onAnimationEnd"),en(fh,"onAnimationIteration"),en(dh,"onAnimationStart"),en("dblclick","onDoubleClick"),en("focusin","onFocus"),en("focusout","onBlur"),en(Cv,"onTransitionRun"),en(Tv,"onTransitionStart"),en(Nv,"onTransitionCancel"),en(hh,"onTransitionEnd"),$i("onMouseEnter",["mouseout","mouseover"]),$i("onMouseLeave",["mouseout","mouseover"]),$i("onPointerEnter",["pointerout","pointerover"]),$i("onPointerLeave",["pointerout","pointerover"]),Si("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Si("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Si("onBeforeInput",["compositionend","keypress","textInput","paste"]),Si("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Si("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Si("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ja="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),ob=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(ja));function Ig(e,t){t=(t&4)!==0;for(var i=0;i<e.length;i++){var r=e[i],o=r.event;r=r.listeners;e:{var u=void 0;if(t)for(var h=r.length-1;0<=h;h--){var _=r[h],x=_.instance,A=_.currentTarget;if(_=_.listener,x!==u&&o.isPropagationStopped())break e;u=_,o.currentTarget=A;try{u(o)}catch(O){Hs(O)}o.currentTarget=null,u=x}else for(h=0;h<r.length;h++){if(_=r[h],x=_.instance,A=_.currentTarget,_=_.listener,x!==u&&o.isPropagationStopped())break e;u=_,o.currentTarget=A;try{u(o)}catch(O){Hs(O)}o.currentTarget=null,u=x}}}}function me(e,t){var i=t[Mc];i===void 0&&(i=t[Mc]=new Set);var r=e+"__bubble";i.has(r)||(zg(t,e,2,!1),i.add(r))}function vu(e,t,i){var r=0;t&&(r|=4),zg(i,e,r,t)}var Cr="_reactListening"+Math.random().toString(36).slice(2);function bu(e){if(!e[Cr]){e[Cr]=!0,wd.forEach(function(i){i!=="selectionchange"&&(ob.has(i)||vu(i,!1,e),vu(i,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Cr]||(t[Cr]=!0,vu("selectionchange",!1,t))}}function zg(e,t,i,r){switch(up(t)){case 2:var o=Ub;break;case 8:o=Hb;break;default:o=zu}i=o.bind(null,t,i,e),o=void 0,!Bc||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(o=!0),r?o!==void 0?e.addEventListener(t,i,{capture:!0,passive:o}):e.addEventListener(t,i,!0):o!==void 0?e.addEventListener(t,i,{passive:o}):e.addEventListener(t,i,!1)}function Su(e,t,i,r,o){var u=r;if((t&1)===0&&(t&2)===0&&r!==null)e:for(;;){if(r===null)return;var h=r.tag;if(h===3||h===4){var _=r.stateNode.containerInfo;if(_===o)break;if(h===4)for(h=r.return;h!==null;){var x=h.tag;if((x===3||x===4)&&h.stateNode.containerInfo===o)return;h=h.return}for(;_!==null;){if(h=Zi(_),h===null)return;if(x=h.tag,x===5||x===6||x===26||x===27){r=u=h;continue e}_=_.parentNode}}r=r.return}kd(function(){var A=u,O=Uc(i),z=[];e:{var w=mh.get(e);if(w!==void 0){var M=zs,V=e;switch(e){case"keypress":if(js(i)===0)break e;case"keydown":case"keyup":M=nv;break;case"focusin":V="focus",M=Yc;break;case"focusout":V="blur",M=Yc;break;case"beforeblur":case"afterblur":M=Yc;break;case"click":if(i.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":M=Yd;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":M=V0;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":M=av;break;case uh:case fh:case dh:M=P0;break;case hh:M=rv;break;case"scroll":case"scrollend":M=G0;break;case"wheel":M=ov;break;case"copy":case"cut":case"paste":M=K0;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":M=Qd;break;case"toggle":case"beforetoggle":M=fv}var J=(t&4)!==0,Re=!J&&(e==="scroll"||e==="scrollend"),T=J?w!==null?w+"Capture":null:w;J=[];for(var E=A,N;E!==null;){var I=E;if(N=I.stateNode,I=I.tag,I!==5&&I!==26&&I!==27||N===null||T===null||(I=ta(E,T),I!=null&&J.push(Ia(E,I,N))),Re)break;E=E.return}0<J.length&&(w=new M(w,V,null,i,O),z.push({event:w,listeners:J}))}}if((t&7)===0){e:{if(w=e==="mouseover"||e==="pointerover",M=e==="mouseout"||e==="pointerout",w&&i!==Lc&&(V=i.relatedTarget||i.fromElement)&&(Zi(V)||V[Pi]))break e;if((M||w)&&(w=O.window===O?O:(w=O.ownerDocument)?w.defaultView||w.parentWindow:window,M?(V=i.relatedTarget||i.toElement,M=A,V=V?Zi(V):null,V!==null&&(Re=f(V),J=V.tag,V!==Re||J!==5&&J!==27&&J!==6)&&(V=null)):(M=null,V=A),M!==V)){if(J=Yd,I="onMouseLeave",T="onMouseEnter",E="mouse",(e==="pointerout"||e==="pointerover")&&(J=Qd,I="onPointerLeave",T="onPointerEnter",E="pointer"),Re=M==null?w:ea(M),N=V==null?w:ea(V),w=new J(I,E+"leave",M,i,O),w.target=Re,w.relatedTarget=N,I=null,Zi(O)===A&&(J=new J(T,E+"enter",V,i,O),J.target=N,J.relatedTarget=Re,I=J),Re=I,M&&V)t:{for(J=ub,T=M,E=V,N=0,I=T;I;I=J(I))N++;I=0;for(var F=E;F;F=J(F))I++;for(;0<N-I;)T=J(T),N--;for(;0<I-N;)E=J(E),I--;for(;N--;){if(T===E||E!==null&&T===E.alternate){J=T;break t}T=J(T),E=J(E)}J=null}else J=null;M!==null&&Lg(z,w,M,J,!1),V!==null&&Re!==null&&Lg(z,Re,V,J,!0)}}e:{if(w=A?ea(A):window,M=w.nodeName&&w.nodeName.toLowerCase(),M==="select"||M==="input"&&w.type==="file")var ve=Wd;else if($d(w))if(eh)ve=Sv;else{ve=vv;var Z=_v}else M=w.nodeName,!M||M.toLowerCase()!=="input"||w.type!=="checkbox"&&w.type!=="radio"?A&&zc(A.elementType)&&(ve=Wd):ve=bv;if(ve&&(ve=ve(e,A))){Jd(z,ve,i,O);break e}Z&&Z(e,w,A),e==="focusout"&&A&&w.type==="number"&&A.memoizedProps.value!=null&&Ic(w,"number",w.value)}switch(Z=A?ea(A):window,e){case"focusin":($d(Z)||Z.contentEditable==="true")&&(il=Z,Kc=A,oa=null);break;case"focusout":oa=Kc=il=null;break;case"mousedown":Fc=!0;break;case"contextmenu":case"mouseup":case"dragend":Fc=!1,ch(z,i,O);break;case"selectionchange":if(Ev)break;case"keydown":case"keyup":ch(z,i,O)}var se;if(Qc)e:{switch(e){case"compositionstart":var ye="onCompositionStart";break e;case"compositionend":ye="onCompositionEnd";break e;case"compositionupdate":ye="onCompositionUpdate";break e}ye=void 0}else nl?Kd(e,i)&&(ye="onCompositionEnd"):e==="keydown"&&i.keyCode===229&&(ye="onCompositionStart");ye&&(Xd&&i.locale!=="ko"&&(nl||ye!=="onCompositionStart"?ye==="onCompositionEnd"&&nl&&(se=qd()):(kn=O,kc="value"in kn?kn.value:kn.textContent,nl=!0)),Z=Tr(A,ye),0<Z.length&&(ye=new Vd(ye,e,null,i,O),z.push({event:ye,listeners:Z}),se?ye.data=se:(se=Fd(i),se!==null&&(ye.data=se)))),(se=hv?mv(e,i):gv(e,i))&&(ye=Tr(A,"onBeforeInput"),0<ye.length&&(Z=new Vd("onBeforeInput","beforeinput",null,i,O),z.push({event:Z,listeners:ye}),Z.data=se)),sb(z,e,A,i,O)}Ig(z,t)})}function Ia(e,t,i){return{instance:e,listener:t,currentTarget:i}}function Tr(e,t){for(var i=t+"Capture",r=[];e!==null;){var o=e,u=o.stateNode;if(o=o.tag,o!==5&&o!==26&&o!==27||u===null||(o=ta(e,i),o!=null&&r.unshift(Ia(e,o,u)),o=ta(e,t),o!=null&&r.push(Ia(e,o,u))),e.tag===3)return r;e=e.return}return[]}function ub(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function Lg(e,t,i,r,o){for(var u=t._reactName,h=[];i!==null&&i!==r;){var _=i,x=_.alternate,A=_.stateNode;if(_=_.tag,x!==null&&x===r)break;_!==5&&_!==26&&_!==27||A===null||(x=A,o?(A=ta(i,u),A!=null&&h.unshift(Ia(i,A,x))):o||(A=ta(i,u),A!=null&&h.push(Ia(i,A,x)))),i=i.return}h.length!==0&&e.push({event:t,listeners:h})}var fb=/\r\n?/g,db=/\u0000|\uFFFD/g;function Ug(e){return(typeof e=="string"?e:""+e).replace(fb,`
`).replace(db,"")}function Hg(e,t){return t=Ug(t),Ug(e)===t}function we(e,t,i,r,o,u){switch(i){case"children":typeof r=="string"?t==="body"||t==="textarea"&&r===""||Wi(e,r):(typeof r=="number"||typeof r=="bigint")&&t!=="body"&&Wi(e,""+r);break;case"className":Rs(e,"class",r);break;case"tabIndex":Rs(e,"tabindex",r);break;case"dir":case"role":case"viewBox":case"width":case"height":Rs(e,i,r);break;case"style":Hd(e,r,u);break;case"data":if(t!=="object"){Rs(e,"data",r);break}case"src":case"href":if(r===""&&(t!=="a"||i!=="href")){e.removeAttribute(i);break}if(r==null||typeof r=="function"||typeof r=="symbol"||typeof r=="boolean"){e.removeAttribute(i);break}r=Ds(""+r),e.setAttribute(i,r);break;case"action":case"formAction":if(typeof r=="function"){e.setAttribute(i,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof u=="function"&&(i==="formAction"?(t!=="input"&&we(e,t,"name",o.name,o,null),we(e,t,"formEncType",o.formEncType,o,null),we(e,t,"formMethod",o.formMethod,o,null),we(e,t,"formTarget",o.formTarget,o,null)):(we(e,t,"encType",o.encType,o,null),we(e,t,"method",o.method,o,null),we(e,t,"target",o.target,o,null)));if(r==null||typeof r=="symbol"||typeof r=="boolean"){e.removeAttribute(i);break}r=Ds(""+r),e.setAttribute(i,r);break;case"onClick":r!=null&&(e.onclick=mn);break;case"onScroll":r!=null&&me("scroll",e);break;case"onScrollEnd":r!=null&&me("scrollend",e);break;case"dangerouslySetInnerHTML":if(r!=null){if(typeof r!="object"||!("__html"in r))throw Error(s(61));if(i=r.__html,i!=null){if(o.children!=null)throw Error(s(60));e.innerHTML=i}}break;case"multiple":e.multiple=r&&typeof r!="function"&&typeof r!="symbol";break;case"muted":e.muted=r&&typeof r!="function"&&typeof r!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(r==null||typeof r=="function"||typeof r=="boolean"||typeof r=="symbol"){e.removeAttribute("xlink:href");break}i=Ds(""+r),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",i);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":r!=null&&typeof r!="function"&&typeof r!="symbol"?e.setAttribute(i,""+r):e.removeAttribute(i);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":r&&typeof r!="function"&&typeof r!="symbol"?e.setAttribute(i,""):e.removeAttribute(i);break;case"capture":case"download":r===!0?e.setAttribute(i,""):r!==!1&&r!=null&&typeof r!="function"&&typeof r!="symbol"?e.setAttribute(i,r):e.removeAttribute(i);break;case"cols":case"rows":case"size":case"span":r!=null&&typeof r!="function"&&typeof r!="symbol"&&!isNaN(r)&&1<=r?e.setAttribute(i,r):e.removeAttribute(i);break;case"rowSpan":case"start":r==null||typeof r=="function"||typeof r=="symbol"||isNaN(r)?e.removeAttribute(i):e.setAttribute(i,r);break;case"popover":me("beforetoggle",e),me("toggle",e),ws(e,"popover",r);break;case"xlinkActuate":hn(e,"http://www.w3.org/1999/xlink","xlink:actuate",r);break;case"xlinkArcrole":hn(e,"http://www.w3.org/1999/xlink","xlink:arcrole",r);break;case"xlinkRole":hn(e,"http://www.w3.org/1999/xlink","xlink:role",r);break;case"xlinkShow":hn(e,"http://www.w3.org/1999/xlink","xlink:show",r);break;case"xlinkTitle":hn(e,"http://www.w3.org/1999/xlink","xlink:title",r);break;case"xlinkType":hn(e,"http://www.w3.org/1999/xlink","xlink:type",r);break;case"xmlBase":hn(e,"http://www.w3.org/XML/1998/namespace","xml:base",r);break;case"xmlLang":hn(e,"http://www.w3.org/XML/1998/namespace","xml:lang",r);break;case"xmlSpace":hn(e,"http://www.w3.org/XML/1998/namespace","xml:space",r);break;case"is":ws(e,"is",r);break;case"innerText":case"textContent":break;default:(!(2<i.length)||i[0]!=="o"&&i[0]!=="O"||i[1]!=="n"&&i[1]!=="N")&&(i=k0.get(i)||i,ws(e,i,r))}}function xu(e,t,i,r,o,u){switch(i){case"style":Hd(e,r,u);break;case"dangerouslySetInnerHTML":if(r!=null){if(typeof r!="object"||!("__html"in r))throw Error(s(61));if(i=r.__html,i!=null){if(o.children!=null)throw Error(s(60));e.innerHTML=i}}break;case"children":typeof r=="string"?Wi(e,r):(typeof r=="number"||typeof r=="bigint")&&Wi(e,""+r);break;case"onScroll":r!=null&&me("scroll",e);break;case"onScrollEnd":r!=null&&me("scrollend",e);break;case"onClick":r!=null&&(e.onclick=mn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Rd.hasOwnProperty(i))e:{if(i[0]==="o"&&i[1]==="n"&&(o=i.endsWith("Capture"),t=i.slice(2,o?i.length-7:void 0),u=e[St]||null,u=u!=null?u[i]:null,typeof u=="function"&&e.removeEventListener(t,u,o),typeof r=="function")){typeof u!="function"&&u!==null&&(i in e?e[i]=null:e.hasAttribute(i)&&e.removeAttribute(i)),e.addEventListener(t,r,o);break e}i in e?e[i]=r:r===!0?e.setAttribute(i,""):ws(e,i,r)}}}function ut(e,t,i){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":me("error",e),me("load",e);var r=!1,o=!1,u;for(u in i)if(i.hasOwnProperty(u)){var h=i[u];if(h!=null)switch(u){case"src":r=!0;break;case"srcSet":o=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,t));default:we(e,t,u,h,i,null)}}o&&we(e,t,"srcSet",i.srcSet,i,null),r&&we(e,t,"src",i.src,i,null);return;case"input":me("invalid",e);var _=u=h=o=null,x=null,A=null;for(r in i)if(i.hasOwnProperty(r)){var O=i[r];if(O!=null)switch(r){case"name":o=O;break;case"type":h=O;break;case"checked":x=O;break;case"defaultChecked":A=O;break;case"value":u=O;break;case"defaultValue":_=O;break;case"children":case"dangerouslySetInnerHTML":if(O!=null)throw Error(s(137,t));break;default:we(e,t,r,O,i,null)}}Id(e,u,_,x,A,h,o,!1);return;case"select":me("invalid",e),r=h=u=null;for(o in i)if(i.hasOwnProperty(o)&&(_=i[o],_!=null))switch(o){case"value":u=_;break;case"defaultValue":h=_;break;case"multiple":r=_;default:we(e,t,o,_,i,null)}t=u,i=h,e.multiple=!!r,t!=null?Ji(e,!!r,t,!1):i!=null&&Ji(e,!!r,i,!0);return;case"textarea":me("invalid",e),u=o=r=null;for(h in i)if(i.hasOwnProperty(h)&&(_=i[h],_!=null))switch(h){case"value":r=_;break;case"defaultValue":o=_;break;case"children":u=_;break;case"dangerouslySetInnerHTML":if(_!=null)throw Error(s(91));break;default:we(e,t,h,_,i,null)}Ld(e,r,o,u);return;case"option":for(x in i)i.hasOwnProperty(x)&&(r=i[x],r!=null)&&(x==="selected"?e.selected=r&&typeof r!="function"&&typeof r!="symbol":we(e,t,x,r,i,null));return;case"dialog":me("beforetoggle",e),me("toggle",e),me("cancel",e),me("close",e);break;case"iframe":case"object":me("load",e);break;case"video":case"audio":for(r=0;r<ja.length;r++)me(ja[r],e);break;case"image":me("error",e),me("load",e);break;case"details":me("toggle",e);break;case"embed":case"source":case"link":me("error",e),me("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(A in i)if(i.hasOwnProperty(A)&&(r=i[A],r!=null))switch(A){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,t));default:we(e,t,A,r,i,null)}return;default:if(zc(t)){for(O in i)i.hasOwnProperty(O)&&(r=i[O],r!==void 0&&xu(e,t,O,r,i,void 0));return}}for(_ in i)i.hasOwnProperty(_)&&(r=i[_],r!=null&&we(e,t,_,r,i,null))}function hb(e,t,i,r){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var o=null,u=null,h=null,_=null,x=null,A=null,O=null;for(M in i){var z=i[M];if(i.hasOwnProperty(M)&&z!=null)switch(M){case"checked":break;case"value":break;case"defaultValue":x=z;default:r.hasOwnProperty(M)||we(e,t,M,null,r,z)}}for(var w in r){var M=r[w];if(z=i[w],r.hasOwnProperty(w)&&(M!=null||z!=null))switch(w){case"type":u=M;break;case"name":o=M;break;case"checked":A=M;break;case"defaultChecked":O=M;break;case"value":h=M;break;case"defaultValue":_=M;break;case"children":case"dangerouslySetInnerHTML":if(M!=null)throw Error(s(137,t));break;default:M!==z&&we(e,t,w,M,r,z)}}jc(e,h,_,x,A,O,u,o);return;case"select":M=h=_=w=null;for(u in i)if(x=i[u],i.hasOwnProperty(u)&&x!=null)switch(u){case"value":break;case"multiple":M=x;default:r.hasOwnProperty(u)||we(e,t,u,null,r,x)}for(o in r)if(u=r[o],x=i[o],r.hasOwnProperty(o)&&(u!=null||x!=null))switch(o){case"value":w=u;break;case"defaultValue":_=u;break;case"multiple":h=u;default:u!==x&&we(e,t,o,u,r,x)}t=_,i=h,r=M,w!=null?Ji(e,!!i,w,!1):!!r!=!!i&&(t!=null?Ji(e,!!i,t,!0):Ji(e,!!i,i?[]:"",!1));return;case"textarea":M=w=null;for(_ in i)if(o=i[_],i.hasOwnProperty(_)&&o!=null&&!r.hasOwnProperty(_))switch(_){case"value":break;case"children":break;default:we(e,t,_,null,r,o)}for(h in r)if(o=r[h],u=i[h],r.hasOwnProperty(h)&&(o!=null||u!=null))switch(h){case"value":w=o;break;case"defaultValue":M=o;break;case"children":break;case"dangerouslySetInnerHTML":if(o!=null)throw Error(s(91));break;default:o!==u&&we(e,t,h,o,r,u)}zd(e,w,M);return;case"option":for(var V in i)w=i[V],i.hasOwnProperty(V)&&w!=null&&!r.hasOwnProperty(V)&&(V==="selected"?e.selected=!1:we(e,t,V,null,r,w));for(x in r)w=r[x],M=i[x],r.hasOwnProperty(x)&&w!==M&&(w!=null||M!=null)&&(x==="selected"?e.selected=w&&typeof w!="function"&&typeof w!="symbol":we(e,t,x,w,r,M));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var J in i)w=i[J],i.hasOwnProperty(J)&&w!=null&&!r.hasOwnProperty(J)&&we(e,t,J,null,r,w);for(A in r)if(w=r[A],M=i[A],r.hasOwnProperty(A)&&w!==M&&(w!=null||M!=null))switch(A){case"children":case"dangerouslySetInnerHTML":if(w!=null)throw Error(s(137,t));break;default:we(e,t,A,w,r,M)}return;default:if(zc(t)){for(var Re in i)w=i[Re],i.hasOwnProperty(Re)&&w!==void 0&&!r.hasOwnProperty(Re)&&xu(e,t,Re,void 0,r,w);for(O in r)w=r[O],M=i[O],!r.hasOwnProperty(O)||w===M||w===void 0&&M===void 0||xu(e,t,O,w,r,M);return}}for(var T in i)w=i[T],i.hasOwnProperty(T)&&w!=null&&!r.hasOwnProperty(T)&&we(e,t,T,null,r,w);for(z in r)w=r[z],M=i[z],!r.hasOwnProperty(z)||w===M||w==null&&M==null||we(e,t,z,w,r,M)}function Bg(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function mb(){if(typeof performance.getEntriesByType=="function"){for(var e=0,t=0,i=performance.getEntriesByType("resource"),r=0;r<i.length;r++){var o=i[r],u=o.transferSize,h=o.initiatorType,_=o.duration;if(u&&_&&Bg(h)){for(h=0,_=o.responseEnd,r+=1;r<i.length;r++){var x=i[r],A=x.startTime;if(A>_)break;var O=x.transferSize,z=x.initiatorType;O&&Bg(z)&&(x=x.responseEnd,h+=O*(x<_?1:(_-A)/(x-A)))}if(--r,t+=8*(u+h)/(o.duration/1e3),e++,10<e)break}}if(0<e)return t/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var Eu=null,Cu=null;function Nr(e){return e.nodeType===9?e:e.ownerDocument}function kg(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function qg(e,t){if(e===0)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&t==="foreignObject"?0:e}function Tu(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.children=="bigint"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Nu=null;function gb(){var e=window.event;return e&&e.type==="popstate"?e===Nu?!1:(Nu=e,!0):(Nu=null,!1)}var Gg=typeof setTimeout=="function"?setTimeout:void 0,pb=typeof clearTimeout=="function"?clearTimeout:void 0,Yg=typeof Promise=="function"?Promise:void 0,yb=typeof queueMicrotask=="function"?queueMicrotask:typeof Yg<"u"?function(e){return Yg.resolve(null).then(e).catch(_b)}:Gg;function _b(e){setTimeout(function(){throw e})}function ii(e){return e==="head"}function Vg(e,t){var i=t,r=0;do{var o=i.nextSibling;if(e.removeChild(i),o&&o.nodeType===8)if(i=o.data,i==="/$"||i==="/&"){if(r===0){e.removeChild(o),Ml(t);return}r--}else if(i==="$"||i==="$?"||i==="$~"||i==="$!"||i==="&")r++;else if(i==="html")za(e.ownerDocument.documentElement);else if(i==="head"){i=e.ownerDocument.head,za(i);for(var u=i.firstChild;u;){var h=u.nextSibling,_=u.nodeName;u[Wl]||_==="SCRIPT"||_==="STYLE"||_==="LINK"&&u.rel.toLowerCase()==="stylesheet"||i.removeChild(u),u=h}}else i==="body"&&za(e.ownerDocument.body);i=o}while(i);Ml(t)}function Qg(e,t){var i=e;e=0;do{var r=i.nextSibling;if(i.nodeType===1?t?(i._stashedDisplay=i.style.display,i.style.display="none"):(i.style.display=i._stashedDisplay||"",i.getAttribute("style")===""&&i.removeAttribute("style")):i.nodeType===3&&(t?(i._stashedText=i.nodeValue,i.nodeValue=""):i.nodeValue=i._stashedText||""),r&&r.nodeType===8)if(i=r.data,i==="/$"){if(e===0)break;e--}else i!=="$"&&i!=="$?"&&i!=="$~"&&i!=="$!"||e++;i=r}while(i)}function Au(e){var t=e.firstChild;for(t&&t.nodeType===10&&(t=t.nextSibling);t;){var i=t;switch(t=t.nextSibling,i.nodeName){case"HTML":case"HEAD":case"BODY":Au(i),Dc(i);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(i.rel.toLowerCase()==="stylesheet")continue}e.removeChild(i)}}function vb(e,t,i,r){for(;e.nodeType===1;){var o=i;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!r&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(r){if(!e[Wl])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(u=e.getAttribute("rel"),u==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(u!==o.rel||e.getAttribute("href")!==(o.href==null||o.href===""?null:o.href)||e.getAttribute("crossorigin")!==(o.crossOrigin==null?null:o.crossOrigin)||e.getAttribute("title")!==(o.title==null?null:o.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(u=e.getAttribute("src"),(u!==(o.src==null?null:o.src)||e.getAttribute("type")!==(o.type==null?null:o.type)||e.getAttribute("crossorigin")!==(o.crossOrigin==null?null:o.crossOrigin))&&u&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(t==="input"&&e.type==="hidden"){var u=o.name==null?null:""+o.name;if(o.type==="hidden"&&e.getAttribute("name")===u)return e}else return e;if(e=Ft(e.nextSibling),e===null)break}return null}function bb(e,t,i){if(t==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!i||(e=Ft(e.nextSibling),e===null))return null;return e}function Xg(e,t){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!t||(e=Ft(e.nextSibling),e===null))return null;return e}function wu(e){return e.data==="$?"||e.data==="$~"}function Ru(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function Sb(e,t){var i=e.ownerDocument;if(e.data==="$~")e._reactRetry=t;else if(e.data!=="$?"||i.readyState!=="loading")t();else{var r=function(){t(),i.removeEventListener("DOMContentLoaded",r)};i.addEventListener("DOMContentLoaded",r),e._reactRetry=r}}function Ft(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?"||t==="$~"||t==="&"||t==="F!"||t==="F")break;if(t==="/$"||t==="/&")return null}}return e}var Mu=null;function Pg(e){e=e.nextSibling;for(var t=0;e;){if(e.nodeType===8){var i=e.data;if(i==="/$"||i==="/&"){if(t===0)return Ft(e.nextSibling);t--}else i!=="$"&&i!=="$!"&&i!=="$?"&&i!=="$~"&&i!=="&"||t++}e=e.nextSibling}return null}function Zg(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var i=e.data;if(i==="$"||i==="$!"||i==="$?"||i==="$~"||i==="&"){if(t===0)return e;t--}else i!=="/$"&&i!=="/&"||t++}e=e.previousSibling}return null}function Kg(e,t,i){switch(t=Nr(i),e){case"html":if(e=t.documentElement,!e)throw Error(s(452));return e;case"head":if(e=t.head,!e)throw Error(s(453));return e;case"body":if(e=t.body,!e)throw Error(s(454));return e;default:throw Error(s(451))}}function za(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);Dc(e)}var $t=new Map,Fg=new Set;function Ar(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var Mn=q.d;q.d={f:xb,r:Eb,D:Cb,C:Tb,L:Nb,m:Ab,X:Rb,S:wb,M:Mb};function xb(){var e=Mn.f(),t=_r();return e||t}function Eb(e){var t=Ki(e);t!==null&&t.tag===5&&t.type==="form"?hm(t):Mn.r(e)}var Al=typeof document>"u"?null:document;function $g(e,t,i){var r=Al;if(r&&typeof t=="string"&&t){var o=Yt(t);o='link[rel="'+e+'"][href="'+o+'"]',typeof i=="string"&&(o+='[crossorigin="'+i+'"]'),Fg.has(o)||(Fg.add(o),e={rel:e,crossOrigin:i,href:t},r.querySelector(o)===null&&(t=r.createElement("link"),ut(t,"link",e),nt(t),r.head.appendChild(t)))}}function Cb(e){Mn.D(e),$g("dns-prefetch",e,null)}function Tb(e,t){Mn.C(e,t),$g("preconnect",e,t)}function Nb(e,t,i){Mn.L(e,t,i);var r=Al;if(r&&e&&t){var o='link[rel="preload"][as="'+Yt(t)+'"]';t==="image"&&i&&i.imageSrcSet?(o+='[imagesrcset="'+Yt(i.imageSrcSet)+'"]',typeof i.imageSizes=="string"&&(o+='[imagesizes="'+Yt(i.imageSizes)+'"]')):o+='[href="'+Yt(e)+'"]';var u=o;switch(t){case"style":u=wl(e);break;case"script":u=Rl(e)}$t.has(u)||(e=v({rel:"preload",href:t==="image"&&i&&i.imageSrcSet?void 0:e,as:t},i),$t.set(u,e),r.querySelector(o)!==null||t==="style"&&r.querySelector(La(u))||t==="script"&&r.querySelector(Ua(u))||(t=r.createElement("link"),ut(t,"link",e),nt(t),r.head.appendChild(t)))}}function Ab(e,t){Mn.m(e,t);var i=Al;if(i&&e){var r=t&&typeof t.as=="string"?t.as:"script",o='link[rel="modulepreload"][as="'+Yt(r)+'"][href="'+Yt(e)+'"]',u=o;switch(r){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":u=Rl(e)}if(!$t.has(u)&&(e=v({rel:"modulepreload",href:e},t),$t.set(u,e),i.querySelector(o)===null)){switch(r){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(i.querySelector(Ua(u)))return}r=i.createElement("link"),ut(r,"link",e),nt(r),i.head.appendChild(r)}}}function wb(e,t,i){Mn.S(e,t,i);var r=Al;if(r&&e){var o=Fi(r).hoistableStyles,u=wl(e);t=t||"default";var h=o.get(u);if(!h){var _={loading:0,preload:null};if(h=r.querySelector(La(u)))_.loading=5;else{e=v({rel:"stylesheet",href:e,"data-precedence":t},i),(i=$t.get(u))&&Du(e,i);var x=h=r.createElement("link");nt(x),ut(x,"link",e),x._p=new Promise(function(A,O){x.onload=A,x.onerror=O}),x.addEventListener("load",function(){_.loading|=1}),x.addEventListener("error",function(){_.loading|=2}),_.loading|=4,wr(h,t,r)}h={type:"stylesheet",instance:h,count:1,state:_},o.set(u,h)}}}function Rb(e,t){Mn.X(e,t);var i=Al;if(i&&e){var r=Fi(i).hoistableScripts,o=Rl(e),u=r.get(o);u||(u=i.querySelector(Ua(o)),u||(e=v({src:e,async:!0},t),(t=$t.get(o))&&Ou(e,t),u=i.createElement("script"),nt(u),ut(u,"link",e),i.head.appendChild(u)),u={type:"script",instance:u,count:1,state:null},r.set(o,u))}}function Mb(e,t){Mn.M(e,t);var i=Al;if(i&&e){var r=Fi(i).hoistableScripts,o=Rl(e),u=r.get(o);u||(u=i.querySelector(Ua(o)),u||(e=v({src:e,async:!0,type:"module"},t),(t=$t.get(o))&&Ou(e,t),u=i.createElement("script"),nt(u),ut(u,"link",e),i.head.appendChild(u)),u={type:"script",instance:u,count:1,state:null},r.set(o,u))}}function Jg(e,t,i,r){var o=(o=de.current)?Ar(o):null;if(!o)throw Error(s(446));switch(e){case"meta":case"title":return null;case"style":return typeof i.precedence=="string"&&typeof i.href=="string"?(t=wl(i.href),i=Fi(o).hoistableStyles,r=i.get(t),r||(r={type:"style",instance:null,count:0,state:null},i.set(t,r)),r):{type:"void",instance:null,count:0,state:null};case"link":if(i.rel==="stylesheet"&&typeof i.href=="string"&&typeof i.precedence=="string"){e=wl(i.href);var u=Fi(o).hoistableStyles,h=u.get(e);if(h||(o=o.ownerDocument||o,h={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},u.set(e,h),(u=o.querySelector(La(e)))&&!u._p&&(h.instance=u,h.state.loading=5),$t.has(e)||(i={rel:"preload",as:"style",href:i.href,crossOrigin:i.crossOrigin,integrity:i.integrity,media:i.media,hrefLang:i.hrefLang,referrerPolicy:i.referrerPolicy},$t.set(e,i),u||Db(o,e,i,h.state))),t&&r===null)throw Error(s(528,""));return h}if(t&&r!==null)throw Error(s(529,""));return null;case"script":return t=i.async,i=i.src,typeof i=="string"&&t&&typeof t!="function"&&typeof t!="symbol"?(t=Rl(i),i=Fi(o).hoistableScripts,r=i.get(t),r||(r={type:"script",instance:null,count:0,state:null},i.set(t,r)),r):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,e))}}function wl(e){return'href="'+Yt(e)+'"'}function La(e){return'link[rel="stylesheet"]['+e+"]"}function Wg(e){return v({},e,{"data-precedence":e.precedence,precedence:null})}function Db(e,t,i,r){e.querySelector('link[rel="preload"][as="style"]['+t+"]")?r.loading=1:(t=e.createElement("link"),r.preload=t,t.addEventListener("load",function(){return r.loading|=1}),t.addEventListener("error",function(){return r.loading|=2}),ut(t,"link",i),nt(t),e.head.appendChild(t))}function Rl(e){return'[src="'+Yt(e)+'"]'}function Ua(e){return"script[async]"+e}function ep(e,t,i){if(t.count++,t.instance===null)switch(t.type){case"style":var r=e.querySelector('style[data-href~="'+Yt(i.href)+'"]');if(r)return t.instance=r,nt(r),r;var o=v({},i,{"data-href":i.href,"data-precedence":i.precedence,href:null,precedence:null});return r=(e.ownerDocument||e).createElement("style"),nt(r),ut(r,"style",o),wr(r,i.precedence,e),t.instance=r;case"stylesheet":o=wl(i.href);var u=e.querySelector(La(o));if(u)return t.state.loading|=4,t.instance=u,nt(u),u;r=Wg(i),(o=$t.get(o))&&Du(r,o),u=(e.ownerDocument||e).createElement("link"),nt(u);var h=u;return h._p=new Promise(function(_,x){h.onload=_,h.onerror=x}),ut(u,"link",r),t.state.loading|=4,wr(u,i.precedence,e),t.instance=u;case"script":return u=Rl(i.src),(o=e.querySelector(Ua(u)))?(t.instance=o,nt(o),o):(r=i,(o=$t.get(u))&&(r=v({},i),Ou(r,o)),e=e.ownerDocument||e,o=e.createElement("script"),nt(o),ut(o,"link",r),e.head.appendChild(o),t.instance=o);case"void":return null;default:throw Error(s(443,t.type))}else t.type==="stylesheet"&&(t.state.loading&4)===0&&(r=t.instance,t.state.loading|=4,wr(r,i.precedence,e));return t.instance}function wr(e,t,i){for(var r=i.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),o=r.length?r[r.length-1]:null,u=o,h=0;h<r.length;h++){var _=r[h];if(_.dataset.precedence===t)u=_;else if(u!==o)break}u?u.parentNode.insertBefore(e,u.nextSibling):(t=i.nodeType===9?i.head:i,t.insertBefore(e,t.firstChild))}function Du(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.title==null&&(e.title=t.title)}function Ou(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.integrity==null&&(e.integrity=t.integrity)}var Rr=null;function tp(e,t,i){if(Rr===null){var r=new Map,o=Rr=new Map;o.set(i,r)}else o=Rr,r=o.get(i),r||(r=new Map,o.set(i,r));if(r.has(e))return r;for(r.set(e,null),i=i.getElementsByTagName(e),o=0;o<i.length;o++){var u=i[o];if(!(u[Wl]||u[st]||e==="link"&&u.getAttribute("rel")==="stylesheet")&&u.namespaceURI!=="http://www.w3.org/2000/svg"){var h=u.getAttribute(t)||"";h=e+h;var _=r.get(h);_?_.push(u):r.set(h,[u])}}return r}function np(e,t,i){e=e.ownerDocument||e,e.head.insertBefore(i,t==="title"?e.querySelector("head > title"):null)}function Ob(e,t,i){if(i===1||t.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof t.precedence!="string"||typeof t.href!="string"||t.href==="")break;return!0;case"link":if(typeof t.rel!="string"||typeof t.href!="string"||t.href===""||t.onLoad||t.onError)break;return t.rel==="stylesheet"?(e=t.disabled,typeof t.precedence=="string"&&e==null):!0;case"script":if(t.async&&typeof t.async!="function"&&typeof t.async!="symbol"&&!t.onLoad&&!t.onError&&t.src&&typeof t.src=="string")return!0}return!1}function ip(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function jb(e,t,i,r){if(i.type==="stylesheet"&&(typeof r.media!="string"||matchMedia(r.media).matches!==!1)&&(i.state.loading&4)===0){if(i.instance===null){var o=wl(r.href),u=t.querySelector(La(o));if(u){t=u._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(e.count++,e=Mr.bind(e),t.then(e,e)),i.state.loading|=4,i.instance=u,nt(u);return}u=t.ownerDocument||t,r=Wg(r),(o=$t.get(o))&&Du(r,o),u=u.createElement("link"),nt(u);var h=u;h._p=new Promise(function(_,x){h.onload=_,h.onerror=x}),ut(u,"link",r),i.instance=u}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(i,t),(t=i.state.preload)&&(i.state.loading&3)===0&&(e.count++,i=Mr.bind(e),t.addEventListener("load",i),t.addEventListener("error",i))}}var ju=0;function Ib(e,t){return e.stylesheets&&e.count===0&&Or(e,e.stylesheets),0<e.count||0<e.imgCount?function(i){var r=setTimeout(function(){if(e.stylesheets&&Or(e,e.stylesheets),e.unsuspend){var u=e.unsuspend;e.unsuspend=null,u()}},6e4+t);0<e.imgBytes&&ju===0&&(ju=62500*mb());var o=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&Or(e,e.stylesheets),e.unsuspend)){var u=e.unsuspend;e.unsuspend=null,u()}},(e.imgBytes>ju?50:800)+t);return e.unsuspend=i,function(){e.unsuspend=null,clearTimeout(r),clearTimeout(o)}}:null}function Mr(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Or(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var Dr=null;function Or(e,t){e.stylesheets=null,e.unsuspend!==null&&(e.count++,Dr=new Map,t.forEach(zb,e),Dr=null,Mr.call(e))}function zb(e,t){if(!(t.state.loading&4)){var i=Dr.get(e);if(i)var r=i.get(null);else{i=new Map,Dr.set(e,i);for(var o=e.querySelectorAll("link[data-precedence],style[data-precedence]"),u=0;u<o.length;u++){var h=o[u];(h.nodeName==="LINK"||h.getAttribute("media")!=="not all")&&(i.set(h.dataset.precedence,h),r=h)}r&&i.set(null,r)}o=t.instance,h=o.getAttribute("data-precedence"),u=i.get(h)||r,u===r&&i.set(null,o),i.set(h,o),this.count++,r=Mr.bind(this),o.addEventListener("load",r),o.addEventListener("error",r),u?u.parentNode.insertBefore(o,u.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(o,e.firstChild)),t.state.loading|=4}}var Ha={$$typeof:Q,Provider:null,Consumer:null,_currentValue:te,_currentValue2:te,_threadCount:0};function Lb(e,t,i,r,o,u,h,_,x){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Ac(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ac(0),this.hiddenUpdates=Ac(null),this.identifierPrefix=r,this.onUncaughtError=o,this.onCaughtError=u,this.onRecoverableError=h,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=x,this.incompleteTransitions=new Map}function lp(e,t,i,r,o,u,h,_,x,A,O,z){return e=new Lb(e,t,i,h,x,A,O,z,_),t=1,u===!0&&(t|=24),u=It(3,null,null,t),e.current=u,u.stateNode=e,t=fo(),t.refCount++,e.pooledCache=t,t.refCount++,u.memoizedState={element:r,isDehydrated:i,cache:t},po(u),e}function ap(e){return e?(e=sl,e):sl}function sp(e,t,i,r,o,u){o=ap(o),r.context===null?r.context=o:r.pendingContext=o,r=Xn(t),r.payload={element:i},u=u===void 0?null:u,u!==null&&(r.callback=u),i=Pn(e,r,t),i!==null&&(At(i,e,t),pa(i,e,t))}function rp(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var i=e.retryLane;e.retryLane=i!==0&&i<t?i:t}}function Iu(e,t){rp(e,t),(e=e.alternate)&&rp(e,t)}function cp(e){if(e.tag===13||e.tag===31){var t=Ti(e,67108864);t!==null&&At(t,e,67108864),Iu(e,67108864)}}function op(e){if(e.tag===13||e.tag===31){var t=Bt();t=wc(t);var i=Ti(e,t);i!==null&&At(i,e,t),Iu(e,t)}}var jr=!0;function Ub(e,t,i,r){var o=D.T;D.T=null;var u=q.p;try{q.p=2,zu(e,t,i,r)}finally{q.p=u,D.T=o}}function Hb(e,t,i,r){var o=D.T;D.T=null;var u=q.p;try{q.p=8,zu(e,t,i,r)}finally{q.p=u,D.T=o}}function zu(e,t,i,r){if(jr){var o=Lu(r);if(o===null)Su(e,t,r,Ir,i),fp(e,r);else if(kb(o,e,t,i,r))r.stopPropagation();else if(fp(e,r),t&4&&-1<Bb.indexOf(e)){for(;o!==null;){var u=Ki(o);if(u!==null)switch(u.tag){case 3:if(u=u.stateNode,u.current.memoizedState.isDehydrated){var h=bi(u.pendingLanes);if(h!==0){var _=u;for(_.pendingLanes|=2,_.entangledLanes|=2;h;){var x=1<<31-Ot(h);_.entanglements[1]|=x,h&=~x}fn(u),(xe&6)===0&&(pr=Mt()+500,Oa(0))}}break;case 31:case 13:_=Ti(u,2),_!==null&&At(_,u,2),_r(),Iu(u,2)}if(u=Lu(r),u===null&&Su(e,t,r,Ir,i),u===o)break;o=u}o!==null&&r.stopPropagation()}else Su(e,t,r,null,i)}}function Lu(e){return e=Uc(e),Uu(e)}var Ir=null;function Uu(e){if(Ir=null,e=Zi(e),e!==null){var t=f(e);if(t===null)e=null;else{var i=t.tag;if(i===13){if(e=d(t),e!==null)return e;e=null}else if(i===31){if(e=m(t),e!==null)return e;e=null}else if(i===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return Ir=e,null}function up(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(C0()){case _d:return 2;case vd:return 8;case Es:case T0:return 32;case bd:return 268435456;default:return 32}default:return 32}}var Hu=!1,li=null,ai=null,si=null,Ba=new Map,ka=new Map,ri=[],Bb="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function fp(e,t){switch(e){case"focusin":case"focusout":li=null;break;case"dragenter":case"dragleave":ai=null;break;case"mouseover":case"mouseout":si=null;break;case"pointerover":case"pointerout":Ba.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":ka.delete(t.pointerId)}}function qa(e,t,i,r,o,u){return e===null||e.nativeEvent!==u?(e={blockedOn:t,domEventName:i,eventSystemFlags:r,nativeEvent:u,targetContainers:[o]},t!==null&&(t=Ki(t),t!==null&&cp(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,o!==null&&t.indexOf(o)===-1&&t.push(o),e)}function kb(e,t,i,r,o){switch(t){case"focusin":return li=qa(li,e,t,i,r,o),!0;case"dragenter":return ai=qa(ai,e,t,i,r,o),!0;case"mouseover":return si=qa(si,e,t,i,r,o),!0;case"pointerover":var u=o.pointerId;return Ba.set(u,qa(Ba.get(u)||null,e,t,i,r,o)),!0;case"gotpointercapture":return u=o.pointerId,ka.set(u,qa(ka.get(u)||null,e,t,i,r,o)),!0}return!1}function dp(e){var t=Zi(e.target);if(t!==null){var i=f(t);if(i!==null){if(t=i.tag,t===13){if(t=d(i),t!==null){e.blockedOn=t,Nd(e.priority,function(){op(i)});return}}else if(t===31){if(t=m(i),t!==null){e.blockedOn=t,Nd(e.priority,function(){op(i)});return}}else if(t===3&&i.stateNode.current.memoizedState.isDehydrated){e.blockedOn=i.tag===3?i.stateNode.containerInfo:null;return}}}e.blockedOn=null}function zr(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var i=Lu(e.nativeEvent);if(i===null){i=e.nativeEvent;var r=new i.constructor(i.type,i);Lc=r,i.target.dispatchEvent(r),Lc=null}else return t=Ki(i),t!==null&&cp(t),e.blockedOn=i,!1;t.shift()}return!0}function hp(e,t,i){zr(e)&&i.delete(t)}function qb(){Hu=!1,li!==null&&zr(li)&&(li=null),ai!==null&&zr(ai)&&(ai=null),si!==null&&zr(si)&&(si=null),Ba.forEach(hp),ka.forEach(hp)}function Lr(e,t){e.blockedOn===t&&(e.blockedOn=null,Hu||(Hu=!0,l.unstable_scheduleCallback(l.unstable_NormalPriority,qb)))}var Ur=null;function mp(e){Ur!==e&&(Ur=e,l.unstable_scheduleCallback(l.unstable_NormalPriority,function(){Ur===e&&(Ur=null);for(var t=0;t<e.length;t+=3){var i=e[t],r=e[t+1],o=e[t+2];if(typeof r!="function"){if(Uu(r||i)===null)continue;break}var u=Ki(i);u!==null&&(e.splice(t,3),t-=3,Lo(u,{pending:!0,data:o,method:i.method,action:r},r,o))}}))}function Ml(e){function t(x){return Lr(x,e)}li!==null&&Lr(li,e),ai!==null&&Lr(ai,e),si!==null&&Lr(si,e),Ba.forEach(t),ka.forEach(t);for(var i=0;i<ri.length;i++){var r=ri[i];r.blockedOn===e&&(r.blockedOn=null)}for(;0<ri.length&&(i=ri[0],i.blockedOn===null);)dp(i),i.blockedOn===null&&ri.shift();if(i=(e.ownerDocument||e).$$reactFormReplay,i!=null)for(r=0;r<i.length;r+=3){var o=i[r],u=i[r+1],h=o[St]||null;if(typeof u=="function")h||mp(i);else if(h){var _=null;if(u&&u.hasAttribute("formAction")){if(o=u,h=u[St]||null)_=h.formAction;else if(Uu(o)!==null)continue}else _=h.action;typeof _=="function"?i[r+1]=_:(i.splice(r,3),r-=3),mp(i)}}}function gp(){function e(u){u.canIntercept&&u.info==="react-transition"&&u.intercept({handler:function(){return new Promise(function(h){return o=h})},focusReset:"manual",scroll:"manual"})}function t(){o!==null&&(o(),o=null),r||setTimeout(i,20)}function i(){if(!r&&!navigation.transition){var u=navigation.currentEntry;u&&u.url!=null&&navigation.navigate(u.url,{state:u.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var r=!1,o=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",t),navigation.addEventListener("navigateerror",t),setTimeout(i,100),function(){r=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",t),navigation.removeEventListener("navigateerror",t),o!==null&&(o(),o=null)}}}function Bu(e){this._internalRoot=e}Hr.prototype.render=Bu.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(s(409));var i=t.current,r=Bt();sp(i,r,e,t,null,null)},Hr.prototype.unmount=Bu.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;sp(e.current,2,null,e,null,null),_r(),t[Pi]=null}};function Hr(e){this._internalRoot=e}Hr.prototype.unstable_scheduleHydration=function(e){if(e){var t=Td();e={blockedOn:null,target:e,priority:t};for(var i=0;i<ri.length&&t!==0&&t<ri[i].priority;i++);ri.splice(i,0,e),i===0&&dp(e)}};var pp=n.version;if(pp!=="19.2.4")throw Error(s(527,pp,"19.2.4"));q.findDOMNode=function(e){var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(s(188)):(e=Object.keys(e).join(","),Error(s(268,e)));return e=g(t),e=e!==null?S(e):null,e=e===null?null:e.stateNode,e};var Gb={bundleType:0,version:"19.2.4",rendererPackageName:"react-dom",currentDispatcherRef:D,reconcilerVersion:"19.2.4"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Br=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Br.isDisabled&&Br.supportsFiber)try{Fl=Br.inject(Gb),Dt=Br}catch{}}return Ya.createRoot=function(e,t){if(!c(e))throw Error(s(299));var i=!1,r="",o=Em,u=Cm,h=Tm;return t!=null&&(t.unstable_strictMode===!0&&(i=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onUncaughtError!==void 0&&(o=t.onUncaughtError),t.onCaughtError!==void 0&&(u=t.onCaughtError),t.onRecoverableError!==void 0&&(h=t.onRecoverableError)),t=lp(e,1,!1,null,null,i,r,null,o,u,h,gp),e[Pi]=t.current,bu(e),new Bu(t)},Ya.hydrateRoot=function(e,t,i){if(!c(e))throw Error(s(299));var r=!1,o="",u=Em,h=Cm,_=Tm,x=null;return i!=null&&(i.unstable_strictMode===!0&&(r=!0),i.identifierPrefix!==void 0&&(o=i.identifierPrefix),i.onUncaughtError!==void 0&&(u=i.onUncaughtError),i.onCaughtError!==void 0&&(h=i.onCaughtError),i.onRecoverableError!==void 0&&(_=i.onRecoverableError),i.formState!==void 0&&(x=i.formState)),t=lp(e,1,!0,t,i??null,r,o,x,u,h,_,gp),t.context=ap(null),i=t.current,r=Bt(),r=wc(r),o=Xn(r),o.callback=null,Pn(i,o,r),i=r,t.current.lanes=i,Jl(t,i),fn(t),e[Pi]=t.current,bu(e),new Hr(t)},Ya.version="19.2.4",Ya}var Np;function Wb(){if(Np)return Gu.exports;Np=1;function l(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(l)}catch(n){console.error(n)}}return l(),Gu.exports=Jb(),Gu.exports}var e1=Wb();const Ap=l=>{let n;const a=new Set,s=(g,S)=>{const v=typeof g=="function"?g(n):g;if(!Object.is(v,n)){const b=n;n=S??(typeof v!="object"||v===null)?v:Object.assign({},n,v),a.forEach(R=>R(n,b))}},c=()=>n,m={setState:s,getState:c,getInitialState:()=>p,subscribe:g=>(a.add(g),()=>a.delete(g))},p=n=l(s,c,m);return m},t1=(l=>l?Ap(l):Ap),n1=l=>l;function i1(l,n=n1){const a=kr.useSyncExternalStore(l.subscribe,kr.useCallback(()=>n(l.getState()),[l,n]),kr.useCallback(()=>n(l.getInitialState()),[l,n]));return kr.useDebugValue(a),a}const wp=l=>{const n=t1(l),a=s=>i1(n,s);return Object.assign(a,n),a},Iy=(l=>l?wp(l):wp),l1=2e4,Xu=l=>l.find(a=>a.money>=l1)||null,a1=l=>{const n=l.stats.intelligence+l.stats.stamina+l.stats.charisma;let a=0;return l.job&&(a=(l.jobLevel+1)*1e3,a+=l.performance*100),{money:l.money,stats:n*100,jobBonus:a,total:l.money+n*100+a}},s1=(l,n)=>{const a=l.map(s=>({player:s,score:a1(s),rank:0})).sort((s,c)=>c.score.total-s.score.total).map((s,c)=>({...s,rank:c+1}));return n?{rankings:a,winner:n,winReason:"money_threshold"}:{rankings:a,winner:a[0]?.player,winReason:"highest_score"}},wt=(l,n)=>({...l,money:Math.max(0,l.money+n)}),On=(l,n,a)=>({...l,stats:{...l.stats,[n]:Math.max(0,l.stats[n]+a)}}),r1=(l,n)=>{if(!l.job)return l;const a=Math.max(0,Math.min(9,l.performance+n));return{...l,performance:a}},c1=(l,n)=>[...l].sort((a,s)=>s.money-a.money).slice(0,n),Rp=(l,n)=>[...l].sort((a,s)=>a.money-s.money).slice(0,n),o1=(l,n)=>l.reduce((a,s)=>s.stats[n]>a.stats[n]?s:a),ln=[{id:"chen-jian-zhi",name:"",gender:"male",initialMoney:3e3,initialStats:{intelligence:4,stamina:6,charisma:5},marriageRequirement:{intelligence:15,stamina:15,charisma:15},description:""},{id:"zheng-an-qi",name:"",gender:"female",initialMoney:2e3,initialStats:{intelligence:6,stamina:4,charisma:7},marriageRequirement:{intelligence:15,stamina:15,charisma:15},description:""},{id:"yao-xin-bei",name:"",gender:"female",initialMoney:2e3,initialStats:{intelligence:7,stamina:7,charisma:5},marriageRequirement:{intelligence:15,stamina:15,charisma:15},description:""},{id:"chen-dong-ming",name:"",gender:"male",initialMoney:8e3,initialStats:{intelligence:5,stamina:7,charisma:3},marriageRequirement:{intelligence:15,stamina:15,charisma:15},description:""},{id:"ke-ruo-ya",name:"",gender:"female",initialMoney:1e4,initialStats:{intelligence:8,stamina:4,charisma:6},marriageRequirement:{intelligence:15,stamina:15,charisma:15},description:""},{id:"lu-bing-yan",name:"",gender:"male",initialMoney:1e4,initialStats:{intelligence:4,stamina:7,charisma:4},marriageRequirement:{intelligence:15,stamina:15,charisma:15},description:""},{id:"xu-rui-he",name:"",gender:"male",initialMoney:7e3,initialStats:{intelligence:8,stamina:5,charisma:4},marriageRequirement:{intelligence:15,stamina:15,charisma:15},description:""},{id:"liang-si-yu",name:"",gender:"female",initialMoney:5e3,initialStats:{intelligence:7,stamina:5,charisma:7},marriageRequirement:{intelligence:15,stamina:15,charisma:15},description:""},{id:"ma-fei-yang",name:"",gender:"male",initialMoney:8e3,initialStats:{intelligence:4,stamina:4,charisma:8},marriageRequirement:{intelligence:15,stamina:15,charisma:15},description:""},{id:"wu-xin-yi",name:"",gender:"female",initialMoney:7e3,initialStats:{intelligence:2,stamina:7,charisma:4},marriageRequirement:{intelligence:15,stamina:15,charisma:15},description:""},{id:"zhao-bo-qian",name:"",gender:"male",initialMoney:5e3,initialStats:{intelligence:6,stamina:3,charisma:7},marriageRequirement:{intelligence:15,stamina:15,charisma:15},description:""},{id:"su-xun-jie",name:"",gender:"female",initialMoney:6e3,initialStats:{intelligence:4,stamina:6,charisma:7},marriageRequirement:{intelligence:15,stamina:15,charisma:15},description:""},{id:"wang-han-yao",name:"",gender:"male",initialMoney:5500,initialStats:{intelligence:6,stamina:6,charisma:6},marriageRequirement:{intelligence:15,stamina:15,charisma:15},description:""},{id:"zhuang-yu-cheng",name:"",gender:"female",initialMoney:5500,initialStats:{intelligence:7,stamina:2,charisma:6},marriageRequirement:{intelligence:15,stamina:15,charisma:15},description:""},{id:"zhao-bo-xuan",name:"",gender:"male",initialMoney:5e3,initialStats:{intelligence:4,stamina:4,charisma:7},marriageRequirement:{intelligence:15,stamina:15,charisma:15},description:""}],Za=[{id:"lawyer",name:"",category:"intelligence",levels:[{name:"",requiredStats:{intelligence:20,charisma:15},salary:[4e3,5e3,6e3]},{name:"",requiredStats:{intelligence:25,stamina:10,charisma:20},salary:[1e4,12e3,15e3]},{name:"",requiredStats:{intelligence:30,stamina:10,charisma:25},salary:[18e3,2e4,25e3,3e4]}],skill:""},{id:"teacher",name:"",category:"intelligence",levels:[{name:"",requiredStats:{intelligence:15,charisma:5},salary:[2e3,3e3,4e3]},{name:"",requiredStats:{intelligence:20,stamina:10,charisma:10},salary:[8e3,1e4,15e3]},{name:"",requiredStats:{intelligence:25,stamina:15,charisma:15},salary:[2e4,22e3,24e3,26e3]}],skill:"+1"},{id:"smuggler",name:"",category:"intelligence",levels:[{name:"",requiredStats:{intelligence:12,charisma:8},salary:[2e3,4e3,6e3]},{name:"",requiredStats:{intelligence:18,charisma:15},salary:[1e4,15e3,2e4]},{name:"",requiredStats:{intelligence:25,stamina:10,charisma:20},salary:[3e4,4e4,5e4]}],skill:" $8,000 "},{id:"worker",name:"",category:"stamina",levels:[{name:"",requiredStats:{stamina:12,charisma:3},salary:[1e3,2e3,3e3]},{name:"",requiredStats:{stamina:18,charisma:8},salary:[5e3,6e3,7e3]},{name:"",requiredStats:{intelligence:10,stamina:20,charisma:15},salary:[1e4,12e3,15e3]}],skill:"+1"},{id:"farmer",name:"",category:"stamina",levels:[{name:"",requiredStats:{stamina:10},salary:[1e3,2e3,3e3]},{name:"",requiredStats:{stamina:18,charisma:8},salary:[5e3,7e3,1e4]},{name:"",requiredStats:{intelligence:15,stamina:25,charisma:15},salary:[2e4,22e3,25e3]}],skill:"+1"},{id:"gangster",name:"",category:"stamina",levels:[{name:"",requiredStats:{stamina:12,charisma:8},salary:[2e3,4e3,6e3]},{name:"",requiredStats:{stamina:20,charisma:15},salary:[1e4,15e3,2e4]},{name:"",requiredStats:{intelligence:15,stamina:25,charisma:20},salary:[3e4,35e3,4e4]}],skill:" -5"},{id:"singer",name:"",category:"charisma",levels:[{name:"",requiredStats:{stamina:8,charisma:12},salary:[800,1500,2e3]},{name:"",requiredStats:{intelligence:10,stamina:15,charisma:18},salary:[5e3,8e3,12e3]},{name:"",requiredStats:{intelligence:15,stamina:20,charisma:25},salary:[15e3,2e4,3e4]}],skill:"+1"},{id:"magician",name:"",category:"charisma",levels:[{name:"",requiredStats:{intelligence:10,charisma:10},salary:[800,1200,1500]},{name:"",requiredStats:{intelligence:18,charisma:18},salary:[2500,3e3,4e3]},{name:"",requiredStats:{intelligence:25,stamina:15,charisma:25},salary:[8e3,1e4,15e3]}],skill:""},{id:"hostess",name:"",category:"charisma",levels:[{name:"",requiredStats:{stamina:10,charisma:15},salary:[1500,2e3,2500]},{name:"",requiredStats:{intelligence:8,stamina:15,charisma:22},salary:[6e3,8e3,15e3]},{name:"",requiredStats:{intelligence:15,stamina:18,charisma:28},salary:[2e4,25e3,35e3]}],skill:""}],zy=(l,n,a=0)=>{const s=n.levels[a].requiredStats;return(s.intelligence===void 0||l.intelligence>=s.intelligence)&&(s.stamina===void 0||l.stamina>=s.stamina)&&(s.charisma===void 0||l.charisma>=s.charisma)},u1=()=>({intelligence:Za.filter(l=>l.category==="intelligence"),stamina:Za.filter(l=>l.category==="stamina"),charisma:Za.filter(l=>l.category==="charisma")}),f1=[{id:"social-training",type:"study",name:"",description:" +2",cost:500,effect:{type:"stat_change",stat:"charisma",value:2},count:6},{id:"weight-training",type:"study",name:"",description:" +2",cost:500,effect:{type:"stat_change",stat:"stamina",value:2},count:6},{id:"thesis-research",type:"study",name:"",description:" +2",cost:500,effect:{type:"stat_change",stat:"intelligence",value:2},count:6},{id:"free-research",type:"study",name:"",description:" +1",cost:300,effect:{type:"stat_change_choice",value:1},count:40},{id:"field-trip",type:"study",name:"",description:"",effect:{type:"explore",location:"random"},count:10},{id:"performance",type:"work",name:"",description:" +1",effect:{type:"performance_change",value:1},count:28},{id:"bootlicking",type:"work",name:"",description:" $500 -2",effect:{type:"special",handler:"bootlicking"},count:7},{id:"socializing",type:"work",name:"",description:" $500 +2",effect:{type:"special",handler:"socializing"},count:7},{id:"napping",type:"work",name:"",description:" $500 +2",effect:{type:"special",handler:"napping"},count:7},{id:"overtime",type:"work",name:"",description:" $1,000 -2",effect:{type:"special",handler:"overtime"},count:7},{id:"business-trip",type:"work",name:"",description:"",effect:{type:"explore",location:"random"},count:10},{id:"steal",type:"function",name:"",description:"",effect:{type:"special",handler:"steal"},count:5},{id:"robbery",type:"function",name:"",description:"",effect:{type:"special",handler:"robbery"},count:5},{id:"sabotage",type:"function",name:"",description:" 2 ",effect:{type:"special",handler:"sabotage"},count:7},{id:"invalid",type:"function",name:"",description:"",effect:{type:"special",handler:"invalid"},count:10},{id:"something-from-nothing",type:"function",name:"",description:"",effect:{type:"draw_cards",count:2},count:6},{id:"job-change",type:"function",name:"",description:"",effect:{type:"special",handler:"job_change"},count:5},{id:"parachute",type:"function",name:"",description:"",effect:{type:"special",handler:"parachute"},count:3}],d1=()=>{const l=[];let n=0;for(const a of f1)for(let s=0;s<a.count;s++)l.push({...a,id:`${a.id}-${n++}`});return l},Ly=l=>{const n=[...l];for(let a=n.length-1;a>0;a--){const s=Math.floor(Math.random()*(a+1));[n[a],n[s]]=[n[s],n[a]]}return n},h1=[{id:"new-mayor",turn:1,name:"",description:" $500 ",target:{type:"all"},effect:{type:"money_change",value:500}},{id:"poverty-relief-1",turn:5,name:"",description:" $1,500  $1,500",target:{type:"poorest",count:4},effect:{type:"special",handler:"poverty_relief"}},{id:"competition-1",turn:8,name:"",description:" +$3,000 +$2,000 +$1,000",target:{type:"all"},effect:{type:"special",handler:"competition_ranked"}},{id:"competition-2",turn:15,name:"",description:" +$5,000 +$3,500 +$2,000",target:{type:"all"},effect:{type:"special",handler:"competition_achievement"}},{id:"poverty-relief",turn:21,name:"",description:" $3,000",target:{type:"poorest",count:1},effect:{type:"special",handler:"poverty_relief_3000"}},{id:"finale",turn:30,name:"",description:"",target:{type:"all"},effect:{type:"special",handler:"game_end"}}],Mp=[{id:"tax",turn:"random",name:"",description:" 2  10% ",target:{type:"richest",count:2},effect:{type:"special",handler:"tax"}},{id:"red-envelope",turn:"random",name:"",description:" +$1,000",target:{type:"all"},effect:{type:"money_change",value:1e3}},{id:"plague",turn:"random",name:"",description:" -3",target:{type:"all"},effect:{type:"stat_change",stat:"stamina",value:-3}},{id:"white-terror",turn:"random",name:"",description:" -3",target:{type:"all"},effect:{type:"stat_change",stat:"intelligence",value:-3}},{id:"water-shortage",turn:"random",name:"",description:" -3",target:{type:"all"},effect:{type:"stat_change",stat:"charisma",value:-3}},{id:"vaccine",turn:"random",name:"",description:" +3",target:{type:"all"},effect:{type:"stat_change",stat:"stamina",value:3}},{id:"lecture",turn:"random",name:"",description:" +3",target:{type:"all"},effect:{type:"stat_change",stat:"intelligence",value:3}},{id:"beauty-contest",turn:"random",name:"",description:" +3",target:{type:"all"},effect:{type:"stat_change",stat:"charisma",value:3}},{id:"voucher",turn:"random",name:"",description:"",target:{type:"all"},effect:{type:"draw_cards",count:1}},{id:"landlord-gift",turn:"random",name:"",description:" 2  $1,000",target:{type:"poorest",count:2},effect:{type:"money_change",value:1e3}}],m1=l=>{const n=h1.find(s=>s.turn===l);if(n)return n;const a=Math.floor(Math.random()*Mp.length);return{...Mp[a],turn:l}},Uy=[{id:"park",name:"",outcomes:[{description:" -2 $500",probability:.3,effect:{type:"special",handler:"park_bad"}},{description:" +2 $500",probability:.3,effect:{type:"special",handler:"park_good"}},{description:"",probability:.4,effect:{type:"stat_change",stat:"stamina",value:0}}]},{id:"library",name:"",outcomes:[{description:" -2",probability:.3,effect:{type:"stat_change",stat:"intelligence",value:-2}},{description:" +3",probability:.4,effect:{type:"stat_change",stat:"intelligence",value:3}},{description:" +1",probability:.3,effect:{type:"stat_change",stat:"intelligence",value:1}}]},{id:"home",name:"",outcomes:[{description:" +3",probability:.5,effect:{type:"stat_change",stat:"stamina",value:3}},{description:" -2",probability:.3,effect:{type:"stat_change",stat:"stamina",value:-2}},{description:" +1",probability:.2,effect:{type:"stat_change",stat:"stamina",value:1}}]}],g1=l=>{const n=Uy.find(c=>c.id===l);if(!n)return null;const a=Math.random();let s=0;for(const c of n.outcomes)if(s+=c.probability,a<s)return{location:n,outcome:c};return{location:n,outcome:n.outcomes[n.outcomes.length-1]}},Hy=l=>Za.filter(n=>zy(l.stats,n,0)),p1=(l,n)=>{const a=Za.find(s=>s.id===n);return!a||!zy(l.stats,a,0)?l:{...l,job:a,jobLevel:0,performance:0}},Of=l=>{if(!l.job||l.jobLevel>=2)return!1;const n=l.jobLevel+1,a=l.job.levels[n].requiredStats,s=n*3;return l.performance<s?!1:(a.intelligence===void 0||l.stats.intelligence>=a.intelligence)&&(a.stamina===void 0||l.stats.stamina>=a.stamina)&&(a.charisma===void 0||l.stats.charisma>=a.charisma)},y1=l=>Of(l)?{...l,jobLevel:l.jobLevel+1}:l,_1=l=>{if(!l.job)return 0;const a=l.job.levels[l.jobLevel].salary,s=l.jobLevel*3,c=l.performance-s,f=Math.min(c,a.length-1);return a[Math.max(0,f)]},v1=l=>{const n=_1(l);return n===0?l:{...l,money:l.money+n}},Dp=l=>l.job?l.job.levels[l.jobLevel].name:"",b1=l=>{if(!l.job)return l;switch(l.job.id){case"teacher":return{...l,stats:{...l.stats,intelligence:l.stats.intelligence+1}};case"worker":case"farmer":return{...l,stats:{...l.stats,stamina:l.stats.stamina+1}};case"singer":return{...l,stats:{...l.stats,charisma:l.stats.charisma+1}};default:return l}},cf=(l,n)=>n.effect.type==="special"&&n.effect.handler==="invalid"?{canPlay:!1,reason:""}:n.cost&&l.money<n.cost?{canPlay:!1,reason:` $${n.cost}`}:n.type==="work"&&!l.job?{canPlay:!1,reason:""}:n.effect.type==="special"&&n.effect.handler==="job_change"&&!l.job?{canPlay:!1,reason:""}:{canPlay:!0},S1=(l,n)=>{switch(n.type){case"stat_change":return{player:On(l,n.stat,n.value),message:`${By(n.stat)} ${n.value>0?"+":""}${n.value}`};case"money_change":return{player:wt(l,n.value),message:` ${n.value>0?"+":""}$${n.value}`};case"performance_change":return l.job?{player:r1(l,n.value),message:` ${n.value>0?"+":""}${n.value}`}:{player:l,message:""};case"stat_change_choice":return{player:l,message:"",needsSelection:{type:"stat",options:["intelligence","stamina","charisma"]}};case"draw_cards":return{player:l,message:` ${n.count} `};case"explore":return{player:l,message:"",needsSelection:{type:"location"}};case"special":return x1(l,n.handler);default:return{player:l,message:""}}},x1=(l,n)=>{switch(n){case"bootlicking":return{player:On(wt(l,500),"charisma",-2),message:" $500 -2"};case"socializing":return l.money<500?{player:l,message:""}:{player:On(wt(l,-500),"charisma",2),message:" $500 +2"};case"napping":return l.money<500?{player:l,message:""}:{player:On(wt(l,-500),"stamina",2),message:" $500 +2"};case"overtime":return{player:On(wt(l,1e3),"stamina",-2),message:" $1,000 -2"};case"steal":return{player:l,message:"",needsSelection:{type:"player"}};case"robbery":return{player:l,message:"",needsSelection:{type:"player"}};case"sabotage":return{player:l,message:"",needsSelection:{type:"player"}};case"invalid":return{player:l,message:""};case"job_change":return{player:{...l,job:null,jobLevel:0,performance:0},message:""};case"parachute":return{player:l,message:"",needsSelection:{type:"player"}};case"park_bad":return{player:On(wt(l,-500),"charisma",-2),message:" -2 $500"};case"park_good":return{player:On(wt(l,500),"stamina",2),message:" +2 $500"};default:return{player:l,message:`: ${n}`}}},Op=(l,n)=>{let a=l;return n.cost&&(a=wt(l,-n.cost)),{...S1(a,n.effect),usedCard:n}},E1=(l,n,a)=>({player:On(l,n,a),message:`${By(n)} +${a}`}),By=l=>({intelligence:"",stamina:"",charisma:""})[l],jp=3,Ip=2,jf=10,C1=30,ky=(l,n,a=[])=>{const s=l.map((m,p)=>{const g=ln.find(S=>S.id===n[p]);return T1(m,g,a[p]??!1)});let f=Ly(d1());const d=s.map(m=>{const p=f.slice(0,jp);return f=f.slice(jp),{...m,hand:p}});return{playerCount:4,maxTurns:C1,players:d,currentPlayerIndex:0,turn:1,phase:"event",deck:f,discardPile:[],currentEvent:null,eventLog:[],actionLog:[],selectedCardIndex:null,showEventModal:!1}},T1=(l,n,a=!1)=>({id:`player-${Date.now()}-${Math.random().toString(36).substr(2,9)}`,name:l,character:n,stats:{...n.initialStats},money:n.initialMoney,job:null,jobLevel:0,performance:0,hand:[],isSkipTurn:!1,isAI:a}),of=l=>{const n=m1(l.turn);return{...l,phase:"event",currentEvent:n,showEventModal:!0}},N1=l=>{if(!l.currentEvent)return l;const n=l.currentEvent;let a=[...l.players||[]];const s=[`${n.name}${n.description}`];let c;switch(n.target.type){case"all":c=a;break;case"richest":c=c1(a,n.target.count||1);break;case"poorest":c=Rp(a,n.target.count||1);break;default:c=a}if(n.effect.type==="special")switch(n.effect.handler){case"poverty_relief":a=a.map(f=>f.money<1500?(s.push(`${f.name}  $1,500`),{...f,money:1500}):f);break;case"tax":a=a.map(f=>{if(c.find(d=>d.id===f.id)){const d=Math.floor(f.money*.1);return s.push(`${f.name}  $${d}`),wt(f,-d)}return f});break;case"competition":{const f=[{stat:"intelligence",name:"",prize:2e3},{stat:"stamina",name:"",prize:2e3},{stat:"charisma",name:"",prize:2e3}];for(const{stat:d,name:m,prize:p}of f){const g=o1(a,d);s.push(`${m}${g.name} $${p}`),a=a.map(S=>S.id===g.id?wt(S,p):S)}break}case"competition_ranked":{const f=[3e3,2e3,1e3],d=[...a].sort((m,p)=>{const g=m.money+(m.stats.intelligence+m.stats.stamina+m.stats.charisma)*100;return p.money+(p.stats.intelligence+p.stats.stamina+p.stats.charisma)*100-g});for(let m=0;m<Math.min(f.length,d.length);m++){const p=d[m],g=f[m];s.push(` ${m+1} ${p.name} $${g.toLocaleString()}`),a=a.map(S=>S.id===p.id?wt(S,g):S)}break}case"competition_achievement":{const f=[5e3,3500,2e3],d=[...a].sort((m,p)=>{const g=m.money+(m.stats.intelligence+m.stats.stamina+m.stats.charisma)*100;return p.money+(p.stats.intelligence+p.stats.stamina+p.stats.charisma)*100-g});for(let m=0;m<Math.min(f.length,d.length);m++){const p=d[m],g=f[m];s.push(` ${m+1} ${p.name} $${g.toLocaleString()}`),a=a.map(S=>S.id===p.id?wt(S,g):S)}break}case"poverty_relief_3000":{const f=Rp(a,1)[0];f&&(s.push(`${f.name}  $3,000`),a=a.map(d=>d.id===f.id?wt(d,3e3):d));break}case"game_end":return{...l,phase:"game_over",currentEvent:null,showEventModal:!1,eventLog:[...l.eventLog||[],...s]}}else if(a=a.map(f=>{if(!c.find(d=>d.id===f.id))return f;switch(n.effect.type){case"money_change":return wt(f,n.effect.value);case"stat_change":return On(f,n.effect.stat,n.effect.value);case"draw_cards":return f;default:return f}}),n.effect.type==="draw_cards"){let f=[...l.deck||[]];return a=a.map(d=>{if(!c.find(g=>g.id===d.id))return d;const m=Math.min(n.effect.type==="draw_cards"?n.effect.count:0,f.length),p=f.slice(0,m);return f=f.slice(m),{...d,hand:[...d.hand,...p].slice(0,jf)}}),{...l,players:a,deck:f,currentEvent:null,showEventModal:!1,eventLog:[...l.eventLog||[],...s]}}return{...l,players:a,currentEvent:null,showEventModal:!1,eventLog:[...l.eventLog||[],...s]}},A1=l=>{const n=l.players.map(a=>{let s=v1(a);return s=b1(s),s});return{...l,phase:"salary",players:n}},w1=l=>({...l,phase:"action",currentPlayerIndex:0}),qy=l=>{const n=l.currentPlayerIndex+1;return n>=l.players.length?{...l,phase:"draw"}:l.players[n].isSkipTurn?qy({...l,currentPlayerIndex:n,players:l.players.map((a,s)=>s===n?{...a,isSkipTurn:!1}:a)}):{...l,currentPlayerIndex:n}},R1=l=>{let n=[...l.deck||[]];const a=[...l.discardPile||[]],s=l.players.length*Ip;n.length<s&&a.length>0&&(n=[...n,...Ly(a)]);const c=l.players.map(f=>{const d=Math.min(Ip,n.length),m=n.slice(0,d);n=n.slice(d);const p=[...f.hand,...m];return{...f,hand:p.slice(-jf)}});return{...l,phase:"draw",players:c,deck:n,discardPile:[]}},M1=l=>{const n=l.turn+1;return n>l.maxTurns?{...l,phase:"game_over"}:{...l,turn:n,phase:"event"}},zp=(l,n,a)=>{let s=[...l.deck||[]];const c=Math.min(a,s.length),f=s.slice(0,c);return s=s.slice(c),{...l,deck:s,players:l.players.map((d,m)=>m===n?{...d,hand:[...d.hand,...f].slice(0,jf)}:d)}},Pu={pendingStatChoice:null,pendingExplore:!1,pendingTargetPlayer:null,pendingFunctionCard:null,lastMessage:null},Lp=(l,n,a=[])=>{const s=l.players.length,c=l.pendingFunctionCard?.sourcePlayerIndex??l.currentPlayerIndex;for(let f=1;f<s;f++){const d=(n+f)%s;if(d===c||a.includes(d))continue;if((l.players[d]?.hand??[]).some(g=>g.effect.type==="special"&&g.effect.handler==="invalid"))return d}return-1},Dn=(l,n,a,s="action")=>{const c={turn:l.turn,playerName:n,message:a,type:s};return[...l.actionLog||[],c]},Up={playerCount:4,maxTurns:10,players:[],currentPlayerIndex:0,turn:0,phase:"setup",deck:[],discardPile:[],currentEvent:null,eventLog:[],actionLog:[],selectedCardIndex:null,showEventModal:!1},Ze=Iy((l,n)=>({...Up,...Pu,startGame:(a,s,c=[])=>{const f=ky(a,s,c),d=of(f);l({...d,...Pu,lastMessage:""})},nextPhase:()=>{const a=n();let s;switch(a.phase){case"event":{s=A1(a);let c=a.actionLog||[];s.players.forEach((d,m)=>{const p=a.players[m]?.money??0,g=d.money-p;g>0&&(c=[...c,{turn:a.turn,playerName:d.name,message:` +$${g}`,type:"system"}])}),s={...s,actionLog:c};const f=Xu(s.players);if(f){l({...s,phase:"game_over",lastMessage:`${f.name}  $20,000`});return}l({...s,lastMessage:""});break}case"salary":s=w1(a),l({...s,lastMessage:`${a.players[0].name} `});break;case"action":break;case"draw":if(s=M1(a),s.phase==="game_over")l({...s,lastMessage:""});else{const c=of(s);l({...c,lastMessage:` ${s.turn} `})}break}},confirmEvent:()=>{const a=n(),s=N1(a),c=a.currentEvent?.name||"",f=a.currentEvent?.description||"",d=Dn(a,"",`${c}${f}`,"event"),m=Xu(s.players);if(m){l({...s,actionLog:d,phase:"game_over",showEventModal:!1,lastMessage:`${m.name}  $20,000`});return}l({...s,actionLog:d,showEventModal:!1}),setTimeout(()=>n().nextPhase(),500)},selectCard:a=>{l({selectedCardIndex:a})},playSelectedCard:()=>{const a=n();if(a.selectedCardIndex===null||a.phase!=="action")return;const s=a.players[a.currentPlayerIndex],c=s.hand[a.selectedCardIndex];if(!c)return;const f=cf(s,c);if(!f.canPlay){l({lastMessage:f.reason||""});return}const d=c.effect.type==="special"&&(c.effect.handler==="invalid"||c.effect.handler==="sabotage");if(c.type==="function"&&!d){const S=Lp(a,a.currentPlayerIndex);if(S!==-1){l({pendingFunctionCard:{card:c,cardIndex:a.selectedCardIndex,sourcePlayerIndex:a.currentPlayerIndex,respondingPlayerIndex:S,passedPlayerIndices:[]},lastMessage:`${s.name} ${c.name} ${a.players[S].name} ...`});return}}const m=Op(s,c);if(m.needsSelection){if(m.needsSelection.type==="stat"){l({pendingStatChoice:{cardIndex:a.selectedCardIndex,value:c.effect.type==="stat_change_choice"?c.effect.value:1},lastMessage:m.message});return}if(m.needsSelection.type==="location"){l({pendingExplore:!0,lastMessage:""});return}if(m.needsSelection.type==="player"){const S=c.effect.type==="special"?c.effect.handler:"";l({pendingTargetPlayer:{action:S,cardIndex:a.selectedCardIndex},lastMessage:m.message});return}}const p=a.players.map((S,v)=>v===a.currentPlayerIndex?{...m.player,hand:m.player.hand.filter((b,R)=>R!==a.selectedCardIndex)}:S);let g={players:p,discardPile:[...a.discardPile||[],c],selectedCardIndex:null,lastMessage:m.message,actionLog:Dn(a,s.name,`${c.name}${m.message}`)};if(c.effect.type==="draw_cards"){const S=zp({...a,players:p},a.currentPlayerIndex,c.effect.count);g={...g,deck:S.deck,players:S.players}}l(g)},chooseStat:a=>{const s=n();if(!s.pendingStatChoice)return;const c=s.players[s.currentPlayerIndex],f=c.hand[s.pendingStatChoice.cardIndex],d=E1(c,a,s.pendingStatChoice.value);let m=d.player;f.cost&&(m={...m,money:m.money-f.cost});const p=s.players.map((S,v)=>v===s.currentPlayerIndex?{...m,hand:m.hand.filter((b,R)=>R!==s.pendingStatChoice.cardIndex)}:S),g={intelligence:"",stamina:"",charisma:""};l({players:p,discardPile:[...s.discardPile||[],f],selectedCardIndex:null,pendingStatChoice:null,lastMessage:d.message,actionLog:Dn(s,c.name,`${f.name} ${g[a]||a} ${s.pendingStatChoice.value>0?"+":""}${s.pendingStatChoice.value}`)})},chooseExploreLocation:a=>{const s=n();if(!s.pendingExplore)return;const c=g1(a);if(!c){l({pendingExplore:!1,selectedCardIndex:null,lastMessage:""});return}const f=s.players[s.currentPlayerIndex];let d=f;const m=c.outcome.effect;if(m.type==="stat_change"?d={...d,stats:{...d.stats,[m.stat]:Math.max(0,d.stats[m.stat]+m.value)}}:m.type==="special"&&(m.handler==="park_bad"?d={...d,money:Math.max(0,d.money-500),stats:{...d.stats,charisma:Math.max(0,d.stats.charisma-2)}}:m.handler==="park_good"&&(d={...d,money:d.money+500,stats:{...d.stats,stamina:d.stats.stamina+2}})),s.selectedCardIndex!==null){const S=f.hand[s.selectedCardIndex];d={...d,hand:d.hand.filter((v,b)=>b!==s.selectedCardIndex)},l({discardPile:[...s.discardPile||[],S]})}const p=s.players.map((S,v)=>v===s.currentPlayerIndex?d:S),g=s.players[s.currentPlayerIndex];l({players:p,pendingExplore:!1,selectedCardIndex:null,lastMessage:`${c.location.name}${c.outcome.description}`,actionLog:Dn(s,g.name,`${c.location.name}${c.outcome.description}`)})},chooseTargetPlayer:a=>{const s=n();if(!s.pendingTargetPlayer)return;const{action:c,cardIndex:f}=s.pendingTargetPlayer,d=s.players[s.currentPlayerIndex],m=d.hand[f],p=s.players.findIndex(b=>b.id===a),g=s.players[p];if(!g||p===s.currentPlayerIndex){l({lastMessage:""});return}let S=[...s.players||[]],v="";switch(c){case"steal":{const b=g.hand??[];if(b.length===0){l({lastMessage:`${g.name} `});return}const R=Math.floor(Math.random()*b.length),j=g.hand[R];S=S.map((H,G)=>G===s.currentPlayerIndex?{...H,hand:[...H.hand.filter((U,k)=>k!==f),j]}:G===p?{...H,hand:H.hand.filter((U,k)=>k!==R)}:H),v=` ${g.name} ${j.name}`;break}case"sabotage":{const b=["intelligence","stamina","charisma"],R=b[Math.floor(Math.random()*b.length)],j={intelligence:"",stamina:"",charisma:""};S=S.map((H,G)=>G===s.currentPlayerIndex?{...H,hand:H.hand.filter((U,k)=>k!==f)}:G===p?{...H,stats:{...H.stats,[R]:Math.max(0,H.stats[R]-2)}}:H),v=` ${g.name}${j[R]} -2`;break}case"robbery":{const b=g.hand??[];if(b.length===0){l({lastMessage:`${g.name} `});return}const R=Math.floor(Math.random()*b.length),j=g.hand[R];S=S.map((H,G)=>G===s.currentPlayerIndex?{...H,hand:[...H.hand.filter((U,k)=>k!==f),j]}:G===p?{...H,hand:H.hand.filter((U,k)=>k!==R)}:H),v=` ${g.name}${j.name}`;break}case"parachute":{if(!g.job){l({lastMessage:`${g.name} `});return}const b=g.job,R=g.jobLevel,j=b.levels[R].requiredStats;if(!Object.entries(j).every(([G,U])=>d.stats[G]>=(U||0))){l({lastMessage:` ${b.levels[R].name}`});return}S=S.map((G,U)=>U===s.currentPlayerIndex?{...G,hand:G.hand.filter((k,Q)=>Q!==f),job:g.job,jobLevel:g.jobLevel,performance:0}:U===p?{...G,job:null,jobLevel:0,performance:0}:G),v=` ${g.name}  ${b.levels[R].name} `;break}default:l({lastMessage:""});return}l({players:S,discardPile:[...s.discardPile||[],m],pendingTargetPlayer:null,selectedCardIndex:null,lastMessage:v,actionLog:Dn(s,d.name,v)})},cancelPendingAction:()=>{l({pendingStatChoice:null,pendingExplore:!1,pendingTargetPlayer:null,pendingFunctionCard:null,selectedCardIndex:null,lastMessage:""})},applyInvalidCard:a=>{const s=n();if(!s.pendingFunctionCard)return;const{card:c,cardIndex:f,sourcePlayerIndex:d,respondingPlayerIndex:m}=s.pendingFunctionCard,p=s.players[m],g=s.players[d],S=p.hand[a];if(!S||!(S.effect.type==="special"&&S.effect.handler==="invalid")){l({lastMessage:""});return}const v=s.players.map((R,j)=>j===d?{...R,hand:R.hand.filter((H,G)=>G!==f)}:j===m?{...R,hand:R.hand.filter((H,G)=>G!==a)}:R),b=` ${g.name} ${c.name}`;l({players:v,discardPile:[...s.discardPile||[],c,S],pendingFunctionCard:null,selectedCardIndex:null,lastMessage:`${p.name} ${g.name} ${c.name}`,actionLog:Dn(s,p.name,b)})},passReaction:()=>{const a=n();if(!a.pendingFunctionCard)return;const{sourcePlayerIndex:s,respondingPlayerIndex:c,passedPlayerIndices:f}=a.pendingFunctionCard,d=[...f??[],c],m=Lp(a,c,d);m===-1||m===s?n().confirmFunctionCard():l({pendingFunctionCard:{...a.pendingFunctionCard,respondingPlayerIndex:m,passedPlayerIndices:d},lastMessage:` ${a.players[m].name} ...`})},confirmFunctionCard:()=>{const a=n();if(!a.pendingFunctionCard)return;const{card:s,cardIndex:c,sourcePlayerIndex:f}=a.pendingFunctionCard,d=a.players[f],m=Op(d,s);if(m.needsSelection?.type==="player"){const S=s.effect.type==="special"?s.effect.handler:"";l({pendingFunctionCard:null,pendingTargetPlayer:{action:S,cardIndex:c},lastMessage:m.message});return}const p=a.players.map((S,v)=>v===f?{...m.player,hand:m.player.hand.filter((b,R)=>R!==c)}:S);let g={players:p,discardPile:[...a.discardPile||[],s],pendingFunctionCard:null,selectedCardIndex:null,lastMessage:`${d.name} ${s.name}${m.message}`,actionLog:Dn(a,d.name,`${s.name}${m.message}`)};if(s.effect.type==="draw_cards"){const S=zp({...a,players:p},f,s.effect.count);g={...g,deck:S.deck,players:S.players}}l(g)},endPlayerTurn:()=>{const a=n();if(a.phase!=="action")return;const s=qy(a);if(s.phase==="draw"){const c=R1(s);l({...c,lastMessage:""})}else l({...s,selectedCardIndex:null,lastMessage:`${s.players[s.currentPlayerIndex].name} `})},applyJob:a=>{const s=n(),c=s.players[s.currentPlayerIndex],f=p1(c,a);if(f.job){const d=s.players.map((m,p)=>p===s.currentPlayerIndex?f:m);l({players:d,lastMessage:` ${f.job.levels[0].name}`,actionLog:Dn(s,c.name,`${f.job.levels[0].name}`,"job")})}else l({lastMessage:""})},tryPromote:()=>{const a=n(),s=a.players[a.currentPlayerIndex];if(Of(s)){const c=y1(s),f=a.players.map((m,p)=>p===a.currentPlayerIndex?c:m),d=c.job.levels[c.jobLevel].name;l({players:f,lastMessage:` ${d}`,actionLog:Dn(a,s.name,`${d}`,"job")})}else l({lastMessage:""})},getCurrentPlayer:()=>{const a=n();return a.players[a.currentPlayerIndex]||null},canCurrentPlayerPlayCard:a=>{const s=n().getCurrentPlayer();if(!s)return{canPlay:!1,reason:""};const c=s.hand[a];return c?cf(s,c):{canPlay:!1,reason:""}},getAvailableJobsForCurrentPlayer:()=>{const a=n().getCurrentPlayer();return a?Hy(a):[]},getGameResult:()=>{const a=n();if(a.phase!=="game_over")return null;const s=Xu(a.players);return s1(a.players,s??void 0)},resetGame:()=>{l({...Up,...Pu})}})),D1=()=>{};var Hp={};const Gy={NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"};const B=function(l,n){if(!l)throw Vl(n)},Vl=function(l){return new Error("Firebase Database ("+Gy.SDK_VERSION+") INTERNAL ASSERT FAILED: "+l)};const Yy=function(l){const n=[];let a=0;for(let s=0;s<l.length;s++){let c=l.charCodeAt(s);c<128?n[a++]=c:c<2048?(n[a++]=c>>6|192,n[a++]=c&63|128):(c&64512)===55296&&s+1<l.length&&(l.charCodeAt(s+1)&64512)===56320?(c=65536+((c&1023)<<10)+(l.charCodeAt(++s)&1023),n[a++]=c>>18|240,n[a++]=c>>12&63|128,n[a++]=c>>6&63|128,n[a++]=c&63|128):(n[a++]=c>>12|224,n[a++]=c>>6&63|128,n[a++]=c&63|128)}return n},O1=function(l){const n=[];let a=0,s=0;for(;a<l.length;){const c=l[a++];if(c<128)n[s++]=String.fromCharCode(c);else if(c>191&&c<224){const f=l[a++];n[s++]=String.fromCharCode((c&31)<<6|f&63)}else if(c>239&&c<365){const f=l[a++],d=l[a++],m=l[a++],p=((c&7)<<18|(f&63)<<12|(d&63)<<6|m&63)-65536;n[s++]=String.fromCharCode(55296+(p>>10)),n[s++]=String.fromCharCode(56320+(p&1023))}else{const f=l[a++],d=l[a++];n[s++]=String.fromCharCode((c&15)<<12|(f&63)<<6|d&63)}}return n.join("")},If={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(l,n){if(!Array.isArray(l))throw Error("encodeByteArray takes an array as a parameter");this.init_();const a=n?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let c=0;c<l.length;c+=3){const f=l[c],d=c+1<l.length,m=d?l[c+1]:0,p=c+2<l.length,g=p?l[c+2]:0,S=f>>2,v=(f&3)<<4|m>>4;let b=(m&15)<<2|g>>6,R=g&63;p||(R=64,d||(b=64)),s.push(a[S],a[v],a[b],a[R])}return s.join("")},encodeString(l,n){return this.HAS_NATIVE_SUPPORT&&!n?btoa(l):this.encodeByteArray(Yy(l),n)},decodeString(l,n){return this.HAS_NATIVE_SUPPORT&&!n?atob(l):O1(this.decodeStringToByteArray(l,n))},decodeStringToByteArray(l,n){this.init_();const a=n?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let c=0;c<l.length;){const f=a[l.charAt(c++)],m=c<l.length?a[l.charAt(c)]:0;++c;const g=c<l.length?a[l.charAt(c)]:64;++c;const v=c<l.length?a[l.charAt(c)]:64;if(++c,f==null||m==null||g==null||v==null)throw new j1;const b=f<<2|m>>4;if(s.push(b),g!==64){const R=m<<4&240|g>>2;if(s.push(R),v!==64){const j=g<<6&192|v;s.push(j)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let l=0;l<this.ENCODED_VALS.length;l++)this.byteToCharMap_[l]=this.ENCODED_VALS.charAt(l),this.charToByteMap_[this.byteToCharMap_[l]]=l,this.byteToCharMapWebSafe_[l]=this.ENCODED_VALS_WEBSAFE.charAt(l),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[l]]=l,l>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(l)]=l,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(l)]=l)}}};class j1 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Vy=function(l){const n=Yy(l);return If.encodeByteArray(n,!0)},Vr=function(l){return Vy(l).replace(/\./g,"")},uf=function(l){try{return If.decodeString(l,!0)}catch(n){console.error("base64Decode failed: ",n)}return null};function I1(l){return Qy(void 0,l)}function Qy(l,n){if(!(n instanceof Object))return n;switch(n.constructor){case Date:const a=n;return new Date(a.getTime());case Object:l===void 0&&(l={});break;case Array:l=[];break;default:return n}for(const a in n)!n.hasOwnProperty(a)||!z1(a)||(l[a]=Qy(l[a],n[a]));return l}function z1(l){return l!=="__proto__"}function L1(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const U1=()=>L1().__FIREBASE_DEFAULTS__,H1=()=>{if(typeof process>"u"||typeof Hp>"u")return;const l=Hp.__FIREBASE_DEFAULTS__;if(l)return JSON.parse(l)},B1=()=>{if(typeof document>"u")return;let l;try{l=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const n=l&&uf(l[1]);return n&&JSON.parse(n)},Xy=()=>{try{return D1()||U1()||H1()||B1()}catch(l){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${l}`);return}},k1=l=>Xy()?.emulatorHosts?.[l],q1=l=>{const n=k1(l);if(!n)return;const a=n.lastIndexOf(":");if(a<=0||a+1===n.length)throw new Error(`Invalid host ${n} with no separate hostname and port!`);const s=parseInt(n.substring(a+1),10);return n[0]==="["?[n.substring(1,a-1),s]:[n.substring(0,a),s]},Py=()=>Xy()?.config;class hs{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((n,a)=>{this.resolve=n,this.reject=a})}wrapCallback(n){return(a,s)=>{a?this.reject(a):this.resolve(s),typeof n=="function"&&(this.promise.catch(()=>{}),n.length===1?n(a):n(a,s))}}}function zf(l){try{return(l.startsWith("http://")||l.startsWith("https://")?new URL(l).hostname:l).endsWith(".cloudworkstations.dev")}catch{return!1}}async function G1(l){return(await fetch(l,{credentials:"include"})).ok}function Y1(l,n){if(l.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const a={alg:"none",type:"JWT"},s=n||"demo-project",c=l.iat||0,f=l.sub||l.user_id;if(!f)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d={iss:`https://securetoken.google.com/${s}`,aud:s,iat:c,exp:c+3600,auth_time:c,sub:f,user_id:f,firebase:{sign_in_provider:"custom",identities:{}},...l};return[Vr(JSON.stringify(a)),Vr(JSON.stringify(d)),""].join(".")}const Ka={};function V1(){const l={prod:[],emulator:[]};for(const n of Object.keys(Ka))Ka[n]?l.emulator.push(n):l.prod.push(n);return l}function Q1(l){let n=document.getElementById(l),a=!1;return n||(n=document.createElement("div"),n.setAttribute("id",l),a=!0),{created:a,element:n}}let Bp=!1;function X1(l,n){if(typeof window>"u"||typeof document>"u"||!zf(window.location.host)||Ka[l]===n||Ka[l]||Bp)return;Ka[l]=n;function a(b){return`__firebase__banner__${b}`}const s="__firebase__banner",f=V1().prod.length>0;function d(){const b=document.getElementById(s);b&&b.remove()}function m(b){b.style.display="flex",b.style.background="#7faaf0",b.style.position="fixed",b.style.bottom="5px",b.style.left="5px",b.style.padding=".5em",b.style.borderRadius="5px",b.style.alignItems="center"}function p(b,R){b.setAttribute("width","24"),b.setAttribute("id",R),b.setAttribute("height","24"),b.setAttribute("viewBox","0 0 24 24"),b.setAttribute("fill","none"),b.style.marginLeft="-6px"}function g(){const b=document.createElement("span");return b.style.cursor="pointer",b.style.marginLeft="16px",b.style.fontSize="24px",b.innerHTML=" &times;",b.onclick=()=>{Bp=!0,d()},b}function S(b,R){b.setAttribute("id",R),b.innerText="Learn more",b.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",b.setAttribute("target","__blank"),b.style.paddingLeft="5px",b.style.textDecoration="underline"}function v(){const b=Q1(s),R=a("text"),j=document.getElementById(R)||document.createElement("span"),H=a("learnmore"),G=document.getElementById(H)||document.createElement("a"),U=a("preprendIcon"),k=document.getElementById(U)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(b.created){const Q=b.element;m(Q),S(G,H);const W=g();p(k,U),Q.append(k,j,G,W),document.body.appendChild(Q)}f?(j.innerText="Preview backend disconnected.",k.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(k.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,j.innerText="Preview backend running in this workspace."),j.setAttribute("id",R)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",v):v()}function P1(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Zy(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(P1())}function Z1(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function K1(){return Gy.NODE_ADMIN===!0}function F1(){try{return typeof indexedDB=="object"}catch{return!1}}function $1(){return new Promise((l,n)=>{try{let a=!0;const s="validate-browser-context-for-indexeddb-analytics-module",c=self.indexedDB.open(s);c.onsuccess=()=>{c.result.close(),a||self.indexedDB.deleteDatabase(s),l(!0)},c.onupgradeneeded=()=>{a=!1},c.onerror=()=>{n(c.error?.message||"")}}catch(a){n(a)}})}const J1="FirebaseError";class ms extends Error{constructor(n,a,s){super(a),this.code=n,this.customData=s,this.name=J1,Object.setPrototypeOf(this,ms.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Ky.prototype.create)}}class Ky{constructor(n,a,s){this.service=n,this.serviceName=a,this.errors=s}create(n,...a){const s=a[0]||{},c=`${this.service}/${n}`,f=this.errors[n],d=f?W1(f,s):"Error",m=`${this.serviceName}: ${d} (${c}).`;return new ms(c,m,s)}}function W1(l,n){return l.replace(eS,(a,s)=>{const c=n[s];return c!=null?String(c):`<${s}?>`})}const eS=/\{\$([^}]+)}/g;function ns(l){return JSON.parse(l)}function tt(l){return JSON.stringify(l)}const Fy=function(l){let n={},a={},s={},c="";try{const f=l.split(".");n=ns(uf(f[0])||""),a=ns(uf(f[1])||""),c=f[2],s=a.d||{},delete a.d}catch{}return{header:n,claims:a,data:s,signature:c}},tS=function(l){const n=Fy(l),a=n.claims;return!!a&&typeof a=="object"&&a.hasOwnProperty("iat")},nS=function(l){const n=Fy(l).claims;return typeof n=="object"&&n.admin===!0};function dn(l,n){return Object.prototype.hasOwnProperty.call(l,n)}function Hl(l,n){if(Object.prototype.hasOwnProperty.call(l,n))return l[n]}function kp(l){for(const n in l)if(Object.prototype.hasOwnProperty.call(l,n))return!1;return!0}function Qr(l,n,a){const s={};for(const c in l)Object.prototype.hasOwnProperty.call(l,c)&&(s[c]=n.call(a,l[c],c,l));return s}function Xr(l,n){if(l===n)return!0;const a=Object.keys(l),s=Object.keys(n);for(const c of a){if(!s.includes(c))return!1;const f=l[c],d=n[c];if(qp(f)&&qp(d)){if(!Xr(f,d))return!1}else if(f!==d)return!1}for(const c of s)if(!a.includes(c))return!1;return!0}function qp(l){return l!==null&&typeof l=="object"}function iS(l){const n=[];for(const[a,s]of Object.entries(l))Array.isArray(s)?s.forEach(c=>{n.push(encodeURIComponent(a)+"="+encodeURIComponent(c))}):n.push(encodeURIComponent(a)+"="+encodeURIComponent(s));return n.length?"&"+n.join("&"):""}class lS{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=512/8,this.pad_[0]=128;for(let n=1;n<this.blockSize;++n)this.pad_[n]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(n,a){a||(a=0);const s=this.W_;if(typeof n=="string")for(let v=0;v<16;v++)s[v]=n.charCodeAt(a)<<24|n.charCodeAt(a+1)<<16|n.charCodeAt(a+2)<<8|n.charCodeAt(a+3),a+=4;else for(let v=0;v<16;v++)s[v]=n[a]<<24|n[a+1]<<16|n[a+2]<<8|n[a+3],a+=4;for(let v=16;v<80;v++){const b=s[v-3]^s[v-8]^s[v-14]^s[v-16];s[v]=(b<<1|b>>>31)&4294967295}let c=this.chain_[0],f=this.chain_[1],d=this.chain_[2],m=this.chain_[3],p=this.chain_[4],g,S;for(let v=0;v<80;v++){v<40?v<20?(g=m^f&(d^m),S=1518500249):(g=f^d^m,S=1859775393):v<60?(g=f&d|m&(f|d),S=2400959708):(g=f^d^m,S=3395469782);const b=(c<<5|c>>>27)+g+p+S+s[v]&4294967295;p=m,m=d,d=(f<<30|f>>>2)&4294967295,f=c,c=b}this.chain_[0]=this.chain_[0]+c&4294967295,this.chain_[1]=this.chain_[1]+f&4294967295,this.chain_[2]=this.chain_[2]+d&4294967295,this.chain_[3]=this.chain_[3]+m&4294967295,this.chain_[4]=this.chain_[4]+p&4294967295}update(n,a){if(n==null)return;a===void 0&&(a=n.length);const s=a-this.blockSize;let c=0;const f=this.buf_;let d=this.inbuf_;for(;c<a;){if(d===0)for(;c<=s;)this.compress_(n,c),c+=this.blockSize;if(typeof n=="string"){for(;c<a;)if(f[d]=n.charCodeAt(c),++d,++c,d===this.blockSize){this.compress_(f),d=0;break}}else for(;c<a;)if(f[d]=n[c],++d,++c,d===this.blockSize){this.compress_(f),d=0;break}}this.inbuf_=d,this.total_+=a}digest(){const n=[];let a=this.total_*8;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let c=this.blockSize-1;c>=56;c--)this.buf_[c]=a&255,a/=256;this.compress_(this.buf_);let s=0;for(let c=0;c<5;c++)for(let f=24;f>=0;f-=8)n[s]=this.chain_[c]>>f&255,++s;return n}}function cc(l,n){return`${l} failed: ${n} argument `}const aS=function(l){const n=[];let a=0;for(let s=0;s<l.length;s++){let c=l.charCodeAt(s);if(c>=55296&&c<=56319){const f=c-55296;s++,B(s<l.length,"Surrogate pair missing trail surrogate.");const d=l.charCodeAt(s)-56320;c=65536+(f<<10)+d}c<128?n[a++]=c:c<2048?(n[a++]=c>>6|192,n[a++]=c&63|128):c<65536?(n[a++]=c>>12|224,n[a++]=c>>6&63|128,n[a++]=c&63|128):(n[a++]=c>>18|240,n[a++]=c>>12&63|128,n[a++]=c>>6&63|128,n[a++]=c&63|128)}return n},oc=function(l){let n=0;for(let a=0;a<l.length;a++){const s=l.charCodeAt(a);s<128?n++:s<2048?n+=2:s>=55296&&s<=56319?(n+=4,a++):n+=3}return n};function Ql(l){return l&&l._delegate?l._delegate:l}class is{constructor(n,a,s){this.name=n,this.instanceFactory=a,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(n){return this.instantiationMode=n,this}setMultipleInstances(n){return this.multipleInstances=n,this}setServiceProps(n){return this.serviceProps=n,this}setInstanceCreatedCallback(n){return this.onInstanceCreated=n,this}}const Hi="[DEFAULT]";class sS{constructor(n,a){this.name=n,this.container=a,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(n){const a=this.normalizeInstanceIdentifier(n);if(!this.instancesDeferred.has(a)){const s=new hs;if(this.instancesDeferred.set(a,s),this.isInitialized(a)||this.shouldAutoInitialize())try{const c=this.getOrInitializeService({instanceIdentifier:a});c&&s.resolve(c)}catch{}}return this.instancesDeferred.get(a).promise}getImmediate(n){const a=this.normalizeInstanceIdentifier(n?.identifier),s=n?.optional??!1;if(this.isInitialized(a)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:a})}catch(c){if(s)return null;throw c}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(n){if(n.name!==this.name)throw Error(`Mismatching Component ${n.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=n,!!this.shouldAutoInitialize()){if(cS(n))try{this.getOrInitializeService({instanceIdentifier:Hi})}catch{}for(const[a,s]of this.instancesDeferred.entries()){const c=this.normalizeInstanceIdentifier(a);try{const f=this.getOrInitializeService({instanceIdentifier:c});s.resolve(f)}catch{}}}}clearInstance(n=Hi){this.instancesDeferred.delete(n),this.instancesOptions.delete(n),this.instances.delete(n)}async delete(){const n=Array.from(this.instances.values());await Promise.all([...n.filter(a=>"INTERNAL"in a).map(a=>a.INTERNAL.delete()),...n.filter(a=>"_delete"in a).map(a=>a._delete())])}isComponentSet(){return this.component!=null}isInitialized(n=Hi){return this.instances.has(n)}getOptions(n=Hi){return this.instancesOptions.get(n)||{}}initialize(n={}){const{options:a={}}=n,s=this.normalizeInstanceIdentifier(n.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const c=this.getOrInitializeService({instanceIdentifier:s,options:a});for(const[f,d]of this.instancesDeferred.entries()){const m=this.normalizeInstanceIdentifier(f);s===m&&d.resolve(c)}return c}onInit(n,a){const s=this.normalizeInstanceIdentifier(a),c=this.onInitCallbacks.get(s)??new Set;c.add(n),this.onInitCallbacks.set(s,c);const f=this.instances.get(s);return f&&n(f,s),()=>{c.delete(n)}}invokeOnInitCallbacks(n,a){const s=this.onInitCallbacks.get(a);if(s)for(const c of s)try{c(n,a)}catch{}}getOrInitializeService({instanceIdentifier:n,options:a={}}){let s=this.instances.get(n);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:rS(n),options:a}),this.instances.set(n,s),this.instancesOptions.set(n,a),this.invokeOnInitCallbacks(s,n),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,n,s)}catch{}return s||null}normalizeInstanceIdentifier(n=Hi){return this.component?this.component.multipleInstances?n:Hi:n}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function rS(l){return l===Hi?void 0:l}function cS(l){return l.instantiationMode==="EAGER"}class oS{constructor(n){this.name=n,this.providers=new Map}addComponent(n){const a=this.getProvider(n.name);if(a.isComponentSet())throw new Error(`Component ${n.name} has already been registered with ${this.name}`);a.setComponent(n)}addOrOverwriteComponent(n){this.getProvider(n.name).isComponentSet()&&this.providers.delete(n.name),this.addComponent(n)}getProvider(n){if(this.providers.has(n))return this.providers.get(n);const a=new sS(n,this);return this.providers.set(n,a),a}getProviders(){return Array.from(this.providers.values())}}var Ie;(function(l){l[l.DEBUG=0]="DEBUG",l[l.VERBOSE=1]="VERBOSE",l[l.INFO=2]="INFO",l[l.WARN=3]="WARN",l[l.ERROR=4]="ERROR",l[l.SILENT=5]="SILENT"})(Ie||(Ie={}));const uS={debug:Ie.DEBUG,verbose:Ie.VERBOSE,info:Ie.INFO,warn:Ie.WARN,error:Ie.ERROR,silent:Ie.SILENT},fS=Ie.INFO,dS={[Ie.DEBUG]:"log",[Ie.VERBOSE]:"log",[Ie.INFO]:"info",[Ie.WARN]:"warn",[Ie.ERROR]:"error"},hS=(l,n,...a)=>{if(n<l.logLevel)return;const s=new Date().toISOString(),c=dS[n];if(c)console[c](`[${s}]  ${l.name}:`,...a);else throw new Error(`Attempted to log a message with an invalid logType (value: ${n})`)};class $y{constructor(n){this.name=n,this._logLevel=fS,this._logHandler=hS,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(n){if(!(n in Ie))throw new TypeError(`Invalid value "${n}" assigned to \`logLevel\``);this._logLevel=n}setLogLevel(n){this._logLevel=typeof n=="string"?uS[n]:n}get logHandler(){return this._logHandler}set logHandler(n){if(typeof n!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=n}get userLogHandler(){return this._userLogHandler}set userLogHandler(n){this._userLogHandler=n}debug(...n){this._userLogHandler&&this._userLogHandler(this,Ie.DEBUG,...n),this._logHandler(this,Ie.DEBUG,...n)}log(...n){this._userLogHandler&&this._userLogHandler(this,Ie.VERBOSE,...n),this._logHandler(this,Ie.VERBOSE,...n)}info(...n){this._userLogHandler&&this._userLogHandler(this,Ie.INFO,...n),this._logHandler(this,Ie.INFO,...n)}warn(...n){this._userLogHandler&&this._userLogHandler(this,Ie.WARN,...n),this._logHandler(this,Ie.WARN,...n)}error(...n){this._userLogHandler&&this._userLogHandler(this,Ie.ERROR,...n),this._logHandler(this,Ie.ERROR,...n)}}const mS=(l,n)=>n.some(a=>l instanceof a);let Gp,Yp;function gS(){return Gp||(Gp=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function pS(){return Yp||(Yp=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Jy=new WeakMap,ff=new WeakMap,Wy=new WeakMap,Zu=new WeakMap,Lf=new WeakMap;function yS(l){const n=new Promise((a,s)=>{const c=()=>{l.removeEventListener("success",f),l.removeEventListener("error",d)},f=()=>{a(fi(l.result)),c()},d=()=>{s(l.error),c()};l.addEventListener("success",f),l.addEventListener("error",d)});return n.then(a=>{a instanceof IDBCursor&&Jy.set(a,l)}).catch(()=>{}),Lf.set(n,l),n}function _S(l){if(ff.has(l))return;const n=new Promise((a,s)=>{const c=()=>{l.removeEventListener("complete",f),l.removeEventListener("error",d),l.removeEventListener("abort",d)},f=()=>{a(),c()},d=()=>{s(l.error||new DOMException("AbortError","AbortError")),c()};l.addEventListener("complete",f),l.addEventListener("error",d),l.addEventListener("abort",d)});ff.set(l,n)}let df={get(l,n,a){if(l instanceof IDBTransaction){if(n==="done")return ff.get(l);if(n==="objectStoreNames")return l.objectStoreNames||Wy.get(l);if(n==="store")return a.objectStoreNames[1]?void 0:a.objectStore(a.objectStoreNames[0])}return fi(l[n])},set(l,n,a){return l[n]=a,!0},has(l,n){return l instanceof IDBTransaction&&(n==="done"||n==="store")?!0:n in l}};function vS(l){df=l(df)}function bS(l){return l===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(n,...a){const s=l.call(Ku(this),n,...a);return Wy.set(s,n.sort?n.sort():[n]),fi(s)}:pS().includes(l)?function(...n){return l.apply(Ku(this),n),fi(Jy.get(this))}:function(...n){return fi(l.apply(Ku(this),n))}}function SS(l){return typeof l=="function"?bS(l):(l instanceof IDBTransaction&&_S(l),mS(l,gS())?new Proxy(l,df):l)}function fi(l){if(l instanceof IDBRequest)return yS(l);if(Zu.has(l))return Zu.get(l);const n=SS(l);return n!==l&&(Zu.set(l,n),Lf.set(n,l)),n}const Ku=l=>Lf.get(l);function xS(l,n,{blocked:a,upgrade:s,blocking:c,terminated:f}={}){const d=indexedDB.open(l,n),m=fi(d);return s&&d.addEventListener("upgradeneeded",p=>{s(fi(d.result),p.oldVersion,p.newVersion,fi(d.transaction),p)}),a&&d.addEventListener("blocked",p=>a(p.oldVersion,p.newVersion,p)),m.then(p=>{f&&p.addEventListener("close",()=>f()),c&&p.addEventListener("versionchange",g=>c(g.oldVersion,g.newVersion,g))}).catch(()=>{}),m}const ES=["get","getKey","getAll","getAllKeys","count"],CS=["put","add","delete","clear"],Fu=new Map;function Vp(l,n){if(!(l instanceof IDBDatabase&&!(n in l)&&typeof n=="string"))return;if(Fu.get(n))return Fu.get(n);const a=n.replace(/FromIndex$/,""),s=n!==a,c=CS.includes(a);if(!(a in(s?IDBIndex:IDBObjectStore).prototype)||!(c||ES.includes(a)))return;const f=async function(d,...m){const p=this.transaction(d,c?"readwrite":"readonly");let g=p.store;return s&&(g=g.index(m.shift())),(await Promise.all([g[a](...m),c&&p.done]))[0]};return Fu.set(n,f),f}vS(l=>({...l,get:(n,a,s)=>Vp(n,a)||l.get(n,a,s),has:(n,a)=>!!Vp(n,a)||l.has(n,a)}));class TS{constructor(n){this.container=n}getPlatformInfoString(){return this.container.getProviders().map(a=>{if(NS(a)){const s=a.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(a=>a).join(" ")}}function NS(l){return l.getComponent()?.type==="VERSION"}const hf="@firebase/app",Qp="0.14.8";const zn=new $y("@firebase/app"),AS="@firebase/app-compat",wS="@firebase/analytics-compat",RS="@firebase/analytics",MS="@firebase/app-check-compat",DS="@firebase/app-check",OS="@firebase/auth",jS="@firebase/auth-compat",IS="@firebase/database",zS="@firebase/data-connect",LS="@firebase/database-compat",US="@firebase/functions",HS="@firebase/functions-compat",BS="@firebase/installations",kS="@firebase/installations-compat",qS="@firebase/messaging",GS="@firebase/messaging-compat",YS="@firebase/performance",VS="@firebase/performance-compat",QS="@firebase/remote-config",XS="@firebase/remote-config-compat",PS="@firebase/storage",ZS="@firebase/storage-compat",KS="@firebase/firestore",FS="@firebase/ai",$S="@firebase/firestore-compat",JS="firebase",WS="12.9.0";const mf="[DEFAULT]",ex={[hf]:"fire-core",[AS]:"fire-core-compat",[RS]:"fire-analytics",[wS]:"fire-analytics-compat",[DS]:"fire-app-check",[MS]:"fire-app-check-compat",[OS]:"fire-auth",[jS]:"fire-auth-compat",[IS]:"fire-rtdb",[zS]:"fire-data-connect",[LS]:"fire-rtdb-compat",[US]:"fire-fn",[HS]:"fire-fn-compat",[BS]:"fire-iid",[kS]:"fire-iid-compat",[qS]:"fire-fcm",[GS]:"fire-fcm-compat",[YS]:"fire-perf",[VS]:"fire-perf-compat",[QS]:"fire-rc",[XS]:"fire-rc-compat",[PS]:"fire-gcs",[ZS]:"fire-gcs-compat",[KS]:"fire-fst",[$S]:"fire-fst-compat",[FS]:"fire-vertex","fire-js":"fire-js",[JS]:"fire-js-all"};const Pr=new Map,tx=new Map,gf=new Map;function Xp(l,n){try{l.container.addComponent(n)}catch(a){zn.debug(`Component ${n.name} failed to register with FirebaseApp ${l.name}`,a)}}function Zr(l){const n=l.name;if(gf.has(n))return zn.debug(`There were multiple attempts to register component ${n}.`),!1;gf.set(n,l);for(const a of Pr.values())Xp(a,l);for(const a of tx.values())Xp(a,l);return!0}function nx(l,n){const a=l.container.getProvider("heartbeat").getImmediate({optional:!0});return a&&a.triggerHeartbeat(),l.container.getProvider(n)}function ix(l){return l==null?!1:l.settings!==void 0}const lx={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},di=new Ky("app","Firebase",lx);class ax{constructor(n,a,s){this._isDeleted=!1,this._options={...n},this._config={...a},this._name=a.name,this._automaticDataCollectionEnabled=a.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new is("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(n){this.checkDestroyed(),this._automaticDataCollectionEnabled=n}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(n){this._isDeleted=n}checkDestroyed(){if(this.isDeleted)throw di.create("app-deleted",{appName:this._name})}}const sx=WS;function e_(l,n={}){let a=l;typeof n!="object"&&(n={name:n});const s={name:mf,automaticDataCollectionEnabled:!0,...n},c=s.name;if(typeof c!="string"||!c)throw di.create("bad-app-name",{appName:String(c)});if(a||(a=Py()),!a)throw di.create("no-options");const f=Pr.get(c);if(f){if(Xr(a,f.options)&&Xr(s,f.config))return f;throw di.create("duplicate-app",{appName:c})}const d=new oS(c);for(const p of gf.values())d.addComponent(p);const m=new ax(a,s,d);return Pr.set(c,m),m}function rx(l=mf){const n=Pr.get(l);if(!n&&l===mf&&Py())return e_();if(!n)throw di.create("no-app",{appName:l});return n}function zl(l,n,a){let s=ex[l]??l;a&&(s+=`-${a}`);const c=s.match(/\s|\//),f=n.match(/\s|\//);if(c||f){const d=[`Unable to register library "${s}" with version "${n}":`];c&&d.push(`library name "${s}" contains illegal characters (whitespace or "/")`),c&&f&&d.push("and"),f&&d.push(`version name "${n}" contains illegal characters (whitespace or "/")`),zn.warn(d.join(" "));return}Zr(new is(`${s}-version`,()=>({library:s,version:n}),"VERSION"))}const cx="firebase-heartbeat-database",ox=1,ls="firebase-heartbeat-store";let $u=null;function t_(){return $u||($u=xS(cx,ox,{upgrade:(l,n)=>{switch(n){case 0:try{l.createObjectStore(ls)}catch(a){console.warn(a)}}}}).catch(l=>{throw di.create("idb-open",{originalErrorMessage:l.message})})),$u}async function ux(l){try{const a=(await t_()).transaction(ls),s=await a.objectStore(ls).get(n_(l));return await a.done,s}catch(n){if(n instanceof ms)zn.warn(n.message);else{const a=di.create("idb-get",{originalErrorMessage:n?.message});zn.warn(a.message)}}}async function Pp(l,n){try{const s=(await t_()).transaction(ls,"readwrite");await s.objectStore(ls).put(n,n_(l)),await s.done}catch(a){if(a instanceof ms)zn.warn(a.message);else{const s=di.create("idb-set",{originalErrorMessage:a?.message});zn.warn(s.message)}}}function n_(l){return`${l.name}!${l.options.appId}`}const fx=1024,dx=30;class hx{constructor(n){this.container=n,this._heartbeatsCache=null;const a=this.container.getProvider("app").getImmediate();this._storage=new gx(a),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){try{const a=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=Zp();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(c=>c.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:a}),this._heartbeatsCache.heartbeats.length>dx){const c=px(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(c,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(n){zn.warn(n)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=Zp(),{heartbeatsToSend:a,unsentEntries:s}=mx(this._heartbeatsCache.heartbeats),c=Vr(JSON.stringify({version:2,heartbeats:a}));return this._heartbeatsCache.lastSentHeartbeatDate=n,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),c}catch(n){return zn.warn(n),""}}}function Zp(){return new Date().toISOString().substring(0,10)}function mx(l,n=fx){const a=[];let s=l.slice();for(const c of l){const f=a.find(d=>d.agent===c.agent);if(f){if(f.dates.push(c.date),Kp(a)>n){f.dates.pop();break}}else if(a.push({agent:c.agent,dates:[c.date]}),Kp(a)>n){a.pop();break}s=s.slice(1)}return{heartbeatsToSend:a,unsentEntries:s}}class gx{constructor(n){this.app=n,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return F1()?$1().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const a=await ux(this.app);return a?.heartbeats?a:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(n){if(await this._canUseIndexedDBPromise){const s=await this.read();return Pp(this.app,{lastSentHeartbeatDate:n.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:n.heartbeats})}else return}async add(n){if(await this._canUseIndexedDBPromise){const s=await this.read();return Pp(this.app,{lastSentHeartbeatDate:n.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...n.heartbeats]})}else return}}function Kp(l){return Vr(JSON.stringify({version:2,heartbeats:l})).length}function px(l){if(l.length===0)return-1;let n=0,a=l[0].date;for(let s=1;s<l.length;s++)l[s].date<a&&(a=l[s].date,n=s);return n}function yx(l){Zr(new is("platform-logger",n=>new TS(n),"PRIVATE")),Zr(new is("heartbeat",n=>new hx(n),"PRIVATE")),zl(hf,Qp,l),zl(hf,Qp,"esm2020"),zl("fire-js","")}yx("");var _x="firebase",vx="12.9.0";zl(_x,vx,"app");var Fp={};const $p="@firebase/database",Jp="1.1.0";let i_="";function bx(l){i_=l}class Sx{constructor(n){this.domStorage_=n,this.prefix_="firebase:"}set(n,a){a==null?this.domStorage_.removeItem(this.prefixedName_(n)):this.domStorage_.setItem(this.prefixedName_(n),tt(a))}get(n){const a=this.domStorage_.getItem(this.prefixedName_(n));return a==null?null:ns(a)}remove(n){this.domStorage_.removeItem(this.prefixedName_(n))}prefixedName_(n){return this.prefix_+n}toString(){return this.domStorage_.toString()}}class xx{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(n,a){a==null?delete this.cache_[n]:this.cache_[n]=a}get(n){return dn(this.cache_,n)?this.cache_[n]:null}remove(n){delete this.cache_[n]}}const l_=function(l){try{if(typeof window<"u"&&typeof window[l]<"u"){const n=window[l];return n.setItem("firebase:sentinel","cache"),n.removeItem("firebase:sentinel"),new Sx(n)}}catch{}return new xx},ki=l_("localStorage"),Ex=l_("sessionStorage");const Ll=new $y("@firebase/database"),Cx=(function(){let l=1;return function(){return l++}})(),a_=function(l){const n=aS(l),a=new lS;a.update(n);const s=a.digest();return If.encodeByteArray(s)},gs=function(...l){let n="";for(let a=0;a<l.length;a++){const s=l[a];Array.isArray(s)||s&&typeof s=="object"&&typeof s.length=="number"?n+=gs.apply(null,s):typeof s=="object"?n+=tt(s):n+=s,n+=" "}return n};let Fa=null,Wp=!0;const Tx=function(l,n){B(!0,"Can't turn on custom loggers persistently."),Ll.logLevel=Ie.VERBOSE,Fa=Ll.log.bind(Ll)},ft=function(...l){if(Wp===!0&&(Wp=!1,Fa===null&&Ex.get("logging_enabled")===!0&&Tx()),Fa){const n=gs.apply(null,l);Fa(n)}},ps=function(l){return function(...n){ft(l,...n)}},pf=function(...l){const n="FIREBASE INTERNAL ERROR: "+gs(...l);Ll.error(n)},Ln=function(...l){const n=`FIREBASE FATAL ERROR: ${gs(...l)}`;throw Ll.error(n),new Error(n)},bt=function(...l){const n="FIREBASE WARNING: "+gs(...l);Ll.warn(n)},Nx=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&bt("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},Uf=function(l){return typeof l=="number"&&(l!==l||l===Number.POSITIVE_INFINITY||l===Number.NEGATIVE_INFINITY)},Ax=function(l){if(document.readyState==="complete")l();else{let n=!1;const a=function(){if(!document.body){setTimeout(a,Math.floor(10));return}n||(n=!0,l())};document.addEventListener?(document.addEventListener("DOMContentLoaded",a,!1),window.addEventListener("load",a,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{document.readyState==="complete"&&a()}),window.attachEvent("onload",a))}},Bl="[MIN_NAME]",qi="[MAX_NAME]",Vi=function(l,n){if(l===n)return 0;if(l===Bl||n===qi)return-1;if(n===Bl||l===qi)return 1;{const a=ey(l),s=ey(n);return a!==null?s!==null?a-s===0?l.length-n.length:a-s:-1:s!==null?1:l<n?-1:1}},wx=function(l,n){return l===n?0:l<n?-1:1},Va=function(l,n){if(n&&l in n)return n[l];throw new Error("Missing required key ("+l+") in object: "+tt(n))},Hf=function(l){if(typeof l!="object"||l===null)return tt(l);const n=[];for(const s in l)n.push(s);n.sort();let a="{";for(let s=0;s<n.length;s++)s!==0&&(a+=","),a+=tt(n[s]),a+=":",a+=Hf(l[n[s]]);return a+="}",a},s_=function(l,n){const a=l.length;if(a<=n)return[l];const s=[];for(let c=0;c<a;c+=n)c+n>a?s.push(l.substring(c,a)):s.push(l.substring(c,c+n));return s};function dt(l,n){for(const a in l)l.hasOwnProperty(a)&&n(a,l[a])}const r_=function(l){B(!Uf(l),"Invalid JSON number");const n=11,a=52,s=(1<<n-1)-1;let c,f,d,m,p;l===0?(f=0,d=0,c=1/l===-1/0?1:0):(c=l<0,l=Math.abs(l),l>=Math.pow(2,1-s)?(m=Math.min(Math.floor(Math.log(l)/Math.LN2),s),f=m+s,d=Math.round(l*Math.pow(2,a-m)-Math.pow(2,a))):(f=0,d=Math.round(l/Math.pow(2,1-s-a))));const g=[];for(p=a;p;p-=1)g.push(d%2?1:0),d=Math.floor(d/2);for(p=n;p;p-=1)g.push(f%2?1:0),f=Math.floor(f/2);g.push(c?1:0),g.reverse();const S=g.join("");let v="";for(p=0;p<64;p+=8){let b=parseInt(S.substr(p,8),2).toString(16);b.length===1&&(b="0"+b),v=v+b}return v.toLowerCase()},Rx=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},Mx=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"};function Dx(l,n){let a="Unknown Error";l==="too_big"?a="The data requested exceeds the maximum size that can be accessed with a single request.":l==="permission_denied"?a="Client doesn't have permission to access the desired data.":l==="unavailable"&&(a="The service is unavailable");const s=new Error(l+" at "+n._path.toString()+": "+a);return s.code=l.toUpperCase(),s}const Ox=new RegExp("^-?(0*)\\d{1,10}$"),jx=-2147483648,Ix=2147483647,ey=function(l){if(Ox.test(l)){const n=Number(l);if(n>=jx&&n<=Ix)return n}return null},Xl=function(l){try{l()}catch(n){setTimeout(()=>{const a=n.stack||"";throw bt("Exception was thrown by user callback.",a),n},Math.floor(0))}},zx=function(){return(typeof window=="object"&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},$a=function(l,n){const a=setTimeout(l,n);return typeof a=="number"&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(a):typeof a=="object"&&a.unref&&a.unref(),a};class Lx{constructor(n,a){this.appCheckProvider=a,this.appName=n.name,ix(n)&&n.settings.appCheckToken&&(this.serverAppAppCheckToken=n.settings.appCheckToken),this.appCheck=a?.getImmediate({optional:!0}),this.appCheck||a?.get().then(s=>this.appCheck=s)}getToken(n){if(this.serverAppAppCheckToken){if(n)throw new Error("Attempted reuse of `FirebaseServerApp.appCheckToken` after previous usage failed.");return Promise.resolve({token:this.serverAppAppCheckToken})}return this.appCheck?this.appCheck.getToken(n):new Promise((a,s)=>{setTimeout(()=>{this.appCheck?this.getToken(n).then(a,s):a(null)},0)})}addTokenChangeListener(n){this.appCheckProvider?.get().then(a=>a.addTokenListener(n))}notifyForInvalidToken(){bt(`Provided AppCheck credentials for the app named "${this.appName}" are invalid. This usually indicates your app was not initialized correctly.`)}}class Ux{constructor(n,a,s){this.appName_=n,this.firebaseOptions_=a,this.authProvider_=s,this.auth_=null,this.auth_=s.getImmediate({optional:!0}),this.auth_||s.onInit(c=>this.auth_=c)}getToken(n){return this.auth_?this.auth_.getToken(n).catch(a=>a&&a.code==="auth/token-not-initialized"?(ft("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(a)):new Promise((a,s)=>{setTimeout(()=>{this.auth_?this.getToken(n).then(a,s):a(null)},0)})}addTokenChangeListener(n){this.auth_?this.auth_.addAuthTokenListener(n):this.authProvider_.get().then(a=>a.addAuthTokenListener(n))}removeTokenChangeListener(n){this.authProvider_.get().then(a=>a.removeAuthTokenListener(n))}notifyForInvalidToken(){let n='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?n+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?n+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':n+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',bt(n)}}class Yr{constructor(n){this.accessToken=n}getToken(n){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(n){n(this.accessToken)}removeTokenChangeListener(n){}notifyForInvalidToken(){}}Yr.OWNER="owner";const Bf="5",c_="v",o_="s",u_="r",f_="f",d_=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,h_="ls",m_="p",yf="ac",g_="websocket",p_="long_polling";class y_{constructor(n,a,s,c,f=!1,d="",m=!1,p=!1,g=null){this.secure=a,this.namespace=s,this.webSocketOnly=c,this.nodeAdmin=f,this.persistenceKey=d,this.includeNamespaceInQueryParams=m,this.isUsingEmulator=p,this.emulatorOptions=g,this._host=n.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=ki.get("host:"+n)||this._host}isCacheableHost(){return this.internalHost.substr(0,2)==="s-"}isCustomHost(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"}get host(){return this._host}set host(n){n!==this.internalHost&&(this.internalHost=n,this.isCacheableHost()&&ki.set("host:"+this._host,this.internalHost))}toString(){let n=this.toURLString();return this.persistenceKey&&(n+="<"+this.persistenceKey+">"),n}toURLString(){const n=this.secure?"https://":"http://",a=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${n}${this.host}/${a}`}}function Hx(l){return l.host!==l.internalHost||l.isCustomHost()||l.includeNamespaceInQueryParams}function __(l,n,a){B(typeof n=="string","typeof type must == string"),B(typeof a=="object","typeof params must == object");let s;if(n===g_)s=(l.secure?"wss://":"ws://")+l.internalHost+"/.ws?";else if(n===p_)s=(l.secure?"https://":"http://")+l.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+n);Hx(l)&&(a.ns=l.namespace);const c=[];return dt(a,(f,d)=>{c.push(f+"="+d)}),s+c.join("&")}class Bx{constructor(){this.counters_={}}incrementCounter(n,a=1){dn(this.counters_,n)||(this.counters_[n]=0),this.counters_[n]+=a}get(){return I1(this.counters_)}}const Ju={},Wu={};function kf(l){const n=l.toString();return Ju[n]||(Ju[n]=new Bx),Ju[n]}function kx(l,n){const a=l.toString();return Wu[a]||(Wu[a]=n()),Wu[a]}class qx{constructor(n){this.onMessage_=n,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(n,a){this.closeAfterResponse=n,this.onClose=a,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(n,a){for(this.pendingResponses[n]=a;this.pendingResponses[this.currentResponseNum];){const s=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let c=0;c<s.length;++c)s[c]&&Xl(()=>{this.onMessage_(s[c])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}const ty="start",Gx="close",Yx="pLPCommand",Vx="pRTLPCB",v_="id",b_="pw",S_="ser",Qx="cb",Xx="seg",Px="ts",Zx="d",Kx="dframe",x_=1870,E_=30,Fx=x_-E_,$x=25e3,Jx=3e4;class Il{constructor(n,a,s,c,f,d,m){this.connId=n,this.repoInfo=a,this.applicationId=s,this.appCheckToken=c,this.authToken=f,this.transportSessionId=d,this.lastSessionId=m,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=ps(n),this.stats_=kf(a),this.urlFn=p=>(this.appCheckToken&&(p[yf]=this.appCheckToken),__(a,p_,p))}open(n,a){this.curSegmentNum=0,this.onDisconnect_=a,this.myPacketOrderer=new qx(n),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(Jx)),Ax(()=>{if(this.isClosed_)return;this.scriptTagHolder=new qf((...f)=>{const[d,m,p,g,S]=f;if(this.incrementIncomingBytes_(f),!!this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,d===ty)this.id=m,this.password=p;else if(d===Gx)m?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(m,()=>{this.onClosed_()})):this.onClosed_();else throw new Error("Unrecognized command received: "+d)},(...f)=>{const[d,m]=f;this.incrementIncomingBytes_(f),this.myPacketOrderer.handleResponse(d,m)},()=>{this.onClosed_()},this.urlFn);const s={};s[ty]="t",s[S_]=Math.floor(Math.random()*1e8),this.scriptTagHolder.uniqueCallbackIdentifier&&(s[Qx]=this.scriptTagHolder.uniqueCallbackIdentifier),s[c_]=Bf,this.transportSessionId&&(s[o_]=this.transportSessionId),this.lastSessionId&&(s[h_]=this.lastSessionId),this.applicationId&&(s[m_]=this.applicationId),this.appCheckToken&&(s[yf]=this.appCheckToken),typeof location<"u"&&location.hostname&&d_.test(location.hostname)&&(s[u_]=f_);const c=this.urlFn(s);this.log_("Connecting via long-poll to "+c),this.scriptTagHolder.addTag(c,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){Il.forceAllow_=!0}static forceDisallow(){Il.forceDisallow_=!0}static isAvailable(){return Il.forceAllow_?!0:!Il.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!Rx()&&!Mx()}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(n){const a=tt(n);this.bytesSent+=a.length,this.stats_.incrementCounter("bytes_sent",a.length);const s=Vy(a),c=s_(s,Fx);for(let f=0;f<c.length;f++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,c.length,c[f]),this.curSegmentNum++}addDisconnectPingFrame(n,a){this.myDisconnFrame=document.createElement("iframe");const s={};s[Kx]="t",s[v_]=n,s[b_]=a,this.myDisconnFrame.src=this.urlFn(s),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(n){const a=tt(n).length;this.bytesReceived+=a,this.stats_.incrementCounter("bytes_received",a)}}class qf{constructor(n,a,s,c){this.onDisconnect=s,this.urlFn=c,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0;{this.uniqueCallbackIdentifier=Cx(),window[Yx+this.uniqueCallbackIdentifier]=n,window[Vx+this.uniqueCallbackIdentifier]=a,this.myIFrame=qf.createIFrame_();let f="";this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"&&(f='<script>document.domain="'+document.domain+'";<\/script>');const d="<html><body>"+f+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(d),this.myIFrame.doc.close()}catch(m){ft("frame writing exception"),m.stack&&ft(m.stack),ft(m)}}}static createIFrame_(){const n=document.createElement("iframe");if(n.style.display="none",document.body){document.body.appendChild(n);try{n.contentWindow.document||ft("No IE domain setting required")}catch{const s=document.domain;n.src="javascript:void((function(){document.open();document.domain='"+s+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return n.contentDocument?n.doc=n.contentDocument:n.contentWindow?n.doc=n.contentWindow.document:n.document&&(n.doc=n.document),n}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{this.myIFrame!==null&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const n=this.onDisconnect;n&&(this.onDisconnect=null,n())}startLongPoll(n,a){for(this.myID=n,this.myPW=a,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const n={};n[v_]=this.myID,n[b_]=this.myPW,n[S_]=this.currentSerial;let a=this.urlFn(n),s="",c=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+E_+s.length<=x_;){const d=this.pendingSegs.shift();s=s+"&"+Xx+c+"="+d.seg+"&"+Px+c+"="+d.ts+"&"+Zx+c+"="+d.d,c++}return a=a+s,this.addLongPollTag_(a,this.currentSerial),!0}else return!1}enqueueSegment(n,a,s){this.pendingSegs.push({seg:n,ts:a,d:s}),this.alive&&this.newRequest_()}addLongPollTag_(n,a){this.outstandingRequests.add(a);const s=()=>{this.outstandingRequests.delete(a),this.newRequest_()},c=setTimeout(s,Math.floor($x)),f=()=>{clearTimeout(c),s()};this.addTag(n,f)}addTag(n,a){setTimeout(()=>{try{if(!this.sendNewPolls)return;const s=this.myIFrame.doc.createElement("script");s.type="text/javascript",s.async=!0,s.src=n,s.onload=s.onreadystatechange=function(){const c=s.readyState;(!c||c==="loaded"||c==="complete")&&(s.onload=s.onreadystatechange=null,s.parentNode&&s.parentNode.removeChild(s),a())},s.onerror=()=>{ft("Long-poll script failed to load: "+n),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(s)}catch{}},Math.floor(1))}}const Wx=16384,eE=45e3;let Kr=null;typeof MozWebSocket<"u"?Kr=MozWebSocket:typeof WebSocket<"u"&&(Kr=WebSocket);class an{constructor(n,a,s,c,f,d,m){this.connId=n,this.applicationId=s,this.appCheckToken=c,this.authToken=f,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=ps(this.connId),this.stats_=kf(a),this.connURL=an.connectionURL_(a,d,m,c,s),this.nodeAdmin=a.nodeAdmin}static connectionURL_(n,a,s,c,f){const d={};return d[c_]=Bf,typeof location<"u"&&location.hostname&&d_.test(location.hostname)&&(d[u_]=f_),a&&(d[o_]=a),s&&(d[h_]=s),c&&(d[yf]=c),f&&(d[m_]=f),__(n,g_,d)}open(n,a){this.onDisconnect=a,this.onMessage=n,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,ki.set("previous_websocket_failure",!0);try{let s;K1(),this.mySock=new Kr(this.connURL,[],s)}catch(s){this.log_("Error instantiating WebSocket.");const c=s.message||s.data;c&&this.log_(c),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=s=>{this.handleIncomingFrame(s)},this.mySock.onerror=s=>{this.log_("WebSocket error.  Closing connection.");const c=s.message||s.data;c&&this.log_(c),this.onClosed_()}}start(){}static forceDisallow(){an.forceDisallow_=!0}static isAvailable(){let n=!1;if(typeof navigator<"u"&&navigator.userAgent){const a=/Android ([0-9]{0,}\.[0-9]{0,})/,s=navigator.userAgent.match(a);s&&s.length>1&&parseFloat(s[1])<4.4&&(n=!0)}return!n&&Kr!==null&&!an.forceDisallow_}static previouslyFailed(){return ki.isInMemoryStorage||ki.get("previous_websocket_failure")===!0}markConnectionHealthy(){ki.remove("previous_websocket_failure")}appendFrame_(n){if(this.frames.push(n),this.frames.length===this.totalFrames){const a=this.frames.join("");this.frames=null;const s=ns(a);this.onMessage(s)}}handleNewFrameCount_(n){this.totalFrames=n,this.frames=[]}extractFrameCount_(n){if(B(this.frames===null,"We already have a frame buffer"),n.length<=6){const a=Number(n);if(!isNaN(a))return this.handleNewFrameCount_(a),null}return this.handleNewFrameCount_(1),n}handleIncomingFrame(n){if(this.mySock===null)return;const a=n.data;if(this.bytesReceived+=a.length,this.stats_.incrementCounter("bytes_received",a.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(a);else{const s=this.extractFrameCount_(a);s!==null&&this.appendFrame_(s)}}send(n){this.resetKeepAlive();const a=tt(n);this.bytesSent+=a.length,this.stats_.incrementCounter("bytes_sent",a.length);const s=s_(a,Wx);s.length>1&&this.sendString_(String(s.length));for(let c=0;c<s.length;c++)this.sendString_(s[c])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(eE))}sendString_(n){try{this.mySock.send(n)}catch(a){this.log_("Exception thrown from WebSocket.send():",a.message||a.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}an.responsesRequiredToBeHealthy=2;an.healthyTimeout=3e4;class as{static get ALL_TRANSPORTS(){return[Il,an]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}constructor(n){this.initTransports_(n)}initTransports_(n){const a=an&&an.isAvailable();let s=a&&!an.previouslyFailed();if(n.webSocketOnly&&(a||bt("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),s=!0),s)this.transports_=[an];else{const c=this.transports_=[];for(const f of as.ALL_TRANSPORTS)f&&f.isAvailable()&&c.push(f);as.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}as.globalTransportInitialized_=!1;const tE=6e4,nE=5e3,iE=10*1024,lE=100*1024,ef="t",ny="d",aE="s",iy="r",sE="e",ly="o",ay="a",sy="n",ry="p",rE="h";class cE{constructor(n,a,s,c,f,d,m,p,g,S){this.id=n,this.repoInfo_=a,this.applicationId_=s,this.appCheckToken_=c,this.authToken_=f,this.onMessage_=d,this.onReady_=m,this.onDisconnect_=p,this.onKill_=g,this.lastSessionId=S,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=ps("c:"+this.id+":"),this.transportManager_=new as(a),this.log_("Connection created"),this.start_()}start_(){const n=this.transportManager_.initialTransport();this.conn_=new n(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=n.responsesRequiredToBeHealthy||0;const a=this.connReceiver_(this.conn_),s=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(a,s)},Math.floor(0));const c=n.healthyTimeout||0;c>0&&(this.healthyTimeout_=$a(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>lE?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>iE?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(c)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(n){return a=>{n===this.conn_?this.onConnectionLost_(a):n===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(n){return a=>{this.state_!==2&&(n===this.rx_?this.onPrimaryMessageReceived_(a):n===this.secondaryConn_?this.onSecondaryMessageReceived_(a):this.log_("message on old connection"))}}sendRequest(n){const a={t:"d",d:n};this.sendData_(a)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(n){if(ef in n){const a=n[ef];a===ay?this.upgradeIfSecondaryHealthy_():a===iy?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):a===ly&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(n){const a=Va("t",n),s=Va("d",n);if(a==="c")this.onSecondaryControl_(s);else if(a==="d")this.pendingDataMessages.push(s);else throw new Error("Unknown protocol layer: "+a)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:ry,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:ay,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:sy,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(n){const a=Va("t",n),s=Va("d",n);a==="c"?this.onControl_(s):a==="d"&&this.onDataMessage_(s)}onDataMessage_(n){this.onPrimaryResponse_(),this.onMessage_(n)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(n){const a=Va(ef,n);if(ny in n){const s=n[ny];if(a===rE){const c={...s};this.repoInfo_.isUsingEmulator&&(c.h=this.repoInfo_.host),this.onHandshake_(c)}else if(a===sy){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let c=0;c<this.pendingDataMessages.length;++c)this.onDataMessage_(this.pendingDataMessages[c]);this.pendingDataMessages=[],this.tryCleanupConnection()}else a===aE?this.onConnectionShutdown_(s):a===iy?this.onReset_(s):a===sE?pf("Server Error: "+s):a===ly?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):pf("Unknown control packet command: "+a)}}onHandshake_(n){const a=n.ts,s=n.v,c=n.h;this.sessionId=n.s,this.repoInfo_.host=c,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,a),Bf!==s&&bt("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const n=this.transportManager_.upgradeTransport();n&&this.startUpgrade_(n)}startUpgrade_(n){this.secondaryConn_=new n(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=n.responsesRequiredToBeHealthy||0;const a=this.connReceiver_(this.secondaryConn_),s=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(a,s),$a(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(tE))}onReset_(n){this.log_("Reset packet received.  New host: "+n),this.repoInfo_.host=n,this.state_===1?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(n,a){this.log_("Realtime connection established."),this.conn_=n,this.state_=1,this.onReady_&&(this.onReady_(a,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):$a(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(nE))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:ry,d:{}}}))}onSecondaryConnectionLost_(){const n=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===n||this.rx_===n)&&this.close()}onConnectionLost_(n){this.conn_=null,!n&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(ki.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()}onConnectionShutdown_(n){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(n),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(n){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(n)}close(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}class C_{put(n,a,s,c){}merge(n,a,s,c){}refreshAuthToken(n){}refreshAppCheckToken(n){}onDisconnectPut(n,a,s){}onDisconnectMerge(n,a,s){}onDisconnectCancel(n,a){}reportStats(n){}}class T_{constructor(n){this.allowedEvents_=n,this.listeners_={},B(Array.isArray(n)&&n.length>0,"Requires a non-empty array")}trigger(n,...a){if(Array.isArray(this.listeners_[n])){const s=[...this.listeners_[n]];for(let c=0;c<s.length;c++)s[c].callback.apply(s[c].context,a)}}on(n,a,s){this.validateEventType_(n),this.listeners_[n]=this.listeners_[n]||[],this.listeners_[n].push({callback:a,context:s});const c=this.getInitialEvent(n);c&&a.apply(s,c)}off(n,a,s){this.validateEventType_(n);const c=this.listeners_[n]||[];for(let f=0;f<c.length;f++)if(c[f].callback===a&&(!s||s===c[f].context)){c.splice(f,1);return}}validateEventType_(n){B(this.allowedEvents_.find(a=>a===n),"Unknown event: "+n)}}class Fr extends T_{static getInstance(){return new Fr}constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!Zy()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}getInitialEvent(n){return B(n==="online","Unknown event type: "+n),[this.online_]}currentlyOnline(){return this.online_}}const cy=32,oy=768;class Me{constructor(n,a){if(a===void 0){this.pieces_=n.split("/");let s=0;for(let c=0;c<this.pieces_.length;c++)this.pieces_[c].length>0&&(this.pieces_[s]=this.pieces_[c],s++);this.pieces_.length=s,this.pieceNum_=0}else this.pieces_=n,this.pieceNum_=a}toString(){let n="";for(let a=this.pieceNum_;a<this.pieces_.length;a++)this.pieces_[a]!==""&&(n+="/"+this.pieces_[a]);return n||"/"}}function Se(){return new Me("")}function oe(l){return l.pieceNum_>=l.pieces_.length?null:l.pieces_[l.pieceNum_]}function gi(l){return l.pieces_.length-l.pieceNum_}function ze(l){let n=l.pieceNum_;return n<l.pieces_.length&&n++,new Me(l.pieces_,n)}function Gf(l){return l.pieceNum_<l.pieces_.length?l.pieces_[l.pieces_.length-1]:null}function oE(l){let n="";for(let a=l.pieceNum_;a<l.pieces_.length;a++)l.pieces_[a]!==""&&(n+="/"+encodeURIComponent(String(l.pieces_[a])));return n||"/"}function ss(l,n=0){return l.pieces_.slice(l.pieceNum_+n)}function N_(l){if(l.pieceNum_>=l.pieces_.length)return null;const n=[];for(let a=l.pieceNum_;a<l.pieces_.length-1;a++)n.push(l.pieces_[a]);return new Me(n,0)}function Ye(l,n){const a=[];for(let s=l.pieceNum_;s<l.pieces_.length;s++)a.push(l.pieces_[s]);if(n instanceof Me)for(let s=n.pieceNum_;s<n.pieces_.length;s++)a.push(n.pieces_[s]);else{const s=n.split("/");for(let c=0;c<s.length;c++)s[c].length>0&&a.push(s[c])}return new Me(a,0)}function ge(l){return l.pieceNum_>=l.pieces_.length}function vt(l,n){const a=oe(l),s=oe(n);if(a===null)return n;if(a===s)return vt(ze(l),ze(n));throw new Error("INTERNAL ERROR: innerPath ("+n+") is not within outerPath ("+l+")")}function uE(l,n){const a=ss(l,0),s=ss(n,0);for(let c=0;c<a.length&&c<s.length;c++){const f=Vi(a[c],s[c]);if(f!==0)return f}return a.length===s.length?0:a.length<s.length?-1:1}function Yf(l,n){if(gi(l)!==gi(n))return!1;for(let a=l.pieceNum_,s=n.pieceNum_;a<=l.pieces_.length;a++,s++)if(l.pieces_[a]!==n.pieces_[s])return!1;return!0}function Jt(l,n){let a=l.pieceNum_,s=n.pieceNum_;if(gi(l)>gi(n))return!1;for(;a<l.pieces_.length;){if(l.pieces_[a]!==n.pieces_[s])return!1;++a,++s}return!0}class fE{constructor(n,a){this.errorPrefix_=a,this.parts_=ss(n,0),this.byteLength_=Math.max(1,this.parts_.length);for(let s=0;s<this.parts_.length;s++)this.byteLength_+=oc(this.parts_[s]);A_(this)}}function dE(l,n){l.parts_.length>0&&(l.byteLength_+=1),l.parts_.push(n),l.byteLength_+=oc(n),A_(l)}function hE(l){const n=l.parts_.pop();l.byteLength_-=oc(n),l.parts_.length>0&&(l.byteLength_-=1)}function A_(l){if(l.byteLength_>oy)throw new Error(l.errorPrefix_+"has a key path longer than "+oy+" bytes ("+l.byteLength_+").");if(l.parts_.length>cy)throw new Error(l.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+cy+") or object contains a cycle "+Bi(l))}function Bi(l){return l.parts_.length===0?"":"in property '"+l.parts_.join(".")+"'"}class Vf extends T_{static getInstance(){return new Vf}constructor(){super(["visible"]);let n,a;typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(a="visibilitychange",n="hidden"):typeof document.mozHidden<"u"?(a="mozvisibilitychange",n="mozHidden"):typeof document.msHidden<"u"?(a="msvisibilitychange",n="msHidden"):typeof document.webkitHidden<"u"&&(a="webkitvisibilitychange",n="webkitHidden")),this.visible_=!0,a&&document.addEventListener(a,()=>{const s=!document[n];s!==this.visible_&&(this.visible_=s,this.trigger("visible",s))},!1)}getInitialEvent(n){return B(n==="visible","Unknown event type: "+n),[this.visible_]}}const Qa=1e3,mE=300*1e3,uy=30*1e3,gE=1.3,pE=3e4,yE="server_kill",fy=3;class In extends C_{constructor(n,a,s,c,f,d,m,p){if(super(),this.repoInfo_=n,this.applicationId_=a,this.onDataUpdate_=s,this.onConnectStatus_=c,this.onServerInfoUpdate_=f,this.authTokenProvider_=d,this.appCheckTokenProvider_=m,this.authOverride_=p,this.id=In.nextPersistentConnectionId_++,this.log_=ps("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=Qa,this.maxReconnectDelay_=mE,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,p)throw new Error("Auth override specified in options, but not supported on non Node.js platforms");Vf.getInstance().on("visible",this.onVisible_,this),n.host.indexOf("fblocal")===-1&&Fr.getInstance().on("online",this.onOnline_,this)}sendRequest(n,a,s){const c=++this.requestNumber_,f={r:c,a:n,b:a};this.log_(tt(f)),B(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(f),s&&(this.requestCBHash_[c]=s)}get(n){this.initConnection_();const a=new hs,c={action:"g",request:{p:n._path.toString(),q:n._queryObject},onComplete:d=>{const m=d.d;d.s==="ok"?a.resolve(m):a.reject(m)}};this.outstandingGets_.push(c),this.outstandingGetCount_++;const f=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(f),a.promise}listen(n,a,s,c){this.initConnection_();const f=n._queryIdentifier,d=n._path.toString();this.log_("Listen called for "+d+" "+f),this.listens.has(d)||this.listens.set(d,new Map),B(n._queryParams.isDefault()||!n._queryParams.loadsAllData(),"listen() called for non-default but complete query"),B(!this.listens.get(d).has(f),"listen() called twice for same path/queryId.");const m={onComplete:c,hashFn:a,query:n,tag:s};this.listens.get(d).set(f,m),this.connected_&&this.sendListen_(m)}sendGet_(n){const a=this.outstandingGets_[n];this.sendRequest("g",a.request,s=>{delete this.outstandingGets_[n],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),a.onComplete&&a.onComplete(s)})}sendListen_(n){const a=n.query,s=a._path.toString(),c=a._queryIdentifier;this.log_("Listen on "+s+" for "+c);const f={p:s},d="q";n.tag&&(f.q=a._queryObject,f.t=n.tag),f.h=n.hashFn(),this.sendRequest(d,f,m=>{const p=m.d,g=m.s;In.warnOnListenWarnings_(p,a),(this.listens.get(s)&&this.listens.get(s).get(c))===n&&(this.log_("listen response",m),g!=="ok"&&this.removeListen_(s,c),n.onComplete&&n.onComplete(g,p))})}static warnOnListenWarnings_(n,a){if(n&&typeof n=="object"&&dn(n,"w")){const s=Hl(n,"w");if(Array.isArray(s)&&~s.indexOf("no_index")){const c='".indexOn": "'+a._queryParams.getIndex().toString()+'"',f=a._path.toString();bt(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${c} at ${f} to your security rules for better performance.`)}}}refreshAuthToken(n){this.authToken_=n,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(n)}reduceReconnectDelayIfAdminCredential_(n){(n&&n.length===40||nS(n))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=uy)}refreshAppCheckToken(n){this.appCheckToken_=n,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const n=this.authToken_,a=tS(n)?"auth":"gauth",s={cred:n};this.authOverride_===null?s.noauth=!0:typeof this.authOverride_=="object"&&(s.authvar=this.authOverride_),this.sendRequest(a,s,c=>{const f=c.s,d=c.d||"error";this.authToken_===n&&(f==="ok"?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(f,d))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},n=>{const a=n.s,s=n.d||"error";a==="ok"?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(a,s)})}unlisten(n,a){const s=n._path.toString(),c=n._queryIdentifier;this.log_("Unlisten called for "+s+" "+c),B(n._queryParams.isDefault()||!n._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(s,c)&&this.connected_&&this.sendUnlisten_(s,c,n._queryObject,a)}sendUnlisten_(n,a,s,c){this.log_("Unlisten on "+n+" for "+a);const f={p:n},d="n";c&&(f.q=s,f.t=c),this.sendRequest(d,f)}onDisconnectPut(n,a,s){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",n,a,s):this.onDisconnectRequestQueue_.push({pathString:n,action:"o",data:a,onComplete:s})}onDisconnectMerge(n,a,s){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",n,a,s):this.onDisconnectRequestQueue_.push({pathString:n,action:"om",data:a,onComplete:s})}onDisconnectCancel(n,a){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",n,null,a):this.onDisconnectRequestQueue_.push({pathString:n,action:"oc",data:null,onComplete:a})}sendOnDisconnect_(n,a,s,c){const f={p:a,d:s};this.log_("onDisconnect "+n,f),this.sendRequest(n,f,d=>{c&&setTimeout(()=>{c(d.s,d.d)},Math.floor(0))})}put(n,a,s,c){this.putInternal("p",n,a,s,c)}merge(n,a,s,c){this.putInternal("m",n,a,s,c)}putInternal(n,a,s,c,f){this.initConnection_();const d={p:a,d:s};f!==void 0&&(d.h=f),this.outstandingPuts_.push({action:n,request:d,onComplete:c}),this.outstandingPutCount_++;const m=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(m):this.log_("Buffering put: "+a)}sendPut_(n){const a=this.outstandingPuts_[n].action,s=this.outstandingPuts_[n].request,c=this.outstandingPuts_[n].onComplete;this.outstandingPuts_[n].queued=this.connected_,this.sendRequest(a,s,f=>{this.log_(a+" response",f),delete this.outstandingPuts_[n],this.outstandingPutCount_--,this.outstandingPutCount_===0&&(this.outstandingPuts_=[]),c&&c(f.s,f.d)})}reportStats(n){if(this.connected_){const a={c:n};this.log_("reportStats",a),this.sendRequest("s",a,s=>{if(s.s!=="ok"){const f=s.d;this.log_("reportStats","Error sending stats: "+f)}})}}onDataMessage_(n){if("r"in n){this.log_("from server: "+tt(n));const a=n.r,s=this.requestCBHash_[a];s&&(delete this.requestCBHash_[a],s(n.b))}else{if("error"in n)throw"A server-side error has occurred: "+n.error;"a"in n&&this.onDataPush_(n.a,n.b)}}onDataPush_(n,a){this.log_("handleServerMessage",n,a),n==="d"?this.onDataUpdate_(a.p,a.d,!1,a.t):n==="m"?this.onDataUpdate_(a.p,a.d,!0,a.t):n==="c"?this.onListenRevoked_(a.p,a.q):n==="ac"?this.onAuthRevoked_(a.s,a.d):n==="apc"?this.onAppCheckRevoked_(a.s,a.d):n==="sd"?this.onSecurityDebugPacket_(a):pf("Unrecognized action received from server: "+tt(n)+`
Are you using the latest client?`)}onReady_(n,a){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(n),this.lastSessionId=a,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(n){B(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(n))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(n){n&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=Qa,this.realtime_||this.scheduleConnect_(0)),this.visible_=n}onOnline_(n){n?(this.log_("Browser went online."),this.reconnectDelay_=Qa,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>pE&&(this.reconnectDelay_=Qa),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());const n=Math.max(0,new Date().getTime()-this.lastConnectionAttemptTime_);let a=Math.max(0,this.reconnectDelay_-n);a=Math.random()*a,this.log_("Trying to reconnect in "+a+"ms"),this.scheduleConnect_(a),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*gE)}this.onConnectStatus_(!1)}async establishConnection_(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;const n=this.onDataMessage_.bind(this),a=this.onReady_.bind(this),s=this.onRealtimeDisconnect_.bind(this),c=this.id+":"+In.nextConnectionId_++,f=this.lastSessionId;let d=!1,m=null;const p=function(){m?m.close():(d=!0,s())},g=function(v){B(m,"sendRequest call when we're not connected not allowed."),m.sendRequest(v)};this.realtime_={close:p,sendRequest:g};const S=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{const[v,b]=await Promise.all([this.authTokenProvider_.getToken(S),this.appCheckTokenProvider_.getToken(S)]);d?ft("getToken() completed but was canceled"):(ft("getToken() completed. Creating connection."),this.authToken_=v&&v.accessToken,this.appCheckToken_=b&&b.token,m=new cE(c,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,n,a,s,R=>{bt(R+" ("+this.repoInfo_.toString()+")"),this.interrupt(yE)},f))}catch(v){this.log_("Failed to get token: "+v),d||(this.repoInfo_.nodeAdmin&&bt(v),p())}}}interrupt(n){ft("Interrupting connection for reason: "+n),this.interruptReasons_[n]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(n){ft("Resuming connection for reason: "+n),delete this.interruptReasons_[n],kp(this.interruptReasons_)&&(this.reconnectDelay_=Qa,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(n){const a=n-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:a})}cancelSentTransactions_(){for(let n=0;n<this.outstandingPuts_.length;n++){const a=this.outstandingPuts_[n];a&&"h"in a.request&&a.queued&&(a.onComplete&&a.onComplete("disconnect"),delete this.outstandingPuts_[n],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])}onListenRevoked_(n,a){let s;a?s=a.map(f=>Hf(f)).join("$"):s="default";const c=this.removeListen_(n,s);c&&c.onComplete&&c.onComplete("permission_denied")}removeListen_(n,a){const s=new Me(n).toString();let c;if(this.listens.has(s)){const f=this.listens.get(s);c=f.get(a),f.delete(a),f.size===0&&this.listens.delete(s)}else c=void 0;return c}onAuthRevoked_(n,a){ft("Auth token revoked: "+n+"/"+a),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(n==="invalid_token"||n==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=fy&&(this.reconnectDelay_=uy,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(n,a){ft("App check token revoked: "+n+"/"+a),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(n==="invalid_token"||n==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=fy&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(n){this.securityDebugCallback_?this.securityDebugCallback_(n):"msg"in n&&console.log("FIREBASE: "+n.msg.replace(`
`,`
FIREBASE: `))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const n of this.listens.values())for(const a of n.values())this.sendListen_(a);for(let n=0;n<this.outstandingPuts_.length;n++)this.outstandingPuts_[n]&&this.sendPut_(n);for(;this.onDisconnectRequestQueue_.length;){const n=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(n.action,n.pathString,n.data,n.onComplete)}for(let n=0;n<this.outstandingGets_.length;n++)this.outstandingGets_[n]&&this.sendGet_(n)}sendConnectStats_(){const n={};let a="js";n["sdk."+a+"."+i_.replace(/\./g,"-")]=1,Zy()?n["framework.cordova"]=1:Z1()&&(n["framework.reactnative"]=1),this.reportStats(n)}shouldReconnect_(){const n=Fr.getInstance().currentlyOnline();return kp(this.interruptReasons_)&&n}}In.nextPersistentConnectionId_=0;In.nextConnectionId_=0;class ue{constructor(n,a){this.name=n,this.node=a}static Wrap(n,a){return new ue(n,a)}}class uc{getCompare(){return this.compare.bind(this)}indexedValueChanged(n,a){const s=new ue(Bl,n),c=new ue(Bl,a);return this.compare(s,c)!==0}minPost(){return ue.MIN}}let qr;class w_ extends uc{static get __EMPTY_NODE(){return qr}static set __EMPTY_NODE(n){qr=n}compare(n,a){return Vi(n.name,a.name)}isDefinedOn(n){throw Vl("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(n,a){return!1}minPost(){return ue.MIN}maxPost(){return new ue(qi,qr)}makePost(n,a){return B(typeof n=="string","KeyIndex indexValue must always be a string."),new ue(n,qr)}toString(){return".key"}}const Ul=new w_;class Gr{constructor(n,a,s,c,f=null){this.isReverse_=c,this.resultGenerator_=f,this.nodeStack_=[];let d=1;for(;!n.isEmpty();)if(n=n,d=a?s(n.key,a):1,c&&(d*=-1),d<0)this.isReverse_?n=n.left:n=n.right;else if(d===0){this.nodeStack_.push(n);break}else this.nodeStack_.push(n),this.isReverse_?n=n.right:n=n.left}getNext(){if(this.nodeStack_.length===0)return null;let n=this.nodeStack_.pop(),a;if(this.resultGenerator_?a=this.resultGenerator_(n.key,n.value):a={key:n.key,value:n.value},this.isReverse_)for(n=n.left;!n.isEmpty();)this.nodeStack_.push(n),n=n.right;else for(n=n.right;!n.isEmpty();)this.nodeStack_.push(n),n=n.left;return a}hasNext(){return this.nodeStack_.length>0}peek(){if(this.nodeStack_.length===0)return null;const n=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(n.key,n.value):{key:n.key,value:n.value}}}class at{constructor(n,a,s,c,f){this.key=n,this.value=a,this.color=s??at.RED,this.left=c??Rt.EMPTY_NODE,this.right=f??Rt.EMPTY_NODE}copy(n,a,s,c,f){return new at(n??this.key,a??this.value,s??this.color,c??this.left,f??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(n){return this.left.inorderTraversal(n)||!!n(this.key,this.value)||this.right.inorderTraversal(n)}reverseTraversal(n){return this.right.reverseTraversal(n)||n(this.key,this.value)||this.left.reverseTraversal(n)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(n,a,s){let c=this;const f=s(n,c.key);return f<0?c=c.copy(null,null,null,c.left.insert(n,a,s),null):f===0?c=c.copy(null,a,null,null,null):c=c.copy(null,null,null,null,c.right.insert(n,a,s)),c.fixUp_()}removeMin_(){if(this.left.isEmpty())return Rt.EMPTY_NODE;let n=this;return!n.left.isRed_()&&!n.left.left.isRed_()&&(n=n.moveRedLeft_()),n=n.copy(null,null,null,n.left.removeMin_(),null),n.fixUp_()}remove(n,a){let s,c;if(s=this,a(n,s.key)<0)!s.left.isEmpty()&&!s.left.isRed_()&&!s.left.left.isRed_()&&(s=s.moveRedLeft_()),s=s.copy(null,null,null,s.left.remove(n,a),null);else{if(s.left.isRed_()&&(s=s.rotateRight_()),!s.right.isEmpty()&&!s.right.isRed_()&&!s.right.left.isRed_()&&(s=s.moveRedRight_()),a(n,s.key)===0){if(s.right.isEmpty())return Rt.EMPTY_NODE;c=s.right.min_(),s=s.copy(c.key,c.value,null,null,s.right.removeMin_())}s=s.copy(null,null,null,null,s.right.remove(n,a))}return s.fixUp_()}isRed_(){return this.color}fixUp_(){let n=this;return n.right.isRed_()&&!n.left.isRed_()&&(n=n.rotateLeft_()),n.left.isRed_()&&n.left.left.isRed_()&&(n=n.rotateRight_()),n.left.isRed_()&&n.right.isRed_()&&(n=n.colorFlip_()),n}moveRedLeft_(){let n=this.colorFlip_();return n.right.left.isRed_()&&(n=n.copy(null,null,null,null,n.right.rotateRight_()),n=n.rotateLeft_(),n=n.colorFlip_()),n}moveRedRight_(){let n=this.colorFlip_();return n.left.left.isRed_()&&(n=n.rotateRight_(),n=n.colorFlip_()),n}rotateLeft_(){const n=this.copy(null,null,at.RED,null,this.right.left);return this.right.copy(null,null,this.color,n,null)}rotateRight_(){const n=this.copy(null,null,at.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,n)}colorFlip_(){const n=this.left.copy(null,null,!this.left.color,null,null),a=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,n,a)}checkMaxDepth_(){const n=this.check_();return Math.pow(2,n)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const n=this.left.check_();if(n!==this.right.check_())throw new Error("Black depths differ");return n+(this.isRed_()?0:1)}}at.RED=!0;at.BLACK=!1;class _E{copy(n,a,s,c,f){return this}insert(n,a,s){return new at(n,a,null)}remove(n,a){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(n){return!1}reverseTraversal(n){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}}class Rt{constructor(n,a=Rt.EMPTY_NODE){this.comparator_=n,this.root_=a}insert(n,a){return new Rt(this.comparator_,this.root_.insert(n,a,this.comparator_).copy(null,null,at.BLACK,null,null))}remove(n){return new Rt(this.comparator_,this.root_.remove(n,this.comparator_).copy(null,null,at.BLACK,null,null))}get(n){let a,s=this.root_;for(;!s.isEmpty();){if(a=this.comparator_(n,s.key),a===0)return s.value;a<0?s=s.left:a>0&&(s=s.right)}return null}getPredecessorKey(n){let a,s=this.root_,c=null;for(;!s.isEmpty();)if(a=this.comparator_(n,s.key),a===0){if(s.left.isEmpty())return c?c.key:null;for(s=s.left;!s.right.isEmpty();)s=s.right;return s.key}else a<0?s=s.left:a>0&&(c=s,s=s.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(n){return this.root_.inorderTraversal(n)}reverseTraversal(n){return this.root_.reverseTraversal(n)}getIterator(n){return new Gr(this.root_,null,this.comparator_,!1,n)}getIteratorFrom(n,a){return new Gr(this.root_,n,this.comparator_,!1,a)}getReverseIteratorFrom(n,a){return new Gr(this.root_,n,this.comparator_,!0,a)}getReverseIterator(n){return new Gr(this.root_,null,this.comparator_,!0,n)}}Rt.EMPTY_NODE=new _E;function vE(l,n){return Vi(l.name,n.name)}function Qf(l,n){return Vi(l,n)}let _f;function bE(l){_f=l}const R_=function(l){return typeof l=="number"?"number:"+r_(l):"string:"+l},M_=function(l){if(l.isLeafNode()){const n=l.val();B(typeof n=="string"||typeof n=="number"||typeof n=="object"&&dn(n,".sv"),"Priority must be a string or number.")}else B(l===_f||l.isEmpty(),"priority of unexpected type.");B(l===_f||l.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};let dy;class lt{static set __childrenNodeConstructor(n){dy=n}static get __childrenNodeConstructor(){return dy}constructor(n,a=lt.__childrenNodeConstructor.EMPTY_NODE){this.value_=n,this.priorityNode_=a,this.lazyHash_=null,B(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),M_(this.priorityNode_)}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(n){return new lt(this.value_,n)}getImmediateChild(n){return n===".priority"?this.priorityNode_:lt.__childrenNodeConstructor.EMPTY_NODE}getChild(n){return ge(n)?this:oe(n)===".priority"?this.priorityNode_:lt.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(n,a){return null}updateImmediateChild(n,a){return n===".priority"?this.updatePriority(a):a.isEmpty()&&n!==".priority"?this:lt.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(n,a).updatePriority(this.priorityNode_)}updateChild(n,a){const s=oe(n);return s===null?a:a.isEmpty()&&s!==".priority"?this:(B(s!==".priority"||gi(n)===1,".priority must be the last token in a path"),this.updateImmediateChild(s,lt.__childrenNodeConstructor.EMPTY_NODE.updateChild(ze(n),a)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(n,a){return!1}val(n){return n&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(this.lazyHash_===null){let n="";this.priorityNode_.isEmpty()||(n+="priority:"+R_(this.priorityNode_.val())+":");const a=typeof this.value_;n+=a+":",a==="number"?n+=r_(this.value_):n+=this.value_,this.lazyHash_=a_(n)}return this.lazyHash_}getValue(){return this.value_}compareTo(n){return n===lt.__childrenNodeConstructor.EMPTY_NODE?1:n instanceof lt.__childrenNodeConstructor?-1:(B(n.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(n))}compareToLeafNode_(n){const a=typeof n.value_,s=typeof this.value_,c=lt.VALUE_TYPE_ORDER.indexOf(a),f=lt.VALUE_TYPE_ORDER.indexOf(s);return B(c>=0,"Unknown leaf type: "+a),B(f>=0,"Unknown leaf type: "+s),c===f?s==="object"?0:this.value_<n.value_?-1:this.value_===n.value_?0:1:f-c}withIndex(){return this}isIndexed(){return!0}equals(n){if(n===this)return!0;if(n.isLeafNode()){const a=n;return this.value_===a.value_&&this.priorityNode_.equals(a.priorityNode_)}else return!1}}lt.VALUE_TYPE_ORDER=["object","boolean","number","string"];let D_,O_;function SE(l){D_=l}function xE(l){O_=l}class EE extends uc{compare(n,a){const s=n.node.getPriority(),c=a.node.getPriority(),f=s.compareTo(c);return f===0?Vi(n.name,a.name):f}isDefinedOn(n){return!n.getPriority().isEmpty()}indexedValueChanged(n,a){return!n.getPriority().equals(a.getPriority())}minPost(){return ue.MIN}maxPost(){return new ue(qi,new lt("[PRIORITY-POST]",O_))}makePost(n,a){const s=D_(n);return new ue(a,new lt("[PRIORITY-POST]",s))}toString(){return".priority"}}const Ve=new EE;const CE=Math.log(2);class TE{constructor(n){const a=f=>parseInt(Math.log(f)/CE,10),s=f=>parseInt(Array(f+1).join("1"),2);this.count=a(n+1),this.current_=this.count-1;const c=s(this.count);this.bits_=n+1&c}nextBitIsOne(){const n=!(this.bits_&1<<this.current_);return this.current_--,n}}const $r=function(l,n,a,s){l.sort(n);const c=function(p,g){const S=g-p;let v,b;if(S===0)return null;if(S===1)return v=l[p],b=a?a(v):v,new at(b,v.node,at.BLACK,null,null);{const R=parseInt(S/2,10)+p,j=c(p,R),H=c(R+1,g);return v=l[R],b=a?a(v):v,new at(b,v.node,at.BLACK,j,H)}},f=function(p){let g=null,S=null,v=l.length;const b=function(j,H){const G=v-j,U=v;v-=j;const k=c(G+1,U),Q=l[G],W=a?a(Q):Q;R(new at(W,Q.node,H,null,k))},R=function(j){g?(g.left=j,g=j):(S=j,g=j)};for(let j=0;j<p.count;++j){const H=p.nextBitIsOne(),G=Math.pow(2,p.count-(j+1));H?b(G,at.BLACK):(b(G,at.BLACK),b(G,at.RED))}return S},d=new TE(l.length),m=f(d);return new Rt(s||n,m)};let tf;const Dl={};class jn{static get Default(){return B(Dl&&Ve,"ChildrenNode.ts has not been loaded"),tf=tf||new jn({".priority":Dl},{".priority":Ve}),tf}constructor(n,a){this.indexes_=n,this.indexSet_=a}get(n){const a=Hl(this.indexes_,n);if(!a)throw new Error("No index defined for "+n);return a instanceof Rt?a:null}hasIndex(n){return dn(this.indexSet_,n.toString())}addIndex(n,a){B(n!==Ul,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const s=[];let c=!1;const f=a.getIterator(ue.Wrap);let d=f.getNext();for(;d;)c=c||n.isDefinedOn(d.node),s.push(d),d=f.getNext();let m;c?m=$r(s,n.getCompare()):m=Dl;const p=n.toString(),g={...this.indexSet_};g[p]=n;const S={...this.indexes_};return S[p]=m,new jn(S,g)}addToIndexes(n,a){const s=Qr(this.indexes_,(c,f)=>{const d=Hl(this.indexSet_,f);if(B(d,"Missing index implementation for "+f),c===Dl)if(d.isDefinedOn(n.node)){const m=[],p=a.getIterator(ue.Wrap);let g=p.getNext();for(;g;)g.name!==n.name&&m.push(g),g=p.getNext();return m.push(n),$r(m,d.getCompare())}else return Dl;else{const m=a.get(n.name);let p=c;return m&&(p=p.remove(new ue(n.name,m))),p.insert(n,n.node)}});return new jn(s,this.indexSet_)}removeFromIndexes(n,a){const s=Qr(this.indexes_,c=>{if(c===Dl)return c;{const f=a.get(n.name);return f?c.remove(new ue(n.name,f)):c}});return new jn(s,this.indexSet_)}}let Xa;class ee{static get EMPTY_NODE(){return Xa||(Xa=new ee(new Rt(Qf),null,jn.Default))}constructor(n,a,s){this.children_=n,this.priorityNode_=a,this.indexMap_=s,this.lazyHash_=null,this.priorityNode_&&M_(this.priorityNode_),this.children_.isEmpty()&&B(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}isLeafNode(){return!1}getPriority(){return this.priorityNode_||Xa}updatePriority(n){return this.children_.isEmpty()?this:new ee(this.children_,n,this.indexMap_)}getImmediateChild(n){if(n===".priority")return this.getPriority();{const a=this.children_.get(n);return a===null?Xa:a}}getChild(n){const a=oe(n);return a===null?this:this.getImmediateChild(a).getChild(ze(n))}hasChild(n){return this.children_.get(n)!==null}updateImmediateChild(n,a){if(B(a,"We should always be passing snapshot nodes"),n===".priority")return this.updatePriority(a);{const s=new ue(n,a);let c,f;a.isEmpty()?(c=this.children_.remove(n),f=this.indexMap_.removeFromIndexes(s,this.children_)):(c=this.children_.insert(n,a),f=this.indexMap_.addToIndexes(s,this.children_));const d=c.isEmpty()?Xa:this.priorityNode_;return new ee(c,d,f)}}updateChild(n,a){const s=oe(n);if(s===null)return a;{B(oe(n)!==".priority"||gi(n)===1,".priority must be the last token in a path");const c=this.getImmediateChild(s).updateChild(ze(n),a);return this.updateImmediateChild(s,c)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(n){if(this.isEmpty())return null;const a={};let s=0,c=0,f=!0;if(this.forEachChild(Ve,(d,m)=>{a[d]=m.val(n),s++,f&&ee.INTEGER_REGEXP_.test(d)?c=Math.max(c,Number(d)):f=!1}),!n&&f&&c<2*s){const d=[];for(const m in a)d[m]=a[m];return d}else return n&&!this.getPriority().isEmpty()&&(a[".priority"]=this.getPriority().val()),a}hash(){if(this.lazyHash_===null){let n="";this.getPriority().isEmpty()||(n+="priority:"+R_(this.getPriority().val())+":"),this.forEachChild(Ve,(a,s)=>{const c=s.hash();c!==""&&(n+=":"+a+":"+c)}),this.lazyHash_=n===""?"":a_(n)}return this.lazyHash_}getPredecessorChildName(n,a,s){const c=this.resolveIndex_(s);if(c){const f=c.getPredecessorKey(new ue(n,a));return f?f.name:null}else return this.children_.getPredecessorKey(n)}getFirstChildName(n){const a=this.resolveIndex_(n);if(a){const s=a.minKey();return s&&s.name}else return this.children_.minKey()}getFirstChild(n){const a=this.getFirstChildName(n);return a?new ue(a,this.children_.get(a)):null}getLastChildName(n){const a=this.resolveIndex_(n);if(a){const s=a.maxKey();return s&&s.name}else return this.children_.maxKey()}getLastChild(n){const a=this.getLastChildName(n);return a?new ue(a,this.children_.get(a)):null}forEachChild(n,a){const s=this.resolveIndex_(n);return s?s.inorderTraversal(c=>a(c.name,c.node)):this.children_.inorderTraversal(a)}getIterator(n){return this.getIteratorFrom(n.minPost(),n)}getIteratorFrom(n,a){const s=this.resolveIndex_(a);if(s)return s.getIteratorFrom(n,c=>c);{const c=this.children_.getIteratorFrom(n.name,ue.Wrap);let f=c.peek();for(;f!=null&&a.compare(f,n)<0;)c.getNext(),f=c.peek();return c}}getReverseIterator(n){return this.getReverseIteratorFrom(n.maxPost(),n)}getReverseIteratorFrom(n,a){const s=this.resolveIndex_(a);if(s)return s.getReverseIteratorFrom(n,c=>c);{const c=this.children_.getReverseIteratorFrom(n.name,ue.Wrap);let f=c.peek();for(;f!=null&&a.compare(f,n)>0;)c.getNext(),f=c.peek();return c}}compareTo(n){return this.isEmpty()?n.isEmpty()?0:-1:n.isLeafNode()||n.isEmpty()?1:n===ys?-1:0}withIndex(n){if(n===Ul||this.indexMap_.hasIndex(n))return this;{const a=this.indexMap_.addIndex(n,this.children_);return new ee(this.children_,this.priorityNode_,a)}}isIndexed(n){return n===Ul||this.indexMap_.hasIndex(n)}equals(n){if(n===this)return!0;if(n.isLeafNode())return!1;{const a=n;if(this.getPriority().equals(a.getPriority()))if(this.children_.count()===a.children_.count()){const s=this.getIterator(Ve),c=a.getIterator(Ve);let f=s.getNext(),d=c.getNext();for(;f&&d;){if(f.name!==d.name||!f.node.equals(d.node))return!1;f=s.getNext(),d=c.getNext()}return f===null&&d===null}else return!1;else return!1}}resolveIndex_(n){return n===Ul?null:this.indexMap_.get(n.toString())}}ee.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;class NE extends ee{constructor(){super(new Rt(Qf),ee.EMPTY_NODE,jn.Default)}compareTo(n){return n===this?0:1}equals(n){return n===this}getPriority(){return this}getImmediateChild(n){return ee.EMPTY_NODE}isEmpty(){return!1}}const ys=new NE;Object.defineProperties(ue,{MIN:{value:new ue(Bl,ee.EMPTY_NODE)},MAX:{value:new ue(qi,ys)}});w_.__EMPTY_NODE=ee.EMPTY_NODE;lt.__childrenNodeConstructor=ee;bE(ys);xE(ys);const AE=!0;function et(l,n=null){if(l===null)return ee.EMPTY_NODE;if(typeof l=="object"&&".priority"in l&&(n=l[".priority"]),B(n===null||typeof n=="string"||typeof n=="number"||typeof n=="object"&&".sv"in n,"Invalid priority type found: "+typeof n),typeof l=="object"&&".value"in l&&l[".value"]!==null&&(l=l[".value"]),typeof l!="object"||".sv"in l){const a=l;return new lt(a,et(n))}if(!(l instanceof Array)&&AE){const a=[];let s=!1;if(dt(l,(d,m)=>{if(d.substring(0,1)!=="."){const p=et(m);p.isEmpty()||(s=s||!p.getPriority().isEmpty(),a.push(new ue(d,p)))}}),a.length===0)return ee.EMPTY_NODE;const f=$r(a,vE,d=>d.name,Qf);if(s){const d=$r(a,Ve.getCompare());return new ee(f,et(n),new jn({".priority":d},{".priority":Ve}))}else return new ee(f,et(n),jn.Default)}else{let a=ee.EMPTY_NODE;return dt(l,(s,c)=>{if(dn(l,s)&&s.substring(0,1)!=="."){const f=et(c);(f.isLeafNode()||!f.isEmpty())&&(a=a.updateImmediateChild(s,f))}}),a.updatePriority(et(n))}}SE(et);class wE extends uc{constructor(n){super(),this.indexPath_=n,B(!ge(n)&&oe(n)!==".priority","Can't create PathIndex with empty path or .priority key")}extractChild(n){return n.getChild(this.indexPath_)}isDefinedOn(n){return!n.getChild(this.indexPath_).isEmpty()}compare(n,a){const s=this.extractChild(n.node),c=this.extractChild(a.node),f=s.compareTo(c);return f===0?Vi(n.name,a.name):f}makePost(n,a){const s=et(n),c=ee.EMPTY_NODE.updateChild(this.indexPath_,s);return new ue(a,c)}maxPost(){const n=ee.EMPTY_NODE.updateChild(this.indexPath_,ys);return new ue(qi,n)}toString(){return ss(this.indexPath_,0).join("/")}}class RE extends uc{compare(n,a){const s=n.node.compareTo(a.node);return s===0?Vi(n.name,a.name):s}isDefinedOn(n){return!0}indexedValueChanged(n,a){return!n.equals(a)}minPost(){return ue.MIN}maxPost(){return ue.MAX}makePost(n,a){const s=et(n);return new ue(a,s)}toString(){return".value"}}const ME=new RE;function j_(l){return{type:"value",snapshotNode:l}}function kl(l,n){return{type:"child_added",snapshotNode:n,childName:l}}function rs(l,n){return{type:"child_removed",snapshotNode:n,childName:l}}function cs(l,n,a){return{type:"child_changed",snapshotNode:n,childName:l,oldSnap:a}}function DE(l,n){return{type:"child_moved",snapshotNode:n,childName:l}}class Xf{constructor(n){this.index_=n}updateChild(n,a,s,c,f,d){B(n.isIndexed(this.index_),"A node must be indexed if only a child is updated");const m=n.getImmediateChild(a);return m.getChild(c).equals(s.getChild(c))&&m.isEmpty()===s.isEmpty()||(d!=null&&(s.isEmpty()?n.hasChild(a)?d.trackChildChange(rs(a,m)):B(n.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):m.isEmpty()?d.trackChildChange(kl(a,s)):d.trackChildChange(cs(a,s,m))),n.isLeafNode()&&s.isEmpty())?n:n.updateImmediateChild(a,s).withIndex(this.index_)}updateFullNode(n,a,s){return s!=null&&(n.isLeafNode()||n.forEachChild(Ve,(c,f)=>{a.hasChild(c)||s.trackChildChange(rs(c,f))}),a.isLeafNode()||a.forEachChild(Ve,(c,f)=>{if(n.hasChild(c)){const d=n.getImmediateChild(c);d.equals(f)||s.trackChildChange(cs(c,f,d))}else s.trackChildChange(kl(c,f))})),a.withIndex(this.index_)}updatePriority(n,a){return n.isEmpty()?ee.EMPTY_NODE:n.updatePriority(a)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}class os{constructor(n){this.indexedFilter_=new Xf(n.getIndex()),this.index_=n.getIndex(),this.startPost_=os.getStartPost_(n),this.endPost_=os.getEndPost_(n),this.startIsInclusive_=!n.startAfterSet_,this.endIsInclusive_=!n.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(n){const a=this.startIsInclusive_?this.index_.compare(this.getStartPost(),n)<=0:this.index_.compare(this.getStartPost(),n)<0,s=this.endIsInclusive_?this.index_.compare(n,this.getEndPost())<=0:this.index_.compare(n,this.getEndPost())<0;return a&&s}updateChild(n,a,s,c,f,d){return this.matches(new ue(a,s))||(s=ee.EMPTY_NODE),this.indexedFilter_.updateChild(n,a,s,c,f,d)}updateFullNode(n,a,s){a.isLeafNode()&&(a=ee.EMPTY_NODE);let c=a.withIndex(this.index_);c=c.updatePriority(ee.EMPTY_NODE);const f=this;return a.forEachChild(Ve,(d,m)=>{f.matches(new ue(d,m))||(c=c.updateImmediateChild(d,ee.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(n,c,s)}updatePriority(n,a){return n}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(n){if(n.hasStart()){const a=n.getIndexStartName();return n.getIndex().makePost(n.getIndexStartValue(),a)}else return n.getIndex().minPost()}static getEndPost_(n){if(n.hasEnd()){const a=n.getIndexEndName();return n.getIndex().makePost(n.getIndexEndValue(),a)}else return n.getIndex().maxPost()}}class OE{constructor(n){this.withinDirectionalStart=a=>this.reverse_?this.withinEndPost(a):this.withinStartPost(a),this.withinDirectionalEnd=a=>this.reverse_?this.withinStartPost(a):this.withinEndPost(a),this.withinStartPost=a=>{const s=this.index_.compare(this.rangedFilter_.getStartPost(),a);return this.startIsInclusive_?s<=0:s<0},this.withinEndPost=a=>{const s=this.index_.compare(a,this.rangedFilter_.getEndPost());return this.endIsInclusive_?s<=0:s<0},this.rangedFilter_=new os(n),this.index_=n.getIndex(),this.limit_=n.getLimit(),this.reverse_=!n.isViewFromLeft(),this.startIsInclusive_=!n.startAfterSet_,this.endIsInclusive_=!n.endBeforeSet_}updateChild(n,a,s,c,f,d){return this.rangedFilter_.matches(new ue(a,s))||(s=ee.EMPTY_NODE),n.getImmediateChild(a).equals(s)?n:n.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(n,a,s,c,f,d):this.fullLimitUpdateChild_(n,a,s,f,d)}updateFullNode(n,a,s){let c;if(a.isLeafNode()||a.isEmpty())c=ee.EMPTY_NODE.withIndex(this.index_);else if(this.limit_*2<a.numChildren()&&a.isIndexed(this.index_)){c=ee.EMPTY_NODE.withIndex(this.index_);let f;this.reverse_?f=a.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):f=a.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let d=0;for(;f.hasNext()&&d<this.limit_;){const m=f.getNext();if(this.withinDirectionalStart(m))if(this.withinDirectionalEnd(m))c=c.updateImmediateChild(m.name,m.node),d++;else break;else continue}}else{c=a.withIndex(this.index_),c=c.updatePriority(ee.EMPTY_NODE);let f;this.reverse_?f=c.getReverseIterator(this.index_):f=c.getIterator(this.index_);let d=0;for(;f.hasNext();){const m=f.getNext();d<this.limit_&&this.withinDirectionalStart(m)&&this.withinDirectionalEnd(m)?d++:c=c.updateImmediateChild(m.name,ee.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(n,c,s)}updatePriority(n,a){return n}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(n,a,s,c,f){let d;if(this.reverse_){const v=this.index_.getCompare();d=(b,R)=>v(R,b)}else d=this.index_.getCompare();const m=n;B(m.numChildren()===this.limit_,"");const p=new ue(a,s),g=this.reverse_?m.getFirstChild(this.index_):m.getLastChild(this.index_),S=this.rangedFilter_.matches(p);if(m.hasChild(a)){const v=m.getImmediateChild(a);let b=c.getChildAfterChild(this.index_,g,this.reverse_);for(;b!=null&&(b.name===a||m.hasChild(b.name));)b=c.getChildAfterChild(this.index_,b,this.reverse_);const R=b==null?1:d(b,p);if(S&&!s.isEmpty()&&R>=0)return f?.trackChildChange(cs(a,s,v)),m.updateImmediateChild(a,s);{f?.trackChildChange(rs(a,v));const H=m.updateImmediateChild(a,ee.EMPTY_NODE);return b!=null&&this.rangedFilter_.matches(b)?(f?.trackChildChange(kl(b.name,b.node)),H.updateImmediateChild(b.name,b.node)):H}}else return s.isEmpty()?n:S&&d(g,p)>=0?(f!=null&&(f.trackChildChange(rs(g.name,g.node)),f.trackChildChange(kl(a,s))),m.updateImmediateChild(a,s).updateImmediateChild(g.name,ee.EMPTY_NODE)):n}}class Pf{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=Ve}hasStart(){return this.startSet_}isViewFromLeft(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"}getIndexStartValue(){return B(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return B(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:Bl}hasEnd(){return this.endSet_}getIndexEndValue(){return B(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return B(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:qi}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&this.viewFrom_!==""}getLimit(){return B(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===Ve}copy(){const n=new Pf;return n.limitSet_=this.limitSet_,n.limit_=this.limit_,n.startSet_=this.startSet_,n.startAfterSet_=this.startAfterSet_,n.indexStartValue_=this.indexStartValue_,n.startNameSet_=this.startNameSet_,n.indexStartName_=this.indexStartName_,n.endSet_=this.endSet_,n.endBeforeSet_=this.endBeforeSet_,n.indexEndValue_=this.indexEndValue_,n.endNameSet_=this.endNameSet_,n.indexEndName_=this.indexEndName_,n.index_=this.index_,n.viewFrom_=this.viewFrom_,n}}function jE(l){return l.loadsAllData()?new Xf(l.getIndex()):l.hasLimit()?new OE(l):new os(l)}function hy(l){const n={};if(l.isDefault())return n;let a;if(l.index_===Ve?a="$priority":l.index_===ME?a="$value":l.index_===Ul?a="$key":(B(l.index_ instanceof wE,"Unrecognized index type!"),a=l.index_.toString()),n.orderBy=tt(a),l.startSet_){const s=l.startAfterSet_?"startAfter":"startAt";n[s]=tt(l.indexStartValue_),l.startNameSet_&&(n[s]+=","+tt(l.indexStartName_))}if(l.endSet_){const s=l.endBeforeSet_?"endBefore":"endAt";n[s]=tt(l.indexEndValue_),l.endNameSet_&&(n[s]+=","+tt(l.indexEndName_))}return l.limitSet_&&(l.isViewFromLeft()?n.limitToFirst=l.limit_:n.limitToLast=l.limit_),n}function my(l){const n={};if(l.startSet_&&(n.sp=l.indexStartValue_,l.startNameSet_&&(n.sn=l.indexStartName_),n.sin=!l.startAfterSet_),l.endSet_&&(n.ep=l.indexEndValue_,l.endNameSet_&&(n.en=l.indexEndName_),n.ein=!l.endBeforeSet_),l.limitSet_){n.l=l.limit_;let a=l.viewFrom_;a===""&&(l.isViewFromLeft()?a="l":a="r"),n.vf=a}return l.index_!==Ve&&(n.i=l.index_.toString()),n}class Jr extends C_{reportStats(n){throw new Error("Method not implemented.")}static getListenId_(n,a){return a!==void 0?"tag$"+a:(B(n._queryParams.isDefault(),"should have a tag if it's not a default query."),n._path.toString())}constructor(n,a,s,c){super(),this.repoInfo_=n,this.onDataUpdate_=a,this.authTokenProvider_=s,this.appCheckTokenProvider_=c,this.log_=ps("p:rest:"),this.listens_={}}listen(n,a,s,c){const f=n._path.toString();this.log_("Listen called for "+f+" "+n._queryIdentifier);const d=Jr.getListenId_(n,s),m={};this.listens_[d]=m;const p=hy(n._queryParams);this.restRequest_(f+".json",p,(g,S)=>{let v=S;if(g===404&&(v=null,g=null),g===null&&this.onDataUpdate_(f,v,!1,s),Hl(this.listens_,d)===m){let b;g?g===401?b="permission_denied":b="rest_error:"+g:b="ok",c(b,null)}})}unlisten(n,a){const s=Jr.getListenId_(n,a);delete this.listens_[s]}get(n){const a=hy(n._queryParams),s=n._path.toString(),c=new hs;return this.restRequest_(s+".json",a,(f,d)=>{let m=d;f===404&&(m=null,f=null),f===null?(this.onDataUpdate_(s,m,!1,null),c.resolve(m)):c.reject(new Error(m))}),c.promise}refreshAuthToken(n){}restRequest_(n,a={},s){return a.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([c,f])=>{c&&c.accessToken&&(a.auth=c.accessToken),f&&f.token&&(a.ac=f.token);const d=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+n+"?ns="+this.repoInfo_.namespace+iS(a);this.log_("Sending REST request for "+d);const m=new XMLHttpRequest;m.onreadystatechange=()=>{if(s&&m.readyState===4){this.log_("REST Response for "+d+" received. status:",m.status,"response:",m.responseText);let p=null;if(m.status>=200&&m.status<300){try{p=ns(m.responseText)}catch{bt("Failed to parse JSON response for "+d+": "+m.responseText)}s(null,p)}else m.status!==401&&m.status!==404&&bt("Got unsuccessful REST response for "+d+" Status: "+m.status),s(m.status);s=null}},m.open("GET",d,!0),m.send()})}}class IE{constructor(){this.rootNode_=ee.EMPTY_NODE}getNode(n){return this.rootNode_.getChild(n)}updateSnapshot(n,a){this.rootNode_=this.rootNode_.updateChild(n,a)}}function Wr(){return{value:null,children:new Map}}function I_(l,n,a){if(ge(n))l.value=a,l.children.clear();else if(l.value!==null)l.value=l.value.updateChild(n,a);else{const s=oe(n);l.children.has(s)||l.children.set(s,Wr());const c=l.children.get(s);n=ze(n),I_(c,n,a)}}function vf(l,n,a){l.value!==null?a(n,l.value):zE(l,(s,c)=>{const f=new Me(n.toString()+"/"+s);vf(c,f,a)})}function zE(l,n){l.children.forEach((a,s)=>{n(s,a)})}class LE{constructor(n){this.collection_=n,this.last_=null}get(){const n=this.collection_.get(),a={...n};return this.last_&&dt(this.last_,(s,c)=>{a[s]=a[s]-c}),this.last_=n,a}}const gy=10*1e3,UE=30*1e3,HE=300*1e3;class BE{constructor(n,a){this.server_=a,this.statsToReport_={},this.statsListener_=new LE(n);const s=gy+(UE-gy)*Math.random();$a(this.reportStats_.bind(this),Math.floor(s))}reportStats_(){const n=this.statsListener_.get(),a={};let s=!1;dt(n,(c,f)=>{f>0&&dn(this.statsToReport_,c)&&(a[c]=f,s=!0)}),s&&this.server_.reportStats(a),$a(this.reportStats_.bind(this),Math.floor(Math.random()*2*HE))}}var sn;(function(l){l[l.OVERWRITE=0]="OVERWRITE",l[l.MERGE=1]="MERGE",l[l.ACK_USER_WRITE=2]="ACK_USER_WRITE",l[l.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"})(sn||(sn={}));function Zf(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function Kf(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function Ff(l){return{fromUser:!1,fromServer:!0,queryId:l,tagged:!0}}class ec{constructor(n,a,s){this.path=n,this.affectedTree=a,this.revert=s,this.type=sn.ACK_USER_WRITE,this.source=Zf()}operationForChild(n){if(ge(this.path)){if(this.affectedTree.value!=null)return B(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const a=this.affectedTree.subtree(new Me(n));return new ec(Se(),a,this.revert)}}else return B(oe(this.path)===n,"operationForChild called for unrelated child."),new ec(ze(this.path),this.affectedTree,this.revert)}}class us{constructor(n,a){this.source=n,this.path=a,this.type=sn.LISTEN_COMPLETE}operationForChild(n){return ge(this.path)?new us(this.source,Se()):new us(this.source,ze(this.path))}}class Gi{constructor(n,a,s){this.source=n,this.path=a,this.snap=s,this.type=sn.OVERWRITE}operationForChild(n){return ge(this.path)?new Gi(this.source,Se(),this.snap.getImmediateChild(n)):new Gi(this.source,ze(this.path),this.snap)}}class ql{constructor(n,a,s){this.source=n,this.path=a,this.children=s,this.type=sn.MERGE}operationForChild(n){if(ge(this.path)){const a=this.children.subtree(new Me(n));return a.isEmpty()?null:a.value?new Gi(this.source,Se(),a.value):new ql(this.source,Se(),a)}else return B(oe(this.path)===n,"Can't get a merge for a child not on the path of the operation"),new ql(this.source,ze(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}class pi{constructor(n,a,s){this.node_=n,this.fullyInitialized_=a,this.filtered_=s}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(n){if(ge(n))return this.isFullyInitialized()&&!this.filtered_;const a=oe(n);return this.isCompleteForChild(a)}isCompleteForChild(n){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(n)}getNode(){return this.node_}}class kE{constructor(n){this.query_=n,this.index_=this.query_._queryParams.getIndex()}}function qE(l,n,a,s){const c=[],f=[];return n.forEach(d=>{d.type==="child_changed"&&l.index_.indexedValueChanged(d.oldSnap,d.snapshotNode)&&f.push(DE(d.childName,d.snapshotNode))}),Pa(l,c,"child_removed",n,s,a),Pa(l,c,"child_added",n,s,a),Pa(l,c,"child_moved",f,s,a),Pa(l,c,"child_changed",n,s,a),Pa(l,c,"value",n,s,a),c}function Pa(l,n,a,s,c,f){const d=s.filter(m=>m.type===a);d.sort((m,p)=>YE(l,m,p)),d.forEach(m=>{const p=GE(l,m,f);c.forEach(g=>{g.respondsTo(m.type)&&n.push(g.createEvent(p,l.query_))})})}function GE(l,n,a){return n.type==="value"||n.type==="child_removed"||(n.prevName=a.getPredecessorChildName(n.childName,n.snapshotNode,l.index_)),n}function YE(l,n,a){if(n.childName==null||a.childName==null)throw Vl("Should only compare child_ events.");const s=new ue(n.childName,n.snapshotNode),c=new ue(a.childName,a.snapshotNode);return l.index_.compare(s,c)}function fc(l,n){return{eventCache:l,serverCache:n}}function Ja(l,n,a,s){return fc(new pi(n,a,s),l.serverCache)}function z_(l,n,a,s){return fc(l.eventCache,new pi(n,a,s))}function tc(l){return l.eventCache.isFullyInitialized()?l.eventCache.getNode():null}function Yi(l){return l.serverCache.isFullyInitialized()?l.serverCache.getNode():null}let nf;const VE=()=>(nf||(nf=new Rt(wx)),nf);class je{static fromObject(n){let a=new je(null);return dt(n,(s,c)=>{a=a.set(new Me(s),c)}),a}constructor(n,a=VE()){this.value=n,this.children=a}isEmpty(){return this.value===null&&this.children.isEmpty()}findRootMostMatchingPathAndValue(n,a){if(this.value!=null&&a(this.value))return{path:Se(),value:this.value};if(ge(n))return null;{const s=oe(n),c=this.children.get(s);if(c!==null){const f=c.findRootMostMatchingPathAndValue(ze(n),a);return f!=null?{path:Ye(new Me(s),f.path),value:f.value}:null}else return null}}findRootMostValueAndPath(n){return this.findRootMostMatchingPathAndValue(n,()=>!0)}subtree(n){if(ge(n))return this;{const a=oe(n),s=this.children.get(a);return s!==null?s.subtree(ze(n)):new je(null)}}set(n,a){if(ge(n))return new je(a,this.children);{const s=oe(n),f=(this.children.get(s)||new je(null)).set(ze(n),a),d=this.children.insert(s,f);return new je(this.value,d)}}remove(n){if(ge(n))return this.children.isEmpty()?new je(null):new je(null,this.children);{const a=oe(n),s=this.children.get(a);if(s){const c=s.remove(ze(n));let f;return c.isEmpty()?f=this.children.remove(a):f=this.children.insert(a,c),this.value===null&&f.isEmpty()?new je(null):new je(this.value,f)}else return this}}get(n){if(ge(n))return this.value;{const a=oe(n),s=this.children.get(a);return s?s.get(ze(n)):null}}setTree(n,a){if(ge(n))return a;{const s=oe(n),f=(this.children.get(s)||new je(null)).setTree(ze(n),a);let d;return f.isEmpty()?d=this.children.remove(s):d=this.children.insert(s,f),new je(this.value,d)}}fold(n){return this.fold_(Se(),n)}fold_(n,a){const s={};return this.children.inorderTraversal((c,f)=>{s[c]=f.fold_(Ye(n,c),a)}),a(n,this.value,s)}findOnPath(n,a){return this.findOnPath_(n,Se(),a)}findOnPath_(n,a,s){const c=this.value?s(a,this.value):!1;if(c)return c;if(ge(n))return null;{const f=oe(n),d=this.children.get(f);return d?d.findOnPath_(ze(n),Ye(a,f),s):null}}foreachOnPath(n,a){return this.foreachOnPath_(n,Se(),a)}foreachOnPath_(n,a,s){if(ge(n))return this;{this.value&&s(a,this.value);const c=oe(n),f=this.children.get(c);return f?f.foreachOnPath_(ze(n),Ye(a,c),s):new je(null)}}foreach(n){this.foreach_(Se(),n)}foreach_(n,a){this.children.inorderTraversal((s,c)=>{c.foreach_(Ye(n,s),a)}),this.value&&a(n,this.value)}foreachChild(n){this.children.inorderTraversal((a,s)=>{s.value&&n(a,s.value)})}}class rn{constructor(n){this.writeTree_=n}static empty(){return new rn(new je(null))}}function Wa(l,n,a){if(ge(n))return new rn(new je(a));{const s=l.writeTree_.findRootMostValueAndPath(n);if(s!=null){const c=s.path;let f=s.value;const d=vt(c,n);return f=f.updateChild(d,a),new rn(l.writeTree_.set(c,f))}else{const c=new je(a),f=l.writeTree_.setTree(n,c);return new rn(f)}}}function bf(l,n,a){let s=l;return dt(a,(c,f)=>{s=Wa(s,Ye(n,c),f)}),s}function py(l,n){if(ge(n))return rn.empty();{const a=l.writeTree_.setTree(n,new je(null));return new rn(a)}}function Sf(l,n){return Qi(l,n)!=null}function Qi(l,n){const a=l.writeTree_.findRootMostValueAndPath(n);return a!=null?l.writeTree_.get(a.path).getChild(vt(a.path,n)):null}function yy(l){const n=[],a=l.writeTree_.value;return a!=null?a.isLeafNode()||a.forEachChild(Ve,(s,c)=>{n.push(new ue(s,c))}):l.writeTree_.children.inorderTraversal((s,c)=>{c.value!=null&&n.push(new ue(s,c.value))}),n}function hi(l,n){if(ge(n))return l;{const a=Qi(l,n);return a!=null?new rn(new je(a)):new rn(l.writeTree_.subtree(n))}}function xf(l){return l.writeTree_.isEmpty()}function Gl(l,n){return L_(Se(),l.writeTree_,n)}function L_(l,n,a){if(n.value!=null)return a.updateChild(l,n.value);{let s=null;return n.children.inorderTraversal((c,f)=>{c===".priority"?(B(f.value!==null,"Priority writes must always be leaf nodes"),s=f.value):a=L_(Ye(l,c),f,a)}),!a.getChild(l).isEmpty()&&s!==null&&(a=a.updateChild(Ye(l,".priority"),s)),a}}function dc(l,n){return k_(n,l)}function QE(l,n,a,s,c){B(s>l.lastWriteId,"Stacking an older write on top of newer ones"),c===void 0&&(c=!0),l.allWrites.push({path:n,snap:a,writeId:s,visible:c}),c&&(l.visibleWrites=Wa(l.visibleWrites,n,a)),l.lastWriteId=s}function XE(l,n,a,s){B(s>l.lastWriteId,"Stacking an older merge on top of newer ones"),l.allWrites.push({path:n,children:a,writeId:s,visible:!0}),l.visibleWrites=bf(l.visibleWrites,n,a),l.lastWriteId=s}function PE(l,n){for(let a=0;a<l.allWrites.length;a++){const s=l.allWrites[a];if(s.writeId===n)return s}return null}function ZE(l,n){const a=l.allWrites.findIndex(m=>m.writeId===n);B(a>=0,"removeWrite called with nonexistent writeId.");const s=l.allWrites[a];l.allWrites.splice(a,1);let c=s.visible,f=!1,d=l.allWrites.length-1;for(;c&&d>=0;){const m=l.allWrites[d];m.visible&&(d>=a&&KE(m,s.path)?c=!1:Jt(s.path,m.path)&&(f=!0)),d--}if(c){if(f)return FE(l),!0;if(s.snap)l.visibleWrites=py(l.visibleWrites,s.path);else{const m=s.children;dt(m,p=>{l.visibleWrites=py(l.visibleWrites,Ye(s.path,p))})}return!0}else return!1}function KE(l,n){if(l.snap)return Jt(l.path,n);for(const a in l.children)if(l.children.hasOwnProperty(a)&&Jt(Ye(l.path,a),n))return!0;return!1}function FE(l){l.visibleWrites=U_(l.allWrites,$E,Se()),l.allWrites.length>0?l.lastWriteId=l.allWrites[l.allWrites.length-1].writeId:l.lastWriteId=-1}function $E(l){return l.visible}function U_(l,n,a){let s=rn.empty();for(let c=0;c<l.length;++c){const f=l[c];if(n(f)){const d=f.path;let m;if(f.snap)Jt(a,d)?(m=vt(a,d),s=Wa(s,m,f.snap)):Jt(d,a)&&(m=vt(d,a),s=Wa(s,Se(),f.snap.getChild(m)));else if(f.children){if(Jt(a,d))m=vt(a,d),s=bf(s,m,f.children);else if(Jt(d,a))if(m=vt(d,a),ge(m))s=bf(s,Se(),f.children);else{const p=Hl(f.children,oe(m));if(p){const g=p.getChild(ze(m));s=Wa(s,Se(),g)}}}else throw Vl("WriteRecord should have .snap or .children")}}return s}function H_(l,n,a,s,c){if(!s&&!c){const f=Qi(l.visibleWrites,n);if(f!=null)return f;{const d=hi(l.visibleWrites,n);if(xf(d))return a;if(a==null&&!Sf(d,Se()))return null;{const m=a||ee.EMPTY_NODE;return Gl(d,m)}}}else{const f=hi(l.visibleWrites,n);if(!c&&xf(f))return a;if(!c&&a==null&&!Sf(f,Se()))return null;{const d=function(g){return(g.visible||c)&&(!s||!~s.indexOf(g.writeId))&&(Jt(g.path,n)||Jt(n,g.path))},m=U_(l.allWrites,d,n),p=a||ee.EMPTY_NODE;return Gl(m,p)}}}function JE(l,n,a){let s=ee.EMPTY_NODE;const c=Qi(l.visibleWrites,n);if(c)return c.isLeafNode()||c.forEachChild(Ve,(f,d)=>{s=s.updateImmediateChild(f,d)}),s;if(a){const f=hi(l.visibleWrites,n);return a.forEachChild(Ve,(d,m)=>{const p=Gl(hi(f,new Me(d)),m);s=s.updateImmediateChild(d,p)}),yy(f).forEach(d=>{s=s.updateImmediateChild(d.name,d.node)}),s}else{const f=hi(l.visibleWrites,n);return yy(f).forEach(d=>{s=s.updateImmediateChild(d.name,d.node)}),s}}function WE(l,n,a,s,c){B(s||c,"Either existingEventSnap or existingServerSnap must exist");const f=Ye(n,a);if(Sf(l.visibleWrites,f))return null;{const d=hi(l.visibleWrites,f);return xf(d)?c.getChild(a):Gl(d,c.getChild(a))}}function eC(l,n,a,s){const c=Ye(n,a),f=Qi(l.visibleWrites,c);if(f!=null)return f;if(s.isCompleteForChild(a)){const d=hi(l.visibleWrites,c);return Gl(d,s.getNode().getImmediateChild(a))}else return null}function tC(l,n){return Qi(l.visibleWrites,n)}function nC(l,n,a,s,c,f,d){let m;const p=hi(l.visibleWrites,n),g=Qi(p,Se());if(g!=null)m=g;else if(a!=null)m=Gl(p,a);else return[];if(m=m.withIndex(d),!m.isEmpty()&&!m.isLeafNode()){const S=[],v=d.getCompare(),b=f?m.getReverseIteratorFrom(s,d):m.getIteratorFrom(s,d);let R=b.getNext();for(;R&&S.length<c;)v(R,s)!==0&&S.push(R),R=b.getNext();return S}else return[]}function iC(){return{visibleWrites:rn.empty(),allWrites:[],lastWriteId:-1}}function nc(l,n,a,s){return H_(l.writeTree,l.treePath,n,a,s)}function $f(l,n){return JE(l.writeTree,l.treePath,n)}function _y(l,n,a,s){return WE(l.writeTree,l.treePath,n,a,s)}function ic(l,n){return tC(l.writeTree,Ye(l.treePath,n))}function lC(l,n,a,s,c,f){return nC(l.writeTree,l.treePath,n,a,s,c,f)}function Jf(l,n,a){return eC(l.writeTree,l.treePath,n,a)}function B_(l,n){return k_(Ye(l.treePath,n),l.writeTree)}function k_(l,n){return{treePath:l,writeTree:n}}class aC{constructor(){this.changeMap=new Map}trackChildChange(n){const a=n.type,s=n.childName;B(a==="child_added"||a==="child_changed"||a==="child_removed","Only child changes supported for tracking"),B(s!==".priority","Only non-priority child changes can be tracked.");const c=this.changeMap.get(s);if(c){const f=c.type;if(a==="child_added"&&f==="child_removed")this.changeMap.set(s,cs(s,n.snapshotNode,c.snapshotNode));else if(a==="child_removed"&&f==="child_added")this.changeMap.delete(s);else if(a==="child_removed"&&f==="child_changed")this.changeMap.set(s,rs(s,c.oldSnap));else if(a==="child_changed"&&f==="child_added")this.changeMap.set(s,kl(s,n.snapshotNode));else if(a==="child_changed"&&f==="child_changed")this.changeMap.set(s,cs(s,n.snapshotNode,c.oldSnap));else throw Vl("Illegal combination of changes: "+n+" occurred after "+c)}else this.changeMap.set(s,n)}getChanges(){return Array.from(this.changeMap.values())}}class sC{getCompleteChild(n){return null}getChildAfterChild(n,a,s){return null}}const q_=new sC;class Wf{constructor(n,a,s=null){this.writes_=n,this.viewCache_=a,this.optCompleteServerCache_=s}getCompleteChild(n){const a=this.viewCache_.eventCache;if(a.isCompleteForChild(n))return a.getNode().getImmediateChild(n);{const s=this.optCompleteServerCache_!=null?new pi(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return Jf(this.writes_,n,s)}}getChildAfterChild(n,a,s){const c=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:Yi(this.viewCache_),f=lC(this.writes_,c,a,1,s,n);return f.length===0?null:f[0]}}function rC(l){return{filter:l}}function cC(l,n){B(n.eventCache.getNode().isIndexed(l.filter.getIndex()),"Event snap not indexed"),B(n.serverCache.getNode().isIndexed(l.filter.getIndex()),"Server snap not indexed")}function oC(l,n,a,s,c){const f=new aC;let d,m;if(a.type===sn.OVERWRITE){const g=a;g.source.fromUser?d=Ef(l,n,g.path,g.snap,s,c,f):(B(g.source.fromServer,"Unknown source."),m=g.source.tagged||n.serverCache.isFiltered()&&!ge(g.path),d=lc(l,n,g.path,g.snap,s,c,m,f))}else if(a.type===sn.MERGE){const g=a;g.source.fromUser?d=fC(l,n,g.path,g.children,s,c,f):(B(g.source.fromServer,"Unknown source."),m=g.source.tagged||n.serverCache.isFiltered(),d=Cf(l,n,g.path,g.children,s,c,m,f))}else if(a.type===sn.ACK_USER_WRITE){const g=a;g.revert?d=mC(l,n,g.path,s,c,f):d=dC(l,n,g.path,g.affectedTree,s,c,f)}else if(a.type===sn.LISTEN_COMPLETE)d=hC(l,n,a.path,s,f);else throw Vl("Unknown operation type: "+a.type);const p=f.getChanges();return uC(n,d,p),{viewCache:d,changes:p}}function uC(l,n,a){const s=n.eventCache;if(s.isFullyInitialized()){const c=s.getNode().isLeafNode()||s.getNode().isEmpty(),f=tc(l);(a.length>0||!l.eventCache.isFullyInitialized()||c&&!s.getNode().equals(f)||!s.getNode().getPriority().equals(f.getPriority()))&&a.push(j_(tc(n)))}}function G_(l,n,a,s,c,f){const d=n.eventCache;if(ic(s,a)!=null)return n;{let m,p;if(ge(a))if(B(n.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),n.serverCache.isFiltered()){const g=Yi(n),S=g instanceof ee?g:ee.EMPTY_NODE,v=$f(s,S);m=l.filter.updateFullNode(n.eventCache.getNode(),v,f)}else{const g=nc(s,Yi(n));m=l.filter.updateFullNode(n.eventCache.getNode(),g,f)}else{const g=oe(a);if(g===".priority"){B(gi(a)===1,"Can't have a priority with additional path components");const S=d.getNode();p=n.serverCache.getNode();const v=_y(s,a,S,p);v!=null?m=l.filter.updatePriority(S,v):m=d.getNode()}else{const S=ze(a);let v;if(d.isCompleteForChild(g)){p=n.serverCache.getNode();const b=_y(s,a,d.getNode(),p);b!=null?v=d.getNode().getImmediateChild(g).updateChild(S,b):v=d.getNode().getImmediateChild(g)}else v=Jf(s,g,n.serverCache);v!=null?m=l.filter.updateChild(d.getNode(),g,v,S,c,f):m=d.getNode()}}return Ja(n,m,d.isFullyInitialized()||ge(a),l.filter.filtersNodes())}}function lc(l,n,a,s,c,f,d,m){const p=n.serverCache;let g;const S=d?l.filter:l.filter.getIndexedFilter();if(ge(a))g=S.updateFullNode(p.getNode(),s,null);else if(S.filtersNodes()&&!p.isFiltered()){const R=p.getNode().updateChild(a,s);g=S.updateFullNode(p.getNode(),R,null)}else{const R=oe(a);if(!p.isCompleteForPath(a)&&gi(a)>1)return n;const j=ze(a),G=p.getNode().getImmediateChild(R).updateChild(j,s);R===".priority"?g=S.updatePriority(p.getNode(),G):g=S.updateChild(p.getNode(),R,G,j,q_,null)}const v=z_(n,g,p.isFullyInitialized()||ge(a),S.filtersNodes()),b=new Wf(c,v,f);return G_(l,v,a,c,b,m)}function Ef(l,n,a,s,c,f,d){const m=n.eventCache;let p,g;const S=new Wf(c,n,f);if(ge(a))g=l.filter.updateFullNode(n.eventCache.getNode(),s,d),p=Ja(n,g,!0,l.filter.filtersNodes());else{const v=oe(a);if(v===".priority")g=l.filter.updatePriority(n.eventCache.getNode(),s),p=Ja(n,g,m.isFullyInitialized(),m.isFiltered());else{const b=ze(a),R=m.getNode().getImmediateChild(v);let j;if(ge(b))j=s;else{const H=S.getCompleteChild(v);H!=null?Gf(b)===".priority"&&H.getChild(N_(b)).isEmpty()?j=H:j=H.updateChild(b,s):j=ee.EMPTY_NODE}if(R.equals(j))p=n;else{const H=l.filter.updateChild(m.getNode(),v,j,b,S,d);p=Ja(n,H,m.isFullyInitialized(),l.filter.filtersNodes())}}}return p}function vy(l,n){return l.eventCache.isCompleteForChild(n)}function fC(l,n,a,s,c,f,d){let m=n;return s.foreach((p,g)=>{const S=Ye(a,p);vy(n,oe(S))&&(m=Ef(l,m,S,g,c,f,d))}),s.foreach((p,g)=>{const S=Ye(a,p);vy(n,oe(S))||(m=Ef(l,m,S,g,c,f,d))}),m}function by(l,n,a){return a.foreach((s,c)=>{n=n.updateChild(s,c)}),n}function Cf(l,n,a,s,c,f,d,m){if(n.serverCache.getNode().isEmpty()&&!n.serverCache.isFullyInitialized())return n;let p=n,g;ge(a)?g=s:g=new je(null).setTree(a,s);const S=n.serverCache.getNode();return g.children.inorderTraversal((v,b)=>{if(S.hasChild(v)){const R=n.serverCache.getNode().getImmediateChild(v),j=by(l,R,b);p=lc(l,p,new Me(v),j,c,f,d,m)}}),g.children.inorderTraversal((v,b)=>{const R=!n.serverCache.isCompleteForChild(v)&&b.value===null;if(!S.hasChild(v)&&!R){const j=n.serverCache.getNode().getImmediateChild(v),H=by(l,j,b);p=lc(l,p,new Me(v),H,c,f,d,m)}}),p}function dC(l,n,a,s,c,f,d){if(ic(c,a)!=null)return n;const m=n.serverCache.isFiltered(),p=n.serverCache;if(s.value!=null){if(ge(a)&&p.isFullyInitialized()||p.isCompleteForPath(a))return lc(l,n,a,p.getNode().getChild(a),c,f,m,d);if(ge(a)){let g=new je(null);return p.getNode().forEachChild(Ul,(S,v)=>{g=g.set(new Me(S),v)}),Cf(l,n,a,g,c,f,m,d)}else return n}else{let g=new je(null);return s.foreach((S,v)=>{const b=Ye(a,S);p.isCompleteForPath(b)&&(g=g.set(S,p.getNode().getChild(b)))}),Cf(l,n,a,g,c,f,m,d)}}function hC(l,n,a,s,c){const f=n.serverCache,d=z_(n,f.getNode(),f.isFullyInitialized()||ge(a),f.isFiltered());return G_(l,d,a,s,q_,c)}function mC(l,n,a,s,c,f){let d;if(ic(s,a)!=null)return n;{const m=new Wf(s,n,c),p=n.eventCache.getNode();let g;if(ge(a)||oe(a)===".priority"){let S;if(n.serverCache.isFullyInitialized())S=nc(s,Yi(n));else{const v=n.serverCache.getNode();B(v instanceof ee,"serverChildren would be complete if leaf node"),S=$f(s,v)}S=S,g=l.filter.updateFullNode(p,S,f)}else{const S=oe(a);let v=Jf(s,S,n.serverCache);v==null&&n.serverCache.isCompleteForChild(S)&&(v=p.getImmediateChild(S)),v!=null?g=l.filter.updateChild(p,S,v,ze(a),m,f):n.eventCache.getNode().hasChild(S)?g=l.filter.updateChild(p,S,ee.EMPTY_NODE,ze(a),m,f):g=p,g.isEmpty()&&n.serverCache.isFullyInitialized()&&(d=nc(s,Yi(n)),d.isLeafNode()&&(g=l.filter.updateFullNode(g,d,f)))}return d=n.serverCache.isFullyInitialized()||ic(s,Se())!=null,Ja(n,g,d,l.filter.filtersNodes())}}class gC{constructor(n,a){this.query_=n,this.eventRegistrations_=[];const s=this.query_._queryParams,c=new Xf(s.getIndex()),f=jE(s);this.processor_=rC(f);const d=a.serverCache,m=a.eventCache,p=c.updateFullNode(ee.EMPTY_NODE,d.getNode(),null),g=f.updateFullNode(ee.EMPTY_NODE,m.getNode(),null),S=new pi(p,d.isFullyInitialized(),c.filtersNodes()),v=new pi(g,m.isFullyInitialized(),f.filtersNodes());this.viewCache_=fc(v,S),this.eventGenerator_=new kE(this.query_)}get query(){return this.query_}}function pC(l){return l.viewCache_.serverCache.getNode()}function yC(l){return tc(l.viewCache_)}function _C(l,n){const a=Yi(l.viewCache_);return a&&(l.query._queryParams.loadsAllData()||!ge(n)&&!a.getImmediateChild(oe(n)).isEmpty())?a.getChild(n):null}function Sy(l){return l.eventRegistrations_.length===0}function vC(l,n){l.eventRegistrations_.push(n)}function xy(l,n,a){const s=[];if(a){B(n==null,"A cancel should cancel all event registrations.");const c=l.query._path;l.eventRegistrations_.forEach(f=>{const d=f.createCancelEvent(a,c);d&&s.push(d)})}if(n){let c=[];for(let f=0;f<l.eventRegistrations_.length;++f){const d=l.eventRegistrations_[f];if(!d.matches(n))c.push(d);else if(n.hasAnyCallback()){c=c.concat(l.eventRegistrations_.slice(f+1));break}}l.eventRegistrations_=c}else l.eventRegistrations_=[];return s}function Ey(l,n,a,s){n.type===sn.MERGE&&n.source.queryId!==null&&(B(Yi(l.viewCache_),"We should always have a full cache before handling merges"),B(tc(l.viewCache_),"Missing event cache, even though we have a server cache"));const c=l.viewCache_,f=oC(l.processor_,c,n,a,s);return cC(l.processor_,f.viewCache),B(f.viewCache.serverCache.isFullyInitialized()||!c.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),l.viewCache_=f.viewCache,Y_(l,f.changes,f.viewCache.eventCache.getNode(),null)}function bC(l,n){const a=l.viewCache_.eventCache,s=[];return a.getNode().isLeafNode()||a.getNode().forEachChild(Ve,(f,d)=>{s.push(kl(f,d))}),a.isFullyInitialized()&&s.push(j_(a.getNode())),Y_(l,s,a.getNode(),n)}function Y_(l,n,a,s){const c=s?[s]:l.eventRegistrations_;return qE(l.eventGenerator_,n,a,c)}let ac;class V_{constructor(){this.views=new Map}}function SC(l){B(!ac,"__referenceConstructor has already been defined"),ac=l}function xC(){return B(ac,"Reference.ts has not been loaded"),ac}function EC(l){return l.views.size===0}function ed(l,n,a,s){const c=n.source.queryId;if(c!==null){const f=l.views.get(c);return B(f!=null,"SyncTree gave us an op for an invalid query."),Ey(f,n,a,s)}else{let f=[];for(const d of l.views.values())f=f.concat(Ey(d,n,a,s));return f}}function Q_(l,n,a,s,c){const f=n._queryIdentifier,d=l.views.get(f);if(!d){let m=nc(a,c?s:null),p=!1;m?p=!0:s instanceof ee?(m=$f(a,s),p=!1):(m=ee.EMPTY_NODE,p=!1);const g=fc(new pi(m,p,!1),new pi(s,c,!1));return new gC(n,g)}return d}function CC(l,n,a,s,c,f){const d=Q_(l,n,s,c,f);return l.views.has(n._queryIdentifier)||l.views.set(n._queryIdentifier,d),vC(d,a),bC(d,a)}function TC(l,n,a,s){const c=n._queryIdentifier,f=[];let d=[];const m=yi(l);if(c==="default")for(const[p,g]of l.views.entries())d=d.concat(xy(g,a,s)),Sy(g)&&(l.views.delete(p),g.query._queryParams.loadsAllData()||f.push(g.query));else{const p=l.views.get(c);p&&(d=d.concat(xy(p,a,s)),Sy(p)&&(l.views.delete(c),p.query._queryParams.loadsAllData()||f.push(p.query)))}return m&&!yi(l)&&f.push(new(xC())(n._repo,n._path)),{removed:f,events:d}}function X_(l){const n=[];for(const a of l.views.values())a.query._queryParams.loadsAllData()||n.push(a);return n}function mi(l,n){let a=null;for(const s of l.views.values())a=a||_C(s,n);return a}function P_(l,n){if(n._queryParams.loadsAllData())return hc(l);{const s=n._queryIdentifier;return l.views.get(s)}}function Z_(l,n){return P_(l,n)!=null}function yi(l){return hc(l)!=null}function hc(l){for(const n of l.views.values())if(n.query._queryParams.loadsAllData())return n;return null}let sc;function NC(l){B(!sc,"__referenceConstructor has already been defined"),sc=l}function AC(){return B(sc,"Reference.ts has not been loaded"),sc}let wC=1;class Cy{constructor(n){this.listenProvider_=n,this.syncPointTree_=new je(null),this.pendingWriteTree_=iC(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function K_(l,n,a,s,c){return QE(l.pendingWriteTree_,n,a,s,c),c?Pl(l,new Gi(Zf(),n,a)):[]}function RC(l,n,a,s){XE(l.pendingWriteTree_,n,a,s);const c=je.fromObject(a);return Pl(l,new ql(Zf(),n,c))}function oi(l,n,a=!1){const s=PE(l.pendingWriteTree_,n);if(ZE(l.pendingWriteTree_,n)){let f=new je(null);return s.snap!=null?f=f.set(Se(),!0):dt(s.children,d=>{f=f.set(new Me(d),!0)}),Pl(l,new ec(s.path,f,a))}else return[]}function _s(l,n,a){return Pl(l,new Gi(Kf(),n,a))}function MC(l,n,a){const s=je.fromObject(a);return Pl(l,new ql(Kf(),n,s))}function DC(l,n){return Pl(l,new us(Kf(),n))}function OC(l,n,a){const s=nd(l,a);if(s){const c=id(s),f=c.path,d=c.queryId,m=vt(f,n),p=new us(Ff(d),m);return ld(l,f,p)}else return[]}function rc(l,n,a,s,c=!1){const f=n._path,d=l.syncPointTree_.get(f);let m=[];if(d&&(n._queryIdentifier==="default"||Z_(d,n))){const p=TC(d,n,a,s);EC(d)&&(l.syncPointTree_=l.syncPointTree_.remove(f));const g=p.removed;if(m=p.events,!c){const S=g.findIndex(b=>b._queryParams.loadsAllData())!==-1,v=l.syncPointTree_.findOnPath(f,(b,R)=>yi(R));if(S&&!v){const b=l.syncPointTree_.subtree(f);if(!b.isEmpty()){const R=zC(b);for(let j=0;j<R.length;++j){const H=R[j],G=H.query,U=W_(l,H);l.listenProvider_.startListening(es(G),fs(l,G),U.hashFn,U.onComplete)}}}!v&&g.length>0&&!s&&(S?l.listenProvider_.stopListening(es(n),null):g.forEach(b=>{const R=l.queryToTagMap.get(mc(b));l.listenProvider_.stopListening(es(b),R)}))}LC(l,g)}return m}function F_(l,n,a,s){const c=nd(l,s);if(c!=null){const f=id(c),d=f.path,m=f.queryId,p=vt(d,n),g=new Gi(Ff(m),p,a);return ld(l,d,g)}else return[]}function jC(l,n,a,s){const c=nd(l,s);if(c){const f=id(c),d=f.path,m=f.queryId,p=vt(d,n),g=je.fromObject(a),S=new ql(Ff(m),p,g);return ld(l,d,S)}else return[]}function Tf(l,n,a,s=!1){const c=n._path;let f=null,d=!1;l.syncPointTree_.foreachOnPath(c,(b,R)=>{const j=vt(b,c);f=f||mi(R,j),d=d||yi(R)});let m=l.syncPointTree_.get(c);m?(d=d||yi(m),f=f||mi(m,Se())):(m=new V_,l.syncPointTree_=l.syncPointTree_.set(c,m));let p;f!=null?p=!0:(p=!1,f=ee.EMPTY_NODE,l.syncPointTree_.subtree(c).foreachChild((R,j)=>{const H=mi(j,Se());H&&(f=f.updateImmediateChild(R,H))}));const g=Z_(m,n);if(!g&&!n._queryParams.loadsAllData()){const b=mc(n);B(!l.queryToTagMap.has(b),"View does not exist, but we have a tag");const R=UC();l.queryToTagMap.set(b,R),l.tagToQueryMap.set(R,b)}const S=dc(l.pendingWriteTree_,c);let v=CC(m,n,a,S,f,p);if(!g&&!d&&!s){const b=P_(m,n);v=v.concat(HC(l,n,b))}return v}function td(l,n,a){const c=l.pendingWriteTree_,f=l.syncPointTree_.findOnPath(n,(d,m)=>{const p=vt(d,n),g=mi(m,p);if(g)return g});return H_(c,n,f,a,!0)}function IC(l,n){const a=n._path;let s=null;l.syncPointTree_.foreachOnPath(a,(g,S)=>{const v=vt(g,a);s=s||mi(S,v)});let c=l.syncPointTree_.get(a);c?s=s||mi(c,Se()):(c=new V_,l.syncPointTree_=l.syncPointTree_.set(a,c));const f=s!=null,d=f?new pi(s,!0,!1):null,m=dc(l.pendingWriteTree_,n._path),p=Q_(c,n,m,f?d.getNode():ee.EMPTY_NODE,f);return yC(p)}function Pl(l,n){return $_(n,l.syncPointTree_,null,dc(l.pendingWriteTree_,Se()))}function $_(l,n,a,s){if(ge(l.path))return J_(l,n,a,s);{const c=n.get(Se());a==null&&c!=null&&(a=mi(c,Se()));let f=[];const d=oe(l.path),m=l.operationForChild(d),p=n.children.get(d);if(p&&m){const g=a?a.getImmediateChild(d):null,S=B_(s,d);f=f.concat($_(m,p,g,S))}return c&&(f=f.concat(ed(c,l,s,a))),f}}function J_(l,n,a,s){const c=n.get(Se());a==null&&c!=null&&(a=mi(c,Se()));let f=[];return n.children.inorderTraversal((d,m)=>{const p=a?a.getImmediateChild(d):null,g=B_(s,d),S=l.operationForChild(d);S&&(f=f.concat(J_(S,m,p,g)))}),c&&(f=f.concat(ed(c,l,s,a))),f}function W_(l,n){const a=n.query,s=fs(l,a);return{hashFn:()=>(pC(n)||ee.EMPTY_NODE).hash(),onComplete:c=>{if(c==="ok")return s?OC(l,a._path,s):DC(l,a._path);{const f=Dx(c,a);return rc(l,a,null,f)}}}}function fs(l,n){const a=mc(n);return l.queryToTagMap.get(a)}function mc(l){return l._path.toString()+"$"+l._queryIdentifier}function nd(l,n){return l.tagToQueryMap.get(n)}function id(l){const n=l.indexOf("$");return B(n!==-1&&n<l.length-1,"Bad queryKey."),{queryId:l.substr(n+1),path:new Me(l.substr(0,n))}}function ld(l,n,a){const s=l.syncPointTree_.get(n);B(s,"Missing sync point for query tag that we're tracking");const c=dc(l.pendingWriteTree_,n);return ed(s,a,c,null)}function zC(l){return l.fold((n,a,s)=>{if(a&&yi(a))return[hc(a)];{let c=[];return a&&(c=X_(a)),dt(s,(f,d)=>{c=c.concat(d)}),c}})}function es(l){return l._queryParams.loadsAllData()&&!l._queryParams.isDefault()?new(AC())(l._repo,l._path):l}function LC(l,n){for(let a=0;a<n.length;++a){const s=n[a];if(!s._queryParams.loadsAllData()){const c=mc(s),f=l.queryToTagMap.get(c);l.queryToTagMap.delete(c),l.tagToQueryMap.delete(f)}}}function UC(){return wC++}function HC(l,n,a){const s=n._path,c=fs(l,n),f=W_(l,a),d=l.listenProvider_.startListening(es(n),c,f.hashFn,f.onComplete),m=l.syncPointTree_.subtree(s);if(c)B(!yi(m.value),"If we're adding a query, it shouldn't be shadowed");else{const p=m.fold((g,S,v)=>{if(!ge(g)&&S&&yi(S))return[hc(S).query];{let b=[];return S&&(b=b.concat(X_(S).map(R=>R.query))),dt(v,(R,j)=>{b=b.concat(j)}),b}});for(let g=0;g<p.length;++g){const S=p[g];l.listenProvider_.stopListening(es(S),fs(l,S))}}return d}class ad{constructor(n){this.node_=n}getImmediateChild(n){const a=this.node_.getImmediateChild(n);return new ad(a)}node(){return this.node_}}class sd{constructor(n,a){this.syncTree_=n,this.path_=a}getImmediateChild(n){const a=Ye(this.path_,n);return new sd(this.syncTree_,a)}node(){return td(this.syncTree_,this.path_)}}const BC=function(l){return l=l||{},l.timestamp=l.timestamp||new Date().getTime(),l},Ty=function(l,n,a){if(!l||typeof l!="object")return l;if(B(".sv"in l,"Unexpected leaf node or priority contents"),typeof l[".sv"]=="string")return kC(l[".sv"],n,a);if(typeof l[".sv"]=="object")return qC(l[".sv"],n);B(!1,"Unexpected server value: "+JSON.stringify(l,null,2))},kC=function(l,n,a){if(l==="timestamp")return a.timestamp;B(!1,"Unexpected server value: "+l)},qC=function(l,n,a){l.hasOwnProperty("increment")||B(!1,"Unexpected server value: "+JSON.stringify(l,null,2));const s=l.increment;typeof s!="number"&&B(!1,"Unexpected increment value: "+s);const c=n.node();if(B(c!==null&&typeof c<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!c.isLeafNode())return s;const d=c.getValue();return typeof d!="number"?s:d+s},e0=function(l,n,a,s){return rd(n,new sd(a,l),s)},t0=function(l,n,a){return rd(l,new ad(n),a)};function rd(l,n,a){const s=l.getPriority().val(),c=Ty(s,n.getImmediateChild(".priority"),a);let f;if(l.isLeafNode()){const d=l,m=Ty(d.getValue(),n,a);return m!==d.getValue()||c!==d.getPriority().val()?new lt(m,et(c)):l}else{const d=l;return f=d,c!==d.getPriority().val()&&(f=f.updatePriority(new lt(c))),d.forEachChild(Ve,(m,p)=>{const g=rd(p,n.getImmediateChild(m),a);g!==p&&(f=f.updateImmediateChild(m,g))}),f}}class cd{constructor(n="",a=null,s={children:{},childCount:0}){this.name=n,this.parent=a,this.node=s}}function od(l,n){let a=n instanceof Me?n:new Me(n),s=l,c=oe(a);for(;c!==null;){const f=Hl(s.node.children,c)||{children:{},childCount:0};s=new cd(c,s,f),a=ze(a),c=oe(a)}return s}function Zl(l){return l.node.value}function n0(l,n){l.node.value=n,Nf(l)}function i0(l){return l.node.childCount>0}function GC(l){return Zl(l)===void 0&&!i0(l)}function gc(l,n){dt(l.node.children,(a,s)=>{n(new cd(a,l,s))})}function l0(l,n,a,s){a&&n(l),gc(l,c=>{l0(c,n,!0)})}function YC(l,n,a){let s=l.parent;for(;s!==null;){if(n(s))return!0;s=s.parent}return!1}function vs(l){return new Me(l.parent===null?l.name:vs(l.parent)+"/"+l.name)}function Nf(l){l.parent!==null&&VC(l.parent,l.name,l)}function VC(l,n,a){const s=GC(a),c=dn(l.node.children,n);s&&c?(delete l.node.children[n],l.node.childCount--,Nf(l)):!s&&!c&&(l.node.children[n]=a.node,l.node.childCount++,Nf(l))}const QC=/[\[\].#$\/\u0000-\u001F\u007F]/,XC=/[\[\].#$\u0000-\u001F\u007F]/,lf=10*1024*1024,ud=function(l){return typeof l=="string"&&l.length!==0&&!QC.test(l)},a0=function(l){return typeof l=="string"&&l.length!==0&&!XC.test(l)},PC=function(l){return l&&(l=l.replace(/^\/*\.info(\/|$)/,"/")),a0(l)},ZC=function(l){return l===null||typeof l=="string"||typeof l=="number"&&!Uf(l)||l&&typeof l=="object"&&dn(l,".sv")},KC=function(l,n,a,s){pc(cc(l,"value"),n,a)},pc=function(l,n,a){const s=a instanceof Me?new fE(a,l):a;if(n===void 0)throw new Error(l+"contains undefined "+Bi(s));if(typeof n=="function")throw new Error(l+"contains a function "+Bi(s)+" with contents = "+n.toString());if(Uf(n))throw new Error(l+"contains "+n.toString()+" "+Bi(s));if(typeof n=="string"&&n.length>lf/3&&oc(n)>lf)throw new Error(l+"contains a string greater than "+lf+" utf8 bytes "+Bi(s)+" ('"+n.substring(0,50)+"...')");if(n&&typeof n=="object"){let c=!1,f=!1;if(dt(n,(d,m)=>{if(d===".value")c=!0;else if(d!==".priority"&&d!==".sv"&&(f=!0,!ud(d)))throw new Error(l+" contains an invalid key ("+d+") "+Bi(s)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);dE(s,d),pc(l,m,s),hE(s)}),c&&f)throw new Error(l+' contains ".value" child '+Bi(s)+" in addition to actual children.")}},FC=function(l,n){let a,s;for(a=0;a<n.length;a++){s=n[a];const f=ss(s);for(let d=0;d<f.length;d++)if(!(f[d]===".priority"&&d===f.length-1)){if(!ud(f[d]))throw new Error(l+"contains an invalid key ("+f[d]+") in path "+s.toString()+`. Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`)}}n.sort(uE);let c=null;for(a=0;a<n.length;a++){if(s=n[a],c!==null&&Jt(c,s))throw new Error(l+"contains a path "+c.toString()+" that is ancestor of another path "+s.toString());c=s}},$C=function(l,n,a,s){const c=cc(l,"values");if(!(n&&typeof n=="object")||Array.isArray(n))throw new Error(c+" must be an object containing the children to replace.");const f=[];dt(n,(d,m)=>{const p=new Me(d);if(pc(c,m,Ye(a,p)),Gf(p)===".priority"&&!ZC(m))throw new Error(c+"contains an invalid value for '"+p.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");f.push(p)}),FC(c,f)},s0=function(l,n,a,s){if(!a0(a))throw new Error(cc(l,n)+'was an invalid path = "'+a+`". Paths must be non-empty strings and can't contain ".", "#", "$", "[", or "]"`)},JC=function(l,n,a,s){a&&(a=a.replace(/^\/*\.info(\/|$)/,"/")),s0(l,n,a)},r0=function(l,n){if(oe(n)===".info")throw new Error(l+" failed = Can't modify data under /.info/")},WC=function(l,n){const a=n.path.toString();if(typeof n.repoInfo.host!="string"||n.repoInfo.host.length===0||!ud(n.repoInfo.namespace)&&n.repoInfo.host.split(":")[0]!=="localhost"||a.length!==0&&!PC(a))throw new Error(cc(l,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)};class eT{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function yc(l,n){let a=null;for(let s=0;s<n.length;s++){const c=n[s],f=c.getPath();a!==null&&!Yf(f,a.path)&&(l.eventLists_.push(a),a=null),a===null&&(a={events:[],path:f}),a.events.push(c)}a&&l.eventLists_.push(a)}function c0(l,n,a){yc(l,a),o0(l,s=>Yf(s,n))}function Wt(l,n,a){yc(l,a),o0(l,s=>Jt(s,n)||Jt(n,s))}function o0(l,n){l.recursionDepth_++;let a=!0;for(let s=0;s<l.eventLists_.length;s++){const c=l.eventLists_[s];if(c){const f=c.path;n(f)?(tT(l.eventLists_[s]),l.eventLists_[s]=null):a=!1}}a&&(l.eventLists_=[]),l.recursionDepth_--}function tT(l){for(let n=0;n<l.events.length;n++){const a=l.events[n];if(a!==null){l.events[n]=null;const s=a.getEventRunner();Fa&&ft("event: "+a.toString()),Xl(s)}}}const nT="repo_interrupt",iT=25;class lT{constructor(n,a,s,c){this.repoInfo_=n,this.forceRestClient_=a,this.authTokenProvider_=s,this.appCheckProvider_=c,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new eT,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=Wr(),this.transactionQueueTree_=new cd,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function aT(l,n,a){if(l.stats_=kf(l.repoInfo_),l.forceRestClient_||zx())l.server_=new Jr(l.repoInfo_,(s,c,f,d)=>{Ny(l,s,c,f,d)},l.authTokenProvider_,l.appCheckProvider_),setTimeout(()=>Ay(l,!0),0);else{if(typeof a<"u"&&a!==null){if(typeof a!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{tt(a)}catch(s){throw new Error("Invalid authOverride provided: "+s)}}l.persistentConnection_=new In(l.repoInfo_,n,(s,c,f,d)=>{Ny(l,s,c,f,d)},s=>{Ay(l,s)},s=>{rT(l,s)},l.authTokenProvider_,l.appCheckProvider_,a),l.server_=l.persistentConnection_}l.authTokenProvider_.addTokenChangeListener(s=>{l.server_.refreshAuthToken(s)}),l.appCheckProvider_.addTokenChangeListener(s=>{l.server_.refreshAppCheckToken(s.token)}),l.statsReporter_=kx(l.repoInfo_,()=>new BE(l.stats_,l.server_)),l.infoData_=new IE,l.infoSyncTree_=new Cy({startListening:(s,c,f,d)=>{let m=[];const p=l.infoData_.getNode(s._path);return p.isEmpty()||(m=_s(l.infoSyncTree_,s._path,p),setTimeout(()=>{d("ok")},0)),m},stopListening:()=>{}}),fd(l,"connected",!1),l.serverSyncTree_=new Cy({startListening:(s,c,f,d)=>(l.server_.listen(s,f,c,(m,p)=>{const g=d(m,p);Wt(l.eventQueue_,s._path,g)}),[]),stopListening:(s,c)=>{l.server_.unlisten(s,c)}})}function sT(l){const a=l.infoData_.getNode(new Me(".info/serverTimeOffset")).val()||0;return new Date().getTime()+a}function _c(l){return BC({timestamp:sT(l)})}function Ny(l,n,a,s,c){l.dataUpdateCount++;const f=new Me(n);a=l.interceptServerDataCallback_?l.interceptServerDataCallback_(n,a):a;let d=[];if(c)if(s){const p=Qr(a,g=>et(g));d=jC(l.serverSyncTree_,f,p,c)}else{const p=et(a);d=F_(l.serverSyncTree_,f,p,c)}else if(s){const p=Qr(a,g=>et(g));d=MC(l.serverSyncTree_,f,p)}else{const p=et(a);d=_s(l.serverSyncTree_,f,p)}let m=f;d.length>0&&(m=Yl(l,f)),Wt(l.eventQueue_,m,d)}function Ay(l,n){fd(l,"connected",n),n===!1&&fT(l)}function rT(l,n){dt(n,(a,s)=>{fd(l,a,s)})}function fd(l,n,a){const s=new Me("/.info/"+n),c=et(a);l.infoData_.updateSnapshot(s,c);const f=_s(l.infoSyncTree_,s,c);Wt(l.eventQueue_,s,f)}function dd(l){return l.nextWriteId_++}function cT(l,n,a){const s=IC(l.serverSyncTree_,n);return s!=null?Promise.resolve(s):l.server_.get(n).then(c=>{const f=et(c).withIndex(n._queryParams.getIndex());Tf(l.serverSyncTree_,n,a,!0);let d;if(n._queryParams.loadsAllData())d=_s(l.serverSyncTree_,n._path,f);else{const m=fs(l.serverSyncTree_,n);d=F_(l.serverSyncTree_,n._path,f,m)}return Wt(l.eventQueue_,n._path,d),rc(l.serverSyncTree_,n,a,null,!0),f},c=>(bs(l,"get for query "+tt(n)+" failed: "+c),Promise.reject(new Error(c))))}function oT(l,n,a,s,c){bs(l,"set",{path:n.toString(),value:a,priority:s});const f=_c(l),d=et(a,s),m=td(l.serverSyncTree_,n),p=t0(d,m,f),g=dd(l),S=K_(l.serverSyncTree_,n,p,g,!0);yc(l.eventQueue_,S),l.server_.put(n.toString(),d.val(!0),(b,R)=>{const j=b==="ok";j||bt("set at "+n+" failed: "+b);const H=oi(l.serverSyncTree_,g,!j);Wt(l.eventQueue_,n,H),Af(l,c,b,R)});const v=md(l,n);Yl(l,v),Wt(l.eventQueue_,v,[])}function uT(l,n,a,s){bs(l,"update",{path:n.toString(),value:a});let c=!0;const f=_c(l),d={};if(dt(a,(m,p)=>{c=!1,d[m]=e0(Ye(n,m),et(p),l.serverSyncTree_,f)}),c)ft("update() called with empty data.  Don't do anything."),Af(l,s,"ok",void 0);else{const m=dd(l),p=RC(l.serverSyncTree_,n,d,m);yc(l.eventQueue_,p),l.server_.merge(n.toString(),a,(g,S)=>{const v=g==="ok";v||bt("update at "+n+" failed: "+g);const b=oi(l.serverSyncTree_,m,!v),R=b.length>0?Yl(l,n):n;Wt(l.eventQueue_,R,b),Af(l,s,g,S)}),dt(a,g=>{const S=md(l,Ye(n,g));Yl(l,S)}),Wt(l.eventQueue_,n,[])}}function fT(l){bs(l,"onDisconnectEvents");const n=_c(l),a=Wr();vf(l.onDisconnect_,Se(),(c,f)=>{const d=e0(c,f,l.serverSyncTree_,n);I_(a,c,d)});let s=[];vf(a,Se(),(c,f)=>{s=s.concat(_s(l.serverSyncTree_,c,f));const d=md(l,c);Yl(l,d)}),l.onDisconnect_=Wr(),Wt(l.eventQueue_,Se(),s)}function dT(l,n,a){let s;oe(n._path)===".info"?s=Tf(l.infoSyncTree_,n,a):s=Tf(l.serverSyncTree_,n,a),c0(l.eventQueue_,n._path,s)}function hT(l,n,a){let s;oe(n._path)===".info"?s=rc(l.infoSyncTree_,n,a):s=rc(l.serverSyncTree_,n,a),c0(l.eventQueue_,n._path,s)}function mT(l){l.persistentConnection_&&l.persistentConnection_.interrupt(nT)}function bs(l,...n){let a="";l.persistentConnection_&&(a=l.persistentConnection_.id+":"),ft(a,...n)}function Af(l,n,a,s){n&&Xl(()=>{if(a==="ok")n(null);else{const c=(a||"error").toUpperCase();let f=c;s&&(f+=": "+s);const d=new Error(f);d.code=c,n(d)}})}function u0(l,n,a){return td(l.serverSyncTree_,n,a)||ee.EMPTY_NODE}function hd(l,n=l.transactionQueueTree_){if(n||vc(l,n),Zl(n)){const a=d0(l,n);B(a.length>0,"Sending zero length transaction queue"),a.every(c=>c.status===0)&&gT(l,vs(n),a)}else i0(n)&&gc(n,a=>{hd(l,a)})}function gT(l,n,a){const s=a.map(g=>g.currentWriteId),c=u0(l,n,s);let f=c;const d=c.hash();for(let g=0;g<a.length;g++){const S=a[g];B(S.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),S.status=1,S.retryCount++;const v=vt(n,S.path);f=f.updateChild(v,S.currentOutputSnapshotRaw)}const m=f.val(!0),p=n;l.server_.put(p.toString(),m,g=>{bs(l,"transaction put response",{path:p.toString(),status:g});let S=[];if(g==="ok"){const v=[];for(let b=0;b<a.length;b++)a[b].status=2,S=S.concat(oi(l.serverSyncTree_,a[b].currentWriteId)),a[b].onComplete&&v.push(()=>a[b].onComplete(null,!0,a[b].currentOutputSnapshotResolved)),a[b].unwatcher();vc(l,od(l.transactionQueueTree_,n)),hd(l,l.transactionQueueTree_),Wt(l.eventQueue_,n,S);for(let b=0;b<v.length;b++)Xl(v[b])}else{if(g==="datastale")for(let v=0;v<a.length;v++)a[v].status===3?a[v].status=4:a[v].status=0;else{bt("transaction at "+p.toString()+" failed: "+g);for(let v=0;v<a.length;v++)a[v].status=4,a[v].abortReason=g}Yl(l,n)}},d)}function Yl(l,n){const a=f0(l,n),s=vs(a),c=d0(l,a);return pT(l,c,s),s}function pT(l,n,a){if(n.length===0)return;const s=[];let c=[];const d=n.filter(m=>m.status===0).map(m=>m.currentWriteId);for(let m=0;m<n.length;m++){const p=n[m],g=vt(a,p.path);let S=!1,v;if(B(g!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),p.status===4)S=!0,v=p.abortReason,c=c.concat(oi(l.serverSyncTree_,p.currentWriteId,!0));else if(p.status===0)if(p.retryCount>=iT)S=!0,v="maxretry",c=c.concat(oi(l.serverSyncTree_,p.currentWriteId,!0));else{const b=u0(l,p.path,d);p.currentInputSnapshot=b;const R=n[m].update(b.val());if(R!==void 0){pc("transaction failed: Data returned ",R,p.path);let j=et(R);typeof R=="object"&&R!=null&&dn(R,".priority")||(j=j.updatePriority(b.getPriority()));const G=p.currentWriteId,U=_c(l),k=t0(j,b,U);p.currentOutputSnapshotRaw=j,p.currentOutputSnapshotResolved=k,p.currentWriteId=dd(l),d.splice(d.indexOf(G),1),c=c.concat(K_(l.serverSyncTree_,p.path,k,p.currentWriteId,p.applyLocally)),c=c.concat(oi(l.serverSyncTree_,G,!0))}else S=!0,v="nodata",c=c.concat(oi(l.serverSyncTree_,p.currentWriteId,!0))}Wt(l.eventQueue_,a,c),c=[],S&&(n[m].status=2,(function(b){setTimeout(b,Math.floor(0))})(n[m].unwatcher),n[m].onComplete&&(v==="nodata"?s.push(()=>n[m].onComplete(null,!1,n[m].currentInputSnapshot)):s.push(()=>n[m].onComplete(new Error(v),!1,null))))}vc(l,l.transactionQueueTree_);for(let m=0;m<s.length;m++)Xl(s[m]);hd(l,l.transactionQueueTree_)}function f0(l,n){let a,s=l.transactionQueueTree_;for(a=oe(n);a!==null&&Zl(s)===void 0;)s=od(s,a),n=ze(n),a=oe(n);return s}function d0(l,n){const a=[];return h0(l,n,a),a.sort((s,c)=>s.order-c.order),a}function h0(l,n,a){const s=Zl(n);if(s)for(let c=0;c<s.length;c++)a.push(s[c]);gc(n,c=>{h0(l,c,a)})}function vc(l,n){const a=Zl(n);if(a){let s=0;for(let c=0;c<a.length;c++)a[c].status!==2&&(a[s]=a[c],s++);a.length=s,n0(n,a.length>0?a:void 0)}gc(n,s=>{vc(l,s)})}function md(l,n){const a=vs(f0(l,n)),s=od(l.transactionQueueTree_,n);return YC(s,c=>{af(l,c)}),af(l,s),l0(s,c=>{af(l,c)}),a}function af(l,n){const a=Zl(n);if(a){const s=[];let c=[],f=-1;for(let d=0;d<a.length;d++)a[d].status===3||(a[d].status===1?(B(f===d-1,"All SENT items should be at beginning of queue."),f=d,a[d].status=3,a[d].abortReason="set"):(B(a[d].status===0,"Unexpected transaction status in abort"),a[d].unwatcher(),c=c.concat(oi(l.serverSyncTree_,a[d].currentWriteId,!0)),a[d].onComplete&&s.push(a[d].onComplete.bind(null,new Error("set"),!1,null))));f===-1?n0(n,void 0):a.length=f+1,Wt(l.eventQueue_,vs(n),c);for(let d=0;d<s.length;d++)Xl(s[d])}}function yT(l){let n="";const a=l.split("/");for(let s=0;s<a.length;s++)if(a[s].length>0){let c=a[s];try{c=decodeURIComponent(c.replace(/\+/g," "))}catch{}n+="/"+c}return n}function _T(l){const n={};l.charAt(0)==="?"&&(l=l.substring(1));for(const a of l.split("&")){if(a.length===0)continue;const s=a.split("=");s.length===2?n[decodeURIComponent(s[0])]=decodeURIComponent(s[1]):bt(`Invalid query segment '${a}' in query '${l}'`)}return n}const wy=function(l,n){const a=vT(l),s=a.namespace;a.domain==="firebase.com"&&Ln(a.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!s||s==="undefined")&&a.domain!=="localhost"&&Ln("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),a.secure||Nx();const c=a.scheme==="ws"||a.scheme==="wss";return{repoInfo:new y_(a.host,a.secure,s,c,n,"",s!==a.subdomain),path:new Me(a.pathString)}},vT=function(l){let n="",a="",s="",c="",f="",d=!0,m="https",p=443;if(typeof l=="string"){let g=l.indexOf("//");g>=0&&(m=l.substring(0,g-1),l=l.substring(g+2));let S=l.indexOf("/");S===-1&&(S=l.length);let v=l.indexOf("?");v===-1&&(v=l.length),n=l.substring(0,Math.min(S,v)),S<v&&(c=yT(l.substring(S,v)));const b=_T(l.substring(Math.min(l.length,v)));g=n.indexOf(":"),g>=0?(d=m==="https"||m==="wss",p=parseInt(n.substring(g+1),10)):g=n.length;const R=n.slice(0,g);if(R.toLowerCase()==="localhost")a="localhost";else if(R.split(".").length<=2)a=R;else{const j=n.indexOf(".");s=n.substring(0,j).toLowerCase(),a=n.substring(j+1),f=s}"ns"in b&&(f=b.ns)}return{host:n,port:p,domain:a,subdomain:s,secure:d,scheme:m,pathString:c,namespace:f}};class bT{constructor(n,a,s,c){this.eventType=n,this.eventRegistration=a,this.snapshot=s,this.prevName=c}getPath(){const n=this.snapshot.ref;return this.eventType==="value"?n._path:n.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+tt(this.snapshot.exportVal())}}class ST{constructor(n,a,s){this.eventRegistration=n,this.error=a,this.path=s}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}class m0{constructor(n,a){this.snapshotCallback=n,this.cancelCallback=a}onValue(n,a){this.snapshotCallback.call(null,n,a)}onCancel(n){return B(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,n)}get hasCancelCallback(){return!!this.cancelCallback}matches(n){return this.snapshotCallback===n.snapshotCallback||this.snapshotCallback.userCallback!==void 0&&this.snapshotCallback.userCallback===n.snapshotCallback.userCallback&&this.snapshotCallback.context===n.snapshotCallback.context}}class gd{constructor(n,a,s,c){this._repo=n,this._path=a,this._queryParams=s,this._orderByCalled=c}get key(){return ge(this._path)?null:Gf(this._path)}get ref(){return new Un(this._repo,this._path)}get _queryIdentifier(){const n=my(this._queryParams),a=Hf(n);return a==="{}"?"default":a}get _queryObject(){return my(this._queryParams)}isEqual(n){if(n=Ql(n),!(n instanceof gd))return!1;const a=this._repo===n._repo,s=Yf(this._path,n._path),c=this._queryIdentifier===n._queryIdentifier;return a&&s&&c}toJSON(){return this.toString()}toString(){return this._repo.toString()+oE(this._path)}}class Un extends gd{constructor(n,a){super(n,a,new Pf,!1)}get parent(){const n=N_(this._path);return n===null?null:new Un(this._repo,n)}get root(){let n=this;for(;n.parent!==null;)n=n.parent;return n}}class ds{constructor(n,a,s){this._node=n,this.ref=a,this._index=s}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(n){const a=new Me(n),s=wf(this.ref,n);return new ds(this._node.getChild(a),s,Ve)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(n){return this._node.isLeafNode()?!1:!!this._node.forEachChild(this._index,(s,c)=>n(new ds(c,wf(this.ref,s),Ve)))}hasChild(n){const a=new Me(n);return!this._node.getChild(a).isEmpty()}hasChildren(){return this._node.isLeafNode()?!1:!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function kt(l,n){return l=Ql(l),l._checkNotDeleted("ref"),n!==void 0?wf(l._root,n):l._root}function wf(l,n){return l=Ql(l),oe(l._path)===null?JC("child","path",n):s0("child","path",n),new Un(l._repo,Ye(l._path,n))}function g0(l){return r0("remove",l._path),p0(l,null)}function p0(l,n){l=Ql(l),r0("set",l._path),KC("set",n,l._path);const a=new hs;return oT(l._repo,l._path,n,null,a.wrapCallback(()=>{})),a.promise}function _i(l,n){$C("update",n,l._path);const a=new hs;return uT(l._repo,l._path,n,a.wrapCallback(()=>{})),a.promise}function Xi(l){l=Ql(l);const n=new m0(()=>{}),a=new bc(n);return cT(l._repo,l,a).then(s=>new ds(s,new Un(l._repo,l._path),l._queryParams.getIndex()))}class bc{constructor(n){this.callbackContext=n}respondsTo(n){return n==="value"}createEvent(n,a){const s=a._queryParams.getIndex();return new bT("value",this,new ds(n.snapshotNode,new Un(a._repo,a._path),s))}getEventRunner(n){return n.getEventType()==="cancel"?()=>this.callbackContext.onCancel(n.error):()=>this.callbackContext.onValue(n.snapshot,null)}createCancelEvent(n,a){return this.callbackContext.hasCancelCallback?new ST(this,n,a):null}matches(n){return n instanceof bc?!n.callbackContext||!this.callbackContext?!0:n.callbackContext.matches(this.callbackContext):!1}hasAnyCallback(){return this.callbackContext!==null}}function xT(l,n,a,s,c){const f=new m0(a,void 0),d=new bc(f);return dT(l._repo,l,d),()=>hT(l._repo,l,d)}function y0(l,n,a,s){return xT(l,"value",n)}SC(Un);NC(Un);const ET="FIREBASE_DATABASE_EMULATOR_HOST",Rf={};let CT=!1;function TT(l,n,a,s){const c=n.lastIndexOf(":"),f=n.substring(0,c),d=zf(f);l.repoInfo_=new y_(n,d,l.repoInfo_.namespace,l.repoInfo_.webSocketOnly,l.repoInfo_.nodeAdmin,l.repoInfo_.persistenceKey,l.repoInfo_.includeNamespaceInQueryParams,!0,a),s&&(l.authTokenProvider_=s)}function NT(l,n,a,s,c){let f=s||l.options.databaseURL;f===void 0&&(l.options.projectId||Ln("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),ft("Using default host for project ",l.options.projectId),f=`${l.options.projectId}-default-rtdb.firebaseio.com`);let d=wy(f,c),m=d.repoInfo,p;typeof process<"u"&&Fp&&(p=Fp[ET]),p?(f=`http://${p}?ns=${m.namespace}`,d=wy(f,c),m=d.repoInfo):d.repoInfo.secure;const g=new Ux(l.name,l.options,n);WC("Invalid Firebase Database URL",d),ge(d.path)||Ln("Database URL must point to the root of a Firebase Database (not including a child path).");const S=wT(m,l,g,new Lx(l,a));return new RT(S,l)}function AT(l,n){const a=Rf[n];(!a||a[l.key]!==l)&&Ln(`Database ${n}(${l.repoInfo_}) has already been deleted.`),mT(l),delete a[l.key]}function wT(l,n,a,s){let c=Rf[n.name];c||(c={},Rf[n.name]=c);let f=c[l.toURLString()];return f&&Ln("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),f=new lT(l,CT,a,s),c[l.toURLString()]=f,f}class RT{constructor(n,a){this._repoInternal=n,this.app=a,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(aT(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new Un(this._repo,Se())),this._rootInternal}_delete(){return this._rootInternal!==null&&(AT(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(n){this._rootInternal===null&&Ln("Cannot call "+n+" on a deleted database.")}}function MT(l=rx(),n){const a=nx(l,"database").getImmediate({identifier:n});if(!a._instanceStarted){const s=q1("database");s&&DT(a,...s)}return a}function DT(l,n,a,s={}){l=Ql(l),l._checkNotDeleted("useEmulator");const c=`${n}:${a}`,f=l._repoInternal;if(l._instanceStarted){if(c===l._repoInternal.repoInfo_.host&&Xr(s,f.repoInfo_.emulatorOptions))return;Ln("connectDatabaseEmulator() cannot initialize or alter the emulator configuration after the database instance has started.")}let d;if(f.repoInfo_.nodeAdmin)s.mockUserToken&&Ln('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),d=new Yr(Yr.OWNER);else if(s.mockUserToken){const m=typeof s.mockUserToken=="string"?s.mockUserToken:Y1(s.mockUserToken,l.app.options.projectId);d=new Yr(m)}zf(n)&&(G1(n),X1("Database",!0)),TT(f,c,s,d)}function OT(l){bx(sx),Zr(new is("database",(n,{instanceIdentifier:a})=>{const s=n.getProvider("app").getImmediate(),c=n.getProvider("auth-internal"),f=n.getProvider("app-check-internal");return NT(s,c,f,a)},"PUBLIC").setMultipleInstances(!0)),zl($p,Jp,l),zl($p,Jp,"esm2020")}In.prototype.simpleListen=function(l,n){this.sendRequest("q",{p:l},n)};In.prototype.echo=function(l,n){this.sendRequest("echo",{d:l},n)};OT();const jT={apiKey:"AIzaSyAEOAwPVqYO-BbsBYQC6o7CfJvHdGfYKss",authDomain:"relife-bbd8c.firebaseapp.com",databaseURL:"https://relife-bbd8c-default-rtdb.asia-southeast1.firebasedatabase.app",projectId:"relife-bbd8c",storageBucket:"relife-bbd8c.firebasestorage.app",messagingSenderId:"144008353106",appId:"1:144008353106:web:cc629a581daf2e2ed1168b"},IT=e_(jT),qt=MT(IT),zT=()=>Math.random().toString().slice(2,8),_0=()=>"player_"+Math.random().toString(36).slice(2,11),LT=async(l,n)=>{const a=zT(),s=_0(),c={id:a,hostId:s,players:[{id:s,name:l,characterId:n,ready:!0}],status:"waiting",gameState:null,createdAt:Date.now()};return await p0(kt(qt,`rooms/${a}`),c),{roomId:a,playerId:s}},UT=async(l,n,a)=>{const s=kt(qt,`rooms/${l}`),c=await Xi(s);if(!c.exists())return{success:!1,error:""};const f=c.val();if(f.status!=="waiting")return{success:!1,error:""};if(f.players.length>=4)return{success:!1,error:""};if(f.players.some(p=>p.characterId===a))return{success:!1,error:""};const d=_0(),m={id:d,name:n,characterId:a,ready:!1};return await _i(s,{players:[...f.players,m]}),{success:!0,playerId:d}},HT=async(l,n)=>{const a=kt(qt,`rooms/${l}`),s=await Xi(a);if(!s.exists())return;const c=s.val(),f=c.players.filter(d=>d.id!==n);f.length===0?await g0(a):c.hostId===n?await _i(a,{players:f,hostId:f[0].id}):await _i(a,{players:f})},BT=async(l,n,a)=>{const s=kt(qt,`rooms/${l}`),c=await Xi(s);if(!c.exists())return;const d=c.val().players.map(m=>m.id===n?{...m,ready:a}:m);await _i(s,{players:d})},kT=async(l,n,a)=>{const s=kt(qt,`rooms/${l}`),c=await Xi(s);if(!c.exists())return{success:!1,error:""};const f=c.val();if(f.players.some(m=>m.id!==n&&m.characterId===a))return{success:!1,error:""};const d=f.players.map(m=>m.id===n?{...m,characterId:a}:m);return await _i(s,{players:d}),{success:!0}},qT=async(l,n,a)=>{const s=kt(qt,`rooms/${l}`),c=await Xi(s);if(!c.exists())return{success:!1,error:""};const f=c.val();return f.hostId!==n?{success:!1,error:""}:f.players.length<2?{success:!1,error:" 2 "}:f.players.every(d=>d.ready)?(await _i(s,{status:"playing",gameState:a}),{success:!0}):{success:!1,error:""}},GT=async(l,n)=>{const a=kt(qt,`rooms/${l}`);await _i(a,{gameState:n})},sf=(l,n)=>{const a=kt(qt,`rooms/${l}`);return y0(a,c=>{c.exists()?n(c.val()):n(null)})},YT=async l=>(await Xi(kt(qt,`rooms/${l}`))).exists(),VT=1440*60*1e3,QT=360*60*1e3,XT=async()=>{const l=kt(qt,"rooms"),n=await Xi(l);if(!n.exists())return{deleted:0,total:0};const a=Date.now(),s=n.val(),c=Object.entries(s);let f=0;for(const[d,m]of c){const p=a-(m.createdAt||0);(p>VT||m.status==="playing"&&p>QT||m.status==="finished"&&p>3600*1e3)&&(await g0(kt(qt,`rooms/${d}`)),f++)}return console.log(`[Room Cleanup]  ${f}/${c.length} `),{deleted:f,total:c.length}},ts="relife_session",Ry=(l,n,a)=>{const s={roomId:l,playerId:n,playerName:a,timestamp:Date.now()};localStorage.setItem(ts,JSON.stringify(s))},My=()=>{try{const l=localStorage.getItem(ts);if(!l)return null;const n=JSON.parse(l),a=1440*60*1e3;return Date.now()-n.timestamp>a?(localStorage.removeItem(ts),null):n}catch{return localStorage.removeItem(ts),null}},Ol=()=>{localStorage.removeItem(ts)},Ss=Iy((l,n)=>{let a=null;return{roomId:null,playerId:null,room:null,isOnlineMode:!1,isReconnecting:!1,error:null,createNewRoom:async(s,c)=>{try{a&&(a(),a=null);const{roomId:f,playerId:d}=await LT(s,c);Ry(f,d,s),a=sf(f,m=>{l({room:m})}),l({roomId:f,playerId:d,isOnlineMode:!0,error:null})}catch{l({error:""})}},joinExistingRoom:async(s,c,f)=>{try{a&&(a(),a=null);const d=await UT(s,c,f);return d.success?(Ry(s,d.playerId,c),a=sf(s,m=>{l({room:m})}),l({roomId:s,playerId:d.playerId,isOnlineMode:!0,error:null}),!0):(l({error:d.error||""}),!1)}catch{return l({error:""}),!1}},leaveCurrentRoom:async()=>{const{roomId:s,playerId:c}=n();!s||!c||(a&&(a(),a=null),await HT(s,c),Ol(),l({roomId:null,playerId:null,room:null,isOnlineMode:!1,error:null}))},tryReconnect:async()=>{const s=My();if(!s)return!1;a&&(a(),a=null),l({isReconnecting:!0,error:null});try{return await YT(s.roomId)?new Promise(f=>{let d=!1;a=sf(s.roomId,m=>{if(d){m&&l({room:m});return}if(!m){d=!0,Ol(),a&&(a(),a=null),l({isReconnecting:!1,error:""}),f(!1);return}if(!m.players.some(g=>g.id===s.playerId)){d=!0,Ol(),a&&(a(),a=null),l({isReconnecting:!1,error:""}),f(!1);return}d=!0,l({roomId:s.roomId,playerId:s.playerId,room:m,isOnlineMode:!0,isReconnecting:!1,error:null}),f(!0)})}):(Ol(),l({isReconnecting:!1,error:""}),!1)}catch{return Ol(),l({isReconnecting:!1,error:""}),!1}},hasStoredSession:()=>My()!==null,toggleReady:async()=>{const{roomId:s,playerId:c,room:f}=n();if(!s||!c||!f)return;const d=f.players.find(m=>m.id===c);d&&await BT(s,c,!d.ready)},changeCharacter:async s=>{const{roomId:c,playerId:f}=n();if(!c||!f)return!1;const d=await kT(c,f,s);return d.success?!0:(l({error:d.error||""}),!1)},startOnlineGame:async()=>{const{roomId:s,playerId:c,room:f}=n();if(!s||!c||!f)return!1;const d=f.players.map(v=>v.name),m=f.players.map(v=>v.characterId),p=ky(d,m),g=of(p),S=await qT(s,c,g);return S.success?!0:(l({error:S.error||""}),!1)},syncGameState:async s=>{const{roomId:c}=n();c&&await GT(c,s)},getCurrentPlayer:()=>{const{room:s,playerId:c}=n();return!s||!c?null:s.players.find(f=>f.id===c)||null},isHost:()=>{const{room:s,playerId:c}=n();return!s||!c?!1:s.hostId===c},canStartGame:()=>{const{room:s}=n();return s?s.players.length>=2&&s.players.every(c=>c.ready):!1},resetRoom:()=>{a&&(a(),a=null),Ol(),l({roomId:null,playerId:null,room:null,isOnlineMode:!1,isReconnecting:!1,error:null})}}}),PT=({onOnlineClick:l})=>{const{startGame:n}=Ze(),[a,s]=re.useState([{name:"1",characterId:ln[0].id,isAI:!1}]),c=()=>{const U=a.map(k=>k.characterId);return ln.find(k=>!U.includes(k.id))?.id||ln[0].id},f=()=>{if(a.length>=4)return;const U=a.length+1;s([...a,{name:`${U}`,characterId:c(),isAI:!1}])},d=()=>{if(a.length>=4)return;const U=a.filter(k=>k.isAI).length+1;s([...a,{name:`${U}`,characterId:c(),isAI:!0}])},m=U=>{a.length<=2||s(a.filter((k,Q)=>Q!==U))},p=(U,k)=>{const Q=[...a];Q[U]={...Q[U],name:k},s(Q)},g=(U,k)=>{const Q=[...a];Q[U]={...Q[U],characterId:k},s(Q)},S=U=>{const k=[...a],Q=k[U].isAI;k[U]={...k[U],isAI:!Q,name:Q?`${U+1}`:`${U+1}`},s(k)},v=()=>{n(a.map(U=>U.name),a.map(U=>U.characterId),a.map(U=>U.isAI))},b=a.map(U=>U.characterId),R=new Set(b).size!==b.length,j=a.every(U=>U.isAI),H=a.length<2,G=a.length<4;return y.jsx("div",{className:"min-h-screen bg-gray-900 flex items-center justify-center p-4",children:y.jsxs("div",{className:"bg-gray-800 rounded-xl p-8 max-w-2xl w-full",children:[y.jsxs("div",{className:"text-center mb-8",children:[y.jsx("img",{src:"/ReLife/logo.png",alt:"ReLife ",className:"h-20 mx-auto mb-4"}),y.jsx("p",{className:"text-gray-400",children:""})]}),y.jsxs("div",{className:"space-y-4 mb-6",children:[y.jsxs("div",{className:"flex justify-between items-center",children:[y.jsx("h2",{className:"text-xl font-bold text-white",children:""}),y.jsxs("span",{className:"text-gray-400 text-sm",children:[a.length,"/4 "]})]}),a.map((U,k)=>y.jsxs("div",{className:"bg-gray-700 rounded-lg p-4 flex flex-col sm:flex-row gap-4 items-start sm:items-center",children:[y.jsx("button",{onClick:()=>S(k),className:`px-3 py-1 rounded text-sm font-bold transition-colors ${U.isAI?"bg-purple-600 text-white":"bg-gray-600 text-gray-300 hover:bg-gray-500"}`,children:U.isAI?" ":" "}),y.jsx("div",{className:"flex-1 w-full sm:w-auto",children:y.jsx("input",{type:"text",value:U.name,onChange:Q=>p(k,Q.target.value),className:"w-full bg-gray-600 text-white rounded px-3 py-2 focus:outline-none focus:ring-2 focus:ring-yellow-500",placeholder:U.isAI?"":""})}),y.jsx("div",{className:"flex-1 w-full sm:w-auto",children:y.jsx("select",{value:U.characterId,onChange:Q=>g(k,Q.target.value),className:"w-full bg-gray-600 text-white rounded px-3 py-2 focus:outline-none focus:ring-2 focus:ring-yellow-500",children:ln.map(Q=>y.jsxs("option",{value:Q.id,children:[Q.name," ($",Q.initialMoney.toLocaleString(),")"]},Q.id))})}),y.jsx("div",{className:"text-xs text-gray-400 w-full sm:w-24",children:(()=>{const Q=ln.find(W=>W.id===U.characterId);return Q?y.jsxs("div",{className:"flex sm:flex-col gap-2 sm:gap-0",children:[y.jsxs("span",{children:[":",Q.initialStats.intelligence]}),y.jsxs("span",{children:[":",Q.initialStats.stamina]}),y.jsxs("span",{children:[":",Q.initialStats.charisma]})]}):null})()}),a.length>2&&y.jsx("button",{onClick:()=>m(k),className:"text-red-400 hover:text-red-300 text-xl px-2",title:"",children:""})]},k)),G&&y.jsxs("div",{className:"flex gap-3",children:[y.jsx("button",{onClick:f,className:"flex-1 py-3 rounded-lg border-2 border-dashed border-gray-600 text-gray-400 hover:border-gray-500 hover:text-gray-300 transition-colors",children:"+  "}),y.jsx("button",{onClick:d,className:"flex-1 py-3 rounded-lg border-2 border-dashed border-purple-600 text-purple-400 hover:border-purple-500 hover:text-purple-300 transition-colors",children:"+  "})]}),R&&y.jsx("div",{className:"text-red-400 text-sm",children:" "}),j&&y.jsx("div",{className:"text-red-400 text-sm",children:" "}),H&&y.jsx("div",{className:"text-yellow-400 text-sm",children:"  2 "})]}),y.jsxs("div",{className:"space-y-3",children:[y.jsxs("button",{onClick:v,disabled:R||j||H,className:`w-full py-4 rounded-lg font-bold text-xl transition-colors ${R||j||H?"bg-gray-600 text-gray-400 cursor-not-allowed":"bg-yellow-500 hover:bg-yellow-400 text-black"}`,children:[" (",a.length," )"]}),l&&y.jsx("button",{onClick:l,className:"w-full py-4 rounded-lg font-bold text-xl bg-blue-600 hover:bg-blue-500 text-white transition-colors",children:""})]}),y.jsxs("div",{className:"mt-8 text-gray-400 text-sm",children:[y.jsx("h3",{className:"font-bold text-white mb-2",children:""}),y.jsxs("ul",{className:"list-disc list-inside space-y-1",children:[y.jsx("li",{children:" 2-4 "}),y.jsx("li",{children:""}),y.jsx("li",{children:""}),y.jsx("li",{children:" $20,000  30 "})]})]})]})})},Mf=l=>{if(l===void 0)return null;if(l===null)return l;if(Array.isArray(l))return l.filter(n=>n!==void 0).map(Mf);if(typeof l=="object"){const n={};for(const[a,s]of Object.entries(l))s!==void 0&&(n[a]=Mf(s));return n}return l},ZT=()=>{const{roomId:l,playerId:n,room:a}=Ss(),s=re.useRef(!1),c=re.useRef(""),f=l&&a?.status==="playing",d=re.useCallback(async()=>{if(!l||s.current)return;const g=Ze.getState(),S={playerCount:g.playerCount??4,maxTurns:g.maxTurns??10,players:g.players||[],currentPlayerIndex:g.currentPlayerIndex??0,turn:g.turn??1,phase:g.phase||"setup",deck:g.deck||[],discardPile:g.discardPile||[],currentEvent:g.currentEvent??null,eventLog:g.eventLog||[],actionLog:g.actionLog||[],selectedCardIndex:g.selectedCardIndex??null,showEventModal:!1,pendingFunctionCard:g.pendingFunctionCard??null},v=JSON.stringify(S);if(v===c.current)return;c.current=v;const b=kt(qt,`rooms/${l}`);await _i(b,{gameState:Mf(S)})},[l]);re.useEffect(()=>{if(!f)return;const g=kt(qt,`rooms/${l}`),v=y0(g,b=>{if(!b.exists())return;const j=b.val().gameState;if(!j)return;const H=JSON.stringify(j);if(H===c.current)return;s.current=!0,c.current=H;const G=j,U=G.pendingFunctionCard?{...G.pendingFunctionCard,passedPlayerIndices:G.pendingFunctionCard.passedPlayerIndices??[]}:null;Ze.setState({playerCount:j.playerCount??4,maxTurns:j.maxTurns??10,players:j.players??[],currentPlayerIndex:j.currentPlayerIndex??0,turn:j.turn??1,phase:j.phase??"setup",deck:j.deck??[],discardPile:j.discardPile??[],currentEvent:j.currentEvent??null,eventLog:j.eventLog??[],actionLog:j.actionLog??[],selectedCardIndex:j.selectedCardIndex??null,pendingFunctionCard:U}),queueMicrotask(()=>{s.current=!1})});return()=>{v()}},[f,l]);const m=re.useCallback(()=>!a||!n||!a.players.find(v=>v.id===n)?-1:a.players.findIndex(v=>v.id===n),[a,n]),p=re.useCallback(()=>{if(!f)return!0;const g=m(),S=Ze.getState().currentPlayerIndex;return g===S},[f,m]);return{isOnlineGame:!!f,syncToFirebase:d,isMyTurn:p,getMyPlayerIndex:m,playerId:n}},ui=l=>l.length===0?null:l[Math.floor(Math.random()*l.length)],KT=l=>{const n=[];return l.hand.forEach((a,s)=>{cf(l,a).canPlay&&n.push(s)}),n.length>0&&Math.random()>.3?ui(n):null},FT=l=>ui(["intelligence","stamina","charisma"])||"intelligence",$T=()=>ui(["park","library","home"])||"park",JT=(l,n,a)=>{const s=l.filter((c,f)=>f!==n);if(s.length===0)return null;switch(a){case"steal":case"robbery":{const c=s.filter(f=>(f.hand?.length??0)>0);if(c.length>0)return ui(c)?.id||null;break}case"sabotage":return ui(s)?.id||null;case"parachute":{const c=s.filter(f=>f.job!==null);if(c.length>0)return ui(c)?.id||null;break}}return ui(s)?.id||null},WT=(l,n)=>Math.random()>.5,eN=l=>{if(l.job)return null;const n=Hy(l);return n.length>0&&Math.random()>.3&&ui(n)?.id||null},jl=1e3,tN=(l=!1)=>{const{players:n,currentPlayerIndex:a,phase:s,pendingStatChoice:c,pendingExplore:f,pendingTargetPlayer:d,pendingFunctionCard:m,selectCard:p,playSelectedCard:g,chooseStat:S,chooseExploreLocation:v,chooseTargetPlayer:b,passReaction:R,applyInvalidCard:j,applyJob:H,endPlayerTurn:G}=Ze(),U=re.useRef(!1),k=re.useRef(null);re.useEffect(()=>()=>{k.current&&clearTimeout(k.current)},[]);const W=n[a]?.isAI===!0;re.useEffect(()=>{if(!l&&!(!W||s!=="action"||U.current)&&!(c||f||d||m))return U.current=!0,k.current=setTimeout(()=>{const ie=Ze.getState(),fe=ie.players[ie.currentPlayerIndex];if(!fe?.isAI){U.current=!1;return}const X=KT(fe);if(X!==null)p(X),setTimeout(()=>{g(),U.current=!1},500);else{const K=eN(fe);K?(H(K),setTimeout(()=>{G(),U.current=!1},jl)):(G(),U.current=!1)}},jl),()=>{k.current&&clearTimeout(k.current)}},[l,W,s,c,f,d,m,a,p,g,H,G]),re.useEffect(()=>{if(!l&&!(!W||!c||U.current))return U.current=!0,k.current=setTimeout(()=>{const ie=Ze.getState();if(!ie.players[ie.currentPlayerIndex]?.isAI||!ie.pendingStatChoice){U.current=!1;return}const X=FT();S(X),U.current=!1},jl),()=>{k.current&&clearTimeout(k.current)}},[l,W,c,S]),re.useEffect(()=>{if(!l&&!(!W||!f||U.current))return U.current=!0,k.current=setTimeout(()=>{const ie=Ze.getState();if(!ie.players[ie.currentPlayerIndex]?.isAI||!ie.pendingExplore){U.current=!1;return}const X=$T();v(X),U.current=!1},jl),()=>{k.current&&clearTimeout(k.current)}},[l,W,f,v]),re.useEffect(()=>{if(!l&&!(!W||!d||U.current))return U.current=!0,k.current=setTimeout(()=>{const ie=Ze.getState();if(!ie.players[ie.currentPlayerIndex]?.isAI||!ie.pendingTargetPlayer){U.current=!1;return}const X=JT(ie.players,ie.currentPlayerIndex,ie.pendingTargetPlayer.action);X?b(X):G(),U.current=!1},jl),()=>{k.current&&clearTimeout(k.current)}},[l,W,d,b,G]),re.useEffect(()=>{if(!(l||!m||U.current||!n[m.respondingPlayerIndex]?.isAI))return U.current=!0,k.current=setTimeout(()=>{const fe=Ze.getState();if(!fe.pendingFunctionCard){U.current=!1;return}const X=fe.players[fe.pendingFunctionCard.respondingPlayerIndex];if(!X?.isAI){U.current=!1;return}const K=(X.hand??[]).findIndex($=>$.effect.type==="special"&&$.effect.handler==="invalid");K!==-1&&WT(fe.pendingFunctionCard.card)?j(K):R(),U.current=!1},jl),()=>{k.current&&clearTimeout(k.current)}},[l,m,n,j,R])};function v0(l){const[n,a]=re.useState([]),s=re.useRef(null),[c]=re.useState(()=>Date.now()),f=re.useRef(0),d=re.useRef(new Set);return re.useEffect(()=>{const m=d.current;return()=>{m.forEach(p=>clearTimeout(p)),m.clear()}},[]),re.useEffect(()=>{if(Date.now()-c<1500){s.current=l;return}if(s.current===null){s.current=l;return}const p=l-s.current;if(p!==0){const g={id:f.current++,value:p,timestamp:Date.now()};a(v=>[...v,g]);const S=setTimeout(()=>{d.current.delete(S),a(v=>v.filter(b=>b.id!==g.id))},1e3);d.current.add(S)}s.current=l},[l,c]),n}const b0=({changes:l,isMoney:n=!1})=>y.jsx(y.Fragment,{children:l.map(a=>y.jsxs("span",{className:`
            absolute left-1/2 -translate-x-1/2
            font-bold text-lg pointer-events-none
            animate-float-up
            ${a.value>0?"text-green-400":"text-red-400"}
          `,style:{top:"-8px"},children:[a.value>0?"+":"",n?`$${a.value.toLocaleString()}`:a.value]},a.id))}),Dy=({player:l,isCurrentPlayer:n,isCompact:a=!1})=>{if(!l)return null;const s=n?"border-yellow-400":"border-gray-600",c=n?"bg-gray-800":"bg-gray-900";return a?y.jsxs("div",{className:`${c} ${s} border-2 rounded-lg p-2 text-sm`,children:[y.jsxs("div",{className:"flex justify-between items-center mb-1",children:[y.jsx("span",{className:"font-bold text-white",children:l.name}),y.jsx(Oy,{value:l.money,size:"small"})]}),y.jsxs("div",{className:"flex gap-2 text-xs",children:[y.jsxs("span",{className:"text-blue-400",children:["",l.stats.intelligence]}),y.jsxs("span",{className:"text-red-400",children:["",l.stats.stamina]}),y.jsxs("span",{className:"text-pink-400",children:["",l.stats.charisma]})]}),y.jsxs("div",{className:"text-xs text-gray-400 mt-1",children:[Dp(l)," |  ",l.hand?.length??0]})]}):y.jsxs("div",{className:`${c} ${s} border-2 rounded-lg p-4`,children:[y.jsxs("div",{className:"flex justify-between items-start mb-3",children:[y.jsxs("div",{children:[y.jsx("h3",{className:"text-lg font-bold text-white",children:l.name}),y.jsx("p",{className:"text-sm text-gray-400",children:l.character.name})]}),n&&y.jsx("span",{className:"bg-yellow-500 text-black text-xs px-2 py-1 rounded",children:""})]}),y.jsx("div",{className:"mb-3",children:y.jsx(Oy,{value:l.money,size:"large"})}),y.jsxs("div",{className:"grid grid-cols-3 gap-2 mb-3",children:[y.jsx(rf,{label:"",value:l.stats.intelligence,color:"blue"}),y.jsx(rf,{label:"",value:l.stats.stamina,color:"red"}),y.jsx(rf,{label:"",value:l.stats.charisma,color:"pink"})]}),y.jsxs("div",{className:"border-t border-gray-700 pt-3",children:[y.jsxs("div",{className:"flex justify-between text-sm",children:[y.jsx("span",{className:"text-gray-400",children:""}),y.jsx("span",{className:"text-white",children:Dp(l)})]}),l.job&&y.jsxs("div",{className:"flex justify-between text-sm mt-1",children:[y.jsx("span",{className:"text-gray-400",children:""}),y.jsxs("span",{className:"text-green-400",children:[l.performance,"/9"]})]}),y.jsxs("div",{className:"flex justify-between text-sm mt-1",children:[y.jsx("span",{className:"text-gray-400",children:""}),y.jsxs("span",{className:"text-white",children:[l.hand?.length??0,"/10"]})]})]})]})},rf=({label:l,value:n,color:a})=>{const s=v0(n),c={blue:"bg-blue-900 text-blue-300",red:"bg-red-900 text-red-300",pink:"bg-pink-900 text-pink-300"};return y.jsxs("div",{className:`${c[a]} rounded px-2 py-1 text-center relative`,children:[y.jsx("div",{className:"text-xs",children:l}),y.jsx("div",{className:"text-lg font-bold",children:n}),y.jsx(b0,{changes:s})]})},Oy=({value:l,size:n})=>{const a=v0(l),s={small:"text-yellow-400",large:"text-yellow-400 text-2xl font-bold"};return y.jsxs("span",{className:`${s[n]} relative inline-block`,children:["$",l.toLocaleString(),y.jsx(b0,{changes:a,isMoney:!0})]})},nN=({card:l,isSelected:n=!1,onClick:a,disabled:s=!1,size:c="medium"})=>{const f={study:{bg:"bg-blue-900",border:"border-blue-500",text:"text-blue-300"},work:{bg:"bg-green-900",border:"border-green-500",text:"text-green-300"},explore:{bg:"bg-yellow-900",border:"border-yellow-500",text:"text-yellow-300"},function:{bg:"bg-purple-900",border:"border-purple-500",text:"text-purple-300"}},d={study:"",work:"",explore:"",function:""},m={small:"w-20 h-28 text-xs",medium:"w-28 h-40 text-sm",large:"w-36 h-52 text-base"},p=f[l.type];return y.jsxs("div",{onClick:s?void 0:a,className:`
        ${m[c]}
        ${p.bg}
        ${n?"border-yellow-400 border-4 -translate-y-4 scale-110 shadow-lg shadow-yellow-400/30":`${p.border} border-2`}
        ${s?"opacity-50 cursor-not-allowed":"cursor-pointer hover:-translate-y-3 hover:scale-110 hover:shadow-xl hover:shadow-black/50"}
        rounded-lg p-2 flex flex-col transition-all duration-200 ease-out
      `,children:[y.jsx("div",{className:`${p.text} text-xs mb-1`,children:d[l.type]}),y.jsx("div",{className:"text-white font-bold flex-grow flex items-center justify-center text-center",children:l.name}),y.jsx("div",{className:"text-gray-300 text-xs mt-1 text-center",children:l.description}),l.cost&&y.jsxs("div",{className:"mt-1 text-yellow-400 text-xs text-center",children:["$",l.cost]})]})},iN=({cards:l,canPlay:n})=>{const{selectedCardIndex:a,selectCard:s,canCurrentPlayerPlayCard:c}=Ze(),[f,d]=re.useState(null);return l.length===0?y.jsx("div",{className:"text-gray-500 text-center py-8",children:""}):y.jsx("div",{className:"flex flex-wrap gap-2 justify-center py-4",children:l.map((m,p)=>{const g=c(p),S=!n||!g.canPlay,v=f===p,b=a===p;return y.jsxs("div",{className:"relative transition-all duration-200",style:{zIndex:b?20:v?10:1},onMouseEnter:()=>d(p),onMouseLeave:()=>d(null),children:[y.jsx(nN,{card:m,isSelected:b,onClick:()=>s(b?null:p),disabled:S,size:"medium"}),S&&g.reason&&b&&y.jsx("div",{className:"absolute -top-10 left-1/2 transform -translate-x-1/2 bg-red-800 text-white text-xs px-2 py-1 rounded whitespace-nowrap z-30",children:g.reason})]},m.id)})})},lN=({event:l,onConfirm:n})=>y.jsx("div",{className:"fixed inset-0 bg-black/70 flex items-center justify-center z-50",children:y.jsxs("div",{className:"bg-gray-800 border-2 border-yellow-500 rounded-xl p-6 max-w-md mx-4 animate-bounce-in",children:[y.jsxs("div",{className:"text-center mb-4",children:[y.jsx("div",{className:"text-yellow-400 text-sm mb-1",children:""}),y.jsx("h2",{className:"text-2xl font-bold text-white",children:l.name})]}),y.jsx("div",{className:"bg-gray-900 rounded-lg p-4 mb-6",children:y.jsx("p",{className:"text-gray-200 text-center leading-relaxed",children:l.description})}),y.jsx("div",{className:"text-center mb-6",children:y.jsx(aN,{event:l})}),y.jsx("button",{onClick:n,className:"w-full bg-yellow-500 hover:bg-yellow-400 text-black font-bold py-3 px-6 rounded-lg transition-colors",children:""})]})}),aN=({event:l})=>{const{effect:n,target:a}=l;let s="";switch(a.type){case"all":s="";break;case"richest":s=` ${a.count} `;break;case"poorest":s=` ${a.count} `;break;case"has_job":s="";break;default:s=""}let c="";switch(n.type){case"money_change":c=` ${n.value>0?"+":""}$${n.value}`;break;case"stat_change":{c=`${{intelligence:"",stamina:"",charisma:""}[n.stat]} ${n.value>0?"+":""}${n.value}`;break}case"draw_cards":c=` ${n.count} `;break;case"special":c="";break}return y.jsxs("div",{className:"text-sm",children:[y.jsx("span",{className:"text-gray-400",children:""}),y.jsx("span",{className:"text-white ml-2",children:s}),c&&n.type!=="special"&&y.jsxs(y.Fragment,{children:[y.jsx("br",{}),y.jsx("span",{className:"text-gray-400",children:""}),y.jsx("span",{className:`ml-2 ${n.type==="money_change"||n.type==="stat_change"?(n.type==="money_change",n.value>0?"text-green-400":"text-red-400"):"text-white"}`,children:c})]})]})},sN=({disabled:l=!1})=>{const{roomId:n,playerId:a,room:s}=Ss(),c=!!(n&&s?.status==="playing"),{phase:f,players:d,currentPlayerIndex:m,selectedCardIndex:p,pendingStatChoice:g,pendingExplore:S,pendingTargetPlayer:v,pendingFunctionCard:b,lastMessage:R,playSelectedCard:j,chooseStat:H,chooseExploreLocation:G,chooseTargetPlayer:U,applyInvalidCard:k,passReaction:Q,cancelPendingAction:W,endPlayerTurn:ie}=Ze(),fe={steal:"",sabotage:""};if(b){const{card:$,sourcePlayerIndex:ht,respondingPlayerIndex:Le}=b,ce=d?.[ht],ke=d?.[Le];if(!ce||!ke)return y.jsx("div",{className:"bg-gray-800 rounded-lg p-4",children:y.jsx("div",{className:"text-gray-400 text-center",children:"..."})});const mt=s?.players.findIndex(q=>q.id===a)??-1,pt=c?mt===Le:!ke?.isAI,D=(ke?.hand??[]).findIndex(q=>q.effect.type==="special"&&q.effect.handler==="invalid");return y.jsxs("div",{className:"bg-gray-800 rounded-lg p-4",children:[y.jsxs("div",{className:"text-yellow-400 text-center mb-2",children:[" ",ce.name," ",$.name,""]}),y.jsxs("div",{className:"text-white text-center mb-3",children:[ke.name,""]}),pt?y.jsxs("div",{className:"flex justify-center gap-3 flex-wrap",children:[y.jsx("button",{onClick:()=>k(D),className:"bg-purple-600 hover:bg-purple-500 text-white px-4 py-2 rounded",children:""}),y.jsx("button",{onClick:Q,className:"bg-gray-600 hover:bg-gray-500 text-white px-4 py-2 rounded",children:""})]}):y.jsxs("div",{className:"text-gray-400 text-center",children:[" ",ke.name," ..."]})]})}const X=d?.[m],K=X?.isAI===!0;if(g)return K?y.jsx("div",{className:"bg-gray-800 rounded-lg p-4",children:y.jsxs("div",{className:"text-gray-400 text-center animate-pulse",children:[" ",X?.name," ..."]})}):y.jsxs("div",{className:"bg-gray-800 rounded-lg p-4",children:[y.jsx("div",{className:"text-white text-center mb-3",children:""}),y.jsxs("div",{className:"flex justify-center gap-3 flex-wrap",children:[y.jsxs("button",{onClick:()=>H("intelligence"),className:"bg-blue-600 hover:bg-blue-500 text-white px-4 py-2 rounded",children:[" +",g.value]}),y.jsxs("button",{onClick:()=>H("stamina"),className:"bg-red-600 hover:bg-red-500 text-white px-4 py-2 rounded",children:[" +",g.value]}),y.jsxs("button",{onClick:()=>H("charisma"),className:"bg-pink-600 hover:bg-pink-500 text-white px-4 py-2 rounded",children:[" +",g.value]}),y.jsx("button",{onClick:W,className:"bg-gray-600 hover:bg-gray-500 text-white px-4 py-2 rounded",children:""})]})]});if(S)return K?y.jsx("div",{className:"bg-gray-800 rounded-lg p-4",children:y.jsxs("div",{className:"text-gray-400 text-center animate-pulse",children:[" ",X?.name," ..."]})}):y.jsxs("div",{className:"bg-gray-800 rounded-lg p-4",children:[y.jsx("div",{className:"text-white text-center mb-3",children:""}),y.jsxs("div",{className:"flex justify-center gap-3 flex-wrap",children:[Uy.map($=>y.jsx("button",{onClick:()=>G($.id),className:"bg-yellow-600 hover:bg-yellow-500 text-white px-4 py-2 rounded",children:$.name},$.id)),y.jsx("button",{onClick:W,className:"bg-gray-600 hover:bg-gray-500 text-white px-4 py-2 rounded",children:""})]})]});if(v){if(K)return y.jsx("div",{className:"bg-gray-800 rounded-lg p-4",children:y.jsxs("div",{className:"text-gray-400 text-center animate-pulse",children:[" ",X?.name," ..."]})});const $=d.filter((Le,ce)=>ce!==m),ht=fe[v.action]||v.action;return y.jsxs("div",{className:"bg-gray-800 rounded-lg p-4",children:[y.jsxs("div",{className:"text-white text-center mb-3",children:["",ht,""]}),y.jsxs("div",{className:"flex justify-center gap-3 flex-wrap",children:[$.map(Le=>y.jsxs("button",{onClick:()=>U(Le.id),className:"bg-purple-600 hover:bg-purple-500 text-white px-4 py-2 rounded",children:[Le.name,v.action==="steal"&&y.jsxs("span",{className:"text-xs ml-1",children:["(",Le.hand?.length??0," )"]})]},Le.id)),y.jsx("button",{onClick:W,className:"bg-gray-600 hover:bg-gray-500 text-white px-4 py-2 rounded",children:""})]})]})}return l?y.jsxs("div",{className:"bg-gray-800 rounded-lg p-4",children:[R&&y.jsx("div",{className:"text-yellow-400 text-center mb-3 text-sm",children:R}),y.jsx("div",{className:"text-gray-500 text-center",children:"..."})]}):y.jsxs("div",{className:"bg-gray-800 rounded-lg p-4",children:[R&&y.jsx("div",{className:"text-yellow-400 text-center mb-3 text-sm",children:R}),y.jsxs("div",{className:"flex justify-center gap-3",children:[f==="action"&&y.jsxs(y.Fragment,{children:[y.jsx("button",{onClick:j,disabled:p===null,className:`px-4 py-2 rounded font-bold ${p!==null?"bg-green-600 hover:bg-green-500 text-white":"bg-gray-600 text-gray-400 cursor-not-allowed"}`,children:""}),y.jsx("button",{onClick:ie,className:"bg-gray-600 hover:bg-gray-500 text-white px-4 py-2 rounded",children:""})]}),f==="salary"&&y.jsx("div",{className:"text-gray-400",children:y.jsx("span",{className:"animate-pulse",children:"..."})}),f==="draw"&&y.jsx("div",{className:"text-gray-400",children:y.jsx("span",{className:"animate-pulse",children:"..."})})]})]})},rN=({disabled:l=!1})=>{const{phase:n,getCurrentPlayer:a,getAvailableJobsForCurrentPlayer:s,applyJob:c,tryPromote:f}=Ze(),d=a();if(!d)return null;const m=s(),p=Of(d),g=u1(),S={intelligence:{name:"",color:"text-blue-400",bg:"bg-blue-900/30"},stamina:{name:"",color:"text-red-400",bg:"bg-red-900/30"},charisma:{name:"",color:"text-pink-400",bg:"bg-pink-900/30"}};return n!=="action"?y.jsxs("div",{className:"bg-gray-800 rounded-lg p-4",children:[y.jsx("h3",{className:"text-white font-bold mb-2",children:""}),y.jsx("div",{className:"text-gray-400 text-sm",children:""})]}):y.jsxs("div",{className:"bg-gray-800 rounded-lg p-4",children:[y.jsx("h3",{className:"text-white font-bold mb-3",children:""}),d.job?y.jsxs("div",{className:"mb-4 p-3 bg-gray-700 rounded",children:[y.jsx("div",{className:"text-sm text-gray-400",children:""}),y.jsx("div",{className:"text-white font-bold",children:d.job.levels[d.jobLevel].name}),y.jsx("div",{className:"text-xs text-gray-400 mt-1",children:d.job.skill}),y.jsxs("div",{className:"text-sm text-gray-300 mt-1",children:[": ",d.performance,"/9"]}),p&&!l&&y.jsx("button",{onClick:f,className:"mt-2 bg-green-600 hover:bg-green-500 text-white text-sm px-3 py-1 rounded w-full",children:""})]}):y.jsx("div",{className:"mb-4 text-gray-400 text-sm",children:""}),!d.job&&y.jsxs("div",{children:[y.jsxs("div",{className:"text-sm text-gray-400 mb-2",children:[" (",m.length,")"]}),m.length>0?y.jsx("div",{className:"space-y-2 max-h-48 overflow-y-auto",children:m.map(v=>{const b=S[v.category];return y.jsxs("button",{onClick:()=>c(v.id),disabled:l,className:`w-full text-left p-2 ${b.bg} ${l?"opacity-50 cursor-not-allowed":"hover:brightness-125"} rounded transition-all`,children:[y.jsxs("div",{className:"flex justify-between items-center",children:[y.jsx("span",{className:"text-white font-bold",children:v.levels[0].name}),y.jsx("span",{className:`text-xs ${b.color}`,children:b.name})]}),y.jsxs("div",{className:"text-xs text-gray-400",children:[": $",v.levels[0].salary[0].toLocaleString()]})]},v.id)})}):y.jsx("div",{className:"text-gray-500 text-sm",children:""})]}),y.jsxs("details",{className:"mt-4",children:[y.jsx("summary",{className:"text-gray-400 text-xs cursor-pointer hover:text-gray-300",children:""}),y.jsx("div",{className:"mt-2 space-y-3 text-xs max-h-64 overflow-y-auto",children:["intelligence","stamina","charisma"].map(v=>{const b=S[v];return y.jsxs("div",{children:[y.jsx("div",{className:`${b.color} font-bold mb-1`,children:b.name}),y.jsx("div",{className:"space-y-1",children:g[v].map(R=>{const j=R.levels[0].requiredStats,H=m.some(G=>G.id===R.id);return y.jsxs("div",{className:`p-2 rounded ${H?b.bg:"bg-gray-900"}`,children:[y.jsxs("div",{className:"flex justify-between",children:[y.jsx("span",{className:H?"text-white":"text-gray-500",children:R.name}),y.jsxs("span",{className:"text-gray-500",children:["$",R.levels[0].salary[0].toLocaleString()]})]}),y.jsxs("div",{className:"text-gray-500",children:[j.intelligence?`${j.intelligence} `:"",j.stamina?`${j.stamina} `:"",j.charisma?`${j.charisma}`:""]})]},R.id)})})]},v)})})]})]})},jy=()=>{const{players:l,currentPlayerIndex:n,turn:a,phase:s,currentEvent:c,showEventModal:f,confirmEvent:d,nextPhase:m}=Ze(),[p,g]=re.useState(!1),S=re.useRef(a),{room:v}=Ss(),{isOnlineGame:b,syncToFirebase:R,isMyTurn:j,getMyPlayerIndex:H}=ZT();tN(b);const G=re.useRef(R);if(G.current=R,re.useEffect(()=>{if(!b)return;const K=Ze.subscribe(()=>{G.current()});return()=>K()},[b]),re.useEffect(()=>{a!==S.current&&(S.current=a,g(!1))},[a]),re.useEffect(()=>{if(s!=="salary"&&s!=="draw")return;const K=setTimeout(()=>{const $=Ze.getState().phase;($==="salary"||$==="draw")&&m()},1500);return()=>clearTimeout(K)},[s,m]),re.useEffect(()=>{if(!c||!f||b)return;const K=setTimeout(()=>{d()},2500);return()=>clearTimeout(K)},[c,f,b,d]),!l||l.length===0||s==="setup")return y.jsx("div",{className:"min-h-screen bg-gray-900 flex items-center justify-center",children:y.jsx("div",{className:"text-white text-xl",children:"..."})});const U=l[n],k=b?H():l.findIndex(K=>!K.isAI),Q=l[k>=0?k:0]||U,W=l.some(K=>K.isAI),ie=b?j():W?n===k:!0,fe=b||W?Q:U;if(!U)return y.jsx("div",{className:"min-h-screen bg-gray-900 flex items-center justify-center",children:y.jsx("div",{className:"text-white text-xl",children:"..."})});const X={event:"",salary:"",action:"",draw:"",end_turn:""};return y.jsxs("div",{className:"min-h-screen bg-gray-900 p-4",children:[y.jsxs("div",{className:"bg-gray-800 rounded-lg p-3 mb-4 flex justify-between items-center",children:[y.jsxs("div",{className:"flex items-center gap-4",children:[y.jsx("img",{src:"/ReLife/logo.png",alt:"ReLife",className:"h-8"}),y.jsxs("div",{className:"text-white",children:[y.jsxs("span",{className:"text-yellow-400 font-bold",children:[" ",a," "]}),y.jsx("span",{className:"text-gray-400 mx-2",children:"|"}),y.jsx("span",{children:X[s]||s})]}),y.jsx("div",{className:"text-green-400 text-sm bg-green-900/30 px-2 py-1 rounded",children:" $20,000"})]}),y.jsxs("div",{className:"flex items-center gap-4",children:[b&&y.jsxs("div",{className:"text-blue-400 text-sm",children:[" ",v&&` (: ${v.id})`]}),y.jsxs("div",{className:"text-gray-400 text-sm",children:[": ",Ze.getState().deck?.length??0," "]})]})]}),(b||W)&&y.jsx("div",{className:`rounded-lg p-3 mb-4 text-center ${ie?"bg-green-900/50 border border-green-500":"bg-gray-800"}`,children:ie?y.jsx("span",{className:"text-green-400 font-bold",children:" "}):y.jsxs("span",{className:"text-gray-400",children:[" ",y.jsx("span",{className:"text-yellow-400 font-bold",children:U?.name})," ",U?.isAI?"":""," ..."]})}),y.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-4",children:[y.jsxs("div",{className:"lg:col-span-1 space-y-3",children:[y.jsx("h2",{className:"text-gray-400 text-sm font-bold",children:""}),l.map((K,$)=>{const ht=(b||W)&&$===k,Le=$===n;if(b||W){if(ht)return null}else if(Le)return null;return y.jsxs("div",{className:"relative",children:[K.isAI&&y.jsx("div",{className:"absolute -top-2 -left-2 bg-purple-500 text-white text-xs px-2 py-0.5 rounded-full z-10",children:""}),Le&&y.jsx("div",{className:"absolute -top-2 -right-2 bg-yellow-500 text-black text-xs px-2 py-0.5 rounded-full z-10",children:""}),y.jsx(Dy,{player:K,isCurrentPlayer:Le,isCompact:!0})]},K.id)})]}),y.jsxs("div",{className:"lg:col-span-2 space-y-4",children:[y.jsxs("div",{className:"relative",children:[(b||W)&&ie&&y.jsx("div",{className:"absolute -top-2 -right-2 bg-green-500 text-white text-xs px-2 py-0.5 rounded-full z-10",children:""}),(b||W)&&!ie&&y.jsx("div",{className:"absolute -top-2 -right-2 bg-gray-600 text-white text-xs px-2 py-0.5 rounded-full z-10",children:""}),y.jsx(Dy,{player:b||W?Q:U,isCurrentPlayer:b||W?ie:!0})]}),y.jsx(sN,{disabled:(b||W)&&!ie}),y.jsxs("div",{className:"bg-gray-800 rounded-lg p-4",children:[y.jsx("h3",{className:"text-white font-bold mb-3",children:b||W?`${Q?.name} `:`${U.name} `}),y.jsx(iN,{cards:fe?.hand||[],canPlay:s==="action"&&ie}),(b||W)&&!ie&&s==="action"&&y.jsx("div",{className:"text-gray-500 text-sm mt-2 text-center",children:"..."})]})]}),y.jsxs("div",{className:"lg:col-span-1",children:[y.jsx(rN,{disabled:b&&!ie}),y.jsxs("div",{className:"bg-gray-800 rounded-lg p-4 mt-4",children:[y.jsx("h3",{className:"text-white font-bold mb-2",children:""}),y.jsxs("div",{className:"max-h-64 overflow-y-auto text-sm space-y-1",children:[(Ze.getState().actionLog||[]).slice(-20).reverse().map((K,$)=>{const ht={event:"text-yellow-400",action:"text-blue-300",job:"text-green-400",system:"text-gray-400"};return y.jsxs("div",{className:ht[K.type]||"text-gray-400",children:[y.jsxs("span",{className:"text-gray-500 mr-1",children:["[",K.turn,"]"]}),K.type!=="event"&&y.jsx("span",{className:"font-semibold mr-1",children:K.playerName}),K.message]},$)}),(Ze.getState().actionLog||[]).length===0&&y.jsx("div",{className:"text-gray-500",children:""})]})]})]})]}),c&&(b?s==="event"&&!p:f)&&y.jsx(lN,{event:c,onConfirm:()=>{b&&g(!0),d()}})]})},cN=()=>{const{getGameResult:l,resetGame:n}=Ze(),a=l();if(!a)return null;const s=["","","",""];return y.jsx("div",{className:"min-h-screen bg-gray-900 flex items-center justify-center p-4",children:y.jsxs("div",{className:"bg-gray-800 rounded-xl p-8 max-w-2xl w-full",children:[y.jsxs("div",{className:"text-center mb-8",children:[y.jsx("img",{src:"/ReLife/logo.png",alt:"ReLife",className:"h-16 mx-auto mb-4"}),y.jsx("h1",{className:"text-3xl font-bold text-white mb-2",children:""}),a.winner&&y.jsxs("p",{className:"text-yellow-400 text-lg font-semibold mb-1",children:[a.winner.name," "]}),y.jsx("p",{className:"text-gray-400",children:a.winReason==="money_threshold"?" $20,000":""})]}),y.jsx("div",{className:"space-y-4 mb-8",children:a.rankings.map((c,f)=>y.jsxs("div",{className:`rounded-lg p-4 ${f===0?"bg-yellow-900/50 border-2 border-yellow-500":"bg-gray-700"}`,children:[y.jsxs("div",{className:"flex items-center justify-between",children:[y.jsxs("div",{className:"flex items-center gap-4",children:[y.jsx("div",{className:"text-3xl",children:s[f]||`#${c.rank}`}),y.jsxs("div",{children:[y.jsx("div",{className:"text-white font-bold text-lg",children:c.player.name}),y.jsx("div",{className:"text-gray-400 text-sm",children:c.player.character.name})]})]}),y.jsxs("div",{className:"text-right",children:[y.jsx("div",{className:"text-2xl font-bold text-yellow-400",children:c.score.total.toLocaleString()}),y.jsx("div",{className:"text-gray-400 text-xs",children:""})]})]}),y.jsxs("div",{className:"mt-3 pt-3 border-t border-gray-600 grid grid-cols-3 gap-4 text-sm",children:[y.jsxs("div",{children:[y.jsx("div",{className:"text-gray-400",children:""}),y.jsxs("div",{className:"text-white",children:["$",c.score.money.toLocaleString()]})]}),y.jsxs("div",{children:[y.jsx("div",{className:"text-gray-400",children:""}),y.jsx("div",{className:"text-white",children:c.score.stats.toLocaleString()})]}),y.jsxs("div",{children:[y.jsx("div",{className:"text-gray-400",children:""}),y.jsx("div",{className:"text-white",children:c.score.jobBonus.toLocaleString()})]})]}),y.jsxs("div",{className:"mt-3 pt-3 border-t border-gray-600 flex gap-4 text-xs text-gray-400",children:[y.jsxs("span",{children:[": ",c.player.stats.intelligence]}),y.jsxs("span",{children:[": ",c.player.stats.stamina]}),y.jsxs("span",{children:[": ",c.player.stats.charisma]}),y.jsxs("span",{children:[": ",c.player.job?c.player.job.levels[c.player.jobLevel].name:""]})]})]},c.player.id))}),y.jsx("button",{onClick:n,className:"w-full bg-yellow-500 hover:bg-yellow-400 text-black font-bold py-4 rounded-lg transition-colors",children:""})]})})},oN=({onStartGame:l,onBack:n})=>{const{roomId:a,room:s,error:c,createNewRoom:f,joinExistingRoom:d,leaveCurrentRoom:m,toggleReady:p,changeCharacter:g,startOnlineGame:S,getCurrentPlayer:v,isHost:b,canStartGame:R}=Ss(),[j,H]=re.useState("menu"),[G,U]=re.useState(""),[k,Q]=re.useState(ln[0].id),[W,ie]=re.useState(""),[fe,X]=re.useState(!1);if(re.useEffect(()=>{XT().catch(console.error)},[]),a&&s){const K=v(),$=async()=>{X(!0),await S()&&l(),X(!1)},ht=async()=>{await m(),H("menu")},Le=s.players.filter(ce=>ce.id!==K?.id).map(ce=>ce.characterId);return y.jsx("div",{className:"min-h-screen bg-gray-900 flex items-center justify-center p-4",children:y.jsxs("div",{className:"bg-gray-800 rounded-lg p-6 w-full max-w-md",children:[y.jsxs("div",{className:"text-center mb-6",children:[y.jsx("h2",{className:"text-white text-xl font-bold mb-2",children:""}),y.jsx("div",{className:"bg-gray-700 rounded-lg p-4",children:y.jsx("span",{className:"text-yellow-400 text-3xl font-mono tracking-widest",children:a})}),y.jsx("p",{className:"text-gray-400 text-sm mt-2",children:""})]}),y.jsxs("div",{className:"mb-6",children:[y.jsxs("h3",{className:"text-white font-bold mb-3",children:[" (",s.players.length,"/4)"]}),y.jsxs("div",{className:"space-y-2",children:[s.players.map(ce=>{const ke=ln.find(D=>D.id===ce.characterId),mt=ce.id===K?.id,pt=ce.id===s.hostId;return y.jsxs("div",{className:`p-3 rounded-lg flex items-center justify-between ${mt?"bg-blue-900/50 border border-blue-500":"bg-gray-700"}`,children:[y.jsxs("div",{className:"flex items-center gap-3",children:[y.jsxs("span",{className:"text-white font-bold",children:[ce.name,mt&&y.jsx("span",{className:"text-blue-400 text-sm ml-1",children:"()"}),pt&&y.jsx("span",{className:"text-yellow-400 text-sm ml-1",children:""})]}),y.jsx("span",{className:"text-gray-400 text-sm",children:ke?.name})]}),y.jsx("div",{children:ce.ready?y.jsx("span",{className:"text-green-400 text-sm",children:" "}):y.jsx("span",{className:"text-gray-500 text-sm",children:"..."})})]},ce.id)}),Array.from({length:4-s.players.length}).map((ce,ke)=>y.jsx("div",{className:"p-3 rounded-lg bg-gray-700/50 border border-dashed border-gray-600",children:y.jsx("span",{className:"text-gray-500",children:"..."})},`empty-${ke}`))]})]}),K&&y.jsxs("div",{className:"mb-6",children:[y.jsx("h3",{className:"text-white font-bold mb-3",children:""}),y.jsx("div",{className:"grid grid-cols-2 gap-2",children:ln.map(ce=>{const ke=Le.includes(ce.id),mt=K.characterId===ce.id;return y.jsxs("button",{onClick:()=>!ke&&g(ce.id),disabled:ke||K.ready,className:`p-2 rounded text-left text-sm ${mt?"bg-blue-600 text-white":ke?"bg-gray-700 text-gray-500 cursor-not-allowed":"bg-gray-700 text-white hover:bg-gray-600"}`,children:[y.jsx("div",{className:"font-bold",children:ce.name}),y.jsxs("div",{className:"text-xs opacity-75",children:["$",ce.initialMoney.toLocaleString(),ke&&" ()"]})]},ce.id)})})]}),c&&y.jsx("div",{className:"mb-4 p-3 bg-red-900/50 border border-red-500 rounded text-red-300 text-sm",children:c}),y.jsxs("div",{className:"space-y-2",children:[b()?y.jsx("button",{onClick:$,disabled:!R()||fe,className:`w-full py-3 rounded-lg font-bold ${R()?"bg-green-600 hover:bg-green-500 text-white":"bg-gray-600 text-gray-400 cursor-not-allowed"}`,children:fe?"...":R()?"":""}):y.jsx("button",{onClick:p,className:`w-full py-3 rounded-lg font-bold ${K?.ready?"bg-gray-600 hover:bg-gray-500 text-white":"bg-green-600 hover:bg-green-500 text-white"}`,children:K?.ready?"":""}),y.jsx("button",{onClick:ht,className:"w-full py-2 rounded-lg bg-gray-700 hover:bg-gray-600 text-gray-300",children:""})]})]})})}if(j==="menu")return y.jsx("div",{className:"min-h-screen bg-gray-900 flex items-center justify-center p-4",children:y.jsxs("div",{className:"bg-gray-800 rounded-lg p-6 w-full max-w-sm",children:[y.jsx("h2",{className:"text-white text-2xl font-bold text-center mb-6",children:""}),y.jsxs("div",{className:"space-y-3",children:[y.jsx("button",{onClick:()=>H("create"),className:"w-full py-3 rounded-lg bg-blue-600 hover:bg-blue-500 text-white font-bold",children:""}),y.jsx("button",{onClick:()=>H("join"),className:"w-full py-3 rounded-lg bg-green-600 hover:bg-green-500 text-white font-bold",children:""}),y.jsx("button",{onClick:n,className:"w-full py-2 rounded-lg bg-gray-700 hover:bg-gray-600 text-gray-300",children:""})]})]})});if(j==="create"){const K=async()=>{G.trim()&&(X(!0),await f(G.trim(),k),X(!1))};return y.jsx("div",{className:"min-h-screen bg-gray-900 flex items-center justify-center p-4",children:y.jsxs("div",{className:"bg-gray-800 rounded-lg p-6 w-full max-w-sm",children:[y.jsx("h2",{className:"text-white text-xl font-bold text-center mb-6",children:""}),y.jsxs("div",{className:"space-y-4",children:[y.jsxs("div",{children:[y.jsx("label",{className:"text-gray-400 text-sm block mb-1",children:""}),y.jsx("input",{type:"text",value:G,onChange:$=>U($.target.value),placeholder:"",className:"w-full p-3 rounded bg-gray-700 text-white border border-gray-600 focus:border-blue-500 focus:outline-none",maxLength:10})]}),y.jsxs("div",{children:[y.jsx("label",{className:"text-gray-400 text-sm block mb-1",children:""}),y.jsx("select",{value:k,onChange:$=>Q($.target.value),className:"w-full p-3 rounded bg-gray-700 text-white border border-gray-600 focus:border-blue-500 focus:outline-none",children:ln.map($=>y.jsxs("option",{value:$.id,children:[$.name," ($",$.initialMoney.toLocaleString(),")"]},$.id))})]}),c&&y.jsx("div",{className:"p-3 bg-red-900/50 border border-red-500 rounded text-red-300 text-sm",children:c}),y.jsx("button",{onClick:K,disabled:!G.trim()||fe,className:"w-full py-3 rounded-lg bg-blue-600 hover:bg-blue-500 text-white font-bold disabled:bg-gray-600 disabled:cursor-not-allowed",children:fe?"...":""}),y.jsx("button",{onClick:()=>H("menu"),className:"w-full py-2 rounded-lg bg-gray-700 hover:bg-gray-600 text-gray-300",children:""})]})]})})}if(j==="join"){const K=async()=>{!G.trim()||!W.trim()||(X(!0),await d(W.trim(),G.trim(),k),X(!1))};return y.jsx("div",{className:"min-h-screen bg-gray-900 flex items-center justify-center p-4",children:y.jsxs("div",{className:"bg-gray-800 rounded-lg p-6 w-full max-w-sm",children:[y.jsx("h2",{className:"text-white text-xl font-bold text-center mb-6",children:""}),y.jsxs("div",{className:"space-y-4",children:[y.jsxs("div",{children:[y.jsx("label",{className:"text-gray-400 text-sm block mb-1",children:""}),y.jsx("input",{type:"text",value:W,onChange:$=>ie($.target.value),placeholder:" 6 ",className:"w-full p-3 rounded bg-gray-700 text-white border border-gray-600 focus:border-blue-500 focus:outline-none text-center text-xl tracking-widest",maxLength:6})]}),y.jsxs("div",{children:[y.jsx("label",{className:"text-gray-400 text-sm block mb-1",children:""}),y.jsx("input",{type:"text",value:G,onChange:$=>U($.target.value),placeholder:"",className:"w-full p-3 rounded bg-gray-700 text-white border border-gray-600 focus:border-blue-500 focus:outline-none",maxLength:10})]}),y.jsxs("div",{children:[y.jsx("label",{className:"text-gray-400 text-sm block mb-1",children:""}),y.jsx("select",{value:k,onChange:$=>Q($.target.value),className:"w-full p-3 rounded bg-gray-700 text-white border border-gray-600 focus:border-blue-500 focus:outline-none",children:ln.map($=>y.jsxs("option",{value:$.id,children:[$.name," ($",$.initialMoney.toLocaleString(),")"]},$.id))})]}),c&&y.jsx("div",{className:"p-3 bg-red-900/50 border border-red-500 rounded text-red-300 text-sm",children:c}),y.jsx("button",{onClick:K,disabled:!G.trim()||!W.trim()||fe,className:"w-full py-3 rounded-lg bg-green-600 hover:bg-green-500 text-white font-bold disabled:bg-gray-600 disabled:cursor-not-allowed",children:fe?"...":""}),y.jsx("button",{onClick:()=>H("menu"),className:"w-full py-2 rounded-lg bg-gray-700 hover:bg-gray-600 text-gray-300",children:""})]})]})})}return null};function uN(){const{phase:l}=Ze(),{room:n,isReconnecting:a,error:s,hasStoredSession:c,tryReconnect:f,resetRoom:d}=Ss(),[m,p]=re.useState(!1),[g,S]=re.useState(()=>c()),v=async()=>{S(!1),await f()&&p(!0)},b=()=>{S(!1),d()};return g?y.jsx("div",{className:"min-h-screen bg-gray-900 flex items-center justify-center p-4",children:y.jsxs("div",{className:"bg-gray-800 rounded-lg p-6 max-w-md w-full text-center",children:[y.jsx("h2",{className:"text-xl font-bold text-white mb-4",children:""}),y.jsx("p",{className:"text-gray-300 mb-6",children:""}),y.jsxs("div",{className:"flex gap-3 justify-center",children:[y.jsx("button",{onClick:v,className:"bg-green-600 hover:bg-green-500 text-white px-6 py-2 rounded font-bold",children:""}),y.jsx("button",{onClick:b,className:"bg-gray-600 hover:bg-gray-500 text-white px-6 py-2 rounded",children:""})]})]})}):a?y.jsx("div",{className:"min-h-screen bg-gray-900 flex items-center justify-center p-4",children:y.jsxs("div",{className:"bg-gray-800 rounded-lg p-6 max-w-md w-full text-center",children:[y.jsx("h2",{className:"text-xl font-bold text-white mb-4",children:"..."}),y.jsx("div",{className:"animate-pulse text-gray-400",children:""})]})}):s&&!m?y.jsx("div",{className:"min-h-screen bg-gray-900 flex items-center justify-center p-4",children:y.jsxs("div",{className:"bg-gray-800 rounded-lg p-6 max-w-md w-full text-center",children:[y.jsx("h2",{className:"text-xl font-bold text-red-400 mb-4",children:""}),y.jsx("p",{className:"text-gray-300 mb-6",children:s}),y.jsx("button",{onClick:()=>{d()},className:"bg-blue-600 hover:bg-blue-500 text-white px-6 py-2 rounded font-bold",children:""})]})}):m&&(!n||n.status==="waiting")?y.jsx(oN,{onStartGame:()=>p(!1),onBack:()=>p(!1)}):n&&n.status==="playing"?y.jsx(jy,{}):l==="setup"?y.jsx(PT,{onOnlineClick:()=>p(!0)}):l==="game_over"?y.jsx(cN,{}):y.jsx(jy,{})}e1.createRoot(document.getElementById("root")).render(y.jsx(re.StrictMode,{children:y.jsx(uN,{})}));

(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const c of document.querySelectorAll('link[rel="modulepreload"]'))s(c);new MutationObserver(c=>{for(const f of c)if(f.type==="childList")for(const d of f.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&s(d)}).observe(document,{childList:!0,subtree:!0});function l(c){const f={};return c.integrity&&(f.integrity=c.integrity),c.referrerPolicy&&(f.referrerPolicy=c.referrerPolicy),c.crossOrigin==="use-credentials"?f.credentials="include":c.crossOrigin==="anonymous"?f.credentials="omit":f.credentials="same-origin",f}function s(c){if(c.ep)return;c.ep=!0;const f=l(c);fetch(c.href,f)}})();function Pb(a){return a&&a.__esModule&&Object.prototype.hasOwnProperty.call(a,"default")?a.default:a}var ku={exports:{}},ql={};var _p;function Zb(){if(_p)return ql;_p=1;var a=Symbol.for("react.transitional.element"),n=Symbol.for("react.fragment");function l(s,c,f){var d=null;if(f!==void 0&&(d=""+f),c.key!==void 0&&(d=""+c.key),"key"in c){f={};for(var m in c)m!=="key"&&(f[m]=c[m])}else f=c;return c=f.ref,{$$typeof:a,type:s,key:d,ref:c!==void 0?c:null,props:f}}return ql.Fragment=n,ql.jsx=l,ql.jsxs=l,ql}var vp;function Kb(){return vp||(vp=1,ku.exports=Zb()),ku.exports}var y=Kb(),qu={exports:{}},ie={};var bp;function Fb(){if(bp)return ie;bp=1;var a=Symbol.for("react.transitional.element"),n=Symbol.for("react.portal"),l=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),c=Symbol.for("react.profiler"),f=Symbol.for("react.consumer"),d=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),S=Symbol.for("react.lazy"),v=Symbol.for("react.activity"),b=Symbol.iterator;function R(C){return C===null||typeof C!="object"?null:(C=b&&C[b]||C["@@iterator"],typeof C=="function"?C:null)}var I={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},H=Object.assign,k={};function U(C,L,G){this.props=C,this.context=L,this.refs=k,this.updater=G||I}U.prototype.isReactComponent={},U.prototype.setState=function(C,L){if(typeof C!="object"&&typeof C!="function"&&C!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,C,L,"setState")},U.prototype.forceUpdate=function(C){this.updater.enqueueForceUpdate(this,C,"forceUpdate")};function Y(){}Y.prototype=U.prototype;function V(C,L,G){this.props=C,this.context=L,this.refs=k,this.updater=G||I}var ne=V.prototype=new Y;ne.constructor=V,H(ne,U.prototype),ne.isPureReactComponent=!0;var Ee=Array.isArray;function Se(){}var J={H:null,A:null,T:null,S:null},K=Object.prototype.hasOwnProperty;function Q(C,L,G){var P=G.ref;return{$$typeof:a,type:C,key:L,ref:P!==void 0?P:null,props:G}}function Ce(C,L){return Q(C.type,L,C.props)}function ce(C){return typeof C=="object"&&C!==null&&C.$$typeof===a}function W(C){var L={"=":"=0",":":"=2"};return"$"+C.replace(/[=:]/g,function(G){return L[G]})}var je=/\/+/g;function mt(C,L){return typeof C=="object"&&C!==null&&C.key!=null?W(""+C.key):L.toString(36)}function pt(C){switch(C.status){case"fulfilled":return C.value;case"rejected":throw C.reason;default:switch(typeof C.status=="string"?C.then(Se,Se):(C.status="pending",C.then(function(L){C.status==="pending"&&(C.status="fulfilled",C.value=L)},function(L){C.status==="pending"&&(C.status="rejected",C.reason=L)})),C.status){case"fulfilled":return C.value;case"rejected":throw C.reason}}throw C}function D(C,L,G,P,le){var fe=typeof C;(fe==="undefined"||fe==="boolean")&&(C=null);var Te=!1;if(C===null)Te=!0;else switch(fe){case"bigint":case"string":case"number":Te=!0;break;case"object":switch(C.$$typeof){case a:case n:Te=!0;break;case S:return Te=C._init,D(Te(C._payload),L,G,P,le)}}if(Te)return le=le(C),Te=P===""?"."+mt(C,0):P,Ee(le)?(G="",Te!=null&&(G=Te.replace(je,"$&/")+"/"),D(le,L,G,"",function(Za){return Za})):le!=null&&(ce(le)&&(le=Ce(le,G+(le.key==null||C&&C.key===le.key?"":(""+le.key).replace(je,"$&/")+"/")+Te)),L.push(le)),1;Te=0;var yt=P===""?".":P+":";if(Ee(C))for(var Pe=0;Pe<C.length;Pe++)P=C[Pe],fe=yt+mt(P,Pe),Te+=D(P,L,G,fe,le);else if(Pe=R(C),typeof Pe=="function")for(C=Pe.call(C),Pe=0;!(P=C.next()).done;)P=P.value,fe=yt+mt(P,Pe++),Te+=D(P,L,G,fe,le);else if(fe==="object"){if(typeof C.then=="function")return D(pt(C),L,G,P,le);throw L=String(C),Error("Objects are not valid as a React child (found: "+(L==="[object Object]"?"object with keys {"+Object.keys(C).join(", ")+"}":L)+"). If you meant to render a collection of children, use an array instead.")}return Te}function q(C,L,G){if(C==null)return C;var P=[],le=0;return D(C,P,"","",function(fe){return L.call(G,fe,le++)}),P}function te(C){if(C._status===-1){var L=C._result;L=L(),L.then(function(G){(C._status===0||C._status===-1)&&(C._status=1,C._result=G)},function(G){(C._status===0||C._status===-1)&&(C._status=2,C._result=G)}),C._status===-1&&(C._status=0,C._result=L)}if(C._status===1)return C._result.default;throw C._result}var Ae=typeof reportError=="function"?reportError:function(C){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var L=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof C=="object"&&C!==null&&typeof C.message=="string"?String(C.message):String(C),error:C});if(!window.dispatchEvent(L))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",C);return}console.error(C)},Ie={map:q,forEach:function(C,L,G){q(C,function(){L.apply(this,arguments)},G)},count:function(C){var L=0;return q(C,function(){L++}),L},toArray:function(C){return q(C,function(L){return L})||[]},only:function(C){if(!ce(C))throw Error("React.Children.only expected to receive a single React element child.");return C}};return ie.Activity=v,ie.Children=Ie,ie.Component=U,ie.Fragment=l,ie.Profiler=c,ie.PureComponent=V,ie.StrictMode=s,ie.Suspense=p,ie.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=J,ie.__COMPILER_RUNTIME={__proto__:null,c:function(C){return J.H.useMemoCache(C)}},ie.cache=function(C){return function(){return C.apply(null,arguments)}},ie.cacheSignal=function(){return null},ie.cloneElement=function(C,L,G){if(C==null)throw Error("The argument must be a React element, but you passed "+C+".");var P=H({},C.props),le=C.key;if(L!=null)for(fe in L.key!==void 0&&(le=""+L.key),L)!K.call(L,fe)||fe==="key"||fe==="__self"||fe==="__source"||fe==="ref"&&L.ref===void 0||(P[fe]=L[fe]);var fe=arguments.length-2;if(fe===1)P.children=G;else if(1<fe){for(var Te=Array(fe),yt=0;yt<fe;yt++)Te[yt]=arguments[yt+2];P.children=Te}return Q(C.type,le,P)},ie.createContext=function(C){return C={$$typeof:d,_currentValue:C,_currentValue2:C,_threadCount:0,Provider:null,Consumer:null},C.Provider=C,C.Consumer={$$typeof:f,_context:C},C},ie.createElement=function(C,L,G){var P,le={},fe=null;if(L!=null)for(P in L.key!==void 0&&(fe=""+L.key),L)K.call(L,P)&&P!=="key"&&P!=="__self"&&P!=="__source"&&(le[P]=L[P]);var Te=arguments.length-2;if(Te===1)le.children=G;else if(1<Te){for(var yt=Array(Te),Pe=0;Pe<Te;Pe++)yt[Pe]=arguments[Pe+2];le.children=yt}if(C&&C.defaultProps)for(P in Te=C.defaultProps,Te)le[P]===void 0&&(le[P]=Te[P]);return Q(C,fe,le)},ie.createRef=function(){return{current:null}},ie.forwardRef=function(C){return{$$typeof:m,render:C}},ie.isValidElement=ce,ie.lazy=function(C){return{$$typeof:S,_payload:{_status:-1,_result:C},_init:te}},ie.memo=function(C,L){return{$$typeof:g,type:C,compare:L===void 0?null:L}},ie.startTransition=function(C){var L=J.T,G={};J.T=G;try{var P=C(),le=J.S;le!==null&&le(G,P),typeof P=="object"&&P!==null&&typeof P.then=="function"&&P.then(Se,Ae)}catch(fe){Ae(fe)}finally{L!==null&&G.types!==null&&(L.types=G.types),J.T=L}},ie.unstable_useCacheRefresh=function(){return J.H.useCacheRefresh()},ie.use=function(C){return J.H.use(C)},ie.useActionState=function(C,L,G){return J.H.useActionState(C,L,G)},ie.useCallback=function(C,L){return J.H.useCallback(C,L)},ie.useContext=function(C){return J.H.useContext(C)},ie.useDebugValue=function(){},ie.useDeferredValue=function(C,L){return J.H.useDeferredValue(C,L)},ie.useEffect=function(C,L){return J.H.useEffect(C,L)},ie.useEffectEvent=function(C){return J.H.useEffectEvent(C)},ie.useId=function(){return J.H.useId()},ie.useImperativeHandle=function(C,L,G){return J.H.useImperativeHandle(C,L,G)},ie.useInsertionEffect=function(C,L){return J.H.useInsertionEffect(C,L)},ie.useLayoutEffect=function(C,L){return J.H.useLayoutEffect(C,L)},ie.useMemo=function(C,L){return J.H.useMemo(C,L)},ie.useOptimistic=function(C,L){return J.H.useOptimistic(C,L)},ie.useReducer=function(C,L,G){return J.H.useReducer(C,L,G)},ie.useRef=function(C){return J.H.useRef(C)},ie.useState=function(C){return J.H.useState(C)},ie.useSyncExternalStore=function(C,L,G){return J.H.useSyncExternalStore(C,L,G)},ie.useTransition=function(){return J.H.useTransition()},ie.version="19.2.4",ie}var Sp;function Df(){return Sp||(Sp=1,qu.exports=Fb()),qu.exports}var ae=Df();const Br=Pb(ae);var Gu={exports:{}},Gl={},Yu={exports:{}},Vu={};var xp;function $b(){return xp||(xp=1,(function(a){function n(D,q){var te=D.length;D.push(q);e:for(;0<te;){var Ae=te-1>>>1,Ie=D[Ae];if(0<c(Ie,q))D[Ae]=q,D[te]=Ie,te=Ae;else break e}}function l(D){return D.length===0?null:D[0]}function s(D){if(D.length===0)return null;var q=D[0],te=D.pop();if(te!==q){D[0]=te;e:for(var Ae=0,Ie=D.length,C=Ie>>>1;Ae<C;){var L=2*(Ae+1)-1,G=D[L],P=L+1,le=D[P];if(0>c(G,te))P<Ie&&0>c(le,G)?(D[Ae]=le,D[P]=te,Ae=P):(D[Ae]=G,D[L]=te,Ae=L);else if(P<Ie&&0>c(le,te))D[Ae]=le,D[P]=te,Ae=P;else break e}}return q}function c(D,q){var te=D.sortIndex-q.sortIndex;return te!==0?te:D.id-q.id}if(a.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var f=performance;a.unstable_now=function(){return f.now()}}else{var d=Date,m=d.now();a.unstable_now=function(){return d.now()-m}}var p=[],g=[],S=1,v=null,b=3,R=!1,I=!1,H=!1,k=!1,U=typeof setTimeout=="function"?setTimeout:null,Y=typeof clearTimeout=="function"?clearTimeout:null,V=typeof setImmediate<"u"?setImmediate:null;function ne(D){for(var q=l(g);q!==null;){if(q.callback===null)s(g);else if(q.startTime<=D)s(g),q.sortIndex=q.expirationTime,n(p,q);else break;q=l(g)}}function Ee(D){if(H=!1,ne(D),!I)if(l(p)!==null)I=!0,Se||(Se=!0,W());else{var q=l(g);q!==null&&pt(Ee,q.startTime-D)}}var Se=!1,J=-1,K=5,Q=-1;function Ce(){return k?!0:!(a.unstable_now()-Q<K)}function ce(){if(k=!1,Se){var D=a.unstable_now();Q=D;var q=!0;try{e:{I=!1,H&&(H=!1,Y(J),J=-1),R=!0;var te=b;try{t:{for(ne(D),v=l(p);v!==null&&!(v.expirationTime>D&&Ce());){var Ae=v.callback;if(typeof Ae=="function"){v.callback=null,b=v.priorityLevel;var Ie=Ae(v.expirationTime<=D);if(D=a.unstable_now(),typeof Ie=="function"){v.callback=Ie,ne(D),q=!0;break t}v===l(p)&&s(p),ne(D)}else s(p);v=l(p)}if(v!==null)q=!0;else{var C=l(g);C!==null&&pt(Ee,C.startTime-D),q=!1}}break e}finally{v=null,b=te,R=!1}q=void 0}}finally{q?W():Se=!1}}}var W;if(typeof V=="function")W=function(){V(ce)};else if(typeof MessageChannel<"u"){var je=new MessageChannel,mt=je.port2;je.port1.onmessage=ce,W=function(){mt.postMessage(null)}}else W=function(){U(ce,0)};function pt(D,q){J=U(function(){D(a.unstable_now())},q)}a.unstable_IdlePriority=5,a.unstable_ImmediatePriority=1,a.unstable_LowPriority=4,a.unstable_NormalPriority=3,a.unstable_Profiling=null,a.unstable_UserBlockingPriority=2,a.unstable_cancelCallback=function(D){D.callback=null},a.unstable_forceFrameRate=function(D){0>D||125<D?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):K=0<D?Math.floor(1e3/D):5},a.unstable_getCurrentPriorityLevel=function(){return b},a.unstable_next=function(D){switch(b){case 1:case 2:case 3:var q=3;break;default:q=b}var te=b;b=q;try{return D()}finally{b=te}},a.unstable_requestPaint=function(){k=!0},a.unstable_runWithPriority=function(D,q){switch(D){case 1:case 2:case 3:case 4:case 5:break;default:D=3}var te=b;b=D;try{return q()}finally{b=te}},a.unstable_scheduleCallback=function(D,q,te){var Ae=a.unstable_now();switch(typeof te=="object"&&te!==null?(te=te.delay,te=typeof te=="number"&&0<te?Ae+te:Ae):te=Ae,D){case 1:var Ie=-1;break;case 2:Ie=250;break;case 5:Ie=1073741823;break;case 4:Ie=1e4;break;default:Ie=5e3}return Ie=te+Ie,D={id:S++,callback:q,priorityLevel:D,startTime:te,expirationTime:Ie,sortIndex:-1},te>Ae?(D.sortIndex=te,n(g,D),l(p)===null&&D===l(g)&&(H?(Y(J),J=-1):H=!0,pt(Ee,te-Ae))):(D.sortIndex=Ie,n(p,D),I||R||(I=!0,Se||(Se=!0,W()))),D},a.unstable_shouldYield=Ce,a.unstable_wrapCallback=function(D){var q=b;return function(){var te=b;b=q;try{return D.apply(this,arguments)}finally{b=te}}}})(Vu)),Vu}var Ep;function Jb(){return Ep||(Ep=1,Yu.exports=$b()),Yu.exports}var Qu={exports:{}},gt={};var Cp;function Wb(){if(Cp)return gt;Cp=1;var a=Df();function n(p){var g="https://react.dev/errors/"+p;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var S=2;S<arguments.length;S++)g+="&args[]="+encodeURIComponent(arguments[S])}return"Minified React error #"+p+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(){}var s={d:{f:l,r:function(){throw Error(n(522))},D:l,C:l,L:l,m:l,X:l,S:l,M:l},p:0,findDOMNode:null},c=Symbol.for("react.portal");function f(p,g,S){var v=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:c,key:v==null?null:""+v,children:p,containerInfo:g,implementation:S}}var d=a.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function m(p,g){if(p==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return gt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,gt.createPortal=function(p,g){var S=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(n(299));return f(p,g,null,S)},gt.flushSync=function(p){var g=d.T,S=s.p;try{if(d.T=null,s.p=2,p)return p()}finally{d.T=g,s.p=S,s.d.f()}},gt.preconnect=function(p,g){typeof p=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,s.d.C(p,g))},gt.prefetchDNS=function(p){typeof p=="string"&&s.d.D(p)},gt.preinit=function(p,g){if(typeof p=="string"&&g&&typeof g.as=="string"){var S=g.as,v=m(S,g.crossOrigin),b=typeof g.integrity=="string"?g.integrity:void 0,R=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;S==="style"?s.d.S(p,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:v,integrity:b,fetchPriority:R}):S==="script"&&s.d.X(p,{crossOrigin:v,integrity:b,fetchPriority:R,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},gt.preinitModule=function(p,g){if(typeof p=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var S=m(g.as,g.crossOrigin);s.d.M(p,{crossOrigin:S,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&s.d.M(p)},gt.preload=function(p,g){if(typeof p=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var S=g.as,v=m(S,g.crossOrigin);s.d.L(p,S,{crossOrigin:v,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},gt.preloadModule=function(p,g){if(typeof p=="string")if(g){var S=m(g.as,g.crossOrigin);s.d.m(p,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:S,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else s.d.m(p)},gt.requestFormReset=function(p){s.d.r(p)},gt.unstable_batchedUpdates=function(p,g){return p(g)},gt.useFormState=function(p,g,S){return d.H.useFormState(p,g,S)},gt.useFormStatus=function(){return d.H.useHostTransitionStatus()},gt.version="19.2.4",gt}var Tp;function e1(){if(Tp)return Qu.exports;Tp=1;function a(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(a)}catch(n){console.error(n)}}return a(),Qu.exports=Wb(),Qu.exports}var Np;function t1(){if(Np)return Gl;Np=1;var a=Jb(),n=Df(),l=e1();function s(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var i=2;i<arguments.length;i++)t+="&args[]="+encodeURIComponent(arguments[i])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function c(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function f(e){var t=e,i=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,(t.flags&4098)!==0&&(i=t.return),e=t.return;while(e)}return t.tag===3?i:null}function d(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function m(e){if(e.tag===31){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function p(e){if(f(e)!==e)throw Error(s(188))}function g(e){var t=e.alternate;if(!t){if(t=f(e),t===null)throw Error(s(188));return t!==e?null:e}for(var i=e,r=t;;){var o=i.return;if(o===null)break;var u=o.alternate;if(u===null){if(r=o.return,r!==null){i=r;continue}break}if(o.child===u.child){for(u=o.child;u;){if(u===i)return p(o),e;if(u===r)return p(o),t;u=u.sibling}throw Error(s(188))}if(i.return!==r.return)i=o,r=u;else{for(var h=!1,_=o.child;_;){if(_===i){h=!0,i=o,r=u;break}if(_===r){h=!0,r=o,i=u;break}_=_.sibling}if(!h){for(_=u.child;_;){if(_===i){h=!0,i=u,r=o;break}if(_===r){h=!0,r=u,i=o;break}_=_.sibling}if(!h)throw Error(s(189))}}if(i.alternate!==r)throw Error(s(190))}if(i.tag!==3)throw Error(s(188));return i.stateNode.current===i?e:t}function S(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e;for(e=e.child;e!==null;){if(t=S(e),t!==null)return t;e=e.sibling}return null}var v=Object.assign,b=Symbol.for("react.element"),R=Symbol.for("react.transitional.element"),I=Symbol.for("react.portal"),H=Symbol.for("react.fragment"),k=Symbol.for("react.strict_mode"),U=Symbol.for("react.profiler"),Y=Symbol.for("react.consumer"),V=Symbol.for("react.context"),ne=Symbol.for("react.forward_ref"),Ee=Symbol.for("react.suspense"),Se=Symbol.for("react.suspense_list"),J=Symbol.for("react.memo"),K=Symbol.for("react.lazy"),Q=Symbol.for("react.activity"),Ce=Symbol.for("react.memo_cache_sentinel"),ce=Symbol.iterator;function W(e){return e===null||typeof e!="object"?null:(e=ce&&e[ce]||e["@@iterator"],typeof e=="function"?e:null)}var je=Symbol.for("react.client.reference");function mt(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===je?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case H:return"Fragment";case U:return"Profiler";case k:return"StrictMode";case Ee:return"Suspense";case Se:return"SuspenseList";case Q:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case I:return"Portal";case V:return e.displayName||"Context";case Y:return(e._context.displayName||"Context")+".Consumer";case ne:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case J:return t=e.displayName||null,t!==null?t:mt(e.type)||"Memo";case K:t=e._payload,e=e._init;try{return mt(e(t))}catch{}}return null}var pt=Array.isArray,D=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,q=l.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,te={pending:!1,data:null,method:null,action:null},Ae=[],Ie=-1;function C(e){return{current:e}}function L(e){0>Ie||(e.current=Ae[Ie],Ae[Ie]=null,Ie--)}function G(e,t){Ie++,Ae[Ie]=e.current,e.current=t}var P=C(null),le=C(null),fe=C(null),Te=C(null);function yt(e,t){switch(G(fe,t),G(le,e),G(P,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?qg(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)t=qg(t),e=Gg(t,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}L(P),G(P,e)}function Pe(){L(P),L(le),L(fe)}function Za(e){e.memoizedState!==null&&G(Te,e);var t=P.current,i=Gg(t,e.type);t!==i&&(G(le,e),G(P,i))}function Ss(e){le.current===e&&(L(P),L(le)),Te.current===e&&(L(Te),Ul._currentValue=te)}var Sc,yd;function vi(e){if(Sc===void 0)try{throw Error()}catch(i){var t=i.stack.trim().match(/\n( *(at )?)/);Sc=t&&t[1]||"",yd=-1<i.stack.indexOf(`
    at`)?" (<anonymous>)":-1<i.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Sc+e+yd}var xc=!1;function Ec(e,t){if(!e||xc)return"";xc=!0;var i=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var r={DetermineComponentFrameRoot:function(){try{if(t){var z=function(){throw Error()};if(Object.defineProperty(z.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(z,[])}catch(M){var A=M}Reflect.construct(e,[],z)}else{try{z.call()}catch(M){A=M}e.call(z.prototype)}}else{try{throw Error()}catch(M){A=M}(z=e())&&typeof z.catch=="function"&&z.catch(function(){})}}catch(M){if(M&&A&&typeof M.stack=="string")return[M.stack,A.stack]}return[null,null]}};r.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var o=Object.getOwnPropertyDescriptor(r.DetermineComponentFrameRoot,"name");o&&o.configurable&&Object.defineProperty(r.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var u=r.DetermineComponentFrameRoot(),h=u[0],_=u[1];if(h&&_){var x=h.split(`
`),w=_.split(`
`);for(o=r=0;r<x.length&&!x[r].includes("DetermineComponentFrameRoot");)r++;for(;o<w.length&&!w[o].includes("DetermineComponentFrameRoot");)o++;if(r===x.length||o===w.length)for(r=x.length-1,o=w.length-1;1<=r&&0<=o&&x[r]!==w[o];)o--;for(;1<=r&&0<=o;r--,o--)if(x[r]!==w[o]){if(r!==1||o!==1)do if(r--,o--,0>o||x[r]!==w[o]){var O=`
`+x[r].replace(" at new "," at ");return e.displayName&&O.includes("<anonymous>")&&(O=O.replace("<anonymous>",e.displayName)),O}while(1<=r&&0<=o);break}}}finally{xc=!1,Error.prepareStackTrace=i}return(i=e?e.displayName||e.name:"")?vi(i):""}function C0(e,t){switch(e.tag){case 26:case 27:case 5:return vi(e.type);case 16:return vi("Lazy");case 13:return e.child!==t&&t!==null?vi("Suspense Fallback"):vi("Suspense");case 19:return vi("SuspenseList");case 0:case 15:return Ec(e.type,!1);case 11:return Ec(e.type.render,!1);case 1:return Ec(e.type,!0);case 31:return vi("Activity");default:return""}}function _d(e){try{var t="",i=null;do t+=C0(e,i),i=e,e=e.return;while(e);return t}catch(r){return`
Error generating stack: `+r.message+`
`+r.stack}}var Cc=Object.prototype.hasOwnProperty,Tc=a.unstable_scheduleCallback,Nc=a.unstable_cancelCallback,T0=a.unstable_shouldYield,N0=a.unstable_requestPaint,Mt=a.unstable_now,w0=a.unstable_getCurrentPriorityLevel,vd=a.unstable_ImmediatePriority,bd=a.unstable_UserBlockingPriority,xs=a.unstable_NormalPriority,A0=a.unstable_LowPriority,Sd=a.unstable_IdlePriority,R0=a.log,M0=a.unstable_setDisableYieldValue,Ka=null,Dt=null;function Bn(e){if(typeof R0=="function"&&M0(e),Dt&&typeof Dt.setStrictMode=="function")try{Dt.setStrictMode(Ka,e)}catch{}}var Ot=Math.clz32?Math.clz32:j0,D0=Math.log,O0=Math.LN2;function j0(e){return e>>>=0,e===0?32:31-(D0(e)/O0|0)|0}var Es=256,Cs=262144,Ts=4194304;function bi(e){var t=e&42;if(t!==0)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function Ns(e,t,i){var r=e.pendingLanes;if(r===0)return 0;var o=0,u=e.suspendedLanes,h=e.pingedLanes;e=e.warmLanes;var _=r&134217727;return _!==0?(r=_&~u,r!==0?o=bi(r):(h&=_,h!==0?o=bi(h):i||(i=_&~e,i!==0&&(o=bi(i))))):(_=r&~u,_!==0?o=bi(_):h!==0?o=bi(h):i||(i=r&~e,i!==0&&(o=bi(i)))),o===0?0:t!==0&&t!==o&&(t&u)===0&&(u=o&-o,i=t&-t,u>=i||u===32&&(i&4194048)!==0)?t:o}function Fa(e,t){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)===0}function I0(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function xd(){var e=Ts;return Ts<<=1,(Ts&62914560)===0&&(Ts=4194304),e}function wc(e){for(var t=[],i=0;31>i;i++)t.push(e);return t}function $a(e,t){e.pendingLanes|=t,t!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function z0(e,t,i,r,o,u){var h=e.pendingLanes;e.pendingLanes=i,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=i,e.entangledLanes&=i,e.errorRecoveryDisabledLanes&=i,e.shellSuspendCounter=0;var _=e.entanglements,x=e.expirationTimes,w=e.hiddenUpdates;for(i=h&~i;0<i;){var O=31-Ot(i),z=1<<O;_[O]=0,x[O]=-1;var A=w[O];if(A!==null)for(w[O]=null,O=0;O<A.length;O++){var M=A[O];M!==null&&(M.lane&=-536870913)}i&=~z}r!==0&&Ed(e,r,0),u!==0&&o===0&&e.tag!==0&&(e.suspendedLanes|=u&~(h&~t))}function Ed(e,t,i){e.pendingLanes|=t,e.suspendedLanes&=~t;var r=31-Ot(t);e.entangledLanes|=t,e.entanglements[r]=e.entanglements[r]|1073741824|i&261930}function Cd(e,t){var i=e.entangledLanes|=t;for(e=e.entanglements;i;){var r=31-Ot(i),o=1<<r;o&t|e[r]&t&&(e[r]|=t),i&=~o}}function Td(e,t){var i=t&-t;return i=(i&42)!==0?1:Ac(i),(i&(e.suspendedLanes|t))!==0?0:i}function Ac(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Rc(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function Nd(){var e=q.p;return e!==0?e:(e=window.event,e===void 0?32:fp(e.type))}function wd(e,t){var i=q.p;try{return q.p=e,t()}finally{q.p=i}}var kn=Math.random().toString(36).slice(2),rt="__reactFiber$"+kn,St="__reactProps$"+kn,Pi="__reactContainer$"+kn,Mc="__reactEvents$"+kn,L0="__reactListeners$"+kn,U0="__reactHandles$"+kn,Ad="__reactResources$"+kn,Ja="__reactMarker$"+kn;function Dc(e){delete e[rt],delete e[St],delete e[Mc],delete e[L0],delete e[U0]}function Zi(e){var t=e[rt];if(t)return t;for(var i=e.parentNode;i;){if(t=i[Pi]||i[rt]){if(i=t.alternate,t.child!==null||i!==null&&i.child!==null)for(e=Kg(e);e!==null;){if(i=e[rt])return i;e=Kg(e)}return t}e=i,i=e.parentNode}return null}function Ki(e){if(e=e[rt]||e[Pi]){var t=e.tag;if(t===5||t===6||t===13||t===31||t===26||t===27||t===3)return e}return null}function Wa(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e.stateNode;throw Error(s(33))}function Fi(e){var t=e[Ad];return t||(t=e[Ad]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function it(e){e[Ja]=!0}var Rd=new Set,Md={};function Si(e,t){$i(e,t),$i(e+"Capture",t)}function $i(e,t){for(Md[e]=t,e=0;e<t.length;e++)Rd.add(t[e])}var H0=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Dd={},Od={};function B0(e){return Cc.call(Od,e)?!0:Cc.call(Dd,e)?!1:H0.test(e)?Od[e]=!0:(Dd[e]=!0,!1)}function ws(e,t,i){if(B0(t))if(i===null)e.removeAttribute(t);else{switch(typeof i){case"undefined":case"function":case"symbol":e.removeAttribute(t);return;case"boolean":var r=t.toLowerCase().slice(0,5);if(r!=="data-"&&r!=="aria-"){e.removeAttribute(t);return}}e.setAttribute(t,""+i)}}function As(e,t,i){if(i===null)e.removeAttribute(t);else{switch(typeof i){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(t);return}e.setAttribute(t,""+i)}}function mn(e,t,i,r){if(r===null)e.removeAttribute(i);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(i);return}e.setAttributeNS(t,i,""+r)}}function Gt(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function jd(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function k0(e,t,i){var r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t);if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var o=r.get,u=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return o.call(this)},set:function(h){i=""+h,u.call(this,h)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return i},setValue:function(h){i=""+h},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Oc(e){if(!e._valueTracker){var t=jd(e)?"checked":"value";e._valueTracker=k0(e,t,""+e[t])}}function Id(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var i=t.getValue(),r="";return e&&(r=jd(e)?e.checked?"true":"false":e.value),e=r,e!==i?(t.setValue(e),!0):!1}function Rs(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var q0=/[\n"\\]/g;function Yt(e){return e.replace(q0,function(t){return"\\"+t.charCodeAt(0).toString(16)+" "})}function jc(e,t,i,r,o,u,h,_){e.name="",h!=null&&typeof h!="function"&&typeof h!="symbol"&&typeof h!="boolean"?e.type=h:e.removeAttribute("type"),t!=null?h==="number"?(t===0&&e.value===""||e.value!=t)&&(e.value=""+Gt(t)):e.value!==""+Gt(t)&&(e.value=""+Gt(t)):h!=="submit"&&h!=="reset"||e.removeAttribute("value"),t!=null?Ic(e,h,Gt(t)):i!=null?Ic(e,h,Gt(i)):r!=null&&e.removeAttribute("value"),o==null&&u!=null&&(e.defaultChecked=!!u),o!=null&&(e.checked=o&&typeof o!="function"&&typeof o!="symbol"),_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"?e.name=""+Gt(_):e.removeAttribute("name")}function zd(e,t,i,r,o,u,h,_){if(u!=null&&typeof u!="function"&&typeof u!="symbol"&&typeof u!="boolean"&&(e.type=u),t!=null||i!=null){if(!(u!=="submit"&&u!=="reset"||t!=null)){Oc(e);return}i=i!=null?""+Gt(i):"",t=t!=null?""+Gt(t):i,_||t===e.value||(e.value=t),e.defaultValue=t}r=r??o,r=typeof r!="function"&&typeof r!="symbol"&&!!r,e.checked=_?e.checked:!!r,e.defaultChecked=!!r,h!=null&&typeof h!="function"&&typeof h!="symbol"&&typeof h!="boolean"&&(e.name=h),Oc(e)}function Ic(e,t,i){t==="number"&&Rs(e.ownerDocument)===e||e.defaultValue===""+i||(e.defaultValue=""+i)}function Ji(e,t,i,r){if(e=e.options,t){t={};for(var o=0;o<i.length;o++)t["$"+i[o]]=!0;for(i=0;i<e.length;i++)o=t.hasOwnProperty("$"+e[i].value),e[i].selected!==o&&(e[i].selected=o),o&&r&&(e[i].defaultSelected=!0)}else{for(i=""+Gt(i),t=null,o=0;o<e.length;o++){if(e[o].value===i){e[o].selected=!0,r&&(e[o].defaultSelected=!0);return}t!==null||e[o].disabled||(t=e[o])}t!==null&&(t.selected=!0)}}function Ld(e,t,i){if(t!=null&&(t=""+Gt(t),t!==e.value&&(e.value=t),i==null)){e.defaultValue!==t&&(e.defaultValue=t);return}e.defaultValue=i!=null?""+Gt(i):""}function Ud(e,t,i,r){if(t==null){if(r!=null){if(i!=null)throw Error(s(92));if(pt(r)){if(1<r.length)throw Error(s(93));r=r[0]}i=r}i==null&&(i=""),t=i}i=Gt(t),e.defaultValue=i,r=e.textContent,r===i&&r!==""&&r!==null&&(e.value=r),Oc(e)}function Wi(e,t){if(t){var i=e.firstChild;if(i&&i===e.lastChild&&i.nodeType===3){i.nodeValue=t;return}}e.textContent=t}var G0=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Hd(e,t,i){var r=t.indexOf("--")===0;i==null||typeof i=="boolean"||i===""?r?e.setProperty(t,""):t==="float"?e.cssFloat="":e[t]="":r?e.setProperty(t,i):typeof i!="number"||i===0||G0.has(t)?t==="float"?e.cssFloat=i:e[t]=(""+i).trim():e[t]=i+"px"}function Bd(e,t,i){if(t!=null&&typeof t!="object")throw Error(s(62));if(e=e.style,i!=null){for(var r in i)!i.hasOwnProperty(r)||t!=null&&t.hasOwnProperty(r)||(r.indexOf("--")===0?e.setProperty(r,""):r==="float"?e.cssFloat="":e[r]="");for(var o in t)r=t[o],t.hasOwnProperty(o)&&i[o]!==r&&Hd(e,o,r)}else for(var u in t)t.hasOwnProperty(u)&&Hd(e,u,t[u])}function zc(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Y0=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),V0=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Ms(e){return V0.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function gn(){}var Lc=null;function Uc(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var ea=null,ta=null;function kd(e){var t=Ki(e);if(t&&(e=t.stateNode)){var i=e[St]||null;e:switch(e=t.stateNode,t.type){case"input":if(jc(e,i.value,i.defaultValue,i.defaultValue,i.checked,i.defaultChecked,i.type,i.name),t=i.name,i.type==="radio"&&t!=null){for(i=e;i.parentNode;)i=i.parentNode;for(i=i.querySelectorAll('input[name="'+Yt(""+t)+'"][type="radio"]'),t=0;t<i.length;t++){var r=i[t];if(r!==e&&r.form===e.form){var o=r[St]||null;if(!o)throw Error(s(90));jc(r,o.value,o.defaultValue,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name)}}for(t=0;t<i.length;t++)r=i[t],r.form===e.form&&Id(r)}break e;case"textarea":Ld(e,i.value,i.defaultValue);break e;case"select":t=i.value,t!=null&&Ji(e,!!i.multiple,t,!1)}}}var Hc=!1;function qd(e,t,i){if(Hc)return e(t,i);Hc=!0;try{var r=e(t);return r}finally{if(Hc=!1,(ea!==null||ta!==null)&&(yr(),ea&&(t=ea,e=ta,ta=ea=null,kd(t),e)))for(t=0;t<e.length;t++)kd(e[t])}}function el(e,t){var i=e.stateNode;if(i===null)return null;var r=i[St]||null;if(r===null)return null;i=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(i&&typeof i!="function")throw Error(s(231,t,typeof i));return i}var pn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Bc=!1;if(pn)try{var tl={};Object.defineProperty(tl,"passive",{get:function(){Bc=!0}}),window.addEventListener("test",tl,tl),window.removeEventListener("test",tl,tl)}catch{Bc=!1}var qn=null,kc=null,Ds=null;function Gd(){if(Ds)return Ds;var e,t=kc,i=t.length,r,o="value"in qn?qn.value:qn.textContent,u=o.length;for(e=0;e<i&&t[e]===o[e];e++);var h=i-e;for(r=1;r<=h&&t[i-r]===o[u-r];r++);return Ds=o.slice(e,1<r?1-r:void 0)}function Os(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function js(){return!0}function Yd(){return!1}function xt(e){function t(i,r,o,u,h){this._reactName=i,this._targetInst=o,this.type=r,this.nativeEvent=u,this.target=h,this.currentTarget=null;for(var _ in e)e.hasOwnProperty(_)&&(i=e[_],this[_]=i?i(u):u[_]);return this.isDefaultPrevented=(u.defaultPrevented!=null?u.defaultPrevented:u.returnValue===!1)?js:Yd,this.isPropagationStopped=Yd,this}return v(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var i=this.nativeEvent;i&&(i.preventDefault?i.preventDefault():typeof i.returnValue!="unknown"&&(i.returnValue=!1),this.isDefaultPrevented=js)},stopPropagation:function(){var i=this.nativeEvent;i&&(i.stopPropagation?i.stopPropagation():typeof i.cancelBubble!="unknown"&&(i.cancelBubble=!0),this.isPropagationStopped=js)},persist:function(){},isPersistent:js}),t}var xi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Is=xt(xi),nl=v({},xi,{view:0,detail:0}),Q0=xt(nl),qc,Gc,il,zs=v({},nl,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Vc,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==il&&(il&&e.type==="mousemove"?(qc=e.screenX-il.screenX,Gc=e.screenY-il.screenY):Gc=qc=0,il=e),qc)},movementY:function(e){return"movementY"in e?e.movementY:Gc}}),Vd=xt(zs),X0=v({},zs,{dataTransfer:0}),P0=xt(X0),Z0=v({},nl,{relatedTarget:0}),Yc=xt(Z0),K0=v({},xi,{animationName:0,elapsedTime:0,pseudoElement:0}),F0=xt(K0),$0=v({},xi,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),J0=xt($0),W0=v({},xi,{data:0}),Qd=xt(W0),ev={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},tv={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},nv={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function iv(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=nv[e])?!!t[e]:!1}function Vc(){return iv}var av=v({},nl,{key:function(e){if(e.key){var t=ev[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Os(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?tv[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Vc,charCode:function(e){return e.type==="keypress"?Os(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Os(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),lv=xt(av),sv=v({},zs,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Xd=xt(sv),rv=v({},nl,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Vc}),cv=xt(rv),ov=v({},xi,{propertyName:0,elapsedTime:0,pseudoElement:0}),uv=xt(ov),fv=v({},zs,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),dv=xt(fv),hv=v({},xi,{newState:0,oldState:0}),mv=xt(hv),gv=[9,13,27,32],Qc=pn&&"CompositionEvent"in window,al=null;pn&&"documentMode"in document&&(al=document.documentMode);var pv=pn&&"TextEvent"in window&&!al,Pd=pn&&(!Qc||al&&8<al&&11>=al),Zd=" ",Kd=!1;function Fd(e,t){switch(e){case"keyup":return gv.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function $d(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var na=!1;function yv(e,t){switch(e){case"compositionend":return $d(t);case"keypress":return t.which!==32?null:(Kd=!0,Zd);case"textInput":return e=t.data,e===Zd&&Kd?null:e;default:return null}}function _v(e,t){if(na)return e==="compositionend"||!Qc&&Fd(e,t)?(e=Gd(),Ds=kc=qn=null,na=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Pd&&t.locale!=="ko"?null:t.data;default:return null}}var vv={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Jd(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!vv[e.type]:t==="textarea"}function Wd(e,t,i,r){ea?ta?ta.push(r):ta=[r]:ea=r,t=Cr(t,"onChange"),0<t.length&&(i=new Is("onChange","change",null,i,r),e.push({event:i,listeners:t}))}var ll=null,sl=null;function bv(e){zg(e,0)}function Ls(e){var t=Wa(e);if(Id(t))return e}function eh(e,t){if(e==="change")return t}var th=!1;if(pn){var Xc;if(pn){var Pc="oninput"in document;if(!Pc){var nh=document.createElement("div");nh.setAttribute("oninput","return;"),Pc=typeof nh.oninput=="function"}Xc=Pc}else Xc=!1;th=Xc&&(!document.documentMode||9<document.documentMode)}function ih(){ll&&(ll.detachEvent("onpropertychange",ah),sl=ll=null)}function ah(e){if(e.propertyName==="value"&&Ls(sl)){var t=[];Wd(t,sl,e,Uc(e)),qd(bv,t)}}function Sv(e,t,i){e==="focusin"?(ih(),ll=t,sl=i,ll.attachEvent("onpropertychange",ah)):e==="focusout"&&ih()}function xv(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Ls(sl)}function Ev(e,t){if(e==="click")return Ls(t)}function Cv(e,t){if(e==="input"||e==="change")return Ls(t)}function Tv(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var jt=typeof Object.is=="function"?Object.is:Tv;function rl(e,t){if(jt(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var i=Object.keys(e),r=Object.keys(t);if(i.length!==r.length)return!1;for(r=0;r<i.length;r++){var o=i[r];if(!Cc.call(t,o)||!jt(e[o],t[o]))return!1}return!0}function lh(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function sh(e,t){var i=lh(e);e=0;for(var r;i;){if(i.nodeType===3){if(r=e+i.textContent.length,e<=t&&r>=t)return{node:i,offset:t-e};e=r}e:{for(;i;){if(i.nextSibling){i=i.nextSibling;break e}i=i.parentNode}i=void 0}i=lh(i)}}function rh(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?rh(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function ch(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var t=Rs(e.document);t instanceof e.HTMLIFrameElement;){try{var i=typeof t.contentWindow.location.href=="string"}catch{i=!1}if(i)e=t.contentWindow;else break;t=Rs(e.document)}return t}function Zc(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}var Nv=pn&&"documentMode"in document&&11>=document.documentMode,ia=null,Kc=null,cl=null,Fc=!1;function oh(e,t,i){var r=i.window===i?i.document:i.nodeType===9?i:i.ownerDocument;Fc||ia==null||ia!==Rs(r)||(r=ia,"selectionStart"in r&&Zc(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),cl&&rl(cl,r)||(cl=r,r=Cr(Kc,"onSelect"),0<r.length&&(t=new Is("onSelect","select",null,t,i),e.push({event:t,listeners:r}),t.target=ia)))}function Ei(e,t){var i={};return i[e.toLowerCase()]=t.toLowerCase(),i["Webkit"+e]="webkit"+t,i["Moz"+e]="moz"+t,i}var aa={animationend:Ei("Animation","AnimationEnd"),animationiteration:Ei("Animation","AnimationIteration"),animationstart:Ei("Animation","AnimationStart"),transitionrun:Ei("Transition","TransitionRun"),transitionstart:Ei("Transition","TransitionStart"),transitioncancel:Ei("Transition","TransitionCancel"),transitionend:Ei("Transition","TransitionEnd")},$c={},uh={};pn&&(uh=document.createElement("div").style,"AnimationEvent"in window||(delete aa.animationend.animation,delete aa.animationiteration.animation,delete aa.animationstart.animation),"TransitionEvent"in window||delete aa.transitionend.transition);function Ci(e){if($c[e])return $c[e];if(!aa[e])return e;var t=aa[e],i;for(i in t)if(t.hasOwnProperty(i)&&i in uh)return $c[e]=t[i];return e}var fh=Ci("animationend"),dh=Ci("animationiteration"),hh=Ci("animationstart"),wv=Ci("transitionrun"),Av=Ci("transitionstart"),Rv=Ci("transitioncancel"),mh=Ci("transitionend"),gh=new Map,Jc="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Jc.push("scrollEnd");function en(e,t){gh.set(e,t),Si(t,[e])}var Us=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},Vt=[],la=0,Wc=0;function Hs(){for(var e=la,t=Wc=la=0;t<e;){var i=Vt[t];Vt[t++]=null;var r=Vt[t];Vt[t++]=null;var o=Vt[t];Vt[t++]=null;var u=Vt[t];if(Vt[t++]=null,r!==null&&o!==null){var h=r.pending;h===null?o.next=o:(o.next=h.next,h.next=o),r.pending=o}u!==0&&ph(i,o,u)}}function Bs(e,t,i,r){Vt[la++]=e,Vt[la++]=t,Vt[la++]=i,Vt[la++]=r,Wc|=r,e.lanes|=r,e=e.alternate,e!==null&&(e.lanes|=r)}function eo(e,t,i,r){return Bs(e,t,i,r),ks(e)}function Ti(e,t){return Bs(e,null,null,t),ks(e)}function ph(e,t,i){e.lanes|=i;var r=e.alternate;r!==null&&(r.lanes|=i);for(var o=!1,u=e.return;u!==null;)u.childLanes|=i,r=u.alternate,r!==null&&(r.childLanes|=i),u.tag===22&&(e=u.stateNode,e===null||e._visibility&1||(o=!0)),e=u,u=u.return;return e.tag===3?(u=e.stateNode,o&&t!==null&&(o=31-Ot(i),e=u.hiddenUpdates,r=e[o],r===null?e[o]=[t]:r.push(t),t.lane=i|536870912),u):null}function ks(e){if(50<Ml)throw Ml=0,uu=null,Error(s(185));for(var t=e.return;t!==null;)e=t,t=e.return;return e.tag===3?e.stateNode:null}var sa={};function Mv(e,t,i,r){this.tag=e,this.key=i,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function It(e,t,i,r){return new Mv(e,t,i,r)}function to(e){return e=e.prototype,!(!e||!e.isReactComponent)}function yn(e,t){var i=e.alternate;return i===null?(i=It(e.tag,t,e.key,e.mode),i.elementType=e.elementType,i.type=e.type,i.stateNode=e.stateNode,i.alternate=e,e.alternate=i):(i.pendingProps=t,i.type=e.type,i.flags=0,i.subtreeFlags=0,i.deletions=null),i.flags=e.flags&65011712,i.childLanes=e.childLanes,i.lanes=e.lanes,i.child=e.child,i.memoizedProps=e.memoizedProps,i.memoizedState=e.memoizedState,i.updateQueue=e.updateQueue,t=e.dependencies,i.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},i.sibling=e.sibling,i.index=e.index,i.ref=e.ref,i.refCleanup=e.refCleanup,i}function yh(e,t){e.flags&=65011714;var i=e.alternate;return i===null?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=i.childLanes,e.lanes=i.lanes,e.child=i.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=i.memoizedProps,e.memoizedState=i.memoizedState,e.updateQueue=i.updateQueue,e.type=i.type,t=i.dependencies,e.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function qs(e,t,i,r,o,u){var h=0;if(r=e,typeof e=="function")to(e)&&(h=1);else if(typeof e=="string")h=zb(e,i,P.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case Q:return e=It(31,i,t,o),e.elementType=Q,e.lanes=u,e;case H:return Ni(i.children,o,u,t);case k:h=8,o|=24;break;case U:return e=It(12,i,t,o|2),e.elementType=U,e.lanes=u,e;case Ee:return e=It(13,i,t,o),e.elementType=Ee,e.lanes=u,e;case Se:return e=It(19,i,t,o),e.elementType=Se,e.lanes=u,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case V:h=10;break e;case Y:h=9;break e;case ne:h=11;break e;case J:h=14;break e;case K:h=16,r=null;break e}h=29,i=Error(s(130,e===null?"null":typeof e,"")),r=null}return t=It(h,i,t,o),t.elementType=e,t.type=r,t.lanes=u,t}function Ni(e,t,i,r){return e=It(7,e,r,t),e.lanes=i,e}function no(e,t,i){return e=It(6,e,null,t),e.lanes=i,e}function _h(e){var t=It(18,null,null,0);return t.stateNode=e,t}function io(e,t,i){return t=It(4,e.children!==null?e.children:[],e.key,t),t.lanes=i,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var vh=new WeakMap;function Qt(e,t){if(typeof e=="object"&&e!==null){var i=vh.get(e);return i!==void 0?i:(t={value:e,source:t,stack:_d(t)},vh.set(e,t),t)}return{value:e,source:t,stack:_d(t)}}var ra=[],ca=0,Gs=null,ol=0,Xt=[],Pt=0,Gn=null,cn=1,on="";function _n(e,t){ra[ca++]=ol,ra[ca++]=Gs,Gs=e,ol=t}function bh(e,t,i){Xt[Pt++]=cn,Xt[Pt++]=on,Xt[Pt++]=Gn,Gn=e;var r=cn;e=on;var o=32-Ot(r)-1;r&=~(1<<o),i+=1;var u=32-Ot(t)+o;if(30<u){var h=o-o%5;u=(r&(1<<h)-1).toString(32),r>>=h,o-=h,cn=1<<32-Ot(t)+o|i<<o|r,on=u+e}else cn=1<<u|i<<o|r,on=e}function ao(e){e.return!==null&&(_n(e,1),bh(e,1,0))}function lo(e){for(;e===Gs;)Gs=ra[--ca],ra[ca]=null,ol=ra[--ca],ra[ca]=null;for(;e===Gn;)Gn=Xt[--Pt],Xt[Pt]=null,on=Xt[--Pt],Xt[Pt]=null,cn=Xt[--Pt],Xt[Pt]=null}function Sh(e,t){Xt[Pt++]=cn,Xt[Pt++]=on,Xt[Pt++]=Gn,cn=t.id,on=t.overflow,Gn=e}var ct=null,Be=null,ye=!1,Yn=null,Zt=!1,so=Error(s(519));function Vn(e){var t=Error(s(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw ul(Qt(t,e)),so}function xh(e){var t=e.stateNode,i=e.type,r=e.memoizedProps;switch(t[rt]=e,t[St]=r,i){case"dialog":he("cancel",t),he("close",t);break;case"iframe":case"object":case"embed":he("load",t);break;case"video":case"audio":for(i=0;i<Ol.length;i++)he(Ol[i],t);break;case"source":he("error",t);break;case"img":case"image":case"link":he("error",t),he("load",t);break;case"details":he("toggle",t);break;case"input":he("invalid",t),zd(t,r.value,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name,!0);break;case"select":he("invalid",t);break;case"textarea":he("invalid",t),Ud(t,r.value,r.defaultValue,r.children)}i=r.children,typeof i!="string"&&typeof i!="number"&&typeof i!="bigint"||t.textContent===""+i||r.suppressHydrationWarning===!0||Bg(t.textContent,i)?(r.popover!=null&&(he("beforetoggle",t),he("toggle",t)),r.onScroll!=null&&he("scroll",t),r.onScrollEnd!=null&&he("scrollend",t),r.onClick!=null&&(t.onclick=gn),t=!0):t=!1,t||Vn(e,!0)}function Eh(e){for(ct=e.return;ct;)switch(ct.tag){case 5:case 31:case 13:Zt=!1;return;case 27:case 3:Zt=!0;return;default:ct=ct.return}}function oa(e){if(e!==ct)return!1;if(!ye)return Eh(e),ye=!0,!1;var t=e.tag,i;if((i=t!==3&&t!==27)&&((i=t===5)&&(i=e.type,i=!(i!=="form"&&i!=="button")||Tu(e.type,e.memoizedProps)),i=!i),i&&Be&&Vn(e),Eh(e),t===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(s(317));Be=Zg(e)}else if(t===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(s(317));Be=Zg(e)}else t===27?(t=Be,ai(e.type)?(e=Mu,Mu=null,Be=e):Be=t):Be=ct?Ft(e.stateNode.nextSibling):null;return!0}function wi(){Be=ct=null,ye=!1}function ro(){var e=Yn;return e!==null&&(Nt===null?Nt=e:Nt.push.apply(Nt,e),Yn=null),e}function ul(e){Yn===null?Yn=[e]:Yn.push(e)}var co=C(null),Ai=null,vn=null;function Qn(e,t,i){G(co,t._currentValue),t._currentValue=i}function bn(e){e._currentValue=co.current,L(co)}function oo(e,t,i){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===i)break;e=e.return}}function uo(e,t,i,r){var o=e.child;for(o!==null&&(o.return=e);o!==null;){var u=o.dependencies;if(u!==null){var h=o.child;u=u.firstContext;e:for(;u!==null;){var _=u;u=o;for(var x=0;x<t.length;x++)if(_.context===t[x]){u.lanes|=i,_=u.alternate,_!==null&&(_.lanes|=i),oo(u.return,i,e),r||(h=null);break e}u=_.next}}else if(o.tag===18){if(h=o.return,h===null)throw Error(s(341));h.lanes|=i,u=h.alternate,u!==null&&(u.lanes|=i),oo(h,i,e),h=null}else h=o.child;if(h!==null)h.return=o;else for(h=o;h!==null;){if(h===e){h=null;break}if(o=h.sibling,o!==null){o.return=h.return,h=o;break}h=h.return}o=h}}function ua(e,t,i,r){e=null;for(var o=t,u=!1;o!==null;){if(!u){if((o.flags&524288)!==0)u=!0;else if((o.flags&262144)!==0)break}if(o.tag===10){var h=o.alternate;if(h===null)throw Error(s(387));if(h=h.memoizedProps,h!==null){var _=o.type;jt(o.pendingProps.value,h.value)||(e!==null?e.push(_):e=[_])}}else if(o===Te.current){if(h=o.alternate,h===null)throw Error(s(387));h.memoizedState.memoizedState!==o.memoizedState.memoizedState&&(e!==null?e.push(Ul):e=[Ul])}o=o.return}e!==null&&uo(t,e,i,r),t.flags|=262144}function Ys(e){for(e=e.firstContext;e!==null;){if(!jt(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Ri(e){Ai=e,vn=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function ot(e){return Ch(Ai,e)}function Vs(e,t){return Ai===null&&Ri(e),Ch(e,t)}function Ch(e,t){var i=t._currentValue;if(t={context:t,memoizedValue:i,next:null},vn===null){if(e===null)throw Error(s(308));vn=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else vn=vn.next=t;return i}var Dv=typeof AbortController<"u"?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(i,r){e.push(r)}};this.abort=function(){t.aborted=!0,e.forEach(function(i){return i()})}},Ov=a.unstable_scheduleCallback,jv=a.unstable_NormalPriority,Fe={$$typeof:V,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function fo(){return{controller:new Dv,data:new Map,refCount:0}}function fl(e){e.refCount--,e.refCount===0&&Ov(jv,function(){e.controller.abort()})}var dl=null,ho=0,fa=0,da=null;function Iv(e,t){if(dl===null){var i=dl=[];ho=0,fa=pu(),da={status:"pending",value:void 0,then:function(r){i.push(r)}}}return ho++,t.then(Th,Th),t}function Th(){if(--ho===0&&dl!==null){da!==null&&(da.status="fulfilled");var e=dl;dl=null,fa=0,da=null;for(var t=0;t<e.length;t++)(0,e[t])()}}function zv(e,t){var i=[],r={status:"pending",value:null,reason:null,then:function(o){i.push(o)}};return e.then(function(){r.status="fulfilled",r.value=t;for(var o=0;o<i.length;o++)(0,i[o])(t)},function(o){for(r.status="rejected",r.reason=o,o=0;o<i.length;o++)(0,i[o])(void 0)}),r}var Nh=D.S;D.S=function(e,t){og=Mt(),typeof t=="object"&&t!==null&&typeof t.then=="function"&&Iv(e,t),Nh!==null&&Nh(e,t)};var Mi=C(null);function mo(){var e=Mi.current;return e!==null?e:ze.pooledCache}function Qs(e,t){t===null?G(Mi,Mi.current):G(Mi,t.pool)}function wh(){var e=mo();return e===null?null:{parent:Fe._currentValue,pool:e}}var ha=Error(s(460)),go=Error(s(474)),Xs=Error(s(542)),Ps={then:function(){}};function Ah(e){return e=e.status,e==="fulfilled"||e==="rejected"}function Rh(e,t,i){switch(i=e[i],i===void 0?e.push(t):i!==t&&(t.then(gn,gn),t=i),t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,Dh(e),e;default:if(typeof t.status=="string")t.then(gn,gn);else{if(e=ze,e!==null&&100<e.shellSuspendCounter)throw Error(s(482));e=t,e.status="pending",e.then(function(r){if(t.status==="pending"){var o=t;o.status="fulfilled",o.value=r}},function(r){if(t.status==="pending"){var o=t;o.status="rejected",o.reason=r}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,Dh(e),e}throw Oi=t,ha}}function Di(e){try{var t=e._init;return t(e._payload)}catch(i){throw i!==null&&typeof i=="object"&&typeof i.then=="function"?(Oi=i,ha):i}}var Oi=null;function Mh(){if(Oi===null)throw Error(s(459));var e=Oi;return Oi=null,e}function Dh(e){if(e===ha||e===Xs)throw Error(s(483))}var ma=null,hl=0;function Zs(e){var t=hl;return hl+=1,ma===null&&(ma=[]),Rh(ma,e,t)}function ml(e,t){t=t.props.ref,e.ref=t!==void 0?t:null}function Ks(e,t){throw t.$$typeof===b?Error(s(525)):(e=Object.prototype.toString.call(t),Error(s(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)))}function Oh(e){function t(T,E){if(e){var N=T.deletions;N===null?(T.deletions=[E],T.flags|=16):N.push(E)}}function i(T,E){if(!e)return null;for(;E!==null;)t(T,E),E=E.sibling;return null}function r(T){for(var E=new Map;T!==null;)T.key!==null?E.set(T.key,T):E.set(T.index,T),T=T.sibling;return E}function o(T,E){return T=yn(T,E),T.index=0,T.sibling=null,T}function u(T,E,N){return T.index=N,e?(N=T.alternate,N!==null?(N=N.index,N<E?(T.flags|=67108866,E):N):(T.flags|=67108866,E)):(T.flags|=1048576,E)}function h(T){return e&&T.alternate===null&&(T.flags|=67108866),T}function _(T,E,N,j){return E===null||E.tag!==6?(E=no(N,T.mode,j),E.return=T,E):(E=o(E,N),E.return=T,E)}function x(T,E,N,j){var F=N.type;return F===H?O(T,E,N.props.children,j,N.key):E!==null&&(E.elementType===F||typeof F=="object"&&F!==null&&F.$$typeof===K&&Di(F)===E.type)?(E=o(E,N.props),ml(E,N),E.return=T,E):(E=qs(N.type,N.key,N.props,null,T.mode,j),ml(E,N),E.return=T,E)}function w(T,E,N,j){return E===null||E.tag!==4||E.stateNode.containerInfo!==N.containerInfo||E.stateNode.implementation!==N.implementation?(E=io(N,T.mode,j),E.return=T,E):(E=o(E,N.children||[]),E.return=T,E)}function O(T,E,N,j,F){return E===null||E.tag!==7?(E=Ni(N,T.mode,j,F),E.return=T,E):(E=o(E,N),E.return=T,E)}function z(T,E,N){if(typeof E=="string"&&E!==""||typeof E=="number"||typeof E=="bigint")return E=no(""+E,T.mode,N),E.return=T,E;if(typeof E=="object"&&E!==null){switch(E.$$typeof){case R:return N=qs(E.type,E.key,E.props,null,T.mode,N),ml(N,E),N.return=T,N;case I:return E=io(E,T.mode,N),E.return=T,E;case K:return E=Di(E),z(T,E,N)}if(pt(E)||W(E))return E=Ni(E,T.mode,N,null),E.return=T,E;if(typeof E.then=="function")return z(T,Zs(E),N);if(E.$$typeof===V)return z(T,Vs(T,E),N);Ks(T,E)}return null}function A(T,E,N,j){var F=E!==null?E.key:null;if(typeof N=="string"&&N!==""||typeof N=="number"||typeof N=="bigint")return F!==null?null:_(T,E,""+N,j);if(typeof N=="object"&&N!==null){switch(N.$$typeof){case R:return N.key===F?x(T,E,N,j):null;case I:return N.key===F?w(T,E,N,j):null;case K:return N=Di(N),A(T,E,N,j)}if(pt(N)||W(N))return F!==null?null:O(T,E,N,j,null);if(typeof N.then=="function")return A(T,E,Zs(N),j);if(N.$$typeof===V)return A(T,E,Vs(T,N),j);Ks(T,N)}return null}function M(T,E,N,j,F){if(typeof j=="string"&&j!==""||typeof j=="number"||typeof j=="bigint")return T=T.get(N)||null,_(E,T,""+j,F);if(typeof j=="object"&&j!==null){switch(j.$$typeof){case R:return T=T.get(j.key===null?N:j.key)||null,x(E,T,j,F);case I:return T=T.get(j.key===null?N:j.key)||null,w(E,T,j,F);case K:return j=Di(j),M(T,E,N,j,F)}if(pt(j)||W(j))return T=T.get(N)||null,O(E,T,j,F,null);if(typeof j.then=="function")return M(T,E,N,Zs(j),F);if(j.$$typeof===V)return M(T,E,N,Vs(E,j),F);Ks(E,j)}return null}function X(T,E,N,j){for(var F=null,_e=null,Z=E,re=E=0,pe=null;Z!==null&&re<N.length;re++){Z.index>re?(pe=Z,Z=null):pe=Z.sibling;var ve=A(T,Z,N[re],j);if(ve===null){Z===null&&(Z=pe);break}e&&Z&&ve.alternate===null&&t(T,Z),E=u(ve,E,re),_e===null?F=ve:_e.sibling=ve,_e=ve,Z=pe}if(re===N.length)return i(T,Z),ye&&_n(T,re),F;if(Z===null){for(;re<N.length;re++)Z=z(T,N[re],j),Z!==null&&(E=u(Z,E,re),_e===null?F=Z:_e.sibling=Z,_e=Z);return ye&&_n(T,re),F}for(Z=r(Z);re<N.length;re++)pe=M(Z,T,re,N[re],j),pe!==null&&(e&&pe.alternate!==null&&Z.delete(pe.key===null?re:pe.key),E=u(pe,E,re),_e===null?F=pe:_e.sibling=pe,_e=pe);return e&&Z.forEach(function(oi){return t(T,oi)}),ye&&_n(T,re),F}function $(T,E,N,j){if(N==null)throw Error(s(151));for(var F=null,_e=null,Z=E,re=E=0,pe=null,ve=N.next();Z!==null&&!ve.done;re++,ve=N.next()){Z.index>re?(pe=Z,Z=null):pe=Z.sibling;var oi=A(T,Z,ve.value,j);if(oi===null){Z===null&&(Z=pe);break}e&&Z&&oi.alternate===null&&t(T,Z),E=u(oi,E,re),_e===null?F=oi:_e.sibling=oi,_e=oi,Z=pe}if(ve.done)return i(T,Z),ye&&_n(T,re),F;if(Z===null){for(;!ve.done;re++,ve=N.next())ve=z(T,ve.value,j),ve!==null&&(E=u(ve,E,re),_e===null?F=ve:_e.sibling=ve,_e=ve);return ye&&_n(T,re),F}for(Z=r(Z);!ve.done;re++,ve=N.next())ve=M(Z,T,re,ve.value,j),ve!==null&&(e&&ve.alternate!==null&&Z.delete(ve.key===null?re:ve.key),E=u(ve,E,re),_e===null?F=ve:_e.sibling=ve,_e=ve);return e&&Z.forEach(function(Xb){return t(T,Xb)}),ye&&_n(T,re),F}function De(T,E,N,j){if(typeof N=="object"&&N!==null&&N.type===H&&N.key===null&&(N=N.props.children),typeof N=="object"&&N!==null){switch(N.$$typeof){case R:e:{for(var F=N.key;E!==null;){if(E.key===F){if(F=N.type,F===H){if(E.tag===7){i(T,E.sibling),j=o(E,N.props.children),j.return=T,T=j;break e}}else if(E.elementType===F||typeof F=="object"&&F!==null&&F.$$typeof===K&&Di(F)===E.type){i(T,E.sibling),j=o(E,N.props),ml(j,N),j.return=T,T=j;break e}i(T,E);break}else t(T,E);E=E.sibling}N.type===H?(j=Ni(N.props.children,T.mode,j,N.key),j.return=T,T=j):(j=qs(N.type,N.key,N.props,null,T.mode,j),ml(j,N),j.return=T,T=j)}return h(T);case I:e:{for(F=N.key;E!==null;){if(E.key===F)if(E.tag===4&&E.stateNode.containerInfo===N.containerInfo&&E.stateNode.implementation===N.implementation){i(T,E.sibling),j=o(E,N.children||[]),j.return=T,T=j;break e}else{i(T,E);break}else t(T,E);E=E.sibling}j=io(N,T.mode,j),j.return=T,T=j}return h(T);case K:return N=Di(N),De(T,E,N,j)}if(pt(N))return X(T,E,N,j);if(W(N)){if(F=W(N),typeof F!="function")throw Error(s(150));return N=F.call(N),$(T,E,N,j)}if(typeof N.then=="function")return De(T,E,Zs(N),j);if(N.$$typeof===V)return De(T,E,Vs(T,N),j);Ks(T,N)}return typeof N=="string"&&N!==""||typeof N=="number"||typeof N=="bigint"?(N=""+N,E!==null&&E.tag===6?(i(T,E.sibling),j=o(E,N),j.return=T,T=j):(i(T,E),j=no(N,T.mode,j),j.return=T,T=j),h(T)):i(T,E)}return function(T,E,N,j){try{hl=0;var F=De(T,E,N,j);return ma=null,F}catch(Z){if(Z===ha||Z===Xs)throw Z;var _e=It(29,Z,null,T.mode);return _e.lanes=j,_e.return=T,_e}}}var ji=Oh(!0),jh=Oh(!1),Xn=!1;function po(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function yo(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Pn(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Zn(e,t,i){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,(xe&2)!==0){var o=r.pending;return o===null?t.next=t:(t.next=o.next,o.next=t),r.pending=t,t=ks(e),ph(e,null,i),t}return Bs(e,r,t,i),ks(e)}function gl(e,t,i){if(t=t.updateQueue,t!==null&&(t=t.shared,(i&4194048)!==0)){var r=t.lanes;r&=e.pendingLanes,i|=r,t.lanes=i,Cd(e,i)}}function _o(e,t){var i=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,i===r)){var o=null,u=null;if(i=i.firstBaseUpdate,i!==null){do{var h={lane:i.lane,tag:i.tag,payload:i.payload,callback:null,next:null};u===null?o=u=h:u=u.next=h,i=i.next}while(i!==null);u===null?o=u=t:u=u.next=t}else o=u=t;i={baseState:r.baseState,firstBaseUpdate:o,lastBaseUpdate:u,shared:r.shared,callbacks:r.callbacks},e.updateQueue=i;return}e=i.lastBaseUpdate,e===null?i.firstBaseUpdate=t:e.next=t,i.lastBaseUpdate=t}var vo=!1;function pl(){if(vo){var e=da;if(e!==null)throw e}}function yl(e,t,i,r){vo=!1;var o=e.updateQueue;Xn=!1;var u=o.firstBaseUpdate,h=o.lastBaseUpdate,_=o.shared.pending;if(_!==null){o.shared.pending=null;var x=_,w=x.next;x.next=null,h===null?u=w:h.next=w,h=x;var O=e.alternate;O!==null&&(O=O.updateQueue,_=O.lastBaseUpdate,_!==h&&(_===null?O.firstBaseUpdate=w:_.next=w,O.lastBaseUpdate=x))}if(u!==null){var z=o.baseState;h=0,O=w=x=null,_=u;do{var A=_.lane&-536870913,M=A!==_.lane;if(M?(ge&A)===A:(r&A)===A){A!==0&&A===fa&&(vo=!0),O!==null&&(O=O.next={lane:0,tag:_.tag,payload:_.payload,callback:null,next:null});e:{var X=e,$=_;A=t;var De=i;switch($.tag){case 1:if(X=$.payload,typeof X=="function"){z=X.call(De,z,A);break e}z=X;break e;case 3:X.flags=X.flags&-65537|128;case 0:if(X=$.payload,A=typeof X=="function"?X.call(De,z,A):X,A==null)break e;z=v({},z,A);break e;case 2:Xn=!0}}A=_.callback,A!==null&&(e.flags|=64,M&&(e.flags|=8192),M=o.callbacks,M===null?o.callbacks=[A]:M.push(A))}else M={lane:A,tag:_.tag,payload:_.payload,callback:_.callback,next:null},O===null?(w=O=M,x=z):O=O.next=M,h|=A;if(_=_.next,_===null){if(_=o.shared.pending,_===null)break;M=_,_=M.next,M.next=null,o.lastBaseUpdate=M,o.shared.pending=null}}while(!0);O===null&&(x=z),o.baseState=x,o.firstBaseUpdate=w,o.lastBaseUpdate=O,u===null&&(o.shared.lanes=0),Wn|=h,e.lanes=h,e.memoizedState=z}}function Ih(e,t){if(typeof e!="function")throw Error(s(191,e));e.call(t)}function zh(e,t){var i=e.callbacks;if(i!==null)for(e.callbacks=null,e=0;e<i.length;e++)Ih(i[e],t)}var ga=C(null),Fs=C(0);function Lh(e,t){e=Rn,G(Fs,e),G(ga,t),Rn=e|t.baseLanes}function bo(){G(Fs,Rn),G(ga,ga.current)}function So(){Rn=Fs.current,L(ga),L(Fs)}var zt=C(null),Kt=null;function Kn(e){var t=e.alternate;G(Ze,Ze.current&1),G(zt,e),Kt===null&&(t===null||ga.current!==null||t.memoizedState!==null)&&(Kt=e)}function xo(e){G(Ze,Ze.current),G(zt,e),Kt===null&&(Kt=e)}function Uh(e){e.tag===22?(G(Ze,Ze.current),G(zt,e),Kt===null&&(Kt=e)):Fn()}function Fn(){G(Ze,Ze.current),G(zt,zt.current)}function Lt(e){L(zt),Kt===e&&(Kt=null),L(Ze)}var Ze=C(0);function $s(e){for(var t=e;t!==null;){if(t.tag===13){var i=t.memoizedState;if(i!==null&&(i=i.dehydrated,i===null||Au(i)||Ru(i)))return t}else if(t.tag===19&&(t.memoizedProps.revealOrder==="forwards"||t.memoizedProps.revealOrder==="backwards"||t.memoizedProps.revealOrder==="unstable_legacy-backwards"||t.memoizedProps.revealOrder==="together")){if((t.flags&128)!==0)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Sn=0,se=null,Re=null,$e=null,Js=!1,pa=!1,Ii=!1,Ws=0,_l=0,ya=null,Lv=0;function Ge(){throw Error(s(321))}function Eo(e,t){if(t===null)return!1;for(var i=0;i<t.length&&i<e.length;i++)if(!jt(e[i],t[i]))return!1;return!0}function Co(e,t,i,r,o,u){return Sn=u,se=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,D.H=e===null||e.memoizedState===null?bm:Bo,Ii=!1,u=i(r,o),Ii=!1,pa&&(u=Bh(t,i,r,o)),Hh(e),u}function Hh(e){D.H=Sl;var t=Re!==null&&Re.next!==null;if(Sn=0,$e=Re=se=null,Js=!1,_l=0,ya=null,t)throw Error(s(300));e===null||Je||(e=e.dependencies,e!==null&&Ys(e)&&(Je=!0))}function Bh(e,t,i,r){se=e;var o=0;do{if(pa&&(ya=null),_l=0,pa=!1,25<=o)throw Error(s(301));if(o+=1,$e=Re=null,e.updateQueue!=null){var u=e.updateQueue;u.lastEffect=null,u.events=null,u.stores=null,u.memoCache!=null&&(u.memoCache.index=0)}D.H=Sm,u=t(i,r)}while(pa);return u}function Uv(){var e=D.H,t=e.useState()[0];return t=typeof t.then=="function"?vl(t):t,e=e.useState()[0],(Re!==null?Re.memoizedState:null)!==e&&(se.flags|=1024),t}function To(){var e=Ws!==0;return Ws=0,e}function No(e,t,i){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i}function wo(e){if(Js){for(e=e.memoizedState;e!==null;){var t=e.queue;t!==null&&(t.pending=null),e=e.next}Js=!1}Sn=0,$e=Re=se=null,pa=!1,_l=Ws=0,ya=null}function _t(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return $e===null?se.memoizedState=$e=e:$e=$e.next=e,$e}function Ke(){if(Re===null){var e=se.alternate;e=e!==null?e.memoizedState:null}else e=Re.next;var t=$e===null?se.memoizedState:$e.next;if(t!==null)$e=t,Re=e;else{if(e===null)throw se.alternate===null?Error(s(467)):Error(s(310));Re=e,e={memoizedState:Re.memoizedState,baseState:Re.baseState,baseQueue:Re.baseQueue,queue:Re.queue,next:null},$e===null?se.memoizedState=$e=e:$e=$e.next=e}return $e}function er(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function vl(e){var t=_l;return _l+=1,ya===null&&(ya=[]),e=Rh(ya,e,t),t=se,($e===null?t.memoizedState:$e.next)===null&&(t=t.alternate,D.H=t===null||t.memoizedState===null?bm:Bo),e}function tr(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return vl(e);if(e.$$typeof===V)return ot(e)}throw Error(s(438,String(e)))}function Ao(e){var t=null,i=se.updateQueue;if(i!==null&&(t=i.memoCache),t==null){var r=se.alternate;r!==null&&(r=r.updateQueue,r!==null&&(r=r.memoCache,r!=null&&(t={data:r.data.map(function(o){return o.slice()}),index:0})))}if(t==null&&(t={data:[],index:0}),i===null&&(i=er(),se.updateQueue=i),i.memoCache=t,i=t.data[t.index],i===void 0)for(i=t.data[t.index]=Array(e),r=0;r<e;r++)i[r]=Ce;return t.index++,i}function xn(e,t){return typeof t=="function"?t(e):t}function nr(e){var t=Ke();return Ro(t,Re,e)}function Ro(e,t,i){var r=e.queue;if(r===null)throw Error(s(311));r.lastRenderedReducer=i;var o=e.baseQueue,u=r.pending;if(u!==null){if(o!==null){var h=o.next;o.next=u.next,u.next=h}t.baseQueue=o=u,r.pending=null}if(u=e.baseState,o===null)e.memoizedState=u;else{t=o.next;var _=h=null,x=null,w=t,O=!1;do{var z=w.lane&-536870913;if(z!==w.lane?(ge&z)===z:(Sn&z)===z){var A=w.revertLane;if(A===0)x!==null&&(x=x.next={lane:0,revertLane:0,gesture:null,action:w.action,hasEagerState:w.hasEagerState,eagerState:w.eagerState,next:null}),z===fa&&(O=!0);else if((Sn&A)===A){w=w.next,A===fa&&(O=!0);continue}else z={lane:0,revertLane:w.revertLane,gesture:null,action:w.action,hasEagerState:w.hasEagerState,eagerState:w.eagerState,next:null},x===null?(_=x=z,h=u):x=x.next=z,se.lanes|=A,Wn|=A;z=w.action,Ii&&i(u,z),u=w.hasEagerState?w.eagerState:i(u,z)}else A={lane:z,revertLane:w.revertLane,gesture:w.gesture,action:w.action,hasEagerState:w.hasEagerState,eagerState:w.eagerState,next:null},x===null?(_=x=A,h=u):x=x.next=A,se.lanes|=z,Wn|=z;w=w.next}while(w!==null&&w!==t);if(x===null?h=u:x.next=_,!jt(u,e.memoizedState)&&(Je=!0,O&&(i=da,i!==null)))throw i;e.memoizedState=u,e.baseState=h,e.baseQueue=x,r.lastRenderedState=u}return o===null&&(r.lanes=0),[e.memoizedState,r.dispatch]}function Mo(e){var t=Ke(),i=t.queue;if(i===null)throw Error(s(311));i.lastRenderedReducer=e;var r=i.dispatch,o=i.pending,u=t.memoizedState;if(o!==null){i.pending=null;var h=o=o.next;do u=e(u,h.action),h=h.next;while(h!==o);jt(u,t.memoizedState)||(Je=!0),t.memoizedState=u,t.baseQueue===null&&(t.baseState=u),i.lastRenderedState=u}return[u,r]}function kh(e,t,i){var r=se,o=Ke(),u=ye;if(u){if(i===void 0)throw Error(s(407));i=i()}else i=t();var h=!jt((Re||o).memoizedState,i);if(h&&(o.memoizedState=i,Je=!0),o=o.queue,jo(Yh.bind(null,r,o,e),[e]),o.getSnapshot!==t||h||$e!==null&&$e.memoizedState.tag&1){if(r.flags|=2048,_a(9,{destroy:void 0},Gh.bind(null,r,o,i,t),null),ze===null)throw Error(s(349));u||(Sn&127)!==0||qh(r,t,i)}return i}function qh(e,t,i){e.flags|=16384,e={getSnapshot:t,value:i},t=se.updateQueue,t===null?(t=er(),se.updateQueue=t,t.stores=[e]):(i=t.stores,i===null?t.stores=[e]:i.push(e))}function Gh(e,t,i,r){t.value=i,t.getSnapshot=r,Vh(t)&&Qh(e)}function Yh(e,t,i){return i(function(){Vh(t)&&Qh(e)})}function Vh(e){var t=e.getSnapshot;e=e.value;try{var i=t();return!jt(e,i)}catch{return!0}}function Qh(e){var t=Ti(e,2);t!==null&&wt(t,e,2)}function Do(e){var t=_t();if(typeof e=="function"){var i=e;if(e=i(),Ii){Bn(!0);try{i()}finally{Bn(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:xn,lastRenderedState:e},t}function Xh(e,t,i,r){return e.baseState=i,Ro(e,Re,typeof r=="function"?r:xn)}function Hv(e,t,i,r,o){if(lr(e))throw Error(s(485));if(e=t.action,e!==null){var u={payload:o,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(h){u.listeners.push(h)}};D.T!==null?i(!0):u.isTransition=!1,r(u),i=t.pending,i===null?(u.next=t.pending=u,Ph(t,u)):(u.next=i.next,t.pending=i.next=u)}}function Ph(e,t){var i=t.action,r=t.payload,o=e.state;if(t.isTransition){var u=D.T,h={};D.T=h;try{var _=i(o,r),x=D.S;x!==null&&x(h,_),Zh(e,t,_)}catch(w){Oo(e,t,w)}finally{u!==null&&h.types!==null&&(u.types=h.types),D.T=u}}else try{u=i(o,r),Zh(e,t,u)}catch(w){Oo(e,t,w)}}function Zh(e,t,i){i!==null&&typeof i=="object"&&typeof i.then=="function"?i.then(function(r){Kh(e,t,r)},function(r){return Oo(e,t,r)}):Kh(e,t,i)}function Kh(e,t,i){t.status="fulfilled",t.value=i,Fh(t),e.state=i,t=e.pending,t!==null&&(i=t.next,i===t?e.pending=null:(i=i.next,t.next=i,Ph(e,i)))}function Oo(e,t,i){var r=e.pending;if(e.pending=null,r!==null){r=r.next;do t.status="rejected",t.reason=i,Fh(t),t=t.next;while(t!==r)}e.action=null}function Fh(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function $h(e,t){return t}function Jh(e,t){if(ye){var i=ze.formState;if(i!==null){e:{var r=se;if(ye){if(Be){t:{for(var o=Be,u=Zt;o.nodeType!==8;){if(!u){o=null;break t}if(o=Ft(o.nextSibling),o===null){o=null;break t}}u=o.data,o=u==="F!"||u==="F"?o:null}if(o){Be=Ft(o.nextSibling),r=o.data==="F!";break e}}Vn(r)}r=!1}r&&(t=i[0])}}return i=_t(),i.memoizedState=i.baseState=t,r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:$h,lastRenderedState:t},i.queue=r,i=ym.bind(null,se,r),r.dispatch=i,r=Do(!1),u=Ho.bind(null,se,!1,r.queue),r=_t(),o={state:t,dispatch:null,action:e,pending:null},r.queue=o,i=Hv.bind(null,se,o,u,i),o.dispatch=i,r.memoizedState=e,[t,i,!1]}function Wh(e){var t=Ke();return em(t,Re,e)}function em(e,t,i){if(t=Ro(e,t,$h)[0],e=nr(xn)[0],typeof t=="object"&&t!==null&&typeof t.then=="function")try{var r=vl(t)}catch(h){throw h===ha?Xs:h}else r=t;t=Ke();var o=t.queue,u=o.dispatch;return i!==t.memoizedState&&(se.flags|=2048,_a(9,{destroy:void 0},Bv.bind(null,o,i),null)),[r,u,e]}function Bv(e,t){e.action=t}function tm(e){var t=Ke(),i=Re;if(i!==null)return em(t,i,e);Ke(),t=t.memoizedState,i=Ke();var r=i.queue.dispatch;return i.memoizedState=e,[t,r,!1]}function _a(e,t,i,r){return e={tag:e,create:i,deps:r,inst:t,next:null},t=se.updateQueue,t===null&&(t=er(),se.updateQueue=t),i=t.lastEffect,i===null?t.lastEffect=e.next=e:(r=i.next,i.next=e,e.next=r,t.lastEffect=e),e}function nm(){return Ke().memoizedState}function ir(e,t,i,r){var o=_t();se.flags|=e,o.memoizedState=_a(1|t,{destroy:void 0},i,r===void 0?null:r)}function ar(e,t,i,r){var o=Ke();r=r===void 0?null:r;var u=o.memoizedState.inst;Re!==null&&r!==null&&Eo(r,Re.memoizedState.deps)?o.memoizedState=_a(t,u,i,r):(se.flags|=e,o.memoizedState=_a(1|t,u,i,r))}function im(e,t){ir(8390656,8,e,t)}function jo(e,t){ar(2048,8,e,t)}function kv(e){se.flags|=4;var t=se.updateQueue;if(t===null)t=er(),se.updateQueue=t,t.events=[e];else{var i=t.events;i===null?t.events=[e]:i.push(e)}}function am(e){var t=Ke().memoizedState;return kv({ref:t,nextImpl:e}),function(){if((xe&2)!==0)throw Error(s(440));return t.impl.apply(void 0,arguments)}}function lm(e,t){return ar(4,2,e,t)}function sm(e,t){return ar(4,4,e,t)}function rm(e,t){if(typeof t=="function"){e=e();var i=t(e);return function(){typeof i=="function"?i():t(null)}}if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function cm(e,t,i){i=i!=null?i.concat([e]):null,ar(4,4,rm.bind(null,t,e),i)}function Io(){}function om(e,t){var i=Ke();t=t===void 0?null:t;var r=i.memoizedState;return t!==null&&Eo(t,r[1])?r[0]:(i.memoizedState=[e,t],e)}function um(e,t){var i=Ke();t=t===void 0?null:t;var r=i.memoizedState;if(t!==null&&Eo(t,r[1]))return r[0];if(r=e(),Ii){Bn(!0);try{e()}finally{Bn(!1)}}return i.memoizedState=[r,t],r}function zo(e,t,i){return i===void 0||(Sn&1073741824)!==0&&(ge&261930)===0?e.memoizedState=t:(e.memoizedState=i,e=fg(),se.lanes|=e,Wn|=e,i)}function fm(e,t,i,r){return jt(i,t)?i:ga.current!==null?(e=zo(e,i,r),jt(e,t)||(Je=!0),e):(Sn&42)===0||(Sn&1073741824)!==0&&(ge&261930)===0?(Je=!0,e.memoizedState=i):(e=fg(),se.lanes|=e,Wn|=e,t)}function dm(e,t,i,r,o){var u=q.p;q.p=u!==0&&8>u?u:8;var h=D.T,_={};D.T=_,Ho(e,!1,t,i);try{var x=o(),w=D.S;if(w!==null&&w(_,x),x!==null&&typeof x=="object"&&typeof x.then=="function"){var O=zv(x,r);bl(e,t,O,Bt(e))}else bl(e,t,r,Bt(e))}catch(z){bl(e,t,{then:function(){},status:"rejected",reason:z},Bt())}finally{q.p=u,h!==null&&_.types!==null&&(h.types=_.types),D.T=h}}function qv(){}function Lo(e,t,i,r){if(e.tag!==5)throw Error(s(476));var o=hm(e).queue;dm(e,o,t,te,i===null?qv:function(){return mm(e),i(r)})}function hm(e){var t=e.memoizedState;if(t!==null)return t;t={memoizedState:te,baseState:te,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:xn,lastRenderedState:te},next:null};var i={};return t.next={memoizedState:i,baseState:i,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:xn,lastRenderedState:i},next:null},e.memoizedState=t,e=e.alternate,e!==null&&(e.memoizedState=t),t}function mm(e){var t=hm(e);t.next===null&&(t=e.alternate.memoizedState),bl(e,t.next.queue,{},Bt())}function Uo(){return ot(Ul)}function gm(){return Ke().memoizedState}function pm(){return Ke().memoizedState}function Gv(e){for(var t=e.return;t!==null;){switch(t.tag){case 24:case 3:var i=Bt();e=Pn(i);var r=Zn(t,e,i);r!==null&&(wt(r,t,i),gl(r,t,i)),t={cache:fo()},e.payload=t;return}t=t.return}}function Yv(e,t,i){var r=Bt();i={lane:r,revertLane:0,gesture:null,action:i,hasEagerState:!1,eagerState:null,next:null},lr(e)?_m(t,i):(i=eo(e,t,i,r),i!==null&&(wt(i,e,r),vm(i,t,r)))}function ym(e,t,i){var r=Bt();bl(e,t,i,r)}function bl(e,t,i,r){var o={lane:r,revertLane:0,gesture:null,action:i,hasEagerState:!1,eagerState:null,next:null};if(lr(e))_m(t,o);else{var u=e.alternate;if(e.lanes===0&&(u===null||u.lanes===0)&&(u=t.lastRenderedReducer,u!==null))try{var h=t.lastRenderedState,_=u(h,i);if(o.hasEagerState=!0,o.eagerState=_,jt(_,h))return Bs(e,t,o,0),ze===null&&Hs(),!1}catch{}if(i=eo(e,t,o,r),i!==null)return wt(i,e,r),vm(i,t,r),!0}return!1}function Ho(e,t,i,r){if(r={lane:2,revertLane:pu(),gesture:null,action:r,hasEagerState:!1,eagerState:null,next:null},lr(e)){if(t)throw Error(s(479))}else t=eo(e,i,r,2),t!==null&&wt(t,e,2)}function lr(e){var t=e.alternate;return e===se||t!==null&&t===se}function _m(e,t){pa=Js=!0;var i=e.pending;i===null?t.next=t:(t.next=i.next,i.next=t),e.pending=t}function vm(e,t,i){if((i&4194048)!==0){var r=t.lanes;r&=e.pendingLanes,i|=r,t.lanes=i,Cd(e,i)}}var Sl={readContext:ot,use:tr,useCallback:Ge,useContext:Ge,useEffect:Ge,useImperativeHandle:Ge,useLayoutEffect:Ge,useInsertionEffect:Ge,useMemo:Ge,useReducer:Ge,useRef:Ge,useState:Ge,useDebugValue:Ge,useDeferredValue:Ge,useTransition:Ge,useSyncExternalStore:Ge,useId:Ge,useHostTransitionStatus:Ge,useFormState:Ge,useActionState:Ge,useOptimistic:Ge,useMemoCache:Ge,useCacheRefresh:Ge};Sl.useEffectEvent=Ge;var bm={readContext:ot,use:tr,useCallback:function(e,t){return _t().memoizedState=[e,t===void 0?null:t],e},useContext:ot,useEffect:im,useImperativeHandle:function(e,t,i){i=i!=null?i.concat([e]):null,ir(4194308,4,rm.bind(null,t,e),i)},useLayoutEffect:function(e,t){return ir(4194308,4,e,t)},useInsertionEffect:function(e,t){ir(4,2,e,t)},useMemo:function(e,t){var i=_t();t=t===void 0?null:t;var r=e();if(Ii){Bn(!0);try{e()}finally{Bn(!1)}}return i.memoizedState=[r,t],r},useReducer:function(e,t,i){var r=_t();if(i!==void 0){var o=i(t);if(Ii){Bn(!0);try{i(t)}finally{Bn(!1)}}}else o=t;return r.memoizedState=r.baseState=o,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:o},r.queue=e,e=e.dispatch=Yv.bind(null,se,e),[r.memoizedState,e]},useRef:function(e){var t=_t();return e={current:e},t.memoizedState=e},useState:function(e){e=Do(e);var t=e.queue,i=ym.bind(null,se,t);return t.dispatch=i,[e.memoizedState,i]},useDebugValue:Io,useDeferredValue:function(e,t){var i=_t();return zo(i,e,t)},useTransition:function(){var e=Do(!1);return e=dm.bind(null,se,e.queue,!0,!1),_t().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,i){var r=se,o=_t();if(ye){if(i===void 0)throw Error(s(407));i=i()}else{if(i=t(),ze===null)throw Error(s(349));(ge&127)!==0||qh(r,t,i)}o.memoizedState=i;var u={value:i,getSnapshot:t};return o.queue=u,im(Yh.bind(null,r,u,e),[e]),r.flags|=2048,_a(9,{destroy:void 0},Gh.bind(null,r,u,i,t),null),i},useId:function(){var e=_t(),t=ze.identifierPrefix;if(ye){var i=on,r=cn;i=(r&~(1<<32-Ot(r)-1)).toString(32)+i,t="_"+t+"R_"+i,i=Ws++,0<i&&(t+="H"+i.toString(32)),t+="_"}else i=Lv++,t="_"+t+"r_"+i.toString(32)+"_";return e.memoizedState=t},useHostTransitionStatus:Uo,useFormState:Jh,useActionState:Jh,useOptimistic:function(e){var t=_t();t.memoizedState=t.baseState=e;var i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=i,t=Ho.bind(null,se,!0,i),i.dispatch=t,[e,t]},useMemoCache:Ao,useCacheRefresh:function(){return _t().memoizedState=Gv.bind(null,se)},useEffectEvent:function(e){var t=_t(),i={impl:e};return t.memoizedState=i,function(){if((xe&2)!==0)throw Error(s(440));return i.impl.apply(void 0,arguments)}}},Bo={readContext:ot,use:tr,useCallback:om,useContext:ot,useEffect:jo,useImperativeHandle:cm,useInsertionEffect:lm,useLayoutEffect:sm,useMemo:um,useReducer:nr,useRef:nm,useState:function(){return nr(xn)},useDebugValue:Io,useDeferredValue:function(e,t){var i=Ke();return fm(i,Re.memoizedState,e,t)},useTransition:function(){var e=nr(xn)[0],t=Ke().memoizedState;return[typeof e=="boolean"?e:vl(e),t]},useSyncExternalStore:kh,useId:gm,useHostTransitionStatus:Uo,useFormState:Wh,useActionState:Wh,useOptimistic:function(e,t){var i=Ke();return Xh(i,Re,e,t)},useMemoCache:Ao,useCacheRefresh:pm};Bo.useEffectEvent=am;var Sm={readContext:ot,use:tr,useCallback:om,useContext:ot,useEffect:jo,useImperativeHandle:cm,useInsertionEffect:lm,useLayoutEffect:sm,useMemo:um,useReducer:Mo,useRef:nm,useState:function(){return Mo(xn)},useDebugValue:Io,useDeferredValue:function(e,t){var i=Ke();return Re===null?zo(i,e,t):fm(i,Re.memoizedState,e,t)},useTransition:function(){var e=Mo(xn)[0],t=Ke().memoizedState;return[typeof e=="boolean"?e:vl(e),t]},useSyncExternalStore:kh,useId:gm,useHostTransitionStatus:Uo,useFormState:tm,useActionState:tm,useOptimistic:function(e,t){var i=Ke();return Re!==null?Xh(i,Re,e,t):(i.baseState=e,[e,i.queue.dispatch])},useMemoCache:Ao,useCacheRefresh:pm};Sm.useEffectEvent=am;function ko(e,t,i,r){t=e.memoizedState,i=i(r,t),i=i==null?t:v({},t,i),e.memoizedState=i,e.lanes===0&&(e.updateQueue.baseState=i)}var qo={enqueueSetState:function(e,t,i){e=e._reactInternals;var r=Bt(),o=Pn(r);o.payload=t,i!=null&&(o.callback=i),t=Zn(e,o,r),t!==null&&(wt(t,e,r),gl(t,e,r))},enqueueReplaceState:function(e,t,i){e=e._reactInternals;var r=Bt(),o=Pn(r);o.tag=1,o.payload=t,i!=null&&(o.callback=i),t=Zn(e,o,r),t!==null&&(wt(t,e,r),gl(t,e,r))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var i=Bt(),r=Pn(i);r.tag=2,t!=null&&(r.callback=t),t=Zn(e,r,i),t!==null&&(wt(t,e,i),gl(t,e,i))}};function xm(e,t,i,r,o,u,h){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,u,h):t.prototype&&t.prototype.isPureReactComponent?!rl(i,r)||!rl(o,u):!0}function Em(e,t,i,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(i,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(i,r),t.state!==e&&qo.enqueueReplaceState(t,t.state,null)}function zi(e,t){var i=t;if("ref"in t){i={};for(var r in t)r!=="ref"&&(i[r]=t[r])}if(e=e.defaultProps){i===t&&(i=v({},i));for(var o in e)i[o]===void 0&&(i[o]=e[o])}return i}function Cm(e){Us(e)}function Tm(e){console.error(e)}function Nm(e){Us(e)}function sr(e,t){try{var i=e.onUncaughtError;i(t.value,{componentStack:t.stack})}catch(r){setTimeout(function(){throw r})}}function wm(e,t,i){try{var r=e.onCaughtError;r(i.value,{componentStack:i.stack,errorBoundary:t.tag===1?t.stateNode:null})}catch(o){setTimeout(function(){throw o})}}function Go(e,t,i){return i=Pn(i),i.tag=3,i.payload={element:null},i.callback=function(){sr(e,t)},i}function Am(e){return e=Pn(e),e.tag=3,e}function Rm(e,t,i,r){var o=i.type.getDerivedStateFromError;if(typeof o=="function"){var u=r.value;e.payload=function(){return o(u)},e.callback=function(){wm(t,i,r)}}var h=i.stateNode;h!==null&&typeof h.componentDidCatch=="function"&&(e.callback=function(){wm(t,i,r),typeof o!="function"&&(ei===null?ei=new Set([this]):ei.add(this));var _=r.stack;this.componentDidCatch(r.value,{componentStack:_!==null?_:""})})}function Vv(e,t,i,r,o){if(i.flags|=32768,r!==null&&typeof r=="object"&&typeof r.then=="function"){if(t=i.alternate,t!==null&&ua(t,i,o,!0),i=zt.current,i!==null){switch(i.tag){case 31:case 13:return Kt===null?_r():i.alternate===null&&Ye===0&&(Ye=3),i.flags&=-257,i.flags|=65536,i.lanes=o,r===Ps?i.flags|=16384:(t=i.updateQueue,t===null?i.updateQueue=new Set([r]):t.add(r),hu(e,r,o)),!1;case 22:return i.flags|=65536,r===Ps?i.flags|=16384:(t=i.updateQueue,t===null?(t={transitions:null,markerInstances:null,retryQueue:new Set([r])},i.updateQueue=t):(i=t.retryQueue,i===null?t.retryQueue=new Set([r]):i.add(r)),hu(e,r,o)),!1}throw Error(s(435,i.tag))}return hu(e,r,o),_r(),!1}if(ye)return t=zt.current,t!==null?((t.flags&65536)===0&&(t.flags|=256),t.flags|=65536,t.lanes=o,r!==so&&(e=Error(s(422),{cause:r}),ul(Qt(e,i)))):(r!==so&&(t=Error(s(423),{cause:r}),ul(Qt(t,i))),e=e.current.alternate,e.flags|=65536,o&=-o,e.lanes|=o,r=Qt(r,i),o=Go(e.stateNode,r,o),_o(e,o),Ye!==4&&(Ye=2)),!1;var u=Error(s(520),{cause:r});if(u=Qt(u,i),Rl===null?Rl=[u]:Rl.push(u),Ye!==4&&(Ye=2),t===null)return!0;r=Qt(r,i),i=t;do{switch(i.tag){case 3:return i.flags|=65536,e=o&-o,i.lanes|=e,e=Go(i.stateNode,r,e),_o(i,e),!1;case 1:if(t=i.type,u=i.stateNode,(i.flags&128)===0&&(typeof t.getDerivedStateFromError=="function"||u!==null&&typeof u.componentDidCatch=="function"&&(ei===null||!ei.has(u))))return i.flags|=65536,o&=-o,i.lanes|=o,o=Am(o),Rm(o,e,i,r),_o(i,o),!1}i=i.return}while(i!==null);return!1}var Yo=Error(s(461)),Je=!1;function ut(e,t,i,r){t.child=e===null?jh(t,null,i,r):ji(t,e.child,i,r)}function Mm(e,t,i,r,o){i=i.render;var u=t.ref;if("ref"in r){var h={};for(var _ in r)_!=="ref"&&(h[_]=r[_])}else h=r;return Ri(t),r=Co(e,t,i,h,u,o),_=To(),e!==null&&!Je?(No(e,t,o),En(e,t,o)):(ye&&_&&ao(t),t.flags|=1,ut(e,t,r,o),t.child)}function Dm(e,t,i,r,o){if(e===null){var u=i.type;return typeof u=="function"&&!to(u)&&u.defaultProps===void 0&&i.compare===null?(t.tag=15,t.type=u,Om(e,t,u,r,o)):(e=qs(i.type,null,r,t,t.mode,o),e.ref=t.ref,e.return=t,t.child=e)}if(u=e.child,!$o(e,o)){var h=u.memoizedProps;if(i=i.compare,i=i!==null?i:rl,i(h,r)&&e.ref===t.ref)return En(e,t,o)}return t.flags|=1,e=yn(u,r),e.ref=t.ref,e.return=t,t.child=e}function Om(e,t,i,r,o){if(e!==null){var u=e.memoizedProps;if(rl(u,r)&&e.ref===t.ref)if(Je=!1,t.pendingProps=r=u,$o(e,o))(e.flags&131072)!==0&&(Je=!0);else return t.lanes=e.lanes,En(e,t,o)}return Vo(e,t,i,r,o)}function jm(e,t,i,r){var o=r.children,u=e!==null?e.memoizedState:null;if(e===null&&t.stateNode===null&&(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),r.mode==="hidden"){if((t.flags&128)!==0){if(u=u!==null?u.baseLanes|i:i,e!==null){for(r=t.child=e.child,o=0;r!==null;)o=o|r.lanes|r.childLanes,r=r.sibling;r=o&~u}else r=0,t.child=null;return Im(e,t,u,i,r)}if((i&536870912)!==0)t.memoizedState={baseLanes:0,cachePool:null},e!==null&&Qs(t,u!==null?u.cachePool:null),u!==null?Lh(t,u):bo(),Uh(t);else return r=t.lanes=536870912,Im(e,t,u!==null?u.baseLanes|i:i,i,r)}else u!==null?(Qs(t,u.cachePool),Lh(t,u),Fn(),t.memoizedState=null):(e!==null&&Qs(t,null),bo(),Fn());return ut(e,t,o,i),t.child}function xl(e,t){return e!==null&&e.tag===22||t.stateNode!==null||(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),t.sibling}function Im(e,t,i,r,o){var u=mo();return u=u===null?null:{parent:Fe._currentValue,pool:u},t.memoizedState={baseLanes:i,cachePool:u},e!==null&&Qs(t,null),bo(),Uh(t),e!==null&&ua(e,t,r,!0),t.childLanes=o,null}function rr(e,t){return t=or({mode:t.mode,children:t.children},e.mode),t.ref=e.ref,e.child=t,t.return=e,t}function zm(e,t,i){return ji(t,e.child,null,i),e=rr(t,t.pendingProps),e.flags|=2,Lt(t),t.memoizedState=null,e}function Qv(e,t,i){var r=t.pendingProps,o=(t.flags&128)!==0;if(t.flags&=-129,e===null){if(ye){if(r.mode==="hidden")return e=rr(t,r),t.lanes=536870912,xl(null,e);if(xo(t),(e=Be)?(e=Pg(e,Zt),e=e!==null&&e.data==="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:Gn!==null?{id:cn,overflow:on}:null,retryLane:536870912,hydrationErrors:null},i=_h(e),i.return=t,t.child=i,ct=t,Be=null)):e=null,e===null)throw Vn(t);return t.lanes=536870912,null}return rr(t,r)}var u=e.memoizedState;if(u!==null){var h=u.dehydrated;if(xo(t),o)if(t.flags&256)t.flags&=-257,t=zm(e,t,i);else if(t.memoizedState!==null)t.child=e.child,t.flags|=128,t=null;else throw Error(s(558));else if(Je||ua(e,t,i,!1),o=(i&e.childLanes)!==0,Je||o){if(r=ze,r!==null&&(h=Td(r,i),h!==0&&h!==u.retryLane))throw u.retryLane=h,Ti(e,h),wt(r,e,h),Yo;_r(),t=zm(e,t,i)}else e=u.treeContext,Be=Ft(h.nextSibling),ct=t,ye=!0,Yn=null,Zt=!1,e!==null&&Sh(t,e),t=rr(t,r),t.flags|=4096;return t}return e=yn(e.child,{mode:r.mode,children:r.children}),e.ref=t.ref,t.child=e,e.return=t,e}function cr(e,t){var i=t.ref;if(i===null)e!==null&&e.ref!==null&&(t.flags|=4194816);else{if(typeof i!="function"&&typeof i!="object")throw Error(s(284));(e===null||e.ref!==i)&&(t.flags|=4194816)}}function Vo(e,t,i,r,o){return Ri(t),i=Co(e,t,i,r,void 0,o),r=To(),e!==null&&!Je?(No(e,t,o),En(e,t,o)):(ye&&r&&ao(t),t.flags|=1,ut(e,t,i,o),t.child)}function Lm(e,t,i,r,o,u){return Ri(t),t.updateQueue=null,i=Bh(t,r,i,o),Hh(e),r=To(),e!==null&&!Je?(No(e,t,u),En(e,t,u)):(ye&&r&&ao(t),t.flags|=1,ut(e,t,i,u),t.child)}function Um(e,t,i,r,o){if(Ri(t),t.stateNode===null){var u=sa,h=i.contextType;typeof h=="object"&&h!==null&&(u=ot(h)),u=new i(r,u),t.memoizedState=u.state!==null&&u.state!==void 0?u.state:null,u.updater=qo,t.stateNode=u,u._reactInternals=t,u=t.stateNode,u.props=r,u.state=t.memoizedState,u.refs={},po(t),h=i.contextType,u.context=typeof h=="object"&&h!==null?ot(h):sa,u.state=t.memoizedState,h=i.getDerivedStateFromProps,typeof h=="function"&&(ko(t,i,h,r),u.state=t.memoizedState),typeof i.getDerivedStateFromProps=="function"||typeof u.getSnapshotBeforeUpdate=="function"||typeof u.UNSAFE_componentWillMount!="function"&&typeof u.componentWillMount!="function"||(h=u.state,typeof u.componentWillMount=="function"&&u.componentWillMount(),typeof u.UNSAFE_componentWillMount=="function"&&u.UNSAFE_componentWillMount(),h!==u.state&&qo.enqueueReplaceState(u,u.state,null),yl(t,r,u,o),pl(),u.state=t.memoizedState),typeof u.componentDidMount=="function"&&(t.flags|=4194308),r=!0}else if(e===null){u=t.stateNode;var _=t.memoizedProps,x=zi(i,_);u.props=x;var w=u.context,O=i.contextType;h=sa,typeof O=="object"&&O!==null&&(h=ot(O));var z=i.getDerivedStateFromProps;O=typeof z=="function"||typeof u.getSnapshotBeforeUpdate=="function",_=t.pendingProps!==_,O||typeof u.UNSAFE_componentWillReceiveProps!="function"&&typeof u.componentWillReceiveProps!="function"||(_||w!==h)&&Em(t,u,r,h),Xn=!1;var A=t.memoizedState;u.state=A,yl(t,r,u,o),pl(),w=t.memoizedState,_||A!==w||Xn?(typeof z=="function"&&(ko(t,i,z,r),w=t.memoizedState),(x=Xn||xm(t,i,x,r,A,w,h))?(O||typeof u.UNSAFE_componentWillMount!="function"&&typeof u.componentWillMount!="function"||(typeof u.componentWillMount=="function"&&u.componentWillMount(),typeof u.UNSAFE_componentWillMount=="function"&&u.UNSAFE_componentWillMount()),typeof u.componentDidMount=="function"&&(t.flags|=4194308)):(typeof u.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=w),u.props=r,u.state=w,u.context=h,r=x):(typeof u.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{u=t.stateNode,yo(e,t),h=t.memoizedProps,O=zi(i,h),u.props=O,z=t.pendingProps,A=u.context,w=i.contextType,x=sa,typeof w=="object"&&w!==null&&(x=ot(w)),_=i.getDerivedStateFromProps,(w=typeof _=="function"||typeof u.getSnapshotBeforeUpdate=="function")||typeof u.UNSAFE_componentWillReceiveProps!="function"&&typeof u.componentWillReceiveProps!="function"||(h!==z||A!==x)&&Em(t,u,r,x),Xn=!1,A=t.memoizedState,u.state=A,yl(t,r,u,o),pl();var M=t.memoizedState;h!==z||A!==M||Xn||e!==null&&e.dependencies!==null&&Ys(e.dependencies)?(typeof _=="function"&&(ko(t,i,_,r),M=t.memoizedState),(O=Xn||xm(t,i,O,r,A,M,x)||e!==null&&e.dependencies!==null&&Ys(e.dependencies))?(w||typeof u.UNSAFE_componentWillUpdate!="function"&&typeof u.componentWillUpdate!="function"||(typeof u.componentWillUpdate=="function"&&u.componentWillUpdate(r,M,x),typeof u.UNSAFE_componentWillUpdate=="function"&&u.UNSAFE_componentWillUpdate(r,M,x)),typeof u.componentDidUpdate=="function"&&(t.flags|=4),typeof u.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof u.componentDidUpdate!="function"||h===e.memoizedProps&&A===e.memoizedState||(t.flags|=4),typeof u.getSnapshotBeforeUpdate!="function"||h===e.memoizedProps&&A===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=M),u.props=r,u.state=M,u.context=x,r=O):(typeof u.componentDidUpdate!="function"||h===e.memoizedProps&&A===e.memoizedState||(t.flags|=4),typeof u.getSnapshotBeforeUpdate!="function"||h===e.memoizedProps&&A===e.memoizedState||(t.flags|=1024),r=!1)}return u=r,cr(e,t),r=(t.flags&128)!==0,u||r?(u=t.stateNode,i=r&&typeof i.getDerivedStateFromError!="function"?null:u.render(),t.flags|=1,e!==null&&r?(t.child=ji(t,e.child,null,o),t.child=ji(t,null,i,o)):ut(e,t,i,o),t.memoizedState=u.state,e=t.child):e=En(e,t,o),e}function Hm(e,t,i,r){return wi(),t.flags|=256,ut(e,t,i,r),t.child}var Qo={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Xo(e){return{baseLanes:e,cachePool:wh()}}function Po(e,t,i){return e=e!==null?e.childLanes&~i:0,t&&(e|=Ht),e}function Bm(e,t,i){var r=t.pendingProps,o=!1,u=(t.flags&128)!==0,h;if((h=u)||(h=e!==null&&e.memoizedState===null?!1:(Ze.current&2)!==0),h&&(o=!0,t.flags&=-129),h=(t.flags&32)!==0,t.flags&=-33,e===null){if(ye){if(o?Kn(t):Fn(),(e=Be)?(e=Pg(e,Zt),e=e!==null&&e.data!=="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:Gn!==null?{id:cn,overflow:on}:null,retryLane:536870912,hydrationErrors:null},i=_h(e),i.return=t,t.child=i,ct=t,Be=null)):e=null,e===null)throw Vn(t);return Ru(e)?t.lanes=32:t.lanes=536870912,null}var _=r.children;return r=r.fallback,o?(Fn(),o=t.mode,_=or({mode:"hidden",children:_},o),r=Ni(r,o,i,null),_.return=t,r.return=t,_.sibling=r,t.child=_,r=t.child,r.memoizedState=Xo(i),r.childLanes=Po(e,h,i),t.memoizedState=Qo,xl(null,r)):(Kn(t),Zo(t,_))}var x=e.memoizedState;if(x!==null&&(_=x.dehydrated,_!==null)){if(u)t.flags&256?(Kn(t),t.flags&=-257,t=Ko(e,t,i)):t.memoizedState!==null?(Fn(),t.child=e.child,t.flags|=128,t=null):(Fn(),_=r.fallback,o=t.mode,r=or({mode:"visible",children:r.children},o),_=Ni(_,o,i,null),_.flags|=2,r.return=t,_.return=t,r.sibling=_,t.child=r,ji(t,e.child,null,i),r=t.child,r.memoizedState=Xo(i),r.childLanes=Po(e,h,i),t.memoizedState=Qo,t=xl(null,r));else if(Kn(t),Ru(_)){if(h=_.nextSibling&&_.nextSibling.dataset,h)var w=h.dgst;h=w,r=Error(s(419)),r.stack="",r.digest=h,ul({value:r,source:null,stack:null}),t=Ko(e,t,i)}else if(Je||ua(e,t,i,!1),h=(i&e.childLanes)!==0,Je||h){if(h=ze,h!==null&&(r=Td(h,i),r!==0&&r!==x.retryLane))throw x.retryLane=r,Ti(e,r),wt(h,e,r),Yo;Au(_)||_r(),t=Ko(e,t,i)}else Au(_)?(t.flags|=192,t.child=e.child,t=null):(e=x.treeContext,Be=Ft(_.nextSibling),ct=t,ye=!0,Yn=null,Zt=!1,e!==null&&Sh(t,e),t=Zo(t,r.children),t.flags|=4096);return t}return o?(Fn(),_=r.fallback,o=t.mode,x=e.child,w=x.sibling,r=yn(x,{mode:"hidden",children:r.children}),r.subtreeFlags=x.subtreeFlags&65011712,w!==null?_=yn(w,_):(_=Ni(_,o,i,null),_.flags|=2),_.return=t,r.return=t,r.sibling=_,t.child=r,xl(null,r),r=t.child,_=e.child.memoizedState,_===null?_=Xo(i):(o=_.cachePool,o!==null?(x=Fe._currentValue,o=o.parent!==x?{parent:x,pool:x}:o):o=wh(),_={baseLanes:_.baseLanes|i,cachePool:o}),r.memoizedState=_,r.childLanes=Po(e,h,i),t.memoizedState=Qo,xl(e.child,r)):(Kn(t),i=e.child,e=i.sibling,i=yn(i,{mode:"visible",children:r.children}),i.return=t,i.sibling=null,e!==null&&(h=t.deletions,h===null?(t.deletions=[e],t.flags|=16):h.push(e)),t.child=i,t.memoizedState=null,i)}function Zo(e,t){return t=or({mode:"visible",children:t},e.mode),t.return=e,e.child=t}function or(e,t){return e=It(22,e,null,t),e.lanes=0,e}function Ko(e,t,i){return ji(t,e.child,null,i),e=Zo(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function km(e,t,i){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),oo(e.return,t,i)}function Fo(e,t,i,r,o,u){var h=e.memoizedState;h===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:i,tailMode:o,treeForkCount:u}:(h.isBackwards=t,h.rendering=null,h.renderingStartTime=0,h.last=r,h.tail=i,h.tailMode=o,h.treeForkCount=u)}function qm(e,t,i){var r=t.pendingProps,o=r.revealOrder,u=r.tail;r=r.children;var h=Ze.current,_=(h&2)!==0;if(_?(h=h&1|2,t.flags|=128):h&=1,G(Ze,h),ut(e,t,r,i),r=ye?ol:0,!_&&e!==null&&(e.flags&128)!==0)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&km(e,i,t);else if(e.tag===19)km(e,i,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(o){case"forwards":for(i=t.child,o=null;i!==null;)e=i.alternate,e!==null&&$s(e)===null&&(o=i),i=i.sibling;i=o,i===null?(o=t.child,t.child=null):(o=i.sibling,i.sibling=null),Fo(t,!1,o,i,u,r);break;case"backwards":case"unstable_legacy-backwards":for(i=null,o=t.child,t.child=null;o!==null;){if(e=o.alternate,e!==null&&$s(e)===null){t.child=o;break}e=o.sibling,o.sibling=i,i=o,o=e}Fo(t,!0,i,null,u,r);break;case"together":Fo(t,!1,null,null,void 0,r);break;default:t.memoizedState=null}return t.child}function En(e,t,i){if(e!==null&&(t.dependencies=e.dependencies),Wn|=t.lanes,(i&t.childLanes)===0)if(e!==null){if(ua(e,t,i,!1),(i&t.childLanes)===0)return null}else return null;if(e!==null&&t.child!==e.child)throw Error(s(153));if(t.child!==null){for(e=t.child,i=yn(e,e.pendingProps),t.child=i,i.return=t;e.sibling!==null;)e=e.sibling,i=i.sibling=yn(e,e.pendingProps),i.return=t;i.sibling=null}return t.child}function $o(e,t){return(e.lanes&t)!==0?!0:(e=e.dependencies,!!(e!==null&&Ys(e)))}function Xv(e,t,i){switch(t.tag){case 3:yt(t,t.stateNode.containerInfo),Qn(t,Fe,e.memoizedState.cache),wi();break;case 27:case 5:Za(t);break;case 4:yt(t,t.stateNode.containerInfo);break;case 10:Qn(t,t.type,t.memoizedProps.value);break;case 31:if(t.memoizedState!==null)return t.flags|=128,xo(t),null;break;case 13:var r=t.memoizedState;if(r!==null)return r.dehydrated!==null?(Kn(t),t.flags|=128,null):(i&t.child.childLanes)!==0?Bm(e,t,i):(Kn(t),e=En(e,t,i),e!==null?e.sibling:null);Kn(t);break;case 19:var o=(e.flags&128)!==0;if(r=(i&t.childLanes)!==0,r||(ua(e,t,i,!1),r=(i&t.childLanes)!==0),o){if(r)return qm(e,t,i);t.flags|=128}if(o=t.memoizedState,o!==null&&(o.rendering=null,o.tail=null,o.lastEffect=null),G(Ze,Ze.current),r)break;return null;case 22:return t.lanes=0,jm(e,t,i,t.pendingProps);case 24:Qn(t,Fe,e.memoizedState.cache)}return En(e,t,i)}function Gm(e,t,i){if(e!==null)if(e.memoizedProps!==t.pendingProps)Je=!0;else{if(!$o(e,i)&&(t.flags&128)===0)return Je=!1,Xv(e,t,i);Je=(e.flags&131072)!==0}else Je=!1,ye&&(t.flags&1048576)!==0&&bh(t,ol,t.index);switch(t.lanes=0,t.tag){case 16:e:{var r=t.pendingProps;if(e=Di(t.elementType),t.type=e,typeof e=="function")to(e)?(r=zi(e,r),t.tag=1,t=Um(null,t,e,r,i)):(t.tag=0,t=Vo(null,t,e,r,i));else{if(e!=null){var o=e.$$typeof;if(o===ne){t.tag=11,t=Mm(null,t,e,r,i);break e}else if(o===J){t.tag=14,t=Dm(null,t,e,r,i);break e}}throw t=mt(e)||e,Error(s(306,t,""))}}return t;case 0:return Vo(e,t,t.type,t.pendingProps,i);case 1:return r=t.type,o=zi(r,t.pendingProps),Um(e,t,r,o,i);case 3:e:{if(yt(t,t.stateNode.containerInfo),e===null)throw Error(s(387));r=t.pendingProps;var u=t.memoizedState;o=u.element,yo(e,t),yl(t,r,null,i);var h=t.memoizedState;if(r=h.cache,Qn(t,Fe,r),r!==u.cache&&uo(t,[Fe],i,!0),pl(),r=h.element,u.isDehydrated)if(u={element:r,isDehydrated:!1,cache:h.cache},t.updateQueue.baseState=u,t.memoizedState=u,t.flags&256){t=Hm(e,t,r,i);break e}else if(r!==o){o=Qt(Error(s(424)),t),ul(o),t=Hm(e,t,r,i);break e}else for(e=t.stateNode.containerInfo,e.nodeType===9?e=e.body:e=e.nodeName==="HTML"?e.ownerDocument.body:e,Be=Ft(e.firstChild),ct=t,ye=!0,Yn=null,Zt=!0,i=jh(t,null,r,i),t.child=i;i;)i.flags=i.flags&-3|4096,i=i.sibling;else{if(wi(),r===o){t=En(e,t,i);break e}ut(e,t,r,i)}t=t.child}return t;case 26:return cr(e,t),e===null?(i=Wg(t.type,null,t.pendingProps,null))?t.memoizedState=i:ye||(i=t.type,e=t.pendingProps,r=Tr(fe.current).createElement(i),r[rt]=t,r[St]=e,ft(r,i,e),it(r),t.stateNode=r):t.memoizedState=Wg(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return Za(t),e===null&&ye&&(r=t.stateNode=Fg(t.type,t.pendingProps,fe.current),ct=t,Zt=!0,o=Be,ai(t.type)?(Mu=o,Be=Ft(r.firstChild)):Be=o),ut(e,t,t.pendingProps.children,i),cr(e,t),e===null&&(t.flags|=4194304),t.child;case 5:return e===null&&ye&&((o=r=Be)&&(r=xb(r,t.type,t.pendingProps,Zt),r!==null?(t.stateNode=r,ct=t,Be=Ft(r.firstChild),Zt=!1,o=!0):o=!1),o||Vn(t)),Za(t),o=t.type,u=t.pendingProps,h=e!==null?e.memoizedProps:null,r=u.children,Tu(o,u)?r=null:h!==null&&Tu(o,h)&&(t.flags|=32),t.memoizedState!==null&&(o=Co(e,t,Uv,null,null,i),Ul._currentValue=o),cr(e,t),ut(e,t,r,i),t.child;case 6:return e===null&&ye&&((e=i=Be)&&(i=Eb(i,t.pendingProps,Zt),i!==null?(t.stateNode=i,ct=t,Be=null,e=!0):e=!1),e||Vn(t)),null;case 13:return Bm(e,t,i);case 4:return yt(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=ji(t,null,r,i):ut(e,t,r,i),t.child;case 11:return Mm(e,t,t.type,t.pendingProps,i);case 7:return ut(e,t,t.pendingProps,i),t.child;case 8:return ut(e,t,t.pendingProps.children,i),t.child;case 12:return ut(e,t,t.pendingProps.children,i),t.child;case 10:return r=t.pendingProps,Qn(t,t.type,r.value),ut(e,t,r.children,i),t.child;case 9:return o=t.type._context,r=t.pendingProps.children,Ri(t),o=ot(o),r=r(o),t.flags|=1,ut(e,t,r,i),t.child;case 14:return Dm(e,t,t.type,t.pendingProps,i);case 15:return Om(e,t,t.type,t.pendingProps,i);case 19:return qm(e,t,i);case 31:return Qv(e,t,i);case 22:return jm(e,t,i,t.pendingProps);case 24:return Ri(t),r=ot(Fe),e===null?(o=mo(),o===null&&(o=ze,u=fo(),o.pooledCache=u,u.refCount++,u!==null&&(o.pooledCacheLanes|=i),o=u),t.memoizedState={parent:r,cache:o},po(t),Qn(t,Fe,o)):((e.lanes&i)!==0&&(yo(e,t),yl(t,null,null,i),pl()),o=e.memoizedState,u=t.memoizedState,o.parent!==r?(o={parent:r,cache:r},t.memoizedState=o,t.lanes===0&&(t.memoizedState=t.updateQueue.baseState=o),Qn(t,Fe,r)):(r=u.cache,Qn(t,Fe,r),r!==o.cache&&uo(t,[Fe],i,!0))),ut(e,t,t.pendingProps.children,i),t.child;case 29:throw t.pendingProps}throw Error(s(156,t.tag))}function Cn(e){e.flags|=4}function Jo(e,t,i,r,o){if((t=(e.mode&32)!==0)&&(t=!1),t){if(e.flags|=16777216,(o&335544128)===o)if(e.stateNode.complete)e.flags|=8192;else if(gg())e.flags|=8192;else throw Oi=Ps,go}else e.flags&=-16777217}function Ym(e,t){if(t.type!=="stylesheet"||(t.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!ap(t))if(gg())e.flags|=8192;else throw Oi=Ps,go}function ur(e,t){t!==null&&(e.flags|=4),e.flags&16384&&(t=e.tag!==22?xd():536870912,e.lanes|=t,xa|=t)}function El(e,t){if(!ye)switch(e.tailMode){case"hidden":t=e.tail;for(var i=null;t!==null;)t.alternate!==null&&(i=t),t=t.sibling;i===null?e.tail=null:i.sibling=null;break;case"collapsed":i=e.tail;for(var r=null;i!==null;)i.alternate!==null&&(r=i),i=i.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function ke(e){var t=e.alternate!==null&&e.alternate.child===e.child,i=0,r=0;if(t)for(var o=e.child;o!==null;)i|=o.lanes|o.childLanes,r|=o.subtreeFlags&65011712,r|=o.flags&65011712,o.return=e,o=o.sibling;else for(o=e.child;o!==null;)i|=o.lanes|o.childLanes,r|=o.subtreeFlags,r|=o.flags,o.return=e,o=o.sibling;return e.subtreeFlags|=r,e.childLanes=i,t}function Pv(e,t,i){var r=t.pendingProps;switch(lo(t),t.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ke(t),null;case 1:return ke(t),null;case 3:return i=t.stateNode,r=null,e!==null&&(r=e.memoizedState.cache),t.memoizedState.cache!==r&&(t.flags|=2048),bn(Fe),Pe(),i.pendingContext&&(i.context=i.pendingContext,i.pendingContext=null),(e===null||e.child===null)&&(oa(t)?Cn(t):e===null||e.memoizedState.isDehydrated&&(t.flags&256)===0||(t.flags|=1024,ro())),ke(t),null;case 26:var o=t.type,u=t.memoizedState;return e===null?(Cn(t),u!==null?(ke(t),Ym(t,u)):(ke(t),Jo(t,o,null,r,i))):u?u!==e.memoizedState?(Cn(t),ke(t),Ym(t,u)):(ke(t),t.flags&=-16777217):(e=e.memoizedProps,e!==r&&Cn(t),ke(t),Jo(t,o,e,r,i)),null;case 27:if(Ss(t),i=fe.current,o=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==r&&Cn(t);else{if(!r){if(t.stateNode===null)throw Error(s(166));return ke(t),null}e=P.current,oa(t)?xh(t):(e=Fg(o,r,i),t.stateNode=e,Cn(t))}return ke(t),null;case 5:if(Ss(t),o=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==r&&Cn(t);else{if(!r){if(t.stateNode===null)throw Error(s(166));return ke(t),null}if(u=P.current,oa(t))xh(t);else{var h=Tr(fe.current);switch(u){case 1:u=h.createElementNS("http://www.w3.org/2000/svg",o);break;case 2:u=h.createElementNS("http://www.w3.org/1998/Math/MathML",o);break;default:switch(o){case"svg":u=h.createElementNS("http://www.w3.org/2000/svg",o);break;case"math":u=h.createElementNS("http://www.w3.org/1998/Math/MathML",o);break;case"script":u=h.createElement("div"),u.innerHTML="<script><\/script>",u=u.removeChild(u.firstChild);break;case"select":u=typeof r.is=="string"?h.createElement("select",{is:r.is}):h.createElement("select"),r.multiple?u.multiple=!0:r.size&&(u.size=r.size);break;default:u=typeof r.is=="string"?h.createElement(o,{is:r.is}):h.createElement(o)}}u[rt]=t,u[St]=r;e:for(h=t.child;h!==null;){if(h.tag===5||h.tag===6)u.appendChild(h.stateNode);else if(h.tag!==4&&h.tag!==27&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===t)break e;for(;h.sibling===null;){if(h.return===null||h.return===t)break e;h=h.return}h.sibling.return=h.return,h=h.sibling}t.stateNode=u;e:switch(ft(u,o,r),o){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}r&&Cn(t)}}return ke(t),Jo(t,t.type,e===null?null:e.memoizedProps,t.pendingProps,i),null;case 6:if(e&&t.stateNode!=null)e.memoizedProps!==r&&Cn(t);else{if(typeof r!="string"&&t.stateNode===null)throw Error(s(166));if(e=fe.current,oa(t)){if(e=t.stateNode,i=t.memoizedProps,r=null,o=ct,o!==null)switch(o.tag){case 27:case 5:r=o.memoizedProps}e[rt]=t,e=!!(e.nodeValue===i||r!==null&&r.suppressHydrationWarning===!0||Bg(e.nodeValue,i)),e||Vn(t,!0)}else e=Tr(e).createTextNode(r),e[rt]=t,t.stateNode=e}return ke(t),null;case 31:if(i=t.memoizedState,e===null||e.memoizedState!==null){if(r=oa(t),i!==null){if(e===null){if(!r)throw Error(s(318));if(e=t.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(s(557));e[rt]=t}else wi(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;ke(t),e=!1}else i=ro(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=i),e=!0;if(!e)return t.flags&256?(Lt(t),t):(Lt(t),null);if((t.flags&128)!==0)throw Error(s(558))}return ke(t),null;case 13:if(r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(o=oa(t),r!==null&&r.dehydrated!==null){if(e===null){if(!o)throw Error(s(318));if(o=t.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(s(317));o[rt]=t}else wi(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;ke(t),o=!1}else o=ro(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=o),o=!0;if(!o)return t.flags&256?(Lt(t),t):(Lt(t),null)}return Lt(t),(t.flags&128)!==0?(t.lanes=i,t):(i=r!==null,e=e!==null&&e.memoizedState!==null,i&&(r=t.child,o=null,r.alternate!==null&&r.alternate.memoizedState!==null&&r.alternate.memoizedState.cachePool!==null&&(o=r.alternate.memoizedState.cachePool.pool),u=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(u=r.memoizedState.cachePool.pool),u!==o&&(r.flags|=2048)),i!==e&&i&&(t.child.flags|=8192),ur(t,t.updateQueue),ke(t),null);case 4:return Pe(),e===null&&bu(t.stateNode.containerInfo),ke(t),null;case 10:return bn(t.type),ke(t),null;case 19:if(L(Ze),r=t.memoizedState,r===null)return ke(t),null;if(o=(t.flags&128)!==0,u=r.rendering,u===null)if(o)El(r,!1);else{if(Ye!==0||e!==null&&(e.flags&128)!==0)for(e=t.child;e!==null;){if(u=$s(e),u!==null){for(t.flags|=128,El(r,!1),e=u.updateQueue,t.updateQueue=e,ur(t,e),t.subtreeFlags=0,e=i,i=t.child;i!==null;)yh(i,e),i=i.sibling;return G(Ze,Ze.current&1|2),ye&&_n(t,r.treeForkCount),t.child}e=e.sibling}r.tail!==null&&Mt()>gr&&(t.flags|=128,o=!0,El(r,!1),t.lanes=4194304)}else{if(!o)if(e=$s(u),e!==null){if(t.flags|=128,o=!0,e=e.updateQueue,t.updateQueue=e,ur(t,e),El(r,!0),r.tail===null&&r.tailMode==="hidden"&&!u.alternate&&!ye)return ke(t),null}else 2*Mt()-r.renderingStartTime>gr&&i!==536870912&&(t.flags|=128,o=!0,El(r,!1),t.lanes=4194304);r.isBackwards?(u.sibling=t.child,t.child=u):(e=r.last,e!==null?e.sibling=u:t.child=u,r.last=u)}return r.tail!==null?(e=r.tail,r.rendering=e,r.tail=e.sibling,r.renderingStartTime=Mt(),e.sibling=null,i=Ze.current,G(Ze,o?i&1|2:i&1),ye&&_n(t,r.treeForkCount),e):(ke(t),null);case 22:case 23:return Lt(t),So(),r=t.memoizedState!==null,e!==null?e.memoizedState!==null!==r&&(t.flags|=8192):r&&(t.flags|=8192),r?(i&536870912)!==0&&(t.flags&128)===0&&(ke(t),t.subtreeFlags&6&&(t.flags|=8192)):ke(t),i=t.updateQueue,i!==null&&ur(t,i.retryQueue),i=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(i=e.memoizedState.cachePool.pool),r=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(r=t.memoizedState.cachePool.pool),r!==i&&(t.flags|=2048),e!==null&&L(Mi),null;case 24:return i=null,e!==null&&(i=e.memoizedState.cache),t.memoizedState.cache!==i&&(t.flags|=2048),bn(Fe),ke(t),null;case 25:return null;case 30:return null}throw Error(s(156,t.tag))}function Zv(e,t){switch(lo(t),t.tag){case 1:return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return bn(Fe),Pe(),e=t.flags,(e&65536)!==0&&(e&128)===0?(t.flags=e&-65537|128,t):null;case 26:case 27:case 5:return Ss(t),null;case 31:if(t.memoizedState!==null){if(Lt(t),t.alternate===null)throw Error(s(340));wi()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 13:if(Lt(t),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(s(340));wi()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return L(Ze),null;case 4:return Pe(),null;case 10:return bn(t.type),null;case 22:case 23:return Lt(t),So(),e!==null&&L(Mi),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 24:return bn(Fe),null;case 25:return null;default:return null}}function Vm(e,t){switch(lo(t),t.tag){case 3:bn(Fe),Pe();break;case 26:case 27:case 5:Ss(t);break;case 4:Pe();break;case 31:t.memoizedState!==null&&Lt(t);break;case 13:Lt(t);break;case 19:L(Ze);break;case 10:bn(t.type);break;case 22:case 23:Lt(t),So(),e!==null&&L(Mi);break;case 24:bn(Fe)}}function Cl(e,t){try{var i=t.updateQueue,r=i!==null?i.lastEffect:null;if(r!==null){var o=r.next;i=o;do{if((i.tag&e)===e){r=void 0;var u=i.create,h=i.inst;r=u(),h.destroy=r}i=i.next}while(i!==o)}}catch(_){we(t,t.return,_)}}function $n(e,t,i){try{var r=t.updateQueue,o=r!==null?r.lastEffect:null;if(o!==null){var u=o.next;r=u;do{if((r.tag&e)===e){var h=r.inst,_=h.destroy;if(_!==void 0){h.destroy=void 0,o=t;var x=i,w=_;try{w()}catch(O){we(o,x,O)}}}r=r.next}while(r!==u)}}catch(O){we(t,t.return,O)}}function Qm(e){var t=e.updateQueue;if(t!==null){var i=e.stateNode;try{zh(t,i)}catch(r){we(e,e.return,r)}}}function Xm(e,t,i){i.props=zi(e.type,e.memoizedProps),i.state=e.memoizedState;try{i.componentWillUnmount()}catch(r){we(e,t,r)}}function Tl(e,t){try{var i=e.ref;if(i!==null){switch(e.tag){case 26:case 27:case 5:var r=e.stateNode;break;case 30:r=e.stateNode;break;default:r=e.stateNode}typeof i=="function"?e.refCleanup=i(r):i.current=r}}catch(o){we(e,t,o)}}function un(e,t){var i=e.ref,r=e.refCleanup;if(i!==null)if(typeof r=="function")try{r()}catch(o){we(e,t,o)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof i=="function")try{i(null)}catch(o){we(e,t,o)}else i.current=null}function Pm(e){var t=e.type,i=e.memoizedProps,r=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":i.autoFocus&&r.focus();break e;case"img":i.src?r.src=i.src:i.srcSet&&(r.srcset=i.srcSet)}}catch(o){we(e,e.return,o)}}function Wo(e,t,i){try{var r=e.stateNode;pb(r,e.type,i,t),r[St]=t}catch(o){we(e,e.return,o)}}function Zm(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&ai(e.type)||e.tag===4}function eu(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Zm(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&ai(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function tu(e,t,i){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?(i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i).insertBefore(e,t):(t=i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i,t.appendChild(e),i=i._reactRootContainer,i!=null||t.onclick!==null||(t.onclick=gn));else if(r!==4&&(r===27&&ai(e.type)&&(i=e.stateNode,t=null),e=e.child,e!==null))for(tu(e,t,i),e=e.sibling;e!==null;)tu(e,t,i),e=e.sibling}function fr(e,t,i){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?i.insertBefore(e,t):i.appendChild(e);else if(r!==4&&(r===27&&ai(e.type)&&(i=e.stateNode),e=e.child,e!==null))for(fr(e,t,i),e=e.sibling;e!==null;)fr(e,t,i),e=e.sibling}function Km(e){var t=e.stateNode,i=e.memoizedProps;try{for(var r=e.type,o=t.attributes;o.length;)t.removeAttributeNode(o[0]);ft(t,r,i),t[rt]=e,t[St]=i}catch(u){we(e,e.return,u)}}var Tn=!1,We=!1,nu=!1,Fm=typeof WeakSet=="function"?WeakSet:Set,at=null;function Kv(e,t){if(e=e.containerInfo,Eu=Or,e=ch(e),Zc(e)){if("selectionStart"in e)var i={start:e.selectionStart,end:e.selectionEnd};else e:{i=(i=e.ownerDocument)&&i.defaultView||window;var r=i.getSelection&&i.getSelection();if(r&&r.rangeCount!==0){i=r.anchorNode;var o=r.anchorOffset,u=r.focusNode;r=r.focusOffset;try{i.nodeType,u.nodeType}catch{i=null;break e}var h=0,_=-1,x=-1,w=0,O=0,z=e,A=null;t:for(;;){for(var M;z!==i||o!==0&&z.nodeType!==3||(_=h+o),z!==u||r!==0&&z.nodeType!==3||(x=h+r),z.nodeType===3&&(h+=z.nodeValue.length),(M=z.firstChild)!==null;)A=z,z=M;for(;;){if(z===e)break t;if(A===i&&++w===o&&(_=h),A===u&&++O===r&&(x=h),(M=z.nextSibling)!==null)break;z=A,A=z.parentNode}z=M}i=_===-1||x===-1?null:{start:_,end:x}}else i=null}i=i||{start:0,end:0}}else i=null;for(Cu={focusedElem:e,selectionRange:i},Or=!1,at=t;at!==null;)if(t=at,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,at=e;else for(;at!==null;){switch(t=at,u=t.alternate,e=t.flags,t.tag){case 0:if((e&4)!==0&&(e=t.updateQueue,e=e!==null?e.events:null,e!==null))for(i=0;i<e.length;i++)o=e[i],o.ref.impl=o.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&u!==null){e=void 0,i=t,o=u.memoizedProps,u=u.memoizedState,r=i.stateNode;try{var X=zi(i.type,o);e=r.getSnapshotBeforeUpdate(X,u),r.__reactInternalSnapshotBeforeUpdate=e}catch($){we(i,i.return,$)}}break;case 3:if((e&1024)!==0){if(e=t.stateNode.containerInfo,i=e.nodeType,i===9)wu(e);else if(i===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":wu(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(s(163))}if(e=t.sibling,e!==null){e.return=t.return,at=e;break}at=t.return}}function $m(e,t,i){var r=i.flags;switch(i.tag){case 0:case 11:case 15:wn(e,i),r&4&&Cl(5,i);break;case 1:if(wn(e,i),r&4)if(e=i.stateNode,t===null)try{e.componentDidMount()}catch(h){we(i,i.return,h)}else{var o=zi(i.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(o,t,e.__reactInternalSnapshotBeforeUpdate)}catch(h){we(i,i.return,h)}}r&64&&Qm(i),r&512&&Tl(i,i.return);break;case 3:if(wn(e,i),r&64&&(e=i.updateQueue,e!==null)){if(t=null,i.child!==null)switch(i.child.tag){case 27:case 5:t=i.child.stateNode;break;case 1:t=i.child.stateNode}try{zh(e,t)}catch(h){we(i,i.return,h)}}break;case 27:t===null&&r&4&&Km(i);case 26:case 5:wn(e,i),t===null&&r&4&&Pm(i),r&512&&Tl(i,i.return);break;case 12:wn(e,i);break;case 31:wn(e,i),r&4&&eg(e,i);break;case 13:wn(e,i),r&4&&tg(e,i),r&64&&(e=i.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(i=ab.bind(null,i),Cb(e,i))));break;case 22:if(r=i.memoizedState!==null||Tn,!r){t=t!==null&&t.memoizedState!==null||We,o=Tn;var u=We;Tn=r,(We=t)&&!u?An(e,i,(i.subtreeFlags&8772)!==0):wn(e,i),Tn=o,We=u}break;case 30:break;default:wn(e,i)}}function Jm(e){var t=e.alternate;t!==null&&(e.alternate=null,Jm(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&Dc(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var qe=null,Et=!1;function Nn(e,t,i){for(i=i.child;i!==null;)Wm(e,t,i),i=i.sibling}function Wm(e,t,i){if(Dt&&typeof Dt.onCommitFiberUnmount=="function")try{Dt.onCommitFiberUnmount(Ka,i)}catch{}switch(i.tag){case 26:We||un(i,t),Nn(e,t,i),i.memoizedState?i.memoizedState.count--:i.stateNode&&(i=i.stateNode,i.parentNode.removeChild(i));break;case 27:We||un(i,t);var r=qe,o=Et;ai(i.type)&&(qe=i.stateNode,Et=!1),Nn(e,t,i),Il(i.stateNode),qe=r,Et=o;break;case 5:We||un(i,t);case 6:if(r=qe,o=Et,qe=null,Nn(e,t,i),qe=r,Et=o,qe!==null)if(Et)try{(qe.nodeType===9?qe.body:qe.nodeName==="HTML"?qe.ownerDocument.body:qe).removeChild(i.stateNode)}catch(u){we(i,t,u)}else try{qe.removeChild(i.stateNode)}catch(u){we(i,t,u)}break;case 18:qe!==null&&(Et?(e=qe,Qg(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,i.stateNode),Ma(e)):Qg(qe,i.stateNode));break;case 4:r=qe,o=Et,qe=i.stateNode.containerInfo,Et=!0,Nn(e,t,i),qe=r,Et=o;break;case 0:case 11:case 14:case 15:$n(2,i,t),We||$n(4,i,t),Nn(e,t,i);break;case 1:We||(un(i,t),r=i.stateNode,typeof r.componentWillUnmount=="function"&&Xm(i,t,r)),Nn(e,t,i);break;case 21:Nn(e,t,i);break;case 22:We=(r=We)||i.memoizedState!==null,Nn(e,t,i),We=r;break;default:Nn(e,t,i)}}function eg(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{Ma(e)}catch(i){we(t,t.return,i)}}}function tg(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{Ma(e)}catch(i){we(t,t.return,i)}}function Fv(e){switch(e.tag){case 31:case 13:case 19:var t=e.stateNode;return t===null&&(t=e.stateNode=new Fm),t;case 22:return e=e.stateNode,t=e._retryCache,t===null&&(t=e._retryCache=new Fm),t;default:throw Error(s(435,e.tag))}}function dr(e,t){var i=Fv(e);t.forEach(function(r){if(!i.has(r)){i.add(r);var o=lb.bind(null,e,r);r.then(o,o)}})}function Ct(e,t){var i=t.deletions;if(i!==null)for(var r=0;r<i.length;r++){var o=i[r],u=e,h=t,_=h;e:for(;_!==null;){switch(_.tag){case 27:if(ai(_.type)){qe=_.stateNode,Et=!1;break e}break;case 5:qe=_.stateNode,Et=!1;break e;case 3:case 4:qe=_.stateNode.containerInfo,Et=!0;break e}_=_.return}if(qe===null)throw Error(s(160));Wm(u,h,o),qe=null,Et=!1,u=o.alternate,u!==null&&(u.return=null),o.return=null}if(t.subtreeFlags&13886)for(t=t.child;t!==null;)ng(t,e),t=t.sibling}var tn=null;function ng(e,t){var i=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:Ct(t,e),Tt(e),r&4&&($n(3,e,e.return),Cl(3,e),$n(5,e,e.return));break;case 1:Ct(t,e),Tt(e),r&512&&(We||i===null||un(i,i.return)),r&64&&Tn&&(e=e.updateQueue,e!==null&&(r=e.callbacks,r!==null&&(i=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=i===null?r:i.concat(r))));break;case 26:var o=tn;if(Ct(t,e),Tt(e),r&512&&(We||i===null||un(i,i.return)),r&4){var u=i!==null?i.memoizedState:null;if(r=e.memoizedState,i===null)if(r===null)if(e.stateNode===null){e:{r=e.type,i=e.memoizedProps,o=o.ownerDocument||o;t:switch(r){case"title":u=o.getElementsByTagName("title")[0],(!u||u[Ja]||u[rt]||u.namespaceURI==="http://www.w3.org/2000/svg"||u.hasAttribute("itemprop"))&&(u=o.createElement(r),o.head.insertBefore(u,o.querySelector("head > title"))),ft(u,r,i),u[rt]=e,it(u),r=u;break e;case"link":var h=np("link","href",o).get(r+(i.href||""));if(h){for(var _=0;_<h.length;_++)if(u=h[_],u.getAttribute("href")===(i.href==null||i.href===""?null:i.href)&&u.getAttribute("rel")===(i.rel==null?null:i.rel)&&u.getAttribute("title")===(i.title==null?null:i.title)&&u.getAttribute("crossorigin")===(i.crossOrigin==null?null:i.crossOrigin)){h.splice(_,1);break t}}u=o.createElement(r),ft(u,r,i),o.head.appendChild(u);break;case"meta":if(h=np("meta","content",o).get(r+(i.content||""))){for(_=0;_<h.length;_++)if(u=h[_],u.getAttribute("content")===(i.content==null?null:""+i.content)&&u.getAttribute("name")===(i.name==null?null:i.name)&&u.getAttribute("property")===(i.property==null?null:i.property)&&u.getAttribute("http-equiv")===(i.httpEquiv==null?null:i.httpEquiv)&&u.getAttribute("charset")===(i.charSet==null?null:i.charSet)){h.splice(_,1);break t}}u=o.createElement(r),ft(u,r,i),o.head.appendChild(u);break;default:throw Error(s(468,r))}u[rt]=e,it(u),r=u}e.stateNode=r}else ip(o,e.type,e.stateNode);else e.stateNode=tp(o,r,e.memoizedProps);else u!==r?(u===null?i.stateNode!==null&&(i=i.stateNode,i.parentNode.removeChild(i)):u.count--,r===null?ip(o,e.type,e.stateNode):tp(o,r,e.memoizedProps)):r===null&&e.stateNode!==null&&Wo(e,e.memoizedProps,i.memoizedProps)}break;case 27:Ct(t,e),Tt(e),r&512&&(We||i===null||un(i,i.return)),i!==null&&r&4&&Wo(e,e.memoizedProps,i.memoizedProps);break;case 5:if(Ct(t,e),Tt(e),r&512&&(We||i===null||un(i,i.return)),e.flags&32){o=e.stateNode;try{Wi(o,"")}catch(X){we(e,e.return,X)}}r&4&&e.stateNode!=null&&(o=e.memoizedProps,Wo(e,o,i!==null?i.memoizedProps:o)),r&1024&&(nu=!0);break;case 6:if(Ct(t,e),Tt(e),r&4){if(e.stateNode===null)throw Error(s(162));r=e.memoizedProps,i=e.stateNode;try{i.nodeValue=r}catch(X){we(e,e.return,X)}}break;case 3:if(Ar=null,o=tn,tn=Nr(t.containerInfo),Ct(t,e),tn=o,Tt(e),r&4&&i!==null&&i.memoizedState.isDehydrated)try{Ma(t.containerInfo)}catch(X){we(e,e.return,X)}nu&&(nu=!1,ig(e));break;case 4:r=tn,tn=Nr(e.stateNode.containerInfo),Ct(t,e),Tt(e),tn=r;break;case 12:Ct(t,e),Tt(e);break;case 31:Ct(t,e),Tt(e),r&4&&(r=e.updateQueue,r!==null&&(e.updateQueue=null,dr(e,r)));break;case 13:Ct(t,e),Tt(e),e.child.flags&8192&&e.memoizedState!==null!=(i!==null&&i.memoizedState!==null)&&(mr=Mt()),r&4&&(r=e.updateQueue,r!==null&&(e.updateQueue=null,dr(e,r)));break;case 22:o=e.memoizedState!==null;var x=i!==null&&i.memoizedState!==null,w=Tn,O=We;if(Tn=w||o,We=O||x,Ct(t,e),We=O,Tn=w,Tt(e),r&8192)e:for(t=e.stateNode,t._visibility=o?t._visibility&-2:t._visibility|1,o&&(i===null||x||Tn||We||Li(e)),i=null,t=e;;){if(t.tag===5||t.tag===26){if(i===null){x=i=t;try{if(u=x.stateNode,o)h=u.style,typeof h.setProperty=="function"?h.setProperty("display","none","important"):h.display="none";else{_=x.stateNode;var z=x.memoizedProps.style,A=z!=null&&z.hasOwnProperty("display")?z.display:null;_.style.display=A==null||typeof A=="boolean"?"":(""+A).trim()}}catch(X){we(x,x.return,X)}}}else if(t.tag===6){if(i===null){x=t;try{x.stateNode.nodeValue=o?"":x.memoizedProps}catch(X){we(x,x.return,X)}}}else if(t.tag===18){if(i===null){x=t;try{var M=x.stateNode;o?Xg(M,!0):Xg(x.stateNode,!1)}catch(X){we(x,x.return,X)}}}else if((t.tag!==22&&t.tag!==23||t.memoizedState===null||t===e)&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;i===t&&(i=null),t=t.return}i===t&&(i=null),t.sibling.return=t.return,t=t.sibling}r&4&&(r=e.updateQueue,r!==null&&(i=r.retryQueue,i!==null&&(r.retryQueue=null,dr(e,i))));break;case 19:Ct(t,e),Tt(e),r&4&&(r=e.updateQueue,r!==null&&(e.updateQueue=null,dr(e,r)));break;case 30:break;case 21:break;default:Ct(t,e),Tt(e)}}function Tt(e){var t=e.flags;if(t&2){try{for(var i,r=e.return;r!==null;){if(Zm(r)){i=r;break}r=r.return}if(i==null)throw Error(s(160));switch(i.tag){case 27:var o=i.stateNode,u=eu(e);fr(e,u,o);break;case 5:var h=i.stateNode;i.flags&32&&(Wi(h,""),i.flags&=-33);var _=eu(e);fr(e,_,h);break;case 3:case 4:var x=i.stateNode.containerInfo,w=eu(e);tu(e,w,x);break;default:throw Error(s(161))}}catch(O){we(e,e.return,O)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function ig(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var t=e;ig(t),t.tag===5&&t.flags&1024&&t.stateNode.reset(),e=e.sibling}}function wn(e,t){if(t.subtreeFlags&8772)for(t=t.child;t!==null;)$m(e,t.alternate,t),t=t.sibling}function Li(e){for(e=e.child;e!==null;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:$n(4,t,t.return),Li(t);break;case 1:un(t,t.return);var i=t.stateNode;typeof i.componentWillUnmount=="function"&&Xm(t,t.return,i),Li(t);break;case 27:Il(t.stateNode);case 26:case 5:un(t,t.return),Li(t);break;case 22:t.memoizedState===null&&Li(t);break;case 30:Li(t);break;default:Li(t)}e=e.sibling}}function An(e,t,i){for(i=i&&(t.subtreeFlags&8772)!==0,t=t.child;t!==null;){var r=t.alternate,o=e,u=t,h=u.flags;switch(u.tag){case 0:case 11:case 15:An(o,u,i),Cl(4,u);break;case 1:if(An(o,u,i),r=u,o=r.stateNode,typeof o.componentDidMount=="function")try{o.componentDidMount()}catch(w){we(r,r.return,w)}if(r=u,o=r.updateQueue,o!==null){var _=r.stateNode;try{var x=o.shared.hiddenCallbacks;if(x!==null)for(o.shared.hiddenCallbacks=null,o=0;o<x.length;o++)Ih(x[o],_)}catch(w){we(r,r.return,w)}}i&&h&64&&Qm(u),Tl(u,u.return);break;case 27:Km(u);case 26:case 5:An(o,u,i),i&&r===null&&h&4&&Pm(u),Tl(u,u.return);break;case 12:An(o,u,i);break;case 31:An(o,u,i),i&&h&4&&eg(o,u);break;case 13:An(o,u,i),i&&h&4&&tg(o,u);break;case 22:u.memoizedState===null&&An(o,u,i),Tl(u,u.return);break;case 30:break;default:An(o,u,i)}t=t.sibling}}function iu(e,t){var i=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(i=e.memoizedState.cachePool.pool),e=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(e=t.memoizedState.cachePool.pool),e!==i&&(e!=null&&e.refCount++,i!=null&&fl(i))}function au(e,t){e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&fl(e))}function nn(e,t,i,r){if(t.subtreeFlags&10256)for(t=t.child;t!==null;)ag(e,t,i,r),t=t.sibling}function ag(e,t,i,r){var o=t.flags;switch(t.tag){case 0:case 11:case 15:nn(e,t,i,r),o&2048&&Cl(9,t);break;case 1:nn(e,t,i,r);break;case 3:nn(e,t,i,r),o&2048&&(e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&fl(e)));break;case 12:if(o&2048){nn(e,t,i,r),e=t.stateNode;try{var u=t.memoizedProps,h=u.id,_=u.onPostCommit;typeof _=="function"&&_(h,t.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(x){we(t,t.return,x)}}else nn(e,t,i,r);break;case 31:nn(e,t,i,r);break;case 13:nn(e,t,i,r);break;case 23:break;case 22:u=t.stateNode,h=t.alternate,t.memoizedState!==null?u._visibility&2?nn(e,t,i,r):Nl(e,t):u._visibility&2?nn(e,t,i,r):(u._visibility|=2,va(e,t,i,r,(t.subtreeFlags&10256)!==0||!1)),o&2048&&iu(h,t);break;case 24:nn(e,t,i,r),o&2048&&au(t.alternate,t);break;default:nn(e,t,i,r)}}function va(e,t,i,r,o){for(o=o&&((t.subtreeFlags&10256)!==0||!1),t=t.child;t!==null;){var u=e,h=t,_=i,x=r,w=h.flags;switch(h.tag){case 0:case 11:case 15:va(u,h,_,x,o),Cl(8,h);break;case 23:break;case 22:var O=h.stateNode;h.memoizedState!==null?O._visibility&2?va(u,h,_,x,o):Nl(u,h):(O._visibility|=2,va(u,h,_,x,o)),o&&w&2048&&iu(h.alternate,h);break;case 24:va(u,h,_,x,o),o&&w&2048&&au(h.alternate,h);break;default:va(u,h,_,x,o)}t=t.sibling}}function Nl(e,t){if(t.subtreeFlags&10256)for(t=t.child;t!==null;){var i=e,r=t,o=r.flags;switch(r.tag){case 22:Nl(i,r),o&2048&&iu(r.alternate,r);break;case 24:Nl(i,r),o&2048&&au(r.alternate,r);break;default:Nl(i,r)}t=t.sibling}}var wl=8192;function ba(e,t,i){if(e.subtreeFlags&wl)for(e=e.child;e!==null;)lg(e,t,i),e=e.sibling}function lg(e,t,i){switch(e.tag){case 26:ba(e,t,i),e.flags&wl&&e.memoizedState!==null&&Lb(i,tn,e.memoizedState,e.memoizedProps);break;case 5:ba(e,t,i);break;case 3:case 4:var r=tn;tn=Nr(e.stateNode.containerInfo),ba(e,t,i),tn=r;break;case 22:e.memoizedState===null&&(r=e.alternate,r!==null&&r.memoizedState!==null?(r=wl,wl=16777216,ba(e,t,i),wl=r):ba(e,t,i));break;default:ba(e,t,i)}}function sg(e){var t=e.alternate;if(t!==null&&(e=t.child,e!==null)){t.child=null;do t=e.sibling,e.sibling=null,e=t;while(e!==null)}}function Al(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var i=0;i<t.length;i++){var r=t[i];at=r,cg(r,e)}sg(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)rg(e),e=e.sibling}function rg(e){switch(e.tag){case 0:case 11:case 15:Al(e),e.flags&2048&&$n(9,e,e.return);break;case 3:Al(e);break;case 12:Al(e);break;case 22:var t=e.stateNode;e.memoizedState!==null&&t._visibility&2&&(e.return===null||e.return.tag!==13)?(t._visibility&=-3,hr(e)):Al(e);break;default:Al(e)}}function hr(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var i=0;i<t.length;i++){var r=t[i];at=r,cg(r,e)}sg(e)}for(e=e.child;e!==null;){switch(t=e,t.tag){case 0:case 11:case 15:$n(8,t,t.return),hr(t);break;case 22:i=t.stateNode,i._visibility&2&&(i._visibility&=-3,hr(t));break;default:hr(t)}e=e.sibling}}function cg(e,t){for(;at!==null;){var i=at;switch(i.tag){case 0:case 11:case 15:$n(8,i,t);break;case 23:case 22:if(i.memoizedState!==null&&i.memoizedState.cachePool!==null){var r=i.memoizedState.cachePool.pool;r!=null&&r.refCount++}break;case 24:fl(i.memoizedState.cache)}if(r=i.child,r!==null)r.return=i,at=r;else e:for(i=e;at!==null;){r=at;var o=r.sibling,u=r.return;if(Jm(r),r===i){at=null;break e}if(o!==null){o.return=u,at=o;break e}at=u}}}var $v={getCacheForType:function(e){var t=ot(Fe),i=t.data.get(e);return i===void 0&&(i=e(),t.data.set(e,i)),i},cacheSignal:function(){return ot(Fe).controller.signal}},Jv=typeof WeakMap=="function"?WeakMap:Map,xe=0,ze=null,de=null,ge=0,Ne=0,Ut=null,Jn=!1,Sa=!1,lu=!1,Rn=0,Ye=0,Wn=0,Ui=0,su=0,Ht=0,xa=0,Rl=null,Nt=null,ru=!1,mr=0,og=0,gr=1/0,pr=null,ei=null,et=0,ti=null,Ea=null,Mn=0,cu=0,ou=null,ug=null,Ml=0,uu=null;function Bt(){return(xe&2)!==0&&ge!==0?ge&-ge:D.T!==null?pu():Nd()}function fg(){if(Ht===0)if((ge&536870912)===0||ye){var e=Cs;Cs<<=1,(Cs&3932160)===0&&(Cs=262144),Ht=e}else Ht=536870912;return e=zt.current,e!==null&&(e.flags|=32),Ht}function wt(e,t,i){(e===ze&&(Ne===2||Ne===9)||e.cancelPendingCommit!==null)&&(Ca(e,0),ni(e,ge,Ht,!1)),$a(e,i),((xe&2)===0||e!==ze)&&(e===ze&&((xe&2)===0&&(Ui|=i),Ye===4&&ni(e,ge,Ht,!1)),fn(e))}function dg(e,t,i){if((xe&6)!==0)throw Error(s(327));var r=!i&&(t&127)===0&&(t&e.expiredLanes)===0||Fa(e,t),o=r?tb(e,t):du(e,t,!0),u=r;do{if(o===0){Sa&&!r&&ni(e,t,0,!1);break}else{if(i=e.current.alternate,u&&!Wv(i)){o=du(e,t,!1),u=!1;continue}if(o===2){if(u=t,e.errorRecoveryDisabledLanes&u)var h=0;else h=e.pendingLanes&-536870913,h=h!==0?h:h&536870912?536870912:0;if(h!==0){t=h;e:{var _=e;o=Rl;var x=_.current.memoizedState.isDehydrated;if(x&&(Ca(_,h).flags|=256),h=du(_,h,!1),h!==2){if(lu&&!x){_.errorRecoveryDisabledLanes|=u,Ui|=u,o=4;break e}u=Nt,Nt=o,u!==null&&(Nt===null?Nt=u:Nt.push.apply(Nt,u))}o=h}if(u=!1,o!==2)continue}}if(o===1){Ca(e,0),ni(e,t,0,!0);break}e:{switch(r=e,u=o,u){case 0:case 1:throw Error(s(345));case 4:if((t&4194048)!==t)break;case 6:ni(r,t,Ht,!Jn);break e;case 2:Nt=null;break;case 3:case 5:break;default:throw Error(s(329))}if((t&62914560)===t&&(o=mr+300-Mt(),10<o)){if(ni(r,t,Ht,!Jn),Ns(r,0,!0)!==0)break e;Mn=t,r.timeoutHandle=Yg(hg.bind(null,r,i,Nt,pr,ru,t,Ht,Ui,xa,Jn,u,"Throttled",-0,0),o);break e}hg(r,i,Nt,pr,ru,t,Ht,Ui,xa,Jn,u,null,-0,0)}}break}while(!0);fn(e)}function hg(e,t,i,r,o,u,h,_,x,w,O,z,A,M){if(e.timeoutHandle=-1,z=t.subtreeFlags,z&8192||(z&16785408)===16785408){z={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:gn},lg(t,u,z);var X=(u&62914560)===u?mr-Mt():(u&4194048)===u?og-Mt():0;if(X=Ub(z,X),X!==null){Mn=u,e.cancelPendingCommit=X(Sg.bind(null,e,t,u,i,r,o,h,_,x,O,z,null,A,M)),ni(e,u,h,!w);return}}Sg(e,t,u,i,r,o,h,_,x)}function Wv(e){for(var t=e;;){var i=t.tag;if((i===0||i===11||i===15)&&t.flags&16384&&(i=t.updateQueue,i!==null&&(i=i.stores,i!==null)))for(var r=0;r<i.length;r++){var o=i[r],u=o.getSnapshot;o=o.value;try{if(!jt(u(),o))return!1}catch{return!1}}if(i=t.child,t.subtreeFlags&16384&&i!==null)i.return=t,t=i;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function ni(e,t,i,r){t&=~su,t&=~Ui,e.suspendedLanes|=t,e.pingedLanes&=~t,r&&(e.warmLanes|=t),r=e.expirationTimes;for(var o=t;0<o;){var u=31-Ot(o),h=1<<u;r[u]=-1,o&=~h}i!==0&&Ed(e,i,t)}function yr(){return(xe&6)===0?(Dl(0),!1):!0}function fu(){if(de!==null){if(Ne===0)var e=de.return;else e=de,vn=Ai=null,wo(e),ma=null,hl=0,e=de;for(;e!==null;)Vm(e.alternate,e),e=e.return;de=null}}function Ca(e,t){var i=e.timeoutHandle;i!==-1&&(e.timeoutHandle=-1,vb(i)),i=e.cancelPendingCommit,i!==null&&(e.cancelPendingCommit=null,i()),Mn=0,fu(),ze=e,de=i=yn(e.current,null),ge=t,Ne=0,Ut=null,Jn=!1,Sa=Fa(e,t),lu=!1,xa=Ht=su=Ui=Wn=Ye=0,Nt=Rl=null,ru=!1,(t&8)!==0&&(t|=t&32);var r=e.entangledLanes;if(r!==0)for(e=e.entanglements,r&=t;0<r;){var o=31-Ot(r),u=1<<o;t|=e[o],r&=~u}return Rn=t,Hs(),i}function mg(e,t){se=null,D.H=Sl,t===ha||t===Xs?(t=Mh(),Ne=3):t===go?(t=Mh(),Ne=4):Ne=t===Yo?8:t!==null&&typeof t=="object"&&typeof t.then=="function"?6:1,Ut=t,de===null&&(Ye=1,sr(e,Qt(t,e.current)))}function gg(){var e=zt.current;return e===null?!0:(ge&4194048)===ge?Kt===null:(ge&62914560)===ge||(ge&536870912)!==0?e===Kt:!1}function pg(){var e=D.H;return D.H=Sl,e===null?Sl:e}function yg(){var e=D.A;return D.A=$v,e}function _r(){Ye=4,Jn||(ge&4194048)!==ge&&zt.current!==null||(Sa=!0),(Wn&134217727)===0&&(Ui&134217727)===0||ze===null||ni(ze,ge,Ht,!1)}function du(e,t,i){var r=xe;xe|=2;var o=pg(),u=yg();(ze!==e||ge!==t)&&(pr=null,Ca(e,t)),t=!1;var h=Ye;e:do try{if(Ne!==0&&de!==null){var _=de,x=Ut;switch(Ne){case 8:fu(),h=6;break e;case 3:case 2:case 9:case 6:zt.current===null&&(t=!0);var w=Ne;if(Ne=0,Ut=null,Ta(e,_,x,w),i&&Sa){h=0;break e}break;default:w=Ne,Ne=0,Ut=null,Ta(e,_,x,w)}}eb(),h=Ye;break}catch(O){mg(e,O)}while(!0);return t&&e.shellSuspendCounter++,vn=Ai=null,xe=r,D.H=o,D.A=u,de===null&&(ze=null,ge=0,Hs()),h}function eb(){for(;de!==null;)_g(de)}function tb(e,t){var i=xe;xe|=2;var r=pg(),o=yg();ze!==e||ge!==t?(pr=null,gr=Mt()+500,Ca(e,t)):Sa=Fa(e,t);e:do try{if(Ne!==0&&de!==null){t=de;var u=Ut;t:switch(Ne){case 1:Ne=0,Ut=null,Ta(e,t,u,1);break;case 2:case 9:if(Ah(u)){Ne=0,Ut=null,vg(t);break}t=function(){Ne!==2&&Ne!==9||ze!==e||(Ne=7),fn(e)},u.then(t,t);break e;case 3:Ne=7;break e;case 4:Ne=5;break e;case 7:Ah(u)?(Ne=0,Ut=null,vg(t)):(Ne=0,Ut=null,Ta(e,t,u,7));break;case 5:var h=null;switch(de.tag){case 26:h=de.memoizedState;case 5:case 27:var _=de;if(h?ap(h):_.stateNode.complete){Ne=0,Ut=null;var x=_.sibling;if(x!==null)de=x;else{var w=_.return;w!==null?(de=w,vr(w)):de=null}break t}}Ne=0,Ut=null,Ta(e,t,u,5);break;case 6:Ne=0,Ut=null,Ta(e,t,u,6);break;case 8:fu(),Ye=6;break e;default:throw Error(s(462))}}nb();break}catch(O){mg(e,O)}while(!0);return vn=Ai=null,D.H=r,D.A=o,xe=i,de!==null?0:(ze=null,ge=0,Hs(),Ye)}function nb(){for(;de!==null&&!T0();)_g(de)}function _g(e){var t=Gm(e.alternate,e,Rn);e.memoizedProps=e.pendingProps,t===null?vr(e):de=t}function vg(e){var t=e,i=t.alternate;switch(t.tag){case 15:case 0:t=Lm(i,t,t.pendingProps,t.type,void 0,ge);break;case 11:t=Lm(i,t,t.pendingProps,t.type.render,t.ref,ge);break;case 5:wo(t);default:Vm(i,t),t=de=yh(t,Rn),t=Gm(i,t,Rn)}e.memoizedProps=e.pendingProps,t===null?vr(e):de=t}function Ta(e,t,i,r){vn=Ai=null,wo(t),ma=null,hl=0;var o=t.return;try{if(Vv(e,o,t,i,ge)){Ye=1,sr(e,Qt(i,e.current)),de=null;return}}catch(u){if(o!==null)throw de=o,u;Ye=1,sr(e,Qt(i,e.current)),de=null;return}t.flags&32768?(ye||r===1?e=!0:Sa||(ge&536870912)!==0?e=!1:(Jn=e=!0,(r===2||r===9||r===3||r===6)&&(r=zt.current,r!==null&&r.tag===13&&(r.flags|=16384))),bg(t,e)):vr(t)}function vr(e){var t=e;do{if((t.flags&32768)!==0){bg(t,Jn);return}e=t.return;var i=Pv(t.alternate,t,Rn);if(i!==null){de=i;return}if(t=t.sibling,t!==null){de=t;return}de=t=e}while(t!==null);Ye===0&&(Ye=5)}function bg(e,t){do{var i=Zv(e.alternate,e);if(i!==null){i.flags&=32767,de=i;return}if(i=e.return,i!==null&&(i.flags|=32768,i.subtreeFlags=0,i.deletions=null),!t&&(e=e.sibling,e!==null)){de=e;return}de=e=i}while(e!==null);Ye=6,de=null}function Sg(e,t,i,r,o,u,h,_,x){e.cancelPendingCommit=null;do br();while(et!==0);if((xe&6)!==0)throw Error(s(327));if(t!==null){if(t===e.current)throw Error(s(177));if(u=t.lanes|t.childLanes,u|=Wc,z0(e,i,u,h,_,x),e===ze&&(de=ze=null,ge=0),Ea=t,ti=e,Mn=i,cu=u,ou=o,ug=r,(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,sb(xs,function(){return Ng(),null})):(e.callbackNode=null,e.callbackPriority=0),r=(t.flags&13878)!==0,(t.subtreeFlags&13878)!==0||r){r=D.T,D.T=null,o=q.p,q.p=2,h=xe,xe|=4;try{Kv(e,t,i)}finally{xe=h,q.p=o,D.T=r}}et=1,xg(),Eg(),Cg()}}function xg(){if(et===1){et=0;var e=ti,t=Ea,i=(t.flags&13878)!==0;if((t.subtreeFlags&13878)!==0||i){i=D.T,D.T=null;var r=q.p;q.p=2;var o=xe;xe|=4;try{ng(t,e);var u=Cu,h=ch(e.containerInfo),_=u.focusedElem,x=u.selectionRange;if(h!==_&&_&&_.ownerDocument&&rh(_.ownerDocument.documentElement,_)){if(x!==null&&Zc(_)){var w=x.start,O=x.end;if(O===void 0&&(O=w),"selectionStart"in _)_.selectionStart=w,_.selectionEnd=Math.min(O,_.value.length);else{var z=_.ownerDocument||document,A=z&&z.defaultView||window;if(A.getSelection){var M=A.getSelection(),X=_.textContent.length,$=Math.min(x.start,X),De=x.end===void 0?$:Math.min(x.end,X);!M.extend&&$>De&&(h=De,De=$,$=h);var T=sh(_,$),E=sh(_,De);if(T&&E&&(M.rangeCount!==1||M.anchorNode!==T.node||M.anchorOffset!==T.offset||M.focusNode!==E.node||M.focusOffset!==E.offset)){var N=z.createRange();N.setStart(T.node,T.offset),M.removeAllRanges(),$>De?(M.addRange(N),M.extend(E.node,E.offset)):(N.setEnd(E.node,E.offset),M.addRange(N))}}}}for(z=[],M=_;M=M.parentNode;)M.nodeType===1&&z.push({element:M,left:M.scrollLeft,top:M.scrollTop});for(typeof _.focus=="function"&&_.focus(),_=0;_<z.length;_++){var j=z[_];j.element.scrollLeft=j.left,j.element.scrollTop=j.top}}Or=!!Eu,Cu=Eu=null}finally{xe=o,q.p=r,D.T=i}}e.current=t,et=2}}function Eg(){if(et===2){et=0;var e=ti,t=Ea,i=(t.flags&8772)!==0;if((t.subtreeFlags&8772)!==0||i){i=D.T,D.T=null;var r=q.p;q.p=2;var o=xe;xe|=4;try{$m(e,t.alternate,t)}finally{xe=o,q.p=r,D.T=i}}et=3}}function Cg(){if(et===4||et===3){et=0,N0();var e=ti,t=Ea,i=Mn,r=ug;(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?et=5:(et=0,Ea=ti=null,Tg(e,e.pendingLanes));var o=e.pendingLanes;if(o===0&&(ei=null),Rc(i),t=t.stateNode,Dt&&typeof Dt.onCommitFiberRoot=="function")try{Dt.onCommitFiberRoot(Ka,t,void 0,(t.current.flags&128)===128)}catch{}if(r!==null){t=D.T,o=q.p,q.p=2,D.T=null;try{for(var u=e.onRecoverableError,h=0;h<r.length;h++){var _=r[h];u(_.value,{componentStack:_.stack})}}finally{D.T=t,q.p=o}}(Mn&3)!==0&&br(),fn(e),o=e.pendingLanes,(i&261930)!==0&&(o&42)!==0?e===uu?Ml++:(Ml=0,uu=e):Ml=0,Dl(0)}}function Tg(e,t){(e.pooledCacheLanes&=t)===0&&(t=e.pooledCache,t!=null&&(e.pooledCache=null,fl(t)))}function br(){return xg(),Eg(),Cg(),Ng()}function Ng(){if(et!==5)return!1;var e=ti,t=cu;cu=0;var i=Rc(Mn),r=D.T,o=q.p;try{q.p=32>i?32:i,D.T=null,i=ou,ou=null;var u=ti,h=Mn;if(et=0,Ea=ti=null,Mn=0,(xe&6)!==0)throw Error(s(331));var _=xe;if(xe|=4,rg(u.current),ag(u,u.current,h,i),xe=_,Dl(0,!1),Dt&&typeof Dt.onPostCommitFiberRoot=="function")try{Dt.onPostCommitFiberRoot(Ka,u)}catch{}return!0}finally{q.p=o,D.T=r,Tg(e,t)}}function wg(e,t,i){t=Qt(i,t),t=Go(e.stateNode,t,2),e=Zn(e,t,2),e!==null&&($a(e,2),fn(e))}function we(e,t,i){if(e.tag===3)wg(e,e,i);else for(;t!==null;){if(t.tag===3){wg(t,e,i);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(ei===null||!ei.has(r))){e=Qt(i,e),i=Am(2),r=Zn(t,i,2),r!==null&&(Rm(i,r,t,e),$a(r,2),fn(r));break}}t=t.return}}function hu(e,t,i){var r=e.pingCache;if(r===null){r=e.pingCache=new Jv;var o=new Set;r.set(t,o)}else o=r.get(t),o===void 0&&(o=new Set,r.set(t,o));o.has(i)||(lu=!0,o.add(i),e=ib.bind(null,e,t,i),t.then(e,e))}function ib(e,t,i){var r=e.pingCache;r!==null&&r.delete(t),e.pingedLanes|=e.suspendedLanes&i,e.warmLanes&=~i,ze===e&&(ge&i)===i&&(Ye===4||Ye===3&&(ge&62914560)===ge&&300>Mt()-mr?(xe&2)===0&&Ca(e,0):su|=i,xa===ge&&(xa=0)),fn(e)}function Ag(e,t){t===0&&(t=xd()),e=Ti(e,t),e!==null&&($a(e,t),fn(e))}function ab(e){var t=e.memoizedState,i=0;t!==null&&(i=t.retryLane),Ag(e,i)}function lb(e,t){var i=0;switch(e.tag){case 31:case 13:var r=e.stateNode,o=e.memoizedState;o!==null&&(i=o.retryLane);break;case 19:r=e.stateNode;break;case 22:r=e.stateNode._retryCache;break;default:throw Error(s(314))}r!==null&&r.delete(t),Ag(e,i)}function sb(e,t){return Tc(e,t)}var Sr=null,Na=null,mu=!1,xr=!1,gu=!1,ii=0;function fn(e){e!==Na&&e.next===null&&(Na===null?Sr=Na=e:Na=Na.next=e),xr=!0,mu||(mu=!0,cb())}function Dl(e,t){if(!gu&&xr){gu=!0;do for(var i=!1,r=Sr;r!==null;){if(e!==0){var o=r.pendingLanes;if(o===0)var u=0;else{var h=r.suspendedLanes,_=r.pingedLanes;u=(1<<31-Ot(42|e)+1)-1,u&=o&~(h&~_),u=u&201326741?u&201326741|1:u?u|2:0}u!==0&&(i=!0,Og(r,u))}else u=ge,u=Ns(r,r===ze?u:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),(u&3)===0||Fa(r,u)||(i=!0,Og(r,u));r=r.next}while(i);gu=!1}}function rb(){Rg()}function Rg(){xr=mu=!1;var e=0;ii!==0&&_b()&&(e=ii);for(var t=Mt(),i=null,r=Sr;r!==null;){var o=r.next,u=Mg(r,t);u===0?(r.next=null,i===null?Sr=o:i.next=o,o===null&&(Na=i)):(i=r,(e!==0||(u&3)!==0)&&(xr=!0)),r=o}et!==0&&et!==5||Dl(e),ii!==0&&(ii=0)}function Mg(e,t){for(var i=e.suspendedLanes,r=e.pingedLanes,o=e.expirationTimes,u=e.pendingLanes&-62914561;0<u;){var h=31-Ot(u),_=1<<h,x=o[h];x===-1?((_&i)===0||(_&r)!==0)&&(o[h]=I0(_,t)):x<=t&&(e.expiredLanes|=_),u&=~_}if(t=ze,i=ge,i=Ns(e,e===t?i:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),r=e.callbackNode,i===0||e===t&&(Ne===2||Ne===9)||e.cancelPendingCommit!==null)return r!==null&&r!==null&&Nc(r),e.callbackNode=null,e.callbackPriority=0;if((i&3)===0||Fa(e,i)){if(t=i&-i,t===e.callbackPriority)return t;switch(r!==null&&Nc(r),Rc(i)){case 2:case 8:i=bd;break;case 32:i=xs;break;case 268435456:i=Sd;break;default:i=xs}return r=Dg.bind(null,e),i=Tc(i,r),e.callbackPriority=t,e.callbackNode=i,t}return r!==null&&r!==null&&Nc(r),e.callbackPriority=2,e.callbackNode=null,2}function Dg(e,t){if(et!==0&&et!==5)return e.callbackNode=null,e.callbackPriority=0,null;var i=e.callbackNode;if(br()&&e.callbackNode!==i)return null;var r=ge;return r=Ns(e,e===ze?r:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),r===0?null:(dg(e,r,t),Mg(e,Mt()),e.callbackNode!=null&&e.callbackNode===i?Dg.bind(null,e):null)}function Og(e,t){if(br())return null;dg(e,t,!0)}function cb(){bb(function(){(xe&6)!==0?Tc(vd,rb):Rg()})}function pu(){if(ii===0){var e=fa;e===0&&(e=Es,Es<<=1,(Es&261888)===0&&(Es=256)),ii=e}return ii}function jg(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:Ms(""+e)}function Ig(e,t){var i=t.ownerDocument.createElement("input");return i.name=t.name,i.value=t.value,e.id&&i.setAttribute("form",e.id),t.parentNode.insertBefore(i,t),e=new FormData(e),i.parentNode.removeChild(i),e}function ob(e,t,i,r,o){if(t==="submit"&&i&&i.stateNode===o){var u=jg((o[St]||null).action),h=r.submitter;h&&(t=(t=h[St]||null)?jg(t.formAction):h.getAttribute("formAction"),t!==null&&(u=t,h=null));var _=new Is("action","action",null,r,o);e.push({event:_,listeners:[{instance:null,listener:function(){if(r.defaultPrevented){if(ii!==0){var x=h?Ig(o,h):new FormData(o);Lo(i,{pending:!0,data:x,method:o.method,action:u},null,x)}}else typeof u=="function"&&(_.preventDefault(),x=h?Ig(o,h):new FormData(o),Lo(i,{pending:!0,data:x,method:o.method,action:u},u,x))},currentTarget:o}]})}}for(var yu=0;yu<Jc.length;yu++){var _u=Jc[yu],ub=_u.toLowerCase(),fb=_u[0].toUpperCase()+_u.slice(1);en(ub,"on"+fb)}en(fh,"onAnimationEnd"),en(dh,"onAnimationIteration"),en(hh,"onAnimationStart"),en("dblclick","onDoubleClick"),en("focusin","onFocus"),en("focusout","onBlur"),en(wv,"onTransitionRun"),en(Av,"onTransitionStart"),en(Rv,"onTransitionCancel"),en(mh,"onTransitionEnd"),$i("onMouseEnter",["mouseout","mouseover"]),$i("onMouseLeave",["mouseout","mouseover"]),$i("onPointerEnter",["pointerout","pointerover"]),$i("onPointerLeave",["pointerout","pointerover"]),Si("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Si("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Si("onBeforeInput",["compositionend","keypress","textInput","paste"]),Si("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Si("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Si("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ol="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),db=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Ol));function zg(e,t){t=(t&4)!==0;for(var i=0;i<e.length;i++){var r=e[i],o=r.event;r=r.listeners;e:{var u=void 0;if(t)for(var h=r.length-1;0<=h;h--){var _=r[h],x=_.instance,w=_.currentTarget;if(_=_.listener,x!==u&&o.isPropagationStopped())break e;u=_,o.currentTarget=w;try{u(o)}catch(O){Us(O)}o.currentTarget=null,u=x}else for(h=0;h<r.length;h++){if(_=r[h],x=_.instance,w=_.currentTarget,_=_.listener,x!==u&&o.isPropagationStopped())break e;u=_,o.currentTarget=w;try{u(o)}catch(O){Us(O)}o.currentTarget=null,u=x}}}}function he(e,t){var i=t[Mc];i===void 0&&(i=t[Mc]=new Set);var r=e+"__bubble";i.has(r)||(Lg(t,e,2,!1),i.add(r))}function vu(e,t,i){var r=0;t&&(r|=4),Lg(i,e,r,t)}var Er="_reactListening"+Math.random().toString(36).slice(2);function bu(e){if(!e[Er]){e[Er]=!0,Rd.forEach(function(i){i!=="selectionchange"&&(db.has(i)||vu(i,!1,e),vu(i,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Er]||(t[Er]=!0,vu("selectionchange",!1,t))}}function Lg(e,t,i,r){switch(fp(t)){case 2:var o=kb;break;case 8:o=qb;break;default:o=zu}i=o.bind(null,t,i,e),o=void 0,!Bc||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(o=!0),r?o!==void 0?e.addEventListener(t,i,{capture:!0,passive:o}):e.addEventListener(t,i,!0):o!==void 0?e.addEventListener(t,i,{passive:o}):e.addEventListener(t,i,!1)}function Su(e,t,i,r,o){var u=r;if((t&1)===0&&(t&2)===0&&r!==null)e:for(;;){if(r===null)return;var h=r.tag;if(h===3||h===4){var _=r.stateNode.containerInfo;if(_===o)break;if(h===4)for(h=r.return;h!==null;){var x=h.tag;if((x===3||x===4)&&h.stateNode.containerInfo===o)return;h=h.return}for(;_!==null;){if(h=Zi(_),h===null)return;if(x=h.tag,x===5||x===6||x===26||x===27){r=u=h;continue e}_=_.parentNode}}r=r.return}qd(function(){var w=u,O=Uc(i),z=[];e:{var A=gh.get(e);if(A!==void 0){var M=Is,X=e;switch(e){case"keypress":if(Os(i)===0)break e;case"keydown":case"keyup":M=lv;break;case"focusin":X="focus",M=Yc;break;case"focusout":X="blur",M=Yc;break;case"beforeblur":case"afterblur":M=Yc;break;case"click":if(i.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":M=Vd;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":M=P0;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":M=cv;break;case fh:case dh:case hh:M=F0;break;case mh:M=uv;break;case"scroll":case"scrollend":M=Q0;break;case"wheel":M=dv;break;case"copy":case"cut":case"paste":M=J0;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":M=Xd;break;case"toggle":case"beforetoggle":M=mv}var $=(t&4)!==0,De=!$&&(e==="scroll"||e==="scrollend"),T=$?A!==null?A+"Capture":null:A;$=[];for(var E=w,N;E!==null;){var j=E;if(N=j.stateNode,j=j.tag,j!==5&&j!==26&&j!==27||N===null||T===null||(j=el(E,T),j!=null&&$.push(jl(E,j,N))),De)break;E=E.return}0<$.length&&(A=new M(A,X,null,i,O),z.push({event:A,listeners:$}))}}if((t&7)===0){e:{if(A=e==="mouseover"||e==="pointerover",M=e==="mouseout"||e==="pointerout",A&&i!==Lc&&(X=i.relatedTarget||i.fromElement)&&(Zi(X)||X[Pi]))break e;if((M||A)&&(A=O.window===O?O:(A=O.ownerDocument)?A.defaultView||A.parentWindow:window,M?(X=i.relatedTarget||i.toElement,M=w,X=X?Zi(X):null,X!==null&&(De=f(X),$=X.tag,X!==De||$!==5&&$!==27&&$!==6)&&(X=null)):(M=null,X=w),M!==X)){if($=Vd,j="onMouseLeave",T="onMouseEnter",E="mouse",(e==="pointerout"||e==="pointerover")&&($=Xd,j="onPointerLeave",T="onPointerEnter",E="pointer"),De=M==null?A:Wa(M),N=X==null?A:Wa(X),A=new $(j,E+"leave",M,i,O),A.target=De,A.relatedTarget=N,j=null,Zi(O)===w&&($=new $(T,E+"enter",X,i,O),$.target=N,$.relatedTarget=De,j=$),De=j,M&&X)t:{for($=hb,T=M,E=X,N=0,j=T;j;j=$(j))N++;j=0;for(var F=E;F;F=$(F))j++;for(;0<N-j;)T=$(T),N--;for(;0<j-N;)E=$(E),j--;for(;N--;){if(T===E||E!==null&&T===E.alternate){$=T;break t}T=$(T),E=$(E)}$=null}else $=null;M!==null&&Ug(z,A,M,$,!1),X!==null&&De!==null&&Ug(z,De,X,$,!0)}}e:{if(A=w?Wa(w):window,M=A.nodeName&&A.nodeName.toLowerCase(),M==="select"||M==="input"&&A.type==="file")var _e=eh;else if(Jd(A))if(th)_e=Cv;else{_e=xv;var Z=Sv}else M=A.nodeName,!M||M.toLowerCase()!=="input"||A.type!=="checkbox"&&A.type!=="radio"?w&&zc(w.elementType)&&(_e=eh):_e=Ev;if(_e&&(_e=_e(e,w))){Wd(z,_e,i,O);break e}Z&&Z(e,A,w),e==="focusout"&&w&&A.type==="number"&&w.memoizedProps.value!=null&&Ic(A,"number",A.value)}switch(Z=w?Wa(w):window,e){case"focusin":(Jd(Z)||Z.contentEditable==="true")&&(ia=Z,Kc=w,cl=null);break;case"focusout":cl=Kc=ia=null;break;case"mousedown":Fc=!0;break;case"contextmenu":case"mouseup":case"dragend":Fc=!1,oh(z,i,O);break;case"selectionchange":if(Nv)break;case"keydown":case"keyup":oh(z,i,O)}var re;if(Qc)e:{switch(e){case"compositionstart":var pe="onCompositionStart";break e;case"compositionend":pe="onCompositionEnd";break e;case"compositionupdate":pe="onCompositionUpdate";break e}pe=void 0}else na?Fd(e,i)&&(pe="onCompositionEnd"):e==="keydown"&&i.keyCode===229&&(pe="onCompositionStart");pe&&(Pd&&i.locale!=="ko"&&(na||pe!=="onCompositionStart"?pe==="onCompositionEnd"&&na&&(re=Gd()):(qn=O,kc="value"in qn?qn.value:qn.textContent,na=!0)),Z=Cr(w,pe),0<Z.length&&(pe=new Qd(pe,e,null,i,O),z.push({event:pe,listeners:Z}),re?pe.data=re:(re=$d(i),re!==null&&(pe.data=re)))),(re=pv?yv(e,i):_v(e,i))&&(pe=Cr(w,"onBeforeInput"),0<pe.length&&(Z=new Qd("onBeforeInput","beforeinput",null,i,O),z.push({event:Z,listeners:pe}),Z.data=re)),ob(z,e,w,i,O)}zg(z,t)})}function jl(e,t,i){return{instance:e,listener:t,currentTarget:i}}function Cr(e,t){for(var i=t+"Capture",r=[];e!==null;){var o=e,u=o.stateNode;if(o=o.tag,o!==5&&o!==26&&o!==27||u===null||(o=el(e,i),o!=null&&r.unshift(jl(e,o,u)),o=el(e,t),o!=null&&r.push(jl(e,o,u))),e.tag===3)return r;e=e.return}return[]}function hb(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function Ug(e,t,i,r,o){for(var u=t._reactName,h=[];i!==null&&i!==r;){var _=i,x=_.alternate,w=_.stateNode;if(_=_.tag,x!==null&&x===r)break;_!==5&&_!==26&&_!==27||w===null||(x=w,o?(w=el(i,u),w!=null&&h.unshift(jl(i,w,x))):o||(w=el(i,u),w!=null&&h.push(jl(i,w,x)))),i=i.return}h.length!==0&&e.push({event:t,listeners:h})}var mb=/\r\n?/g,gb=/\u0000|\uFFFD/g;function Hg(e){return(typeof e=="string"?e:""+e).replace(mb,`
`).replace(gb,"")}function Bg(e,t){return t=Hg(t),Hg(e)===t}function Me(e,t,i,r,o,u){switch(i){case"children":typeof r=="string"?t==="body"||t==="textarea"&&r===""||Wi(e,r):(typeof r=="number"||typeof r=="bigint")&&t!=="body"&&Wi(e,""+r);break;case"className":As(e,"class",r);break;case"tabIndex":As(e,"tabindex",r);break;case"dir":case"role":case"viewBox":case"width":case"height":As(e,i,r);break;case"style":Bd(e,r,u);break;case"data":if(t!=="object"){As(e,"data",r);break}case"src":case"href":if(r===""&&(t!=="a"||i!=="href")){e.removeAttribute(i);break}if(r==null||typeof r=="function"||typeof r=="symbol"||typeof r=="boolean"){e.removeAttribute(i);break}r=Ms(""+r),e.setAttribute(i,r);break;case"action":case"formAction":if(typeof r=="function"){e.setAttribute(i,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof u=="function"&&(i==="formAction"?(t!=="input"&&Me(e,t,"name",o.name,o,null),Me(e,t,"formEncType",o.formEncType,o,null),Me(e,t,"formMethod",o.formMethod,o,null),Me(e,t,"formTarget",o.formTarget,o,null)):(Me(e,t,"encType",o.encType,o,null),Me(e,t,"method",o.method,o,null),Me(e,t,"target",o.target,o,null)));if(r==null||typeof r=="symbol"||typeof r=="boolean"){e.removeAttribute(i);break}r=Ms(""+r),e.setAttribute(i,r);break;case"onClick":r!=null&&(e.onclick=gn);break;case"onScroll":r!=null&&he("scroll",e);break;case"onScrollEnd":r!=null&&he("scrollend",e);break;case"dangerouslySetInnerHTML":if(r!=null){if(typeof r!="object"||!("__html"in r))throw Error(s(61));if(i=r.__html,i!=null){if(o.children!=null)throw Error(s(60));e.innerHTML=i}}break;case"multiple":e.multiple=r&&typeof r!="function"&&typeof r!="symbol";break;case"muted":e.muted=r&&typeof r!="function"&&typeof r!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(r==null||typeof r=="function"||typeof r=="boolean"||typeof r=="symbol"){e.removeAttribute("xlink:href");break}i=Ms(""+r),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",i);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":r!=null&&typeof r!="function"&&typeof r!="symbol"?e.setAttribute(i,""+r):e.removeAttribute(i);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":r&&typeof r!="function"&&typeof r!="symbol"?e.setAttribute(i,""):e.removeAttribute(i);break;case"capture":case"download":r===!0?e.setAttribute(i,""):r!==!1&&r!=null&&typeof r!="function"&&typeof r!="symbol"?e.setAttribute(i,r):e.removeAttribute(i);break;case"cols":case"rows":case"size":case"span":r!=null&&typeof r!="function"&&typeof r!="symbol"&&!isNaN(r)&&1<=r?e.setAttribute(i,r):e.removeAttribute(i);break;case"rowSpan":case"start":r==null||typeof r=="function"||typeof r=="symbol"||isNaN(r)?e.removeAttribute(i):e.setAttribute(i,r);break;case"popover":he("beforetoggle",e),he("toggle",e),ws(e,"popover",r);break;case"xlinkActuate":mn(e,"http://www.w3.org/1999/xlink","xlink:actuate",r);break;case"xlinkArcrole":mn(e,"http://www.w3.org/1999/xlink","xlink:arcrole",r);break;case"xlinkRole":mn(e,"http://www.w3.org/1999/xlink","xlink:role",r);break;case"xlinkShow":mn(e,"http://www.w3.org/1999/xlink","xlink:show",r);break;case"xlinkTitle":mn(e,"http://www.w3.org/1999/xlink","xlink:title",r);break;case"xlinkType":mn(e,"http://www.w3.org/1999/xlink","xlink:type",r);break;case"xmlBase":mn(e,"http://www.w3.org/XML/1998/namespace","xml:base",r);break;case"xmlLang":mn(e,"http://www.w3.org/XML/1998/namespace","xml:lang",r);break;case"xmlSpace":mn(e,"http://www.w3.org/XML/1998/namespace","xml:space",r);break;case"is":ws(e,"is",r);break;case"innerText":case"textContent":break;default:(!(2<i.length)||i[0]!=="o"&&i[0]!=="O"||i[1]!=="n"&&i[1]!=="N")&&(i=Y0.get(i)||i,ws(e,i,r))}}function xu(e,t,i,r,o,u){switch(i){case"style":Bd(e,r,u);break;case"dangerouslySetInnerHTML":if(r!=null){if(typeof r!="object"||!("__html"in r))throw Error(s(61));if(i=r.__html,i!=null){if(o.children!=null)throw Error(s(60));e.innerHTML=i}}break;case"children":typeof r=="string"?Wi(e,r):(typeof r=="number"||typeof r=="bigint")&&Wi(e,""+r);break;case"onScroll":r!=null&&he("scroll",e);break;case"onScrollEnd":r!=null&&he("scrollend",e);break;case"onClick":r!=null&&(e.onclick=gn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Md.hasOwnProperty(i))e:{if(i[0]==="o"&&i[1]==="n"&&(o=i.endsWith("Capture"),t=i.slice(2,o?i.length-7:void 0),u=e[St]||null,u=u!=null?u[i]:null,typeof u=="function"&&e.removeEventListener(t,u,o),typeof r=="function")){typeof u!="function"&&u!==null&&(i in e?e[i]=null:e.hasAttribute(i)&&e.removeAttribute(i)),e.addEventListener(t,r,o);break e}i in e?e[i]=r:r===!0?e.setAttribute(i,""):ws(e,i,r)}}}function ft(e,t,i){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":he("error",e),he("load",e);var r=!1,o=!1,u;for(u in i)if(i.hasOwnProperty(u)){var h=i[u];if(h!=null)switch(u){case"src":r=!0;break;case"srcSet":o=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,t));default:Me(e,t,u,h,i,null)}}o&&Me(e,t,"srcSet",i.srcSet,i,null),r&&Me(e,t,"src",i.src,i,null);return;case"input":he("invalid",e);var _=u=h=o=null,x=null,w=null;for(r in i)if(i.hasOwnProperty(r)){var O=i[r];if(O!=null)switch(r){case"name":o=O;break;case"type":h=O;break;case"checked":x=O;break;case"defaultChecked":w=O;break;case"value":u=O;break;case"defaultValue":_=O;break;case"children":case"dangerouslySetInnerHTML":if(O!=null)throw Error(s(137,t));break;default:Me(e,t,r,O,i,null)}}zd(e,u,_,x,w,h,o,!1);return;case"select":he("invalid",e),r=h=u=null;for(o in i)if(i.hasOwnProperty(o)&&(_=i[o],_!=null))switch(o){case"value":u=_;break;case"defaultValue":h=_;break;case"multiple":r=_;default:Me(e,t,o,_,i,null)}t=u,i=h,e.multiple=!!r,t!=null?Ji(e,!!r,t,!1):i!=null&&Ji(e,!!r,i,!0);return;case"textarea":he("invalid",e),u=o=r=null;for(h in i)if(i.hasOwnProperty(h)&&(_=i[h],_!=null))switch(h){case"value":r=_;break;case"defaultValue":o=_;break;case"children":u=_;break;case"dangerouslySetInnerHTML":if(_!=null)throw Error(s(91));break;default:Me(e,t,h,_,i,null)}Ud(e,r,o,u);return;case"option":for(x in i)i.hasOwnProperty(x)&&(r=i[x],r!=null)&&(x==="selected"?e.selected=r&&typeof r!="function"&&typeof r!="symbol":Me(e,t,x,r,i,null));return;case"dialog":he("beforetoggle",e),he("toggle",e),he("cancel",e),he("close",e);break;case"iframe":case"object":he("load",e);break;case"video":case"audio":for(r=0;r<Ol.length;r++)he(Ol[r],e);break;case"image":he("error",e),he("load",e);break;case"details":he("toggle",e);break;case"embed":case"source":case"link":he("error",e),he("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(w in i)if(i.hasOwnProperty(w)&&(r=i[w],r!=null))switch(w){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,t));default:Me(e,t,w,r,i,null)}return;default:if(zc(t)){for(O in i)i.hasOwnProperty(O)&&(r=i[O],r!==void 0&&xu(e,t,O,r,i,void 0));return}}for(_ in i)i.hasOwnProperty(_)&&(r=i[_],r!=null&&Me(e,t,_,r,i,null))}function pb(e,t,i,r){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var o=null,u=null,h=null,_=null,x=null,w=null,O=null;for(M in i){var z=i[M];if(i.hasOwnProperty(M)&&z!=null)switch(M){case"checked":break;case"value":break;case"defaultValue":x=z;default:r.hasOwnProperty(M)||Me(e,t,M,null,r,z)}}for(var A in r){var M=r[A];if(z=i[A],r.hasOwnProperty(A)&&(M!=null||z!=null))switch(A){case"type":u=M;break;case"name":o=M;break;case"checked":w=M;break;case"defaultChecked":O=M;break;case"value":h=M;break;case"defaultValue":_=M;break;case"children":case"dangerouslySetInnerHTML":if(M!=null)throw Error(s(137,t));break;default:M!==z&&Me(e,t,A,M,r,z)}}jc(e,h,_,x,w,O,u,o);return;case"select":M=h=_=A=null;for(u in i)if(x=i[u],i.hasOwnProperty(u)&&x!=null)switch(u){case"value":break;case"multiple":M=x;default:r.hasOwnProperty(u)||Me(e,t,u,null,r,x)}for(o in r)if(u=r[o],x=i[o],r.hasOwnProperty(o)&&(u!=null||x!=null))switch(o){case"value":A=u;break;case"defaultValue":_=u;break;case"multiple":h=u;default:u!==x&&Me(e,t,o,u,r,x)}t=_,i=h,r=M,A!=null?Ji(e,!!i,A,!1):!!r!=!!i&&(t!=null?Ji(e,!!i,t,!0):Ji(e,!!i,i?[]:"",!1));return;case"textarea":M=A=null;for(_ in i)if(o=i[_],i.hasOwnProperty(_)&&o!=null&&!r.hasOwnProperty(_))switch(_){case"value":break;case"children":break;default:Me(e,t,_,null,r,o)}for(h in r)if(o=r[h],u=i[h],r.hasOwnProperty(h)&&(o!=null||u!=null))switch(h){case"value":A=o;break;case"defaultValue":M=o;break;case"children":break;case"dangerouslySetInnerHTML":if(o!=null)throw Error(s(91));break;default:o!==u&&Me(e,t,h,o,r,u)}Ld(e,A,M);return;case"option":for(var X in i)A=i[X],i.hasOwnProperty(X)&&A!=null&&!r.hasOwnProperty(X)&&(X==="selected"?e.selected=!1:Me(e,t,X,null,r,A));for(x in r)A=r[x],M=i[x],r.hasOwnProperty(x)&&A!==M&&(A!=null||M!=null)&&(x==="selected"?e.selected=A&&typeof A!="function"&&typeof A!="symbol":Me(e,t,x,A,r,M));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var $ in i)A=i[$],i.hasOwnProperty($)&&A!=null&&!r.hasOwnProperty($)&&Me(e,t,$,null,r,A);for(w in r)if(A=r[w],M=i[w],r.hasOwnProperty(w)&&A!==M&&(A!=null||M!=null))switch(w){case"children":case"dangerouslySetInnerHTML":if(A!=null)throw Error(s(137,t));break;default:Me(e,t,w,A,r,M)}return;default:if(zc(t)){for(var De in i)A=i[De],i.hasOwnProperty(De)&&A!==void 0&&!r.hasOwnProperty(De)&&xu(e,t,De,void 0,r,A);for(O in r)A=r[O],M=i[O],!r.hasOwnProperty(O)||A===M||A===void 0&&M===void 0||xu(e,t,O,A,r,M);return}}for(var T in i)A=i[T],i.hasOwnProperty(T)&&A!=null&&!r.hasOwnProperty(T)&&Me(e,t,T,null,r,A);for(z in r)A=r[z],M=i[z],!r.hasOwnProperty(z)||A===M||A==null&&M==null||Me(e,t,z,A,r,M)}function kg(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function yb(){if(typeof performance.getEntriesByType=="function"){for(var e=0,t=0,i=performance.getEntriesByType("resource"),r=0;r<i.length;r++){var o=i[r],u=o.transferSize,h=o.initiatorType,_=o.duration;if(u&&_&&kg(h)){for(h=0,_=o.responseEnd,r+=1;r<i.length;r++){var x=i[r],w=x.startTime;if(w>_)break;var O=x.transferSize,z=x.initiatorType;O&&kg(z)&&(x=x.responseEnd,h+=O*(x<_?1:(_-w)/(x-w)))}if(--r,t+=8*(u+h)/(o.duration/1e3),e++,10<e)break}}if(0<e)return t/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var Eu=null,Cu=null;function Tr(e){return e.nodeType===9?e:e.ownerDocument}function qg(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Gg(e,t){if(e===0)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&t==="foreignObject"?0:e}function Tu(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.children=="bigint"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Nu=null;function _b(){var e=window.event;return e&&e.type==="popstate"?e===Nu?!1:(Nu=e,!0):(Nu=null,!1)}var Yg=typeof setTimeout=="function"?setTimeout:void 0,vb=typeof clearTimeout=="function"?clearTimeout:void 0,Vg=typeof Promise=="function"?Promise:void 0,bb=typeof queueMicrotask=="function"?queueMicrotask:typeof Vg<"u"?function(e){return Vg.resolve(null).then(e).catch(Sb)}:Yg;function Sb(e){setTimeout(function(){throw e})}function ai(e){return e==="head"}function Qg(e,t){var i=t,r=0;do{var o=i.nextSibling;if(e.removeChild(i),o&&o.nodeType===8)if(i=o.data,i==="/$"||i==="/&"){if(r===0){e.removeChild(o),Ma(t);return}r--}else if(i==="$"||i==="$?"||i==="$~"||i==="$!"||i==="&")r++;else if(i==="html")Il(e.ownerDocument.documentElement);else if(i==="head"){i=e.ownerDocument.head,Il(i);for(var u=i.firstChild;u;){var h=u.nextSibling,_=u.nodeName;u[Ja]||_==="SCRIPT"||_==="STYLE"||_==="LINK"&&u.rel.toLowerCase()==="stylesheet"||i.removeChild(u),u=h}}else i==="body"&&Il(e.ownerDocument.body);i=o}while(i);Ma(t)}function Xg(e,t){var i=e;e=0;do{var r=i.nextSibling;if(i.nodeType===1?t?(i._stashedDisplay=i.style.display,i.style.display="none"):(i.style.display=i._stashedDisplay||"",i.getAttribute("style")===""&&i.removeAttribute("style")):i.nodeType===3&&(t?(i._stashedText=i.nodeValue,i.nodeValue=""):i.nodeValue=i._stashedText||""),r&&r.nodeType===8)if(i=r.data,i==="/$"){if(e===0)break;e--}else i!=="$"&&i!=="$?"&&i!=="$~"&&i!=="$!"||e++;i=r}while(i)}function wu(e){var t=e.firstChild;for(t&&t.nodeType===10&&(t=t.nextSibling);t;){var i=t;switch(t=t.nextSibling,i.nodeName){case"HTML":case"HEAD":case"BODY":wu(i),Dc(i);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(i.rel.toLowerCase()==="stylesheet")continue}e.removeChild(i)}}function xb(e,t,i,r){for(;e.nodeType===1;){var o=i;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!r&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(r){if(!e[Ja])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(u=e.getAttribute("rel"),u==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(u!==o.rel||e.getAttribute("href")!==(o.href==null||o.href===""?null:o.href)||e.getAttribute("crossorigin")!==(o.crossOrigin==null?null:o.crossOrigin)||e.getAttribute("title")!==(o.title==null?null:o.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(u=e.getAttribute("src"),(u!==(o.src==null?null:o.src)||e.getAttribute("type")!==(o.type==null?null:o.type)||e.getAttribute("crossorigin")!==(o.crossOrigin==null?null:o.crossOrigin))&&u&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(t==="input"&&e.type==="hidden"){var u=o.name==null?null:""+o.name;if(o.type==="hidden"&&e.getAttribute("name")===u)return e}else return e;if(e=Ft(e.nextSibling),e===null)break}return null}function Eb(e,t,i){if(t==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!i||(e=Ft(e.nextSibling),e===null))return null;return e}function Pg(e,t){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!t||(e=Ft(e.nextSibling),e===null))return null;return e}function Au(e){return e.data==="$?"||e.data==="$~"}function Ru(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function Cb(e,t){var i=e.ownerDocument;if(e.data==="$~")e._reactRetry=t;else if(e.data!=="$?"||i.readyState!=="loading")t();else{var r=function(){t(),i.removeEventListener("DOMContentLoaded",r)};i.addEventListener("DOMContentLoaded",r),e._reactRetry=r}}function Ft(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?"||t==="$~"||t==="&"||t==="F!"||t==="F")break;if(t==="/$"||t==="/&")return null}}return e}var Mu=null;function Zg(e){e=e.nextSibling;for(var t=0;e;){if(e.nodeType===8){var i=e.data;if(i==="/$"||i==="/&"){if(t===0)return Ft(e.nextSibling);t--}else i!=="$"&&i!=="$!"&&i!=="$?"&&i!=="$~"&&i!=="&"||t++}e=e.nextSibling}return null}function Kg(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var i=e.data;if(i==="$"||i==="$!"||i==="$?"||i==="$~"||i==="&"){if(t===0)return e;t--}else i!=="/$"&&i!=="/&"||t++}e=e.previousSibling}return null}function Fg(e,t,i){switch(t=Tr(i),e){case"html":if(e=t.documentElement,!e)throw Error(s(452));return e;case"head":if(e=t.head,!e)throw Error(s(453));return e;case"body":if(e=t.body,!e)throw Error(s(454));return e;default:throw Error(s(451))}}function Il(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);Dc(e)}var $t=new Map,$g=new Set;function Nr(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var Dn=q.d;q.d={f:Tb,r:Nb,D:wb,C:Ab,L:Rb,m:Mb,X:Ob,S:Db,M:jb};function Tb(){var e=Dn.f(),t=yr();return e||t}function Nb(e){var t=Ki(e);t!==null&&t.tag===5&&t.type==="form"?mm(t):Dn.r(e)}var wa=typeof document>"u"?null:document;function Jg(e,t,i){var r=wa;if(r&&typeof t=="string"&&t){var o=Yt(t);o='link[rel="'+e+'"][href="'+o+'"]',typeof i=="string"&&(o+='[crossorigin="'+i+'"]'),$g.has(o)||($g.add(o),e={rel:e,crossOrigin:i,href:t},r.querySelector(o)===null&&(t=r.createElement("link"),ft(t,"link",e),it(t),r.head.appendChild(t)))}}function wb(e){Dn.D(e),Jg("dns-prefetch",e,null)}function Ab(e,t){Dn.C(e,t),Jg("preconnect",e,t)}function Rb(e,t,i){Dn.L(e,t,i);var r=wa;if(r&&e&&t){var o='link[rel="preload"][as="'+Yt(t)+'"]';t==="image"&&i&&i.imageSrcSet?(o+='[imagesrcset="'+Yt(i.imageSrcSet)+'"]',typeof i.imageSizes=="string"&&(o+='[imagesizes="'+Yt(i.imageSizes)+'"]')):o+='[href="'+Yt(e)+'"]';var u=o;switch(t){case"style":u=Aa(e);break;case"script":u=Ra(e)}$t.has(u)||(e=v({rel:"preload",href:t==="image"&&i&&i.imageSrcSet?void 0:e,as:t},i),$t.set(u,e),r.querySelector(o)!==null||t==="style"&&r.querySelector(zl(u))||t==="script"&&r.querySelector(Ll(u))||(t=r.createElement("link"),ft(t,"link",e),it(t),r.head.appendChild(t)))}}function Mb(e,t){Dn.m(e,t);var i=wa;if(i&&e){var r=t&&typeof t.as=="string"?t.as:"script",o='link[rel="modulepreload"][as="'+Yt(r)+'"][href="'+Yt(e)+'"]',u=o;switch(r){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":u=Ra(e)}if(!$t.has(u)&&(e=v({rel:"modulepreload",href:e},t),$t.set(u,e),i.querySelector(o)===null)){switch(r){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(i.querySelector(Ll(u)))return}r=i.createElement("link"),ft(r,"link",e),it(r),i.head.appendChild(r)}}}function Db(e,t,i){Dn.S(e,t,i);var r=wa;if(r&&e){var o=Fi(r).hoistableStyles,u=Aa(e);t=t||"default";var h=o.get(u);if(!h){var _={loading:0,preload:null};if(h=r.querySelector(zl(u)))_.loading=5;else{e=v({rel:"stylesheet",href:e,"data-precedence":t},i),(i=$t.get(u))&&Du(e,i);var x=h=r.createElement("link");it(x),ft(x,"link",e),x._p=new Promise(function(w,O){x.onload=w,x.onerror=O}),x.addEventListener("load",function(){_.loading|=1}),x.addEventListener("error",function(){_.loading|=2}),_.loading|=4,wr(h,t,r)}h={type:"stylesheet",instance:h,count:1,state:_},o.set(u,h)}}}function Ob(e,t){Dn.X(e,t);var i=wa;if(i&&e){var r=Fi(i).hoistableScripts,o=Ra(e),u=r.get(o);u||(u=i.querySelector(Ll(o)),u||(e=v({src:e,async:!0},t),(t=$t.get(o))&&Ou(e,t),u=i.createElement("script"),it(u),ft(u,"link",e),i.head.appendChild(u)),u={type:"script",instance:u,count:1,state:null},r.set(o,u))}}function jb(e,t){Dn.M(e,t);var i=wa;if(i&&e){var r=Fi(i).hoistableScripts,o=Ra(e),u=r.get(o);u||(u=i.querySelector(Ll(o)),u||(e=v({src:e,async:!0,type:"module"},t),(t=$t.get(o))&&Ou(e,t),u=i.createElement("script"),it(u),ft(u,"link",e),i.head.appendChild(u)),u={type:"script",instance:u,count:1,state:null},r.set(o,u))}}function Wg(e,t,i,r){var o=(o=fe.current)?Nr(o):null;if(!o)throw Error(s(446));switch(e){case"meta":case"title":return null;case"style":return typeof i.precedence=="string"&&typeof i.href=="string"?(t=Aa(i.href),i=Fi(o).hoistableStyles,r=i.get(t),r||(r={type:"style",instance:null,count:0,state:null},i.set(t,r)),r):{type:"void",instance:null,count:0,state:null};case"link":if(i.rel==="stylesheet"&&typeof i.href=="string"&&typeof i.precedence=="string"){e=Aa(i.href);var u=Fi(o).hoistableStyles,h=u.get(e);if(h||(o=o.ownerDocument||o,h={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},u.set(e,h),(u=o.querySelector(zl(e)))&&!u._p&&(h.instance=u,h.state.loading=5),$t.has(e)||(i={rel:"preload",as:"style",href:i.href,crossOrigin:i.crossOrigin,integrity:i.integrity,media:i.media,hrefLang:i.hrefLang,referrerPolicy:i.referrerPolicy},$t.set(e,i),u||Ib(o,e,i,h.state))),t&&r===null)throw Error(s(528,""));return h}if(t&&r!==null)throw Error(s(529,""));return null;case"script":return t=i.async,i=i.src,typeof i=="string"&&t&&typeof t!="function"&&typeof t!="symbol"?(t=Ra(i),i=Fi(o).hoistableScripts,r=i.get(t),r||(r={type:"script",instance:null,count:0,state:null},i.set(t,r)),r):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,e))}}function Aa(e){return'href="'+Yt(e)+'"'}function zl(e){return'link[rel="stylesheet"]['+e+"]"}function ep(e){return v({},e,{"data-precedence":e.precedence,precedence:null})}function Ib(e,t,i,r){e.querySelector('link[rel="preload"][as="style"]['+t+"]")?r.loading=1:(t=e.createElement("link"),r.preload=t,t.addEventListener("load",function(){return r.loading|=1}),t.addEventListener("error",function(){return r.loading|=2}),ft(t,"link",i),it(t),e.head.appendChild(t))}function Ra(e){return'[src="'+Yt(e)+'"]'}function Ll(e){return"script[async]"+e}function tp(e,t,i){if(t.count++,t.instance===null)switch(t.type){case"style":var r=e.querySelector('style[data-href~="'+Yt(i.href)+'"]');if(r)return t.instance=r,it(r),r;var o=v({},i,{"data-href":i.href,"data-precedence":i.precedence,href:null,precedence:null});return r=(e.ownerDocument||e).createElement("style"),it(r),ft(r,"style",o),wr(r,i.precedence,e),t.instance=r;case"stylesheet":o=Aa(i.href);var u=e.querySelector(zl(o));if(u)return t.state.loading|=4,t.instance=u,it(u),u;r=ep(i),(o=$t.get(o))&&Du(r,o),u=(e.ownerDocument||e).createElement("link"),it(u);var h=u;return h._p=new Promise(function(_,x){h.onload=_,h.onerror=x}),ft(u,"link",r),t.state.loading|=4,wr(u,i.precedence,e),t.instance=u;case"script":return u=Ra(i.src),(o=e.querySelector(Ll(u)))?(t.instance=o,it(o),o):(r=i,(o=$t.get(u))&&(r=v({},i),Ou(r,o)),e=e.ownerDocument||e,o=e.createElement("script"),it(o),ft(o,"link",r),e.head.appendChild(o),t.instance=o);case"void":return null;default:throw Error(s(443,t.type))}else t.type==="stylesheet"&&(t.state.loading&4)===0&&(r=t.instance,t.state.loading|=4,wr(r,i.precedence,e));return t.instance}function wr(e,t,i){for(var r=i.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),o=r.length?r[r.length-1]:null,u=o,h=0;h<r.length;h++){var _=r[h];if(_.dataset.precedence===t)u=_;else if(u!==o)break}u?u.parentNode.insertBefore(e,u.nextSibling):(t=i.nodeType===9?i.head:i,t.insertBefore(e,t.firstChild))}function Du(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.title==null&&(e.title=t.title)}function Ou(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.integrity==null&&(e.integrity=t.integrity)}var Ar=null;function np(e,t,i){if(Ar===null){var r=new Map,o=Ar=new Map;o.set(i,r)}else o=Ar,r=o.get(i),r||(r=new Map,o.set(i,r));if(r.has(e))return r;for(r.set(e,null),i=i.getElementsByTagName(e),o=0;o<i.length;o++){var u=i[o];if(!(u[Ja]||u[rt]||e==="link"&&u.getAttribute("rel")==="stylesheet")&&u.namespaceURI!=="http://www.w3.org/2000/svg"){var h=u.getAttribute(t)||"";h=e+h;var _=r.get(h);_?_.push(u):r.set(h,[u])}}return r}function ip(e,t,i){e=e.ownerDocument||e,e.head.insertBefore(i,t==="title"?e.querySelector("head > title"):null)}function zb(e,t,i){if(i===1||t.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof t.precedence!="string"||typeof t.href!="string"||t.href==="")break;return!0;case"link":if(typeof t.rel!="string"||typeof t.href!="string"||t.href===""||t.onLoad||t.onError)break;return t.rel==="stylesheet"?(e=t.disabled,typeof t.precedence=="string"&&e==null):!0;case"script":if(t.async&&typeof t.async!="function"&&typeof t.async!="symbol"&&!t.onLoad&&!t.onError&&t.src&&typeof t.src=="string")return!0}return!1}function ap(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function Lb(e,t,i,r){if(i.type==="stylesheet"&&(typeof r.media!="string"||matchMedia(r.media).matches!==!1)&&(i.state.loading&4)===0){if(i.instance===null){var o=Aa(r.href),u=t.querySelector(zl(o));if(u){t=u._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(e.count++,e=Rr.bind(e),t.then(e,e)),i.state.loading|=4,i.instance=u,it(u);return}u=t.ownerDocument||t,r=ep(r),(o=$t.get(o))&&Du(r,o),u=u.createElement("link"),it(u);var h=u;h._p=new Promise(function(_,x){h.onload=_,h.onerror=x}),ft(u,"link",r),i.instance=u}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(i,t),(t=i.state.preload)&&(i.state.loading&3)===0&&(e.count++,i=Rr.bind(e),t.addEventListener("load",i),t.addEventListener("error",i))}}var ju=0;function Ub(e,t){return e.stylesheets&&e.count===0&&Dr(e,e.stylesheets),0<e.count||0<e.imgCount?function(i){var r=setTimeout(function(){if(e.stylesheets&&Dr(e,e.stylesheets),e.unsuspend){var u=e.unsuspend;e.unsuspend=null,u()}},6e4+t);0<e.imgBytes&&ju===0&&(ju=62500*yb());var o=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&Dr(e,e.stylesheets),e.unsuspend)){var u=e.unsuspend;e.unsuspend=null,u()}},(e.imgBytes>ju?50:800)+t);return e.unsuspend=i,function(){e.unsuspend=null,clearTimeout(r),clearTimeout(o)}}:null}function Rr(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Dr(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var Mr=null;function Dr(e,t){e.stylesheets=null,e.unsuspend!==null&&(e.count++,Mr=new Map,t.forEach(Hb,e),Mr=null,Rr.call(e))}function Hb(e,t){if(!(t.state.loading&4)){var i=Mr.get(e);if(i)var r=i.get(null);else{i=new Map,Mr.set(e,i);for(var o=e.querySelectorAll("link[data-precedence],style[data-precedence]"),u=0;u<o.length;u++){var h=o[u];(h.nodeName==="LINK"||h.getAttribute("media")!=="not all")&&(i.set(h.dataset.precedence,h),r=h)}r&&i.set(null,r)}o=t.instance,h=o.getAttribute("data-precedence"),u=i.get(h)||r,u===r&&i.set(null,o),i.set(h,o),this.count++,r=Rr.bind(this),o.addEventListener("load",r),o.addEventListener("error",r),u?u.parentNode.insertBefore(o,u.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(o,e.firstChild)),t.state.loading|=4}}var Ul={$$typeof:V,Provider:null,Consumer:null,_currentValue:te,_currentValue2:te,_threadCount:0};function Bb(e,t,i,r,o,u,h,_,x){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=wc(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=wc(0),this.hiddenUpdates=wc(null),this.identifierPrefix=r,this.onUncaughtError=o,this.onCaughtError=u,this.onRecoverableError=h,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=x,this.incompleteTransitions=new Map}function lp(e,t,i,r,o,u,h,_,x,w,O,z){return e=new Bb(e,t,i,h,x,w,O,z,_),t=1,u===!0&&(t|=24),u=It(3,null,null,t),e.current=u,u.stateNode=e,t=fo(),t.refCount++,e.pooledCache=t,t.refCount++,u.memoizedState={element:r,isDehydrated:i,cache:t},po(u),e}function sp(e){return e?(e=sa,e):sa}function rp(e,t,i,r,o,u){o=sp(o),r.context===null?r.context=o:r.pendingContext=o,r=Pn(t),r.payload={element:i},u=u===void 0?null:u,u!==null&&(r.callback=u),i=Zn(e,r,t),i!==null&&(wt(i,e,t),gl(i,e,t))}function cp(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var i=e.retryLane;e.retryLane=i!==0&&i<t?i:t}}function Iu(e,t){cp(e,t),(e=e.alternate)&&cp(e,t)}function op(e){if(e.tag===13||e.tag===31){var t=Ti(e,67108864);t!==null&&wt(t,e,67108864),Iu(e,67108864)}}function up(e){if(e.tag===13||e.tag===31){var t=Bt();t=Ac(t);var i=Ti(e,t);i!==null&&wt(i,e,t),Iu(e,t)}}var Or=!0;function kb(e,t,i,r){var o=D.T;D.T=null;var u=q.p;try{q.p=2,zu(e,t,i,r)}finally{q.p=u,D.T=o}}function qb(e,t,i,r){var o=D.T;D.T=null;var u=q.p;try{q.p=8,zu(e,t,i,r)}finally{q.p=u,D.T=o}}function zu(e,t,i,r){if(Or){var o=Lu(r);if(o===null)Su(e,t,r,jr,i),dp(e,r);else if(Yb(o,e,t,i,r))r.stopPropagation();else if(dp(e,r),t&4&&-1<Gb.indexOf(e)){for(;o!==null;){var u=Ki(o);if(u!==null)switch(u.tag){case 3:if(u=u.stateNode,u.current.memoizedState.isDehydrated){var h=bi(u.pendingLanes);if(h!==0){var _=u;for(_.pendingLanes|=2,_.entangledLanes|=2;h;){var x=1<<31-Ot(h);_.entanglements[1]|=x,h&=~x}fn(u),(xe&6)===0&&(gr=Mt()+500,Dl(0))}}break;case 31:case 13:_=Ti(u,2),_!==null&&wt(_,u,2),yr(),Iu(u,2)}if(u=Lu(r),u===null&&Su(e,t,r,jr,i),u===o)break;o=u}o!==null&&r.stopPropagation()}else Su(e,t,r,null,i)}}function Lu(e){return e=Uc(e),Uu(e)}var jr=null;function Uu(e){if(jr=null,e=Zi(e),e!==null){var t=f(e);if(t===null)e=null;else{var i=t.tag;if(i===13){if(e=d(t),e!==null)return e;e=null}else if(i===31){if(e=m(t),e!==null)return e;e=null}else if(i===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return jr=e,null}function fp(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(w0()){case vd:return 2;case bd:return 8;case xs:case A0:return 32;case Sd:return 268435456;default:return 32}default:return 32}}var Hu=!1,li=null,si=null,ri=null,Hl=new Map,Bl=new Map,ci=[],Gb="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function dp(e,t){switch(e){case"focusin":case"focusout":li=null;break;case"dragenter":case"dragleave":si=null;break;case"mouseover":case"mouseout":ri=null;break;case"pointerover":case"pointerout":Hl.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Bl.delete(t.pointerId)}}function kl(e,t,i,r,o,u){return e===null||e.nativeEvent!==u?(e={blockedOn:t,domEventName:i,eventSystemFlags:r,nativeEvent:u,targetContainers:[o]},t!==null&&(t=Ki(t),t!==null&&op(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,o!==null&&t.indexOf(o)===-1&&t.push(o),e)}function Yb(e,t,i,r,o){switch(t){case"focusin":return li=kl(li,e,t,i,r,o),!0;case"dragenter":return si=kl(si,e,t,i,r,o),!0;case"mouseover":return ri=kl(ri,e,t,i,r,o),!0;case"pointerover":var u=o.pointerId;return Hl.set(u,kl(Hl.get(u)||null,e,t,i,r,o)),!0;case"gotpointercapture":return u=o.pointerId,Bl.set(u,kl(Bl.get(u)||null,e,t,i,r,o)),!0}return!1}function hp(e){var t=Zi(e.target);if(t!==null){var i=f(t);if(i!==null){if(t=i.tag,t===13){if(t=d(i),t!==null){e.blockedOn=t,wd(e.priority,function(){up(i)});return}}else if(t===31){if(t=m(i),t!==null){e.blockedOn=t,wd(e.priority,function(){up(i)});return}}else if(t===3&&i.stateNode.current.memoizedState.isDehydrated){e.blockedOn=i.tag===3?i.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Ir(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var i=Lu(e.nativeEvent);if(i===null){i=e.nativeEvent;var r=new i.constructor(i.type,i);Lc=r,i.target.dispatchEvent(r),Lc=null}else return t=Ki(i),t!==null&&op(t),e.blockedOn=i,!1;t.shift()}return!0}function mp(e,t,i){Ir(e)&&i.delete(t)}function Vb(){Hu=!1,li!==null&&Ir(li)&&(li=null),si!==null&&Ir(si)&&(si=null),ri!==null&&Ir(ri)&&(ri=null),Hl.forEach(mp),Bl.forEach(mp)}function zr(e,t){e.blockedOn===t&&(e.blockedOn=null,Hu||(Hu=!0,a.unstable_scheduleCallback(a.unstable_NormalPriority,Vb)))}var Lr=null;function gp(e){Lr!==e&&(Lr=e,a.unstable_scheduleCallback(a.unstable_NormalPriority,function(){Lr===e&&(Lr=null);for(var t=0;t<e.length;t+=3){var i=e[t],r=e[t+1],o=e[t+2];if(typeof r!="function"){if(Uu(r||i)===null)continue;break}var u=Ki(i);u!==null&&(e.splice(t,3),t-=3,Lo(u,{pending:!0,data:o,method:i.method,action:r},r,o))}}))}function Ma(e){function t(x){return zr(x,e)}li!==null&&zr(li,e),si!==null&&zr(si,e),ri!==null&&zr(ri,e),Hl.forEach(t),Bl.forEach(t);for(var i=0;i<ci.length;i++){var r=ci[i];r.blockedOn===e&&(r.blockedOn=null)}for(;0<ci.length&&(i=ci[0],i.blockedOn===null);)hp(i),i.blockedOn===null&&ci.shift();if(i=(e.ownerDocument||e).$$reactFormReplay,i!=null)for(r=0;r<i.length;r+=3){var o=i[r],u=i[r+1],h=o[St]||null;if(typeof u=="function")h||gp(i);else if(h){var _=null;if(u&&u.hasAttribute("formAction")){if(o=u,h=u[St]||null)_=h.formAction;else if(Uu(o)!==null)continue}else _=h.action;typeof _=="function"?i[r+1]=_:(i.splice(r,3),r-=3),gp(i)}}}function pp(){function e(u){u.canIntercept&&u.info==="react-transition"&&u.intercept({handler:function(){return new Promise(function(h){return o=h})},focusReset:"manual",scroll:"manual"})}function t(){o!==null&&(o(),o=null),r||setTimeout(i,20)}function i(){if(!r&&!navigation.transition){var u=navigation.currentEntry;u&&u.url!=null&&navigation.navigate(u.url,{state:u.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var r=!1,o=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",t),navigation.addEventListener("navigateerror",t),setTimeout(i,100),function(){r=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",t),navigation.removeEventListener("navigateerror",t),o!==null&&(o(),o=null)}}}function Bu(e){this._internalRoot=e}Ur.prototype.render=Bu.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(s(409));var i=t.current,r=Bt();rp(i,r,e,t,null,null)},Ur.prototype.unmount=Bu.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;rp(e.current,2,null,e,null,null),yr(),t[Pi]=null}};function Ur(e){this._internalRoot=e}Ur.prototype.unstable_scheduleHydration=function(e){if(e){var t=Nd();e={blockedOn:null,target:e,priority:t};for(var i=0;i<ci.length&&t!==0&&t<ci[i].priority;i++);ci.splice(i,0,e),i===0&&hp(e)}};var yp=n.version;if(yp!=="19.2.4")throw Error(s(527,yp,"19.2.4"));q.findDOMNode=function(e){var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(s(188)):(e=Object.keys(e).join(","),Error(s(268,e)));return e=g(t),e=e!==null?S(e):null,e=e===null?null:e.stateNode,e};var Qb={bundleType:0,version:"19.2.4",rendererPackageName:"react-dom",currentDispatcherRef:D,reconcilerVersion:"19.2.4"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Hr=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Hr.isDisabled&&Hr.supportsFiber)try{Ka=Hr.inject(Qb),Dt=Hr}catch{}}return Gl.createRoot=function(e,t){if(!c(e))throw Error(s(299));var i=!1,r="",o=Cm,u=Tm,h=Nm;return t!=null&&(t.unstable_strictMode===!0&&(i=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onUncaughtError!==void 0&&(o=t.onUncaughtError),t.onCaughtError!==void 0&&(u=t.onCaughtError),t.onRecoverableError!==void 0&&(h=t.onRecoverableError)),t=lp(e,1,!1,null,null,i,r,null,o,u,h,pp),e[Pi]=t.current,bu(e),new Bu(t)},Gl.hydrateRoot=function(e,t,i){if(!c(e))throw Error(s(299));var r=!1,o="",u=Cm,h=Tm,_=Nm,x=null;return i!=null&&(i.unstable_strictMode===!0&&(r=!0),i.identifierPrefix!==void 0&&(o=i.identifierPrefix),i.onUncaughtError!==void 0&&(u=i.onUncaughtError),i.onCaughtError!==void 0&&(h=i.onCaughtError),i.onRecoverableError!==void 0&&(_=i.onRecoverableError),i.formState!==void 0&&(x=i.formState)),t=lp(e,1,!0,t,i??null,r,o,x,u,h,_,pp),t.context=sp(null),i=t.current,r=Bt(),r=Ac(r),o=Pn(r),o.callback=null,Zn(i,o,r),i=r,t.current.lanes=i,$a(t,i),fn(t),e[Pi]=t.current,bu(e),new Ur(t)},Gl.version="19.2.4",Gl}var wp;function n1(){if(wp)return Gu.exports;wp=1;function a(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(a)}catch(n){console.error(n)}}return a(),Gu.exports=t1(),Gu.exports}var i1=n1();const Ap=a=>{let n;const l=new Set,s=(g,S)=>{const v=typeof g=="function"?g(n):g;if(!Object.is(v,n)){const b=n;n=S??(typeof v!="object"||v===null)?v:Object.assign({},n,v),l.forEach(R=>R(n,b))}},c=()=>n,m={setState:s,getState:c,getInitialState:()=>p,subscribe:g=>(l.add(g),()=>l.delete(g))},p=n=a(s,c,m);return m},a1=(a=>a?Ap(a):Ap),l1=a=>a;function s1(a,n=l1){const l=Br.useSyncExternalStore(a.subscribe,Br.useCallback(()=>n(a.getState()),[a,n]),Br.useCallback(()=>n(a.getInitialState()),[a,n]));return Br.useDebugValue(l),l}const Rp=a=>{const n=a1(a),l=s=>s1(n,s);return Object.assign(l,n),l},Ly=(a=>a?Rp(a):Rp),r1=2e4,Xu=a=>a.find(l=>l.money>=r1)||null,c1=a=>{const n=a.stats.intelligence+a.stats.stamina+a.stats.charisma;let l=0;return a.job&&(l=(a.jobLevel+1)*1e3,l+=a.performance*100),{money:a.money,stats:n*100,jobBonus:l,total:a.money+n*100+l}},o1=(a,n)=>{const l=a.map(s=>({player:s,score:c1(s),rank:0})).sort((s,c)=>c.score.total-s.score.total).map((s,c)=>({...s,rank:c+1}));return n?{rankings:l,winner:n,winReason:"money_threshold"}:{rankings:l,winner:l[0]?.player,winReason:"highest_score"}},At=(a,n)=>({...a,money:Math.max(0,a.money+n)}),jn=(a,n,l)=>({...a,stats:{...a.stats,[n]:Math.max(0,a.stats[n]+l)}}),u1=(a,n)=>{if(!a.job)return a;const l=Math.max(0,Math.min(9,a.performance+n));return{...a,performance:l}},f1=(a,n)=>[...a].sort((l,s)=>s.money-l.money).slice(0,n),Mp=(a,n)=>[...a].sort((l,s)=>l.money-s.money).slice(0,n),d1=(a,n)=>a.reduce((l,s)=>s.stats[n]>l.stats[n]?s:l),an=[{id:"chen-jian-zhi",name:"",gender:"male",initialMoney:3e3,initialStats:{intelligence:4,stamina:6,charisma:5},marriageRequirement:{intelligence:15,stamina:15,charisma:15},description:""},{id:"zheng-an-qi",name:"",gender:"female",initialMoney:2e3,initialStats:{intelligence:6,stamina:4,charisma:7},marriageRequirement:{intelligence:15,stamina:15,charisma:15},description:""},{id:"yao-xin-bei",name:"",gender:"female",initialMoney:2e3,initialStats:{intelligence:7,stamina:7,charisma:5},marriageRequirement:{intelligence:15,stamina:15,charisma:15},description:""},{id:"chen-dong-ming",name:"",gender:"male",initialMoney:8e3,initialStats:{intelligence:5,stamina:7,charisma:3},marriageRequirement:{intelligence:15,stamina:15,charisma:15},description:""},{id:"ke-ruo-ya",name:"",gender:"female",initialMoney:1e4,initialStats:{intelligence:8,stamina:4,charisma:6},marriageRequirement:{intelligence:15,stamina:15,charisma:15},description:""},{id:"lu-bing-yan",name:"",gender:"male",initialMoney:1e4,initialStats:{intelligence:4,stamina:7,charisma:4},marriageRequirement:{intelligence:15,stamina:15,charisma:15},description:""},{id:"xu-rui-he",name:"",gender:"male",initialMoney:7e3,initialStats:{intelligence:8,stamina:5,charisma:4},marriageRequirement:{intelligence:15,stamina:15,charisma:15},description:""},{id:"liang-si-yu",name:"",gender:"female",initialMoney:5e3,initialStats:{intelligence:7,stamina:5,charisma:7},marriageRequirement:{intelligence:15,stamina:15,charisma:15},description:""},{id:"ma-fei-yang",name:"",gender:"male",initialMoney:8e3,initialStats:{intelligence:4,stamina:4,charisma:8},marriageRequirement:{intelligence:15,stamina:15,charisma:15},description:""},{id:"wu-xin-yi",name:"",gender:"female",initialMoney:7e3,initialStats:{intelligence:2,stamina:7,charisma:4},marriageRequirement:{intelligence:15,stamina:15,charisma:15},description:""},{id:"zhao-bo-qian",name:"",gender:"male",initialMoney:5e3,initialStats:{intelligence:6,stamina:3,charisma:7},marriageRequirement:{intelligence:15,stamina:15,charisma:15},description:""},{id:"su-xun-jie",name:"",gender:"female",initialMoney:6e3,initialStats:{intelligence:4,stamina:6,charisma:7},marriageRequirement:{intelligence:15,stamina:15,charisma:15},description:""},{id:"wang-han-yao",name:"",gender:"male",initialMoney:5500,initialStats:{intelligence:6,stamina:6,charisma:6},marriageRequirement:{intelligence:15,stamina:15,charisma:15},description:""},{id:"zhuang-yu-cheng",name:"",gender:"female",initialMoney:5500,initialStats:{intelligence:7,stamina:2,charisma:6},marriageRequirement:{intelligence:15,stamina:15,charisma:15},description:""},{id:"zhao-bo-xuan",name:"",gender:"male",initialMoney:5e3,initialStats:{intelligence:4,stamina:4,charisma:7},marriageRequirement:{intelligence:15,stamina:15,charisma:15},description:""}],Pl=[{id:"lawyer",name:"",category:"intelligence",levels:[{name:"",requiredStats:{intelligence:20,charisma:15},salary:[4e3,5e3,6e3]},{name:"",requiredStats:{intelligence:25,stamina:10,charisma:20},salary:[1e4,12e3,15e3]},{name:"",requiredStats:{intelligence:30,stamina:10,charisma:25},salary:[18e3,2e4,25e3,3e4]}],skill:""},{id:"teacher",name:"",category:"intelligence",levels:[{name:"",requiredStats:{intelligence:15,charisma:5},salary:[2e3,3e3,4e3]},{name:"",requiredStats:{intelligence:20,stamina:10,charisma:10},salary:[8e3,1e4,15e3]},{name:"",requiredStats:{intelligence:25,stamina:15,charisma:15},salary:[2e4,22e3,24e3,26e3]}],skill:"+1"},{id:"smuggler",name:"",category:"intelligence",levels:[{name:"",requiredStats:{intelligence:12,charisma:8},salary:[2e3,4e3,6e3]},{name:"",requiredStats:{intelligence:18,charisma:15},salary:[1e4,15e3,2e4]},{name:"",requiredStats:{intelligence:25,stamina:10,charisma:20},salary:[3e4,4e4,5e4]}],skill:" $8,000 "},{id:"worker",name:"",category:"stamina",levels:[{name:"",requiredStats:{stamina:12,charisma:3},salary:[1e3,2e3,3e3]},{name:"",requiredStats:{stamina:18,charisma:8},salary:[5e3,6e3,7e3]},{name:"",requiredStats:{intelligence:10,stamina:20,charisma:15},salary:[1e4,12e3,15e3]}],skill:"+1"},{id:"farmer",name:"",category:"stamina",levels:[{name:"",requiredStats:{stamina:10},salary:[1e3,2e3,3e3]},{name:"",requiredStats:{stamina:18,charisma:8},salary:[5e3,7e3,1e4]},{name:"",requiredStats:{intelligence:15,stamina:25,charisma:15},salary:[2e4,22e3,25e3]}],skill:"+1"},{id:"gangster",name:"",category:"stamina",levels:[{name:"",requiredStats:{stamina:12,charisma:8},salary:[2e3,4e3,6e3]},{name:"",requiredStats:{stamina:20,charisma:15},salary:[1e4,15e3,2e4]},{name:"",requiredStats:{intelligence:15,stamina:25,charisma:20},salary:[3e4,35e3,4e4]}],skill:" -5"},{id:"singer",name:"",category:"charisma",levels:[{name:"",requiredStats:{stamina:8,charisma:12},salary:[800,1500,2e3]},{name:"",requiredStats:{intelligence:10,stamina:15,charisma:18},salary:[5e3,8e3,12e3]},{name:"",requiredStats:{intelligence:15,stamina:20,charisma:25},salary:[15e3,2e4,3e4]}],skill:"+1"},{id:"magician",name:"",category:"charisma",levels:[{name:"",requiredStats:{intelligence:10,charisma:10},salary:[800,1200,1500]},{name:"",requiredStats:{intelligence:18,charisma:18},salary:[2500,3e3,4e3]},{name:"",requiredStats:{intelligence:25,stamina:15,charisma:25},salary:[8e3,1e4,15e3]}],skill:""},{id:"hostess",name:"",category:"charisma",levels:[{name:"",requiredStats:{stamina:10,charisma:15},salary:[1500,2e3,2500]},{name:"",requiredStats:{intelligence:8,stamina:15,charisma:22},salary:[6e3,8e3,15e3]},{name:"",requiredStats:{intelligence:15,stamina:18,charisma:28},salary:[2e4,25e3,35e3]}],skill:""}],Uy=(a,n,l=0)=>{const s=n.levels[l].requiredStats;return(s.intelligence===void 0||a.intelligence>=s.intelligence)&&(s.stamina===void 0||a.stamina>=s.stamina)&&(s.charisma===void 0||a.charisma>=s.charisma)},h1=()=>({intelligence:Pl.filter(a=>a.category==="intelligence"),stamina:Pl.filter(a=>a.category==="stamina"),charisma:Pl.filter(a=>a.category==="charisma")}),m1=[{id:"social-training",type:"study",name:"",description:" +2",cost:500,effect:{type:"stat_change",stat:"charisma",value:2},count:6},{id:"weight-training",type:"study",name:"",description:" +2",cost:500,effect:{type:"stat_change",stat:"stamina",value:2},count:6},{id:"thesis-research",type:"study",name:"",description:" +2",cost:500,effect:{type:"stat_change",stat:"intelligence",value:2},count:6},{id:"free-research",type:"study",name:"",description:" +1",cost:300,effect:{type:"stat_change_choice",value:1},count:40},{id:"field-trip",type:"study",name:"",description:"",effect:{type:"explore",location:"random"},count:10},{id:"performance",type:"work",name:"",description:" +1",effect:{type:"performance_change",value:1},count:28},{id:"bootlicking",type:"work",name:"",description:" $500 -2",effect:{type:"special",handler:"bootlicking"},count:7},{id:"socializing",type:"work",name:"",description:" $500 +2",effect:{type:"special",handler:"socializing"},count:7},{id:"napping",type:"work",name:"",description:" $500 +2",effect:{type:"special",handler:"napping"},count:7},{id:"overtime",type:"work",name:"",description:" $1,000 -2",effect:{type:"special",handler:"overtime"},count:7},{id:"business-trip",type:"work",name:"",description:"",effect:{type:"explore",location:"random"},count:10},{id:"steal",type:"function",name:"",description:"",effect:{type:"special",handler:"steal"},count:5},{id:"robbery",type:"function",name:"",description:"",effect:{type:"special",handler:"robbery"},count:5},{id:"sabotage",type:"function",name:"",description:" 2 ",effect:{type:"special",handler:"sabotage"},count:7},{id:"invalid",type:"function",name:"",description:"",effect:{type:"special",handler:"invalid"},count:10},{id:"something-from-nothing",type:"function",name:"",description:"",effect:{type:"draw_cards",count:2},count:6},{id:"job-change",type:"function",name:"",description:"",effect:{type:"special",handler:"job_change"},count:5},{id:"parachute",type:"function",name:"",description:"",effect:{type:"special",handler:"parachute"},count:3}],g1=()=>{const a=[];let n=0;for(const l of m1)for(let s=0;s<l.count;s++)a.push({...l,id:`${l.id}-${n++}`});return a},Hy=a=>{const n=[...a];for(let l=n.length-1;l>0;l--){const s=Math.floor(Math.random()*(l+1));[n[l],n[s]]=[n[s],n[l]]}return n},p1=[{id:"new-mayor",turn:1,name:"",description:" $500 ",target:{type:"all"},effect:{type:"money_change",value:500}},{id:"poverty-relief-1",turn:5,name:"",description:" $1,500  $1,500",target:{type:"poorest",count:4},effect:{type:"special",handler:"poverty_relief"}},{id:"competition-1",turn:8,name:"",description:" +$3,000 +$2,000 +$1,000",target:{type:"all"},effect:{type:"special",handler:"competition_ranked"}},{id:"competition-2",turn:15,name:"",description:" +$5,000 +$3,500 +$2,000",target:{type:"all"},effect:{type:"special",handler:"competition_achievement"}},{id:"poverty-relief",turn:21,name:"",description:" $3,000",target:{type:"poorest",count:1},effect:{type:"special",handler:"poverty_relief_3000"}},{id:"finale",turn:30,name:"",description:"",target:{type:"all"},effect:{type:"special",handler:"game_end"}}],Dp=[{id:"tax",turn:"random",name:"",description:" 2  10% ",target:{type:"richest",count:2},effect:{type:"special",handler:"tax"}},{id:"red-envelope",turn:"random",name:"",description:" +$1,000",target:{type:"all"},effect:{type:"money_change",value:1e3}},{id:"plague",turn:"random",name:"",description:" -3",target:{type:"all"},effect:{type:"stat_change",stat:"stamina",value:-3}},{id:"white-terror",turn:"random",name:"",description:" -3",target:{type:"all"},effect:{type:"stat_change",stat:"intelligence",value:-3}},{id:"water-shortage",turn:"random",name:"",description:" -3",target:{type:"all"},effect:{type:"stat_change",stat:"charisma",value:-3}},{id:"vaccine",turn:"random",name:"",description:" +3",target:{type:"all"},effect:{type:"stat_change",stat:"stamina",value:3}},{id:"lecture",turn:"random",name:"",description:" +3",target:{type:"all"},effect:{type:"stat_change",stat:"intelligence",value:3}},{id:"beauty-contest",turn:"random",name:"",description:" +3",target:{type:"all"},effect:{type:"stat_change",stat:"charisma",value:3}},{id:"voucher",turn:"random",name:"",description:"",target:{type:"all"},effect:{type:"draw_cards",count:1}},{id:"landlord-gift",turn:"random",name:"",description:" 2  $1,000",target:{type:"poorest",count:2},effect:{type:"money_change",value:1e3}}],y1=a=>{const n=p1.find(s=>s.turn===a);if(n)return n;const l=Math.floor(Math.random()*Dp.length);return{...Dp[l],turn:a}},By=[{id:"park",name:"",outcomes:[{description:" -2 $500",probability:.3,effect:{type:"special",handler:"park_bad"}},{description:" +2 $500",probability:.3,effect:{type:"special",handler:"park_good"}},{description:"",probability:.4,effect:{type:"stat_change",stat:"stamina",value:0}}]},{id:"library",name:"",outcomes:[{description:" -2",probability:.3,effect:{type:"stat_change",stat:"intelligence",value:-2}},{description:" +3",probability:.4,effect:{type:"stat_change",stat:"intelligence",value:3}},{description:" +1",probability:.3,effect:{type:"stat_change",stat:"intelligence",value:1}}]},{id:"home",name:"",outcomes:[{description:" +3",probability:.5,effect:{type:"stat_change",stat:"stamina",value:3}},{description:" -2",probability:.3,effect:{type:"stat_change",stat:"stamina",value:-2}},{description:" +1",probability:.2,effect:{type:"stat_change",stat:"stamina",value:1}}]}],_1=a=>{const n=By.find(c=>c.id===a);if(!n)return null;const l=Math.random();let s=0;for(const c of n.outcomes)if(s+=c.probability,l<s)return{location:n,outcome:c};return{location:n,outcome:n.outcomes[n.outcomes.length-1]}},Of=a=>Pl.filter(n=>Uy(a.stats,n,0)),v1=(a,n)=>{const l=Pl.find(s=>s.id===n);return!l||!Uy(a.stats,l,0)?a:{...a,job:l,jobLevel:0,performance:0}},jf=a=>{if(!a.job||a.jobLevel>=2)return!1;const n=a.jobLevel+1,l=a.job.levels[n].requiredStats,s=n*3;return a.performance<s?!1:(l.intelligence===void 0||a.stats.intelligence>=l.intelligence)&&(l.stamina===void 0||a.stats.stamina>=l.stamina)&&(l.charisma===void 0||a.stats.charisma>=l.charisma)},b1=a=>jf(a)?{...a,jobLevel:a.jobLevel+1}:a,ky=a=>{if(!a.job)return 0;const l=a.job.levels[a.jobLevel].salary,s=a.jobLevel*3,c=a.performance-s,f=Math.min(c,l.length-1);return l[Math.max(0,f)]},S1=a=>{const n=ky(a);return n===0?a:{...a,money:a.money+n}},Op=a=>a.job?a.job.levels[a.jobLevel].name:"",x1=a=>{if(!a.job)return a;switch(a.job.id){case"teacher":return{...a,stats:{...a.stats,intelligence:a.stats.intelligence+1}};case"worker":case"farmer":return{...a,stats:{...a.stats,stamina:a.stats.stamina+1}};case"singer":return{...a,stats:{...a.stats,charisma:a.stats.charisma+1}};default:return a}},cf=(a,n)=>n.effect.type==="special"&&n.effect.handler==="invalid"?{canPlay:!1,reason:""}:n.cost&&a.money<n.cost?{canPlay:!1,reason:` $${n.cost}`}:n.type==="work"&&!a.job?{canPlay:!1,reason:""}:n.effect.type==="special"&&n.effect.handler==="job_change"&&!a.job?{canPlay:!1,reason:""}:{canPlay:!0},E1=(a,n)=>{switch(n.type){case"stat_change":return{player:jn(a,n.stat,n.value),message:`${qy(n.stat)} ${n.value>0?"+":""}${n.value}`};case"money_change":return{player:At(a,n.value),message:` ${n.value>0?"+":""}$${n.value}`};case"performance_change":return a.job?{player:u1(a,n.value),message:` ${n.value>0?"+":""}${n.value}`}:{player:a,message:""};case"stat_change_choice":return{player:a,message:"",needsSelection:{type:"stat",options:["intelligence","stamina","charisma"]}};case"draw_cards":return{player:a,message:` ${n.count} `};case"explore":return{player:a,message:"",needsSelection:{type:"location"}};case"special":return C1(a,n.handler);default:return{player:a,message:""}}},C1=(a,n)=>{switch(n){case"bootlicking":return{player:jn(At(a,500),"charisma",-2),message:" $500 -2"};case"socializing":return a.money<500?{player:a,message:""}:{player:jn(At(a,-500),"charisma",2),message:" $500 +2"};case"napping":return a.money<500?{player:a,message:""}:{player:jn(At(a,-500),"stamina",2),message:" $500 +2"};case"overtime":return{player:jn(At(a,1e3),"stamina",-2),message:" $1,000 -2"};case"steal":return{player:a,message:"",needsSelection:{type:"player"}};case"robbery":return{player:a,message:"",needsSelection:{type:"player"}};case"sabotage":return{player:a,message:"",needsSelection:{type:"player"}};case"invalid":return{player:a,message:""};case"job_change":return{player:{...a,job:null,jobLevel:0,performance:0},message:""};case"parachute":return{player:a,message:"",needsSelection:{type:"player"}};case"park_bad":return{player:jn(At(a,-500),"charisma",-2),message:" -2 $500"};case"park_good":return{player:jn(At(a,500),"stamina",2),message:" +2 $500"};default:return{player:a,message:`: ${n}`}}},jp=(a,n)=>{let l=a;return n.cost&&(l=At(a,-n.cost)),{...E1(l,n.effect),usedCard:n}},T1=(a,n,l)=>({player:jn(a,n,l),message:`${qy(n)} +${l}`}),qy=a=>({intelligence:"",stamina:"",charisma:""})[a],Ip=3,zp=2,If=10,N1=30,Gy=(a,n,l=[])=>{const s=a.map((m,p)=>{const g=an.find(S=>S.id===n[p]);return w1(m,g,l[p]??!1)});let f=Hy(g1());const d=s.map(m=>{const p=f.slice(0,Ip);return f=f.slice(Ip),{...m,hand:p}});return{playerCount:4,maxTurns:N1,players:d,currentPlayerIndex:0,turn:1,phase:"event",deck:f,discardPile:[],currentEvent:null,eventLog:[],actionLog:[],selectedCardIndex:null,showEventModal:!1}},w1=(a,n,l=!1)=>({id:`player-${Date.now()}-${Math.random().toString(36).substr(2,9)}`,name:a,character:n,stats:{...n.initialStats},money:n.initialMoney,job:null,jobLevel:0,performance:0,hand:[],isSkipTurn:!1,isAI:l}),of=a=>{const n=y1(a.turn);return{...a,phase:"event",currentEvent:n,showEventModal:!0}},A1=a=>{if(!a.currentEvent)return a;const n=a.currentEvent;let l=[...a.players||[]];const s=[`${n.name}${n.description}`];let c;switch(n.target.type){case"all":c=l;break;case"richest":c=f1(l,n.target.count||1);break;case"poorest":c=Mp(l,n.target.count||1);break;default:c=l}if(n.effect.type==="special")switch(n.effect.handler){case"poverty_relief":l=l.map(f=>f.money<1500?(s.push(`${f.name}  $1,500`),{...f,money:1500}):f);break;case"tax":l=l.map(f=>{if(c.find(d=>d.id===f.id)){const d=Math.floor(f.money*.1);return s.push(`${f.name}  $${d}`),At(f,-d)}return f});break;case"competition":{const f=[{stat:"intelligence",name:"",prize:2e3},{stat:"stamina",name:"",prize:2e3},{stat:"charisma",name:"",prize:2e3}];for(const{stat:d,name:m,prize:p}of f){const g=d1(l,d);s.push(`${m}${g.name} $${p}`),l=l.map(S=>S.id===g.id?At(S,p):S)}break}case"competition_ranked":{const f=[3e3,2e3,1e3],d=[...l].sort((m,p)=>{const g=m.money+(m.stats.intelligence+m.stats.stamina+m.stats.charisma)*100;return p.money+(p.stats.intelligence+p.stats.stamina+p.stats.charisma)*100-g});for(let m=0;m<Math.min(f.length,d.length);m++){const p=d[m],g=f[m];s.push(` ${m+1} ${p.name} $${g.toLocaleString()}`),l=l.map(S=>S.id===p.id?At(S,g):S)}break}case"competition_achievement":{const f=[5e3,3500,2e3],d=[...l].sort((m,p)=>{const g=m.money+(m.stats.intelligence+m.stats.stamina+m.stats.charisma)*100;return p.money+(p.stats.intelligence+p.stats.stamina+p.stats.charisma)*100-g});for(let m=0;m<Math.min(f.length,d.length);m++){const p=d[m],g=f[m];s.push(` ${m+1} ${p.name} $${g.toLocaleString()}`),l=l.map(S=>S.id===p.id?At(S,g):S)}break}case"poverty_relief_3000":{const f=Mp(l,1)[0];f&&(s.push(`${f.name}  $3,000`),l=l.map(d=>d.id===f.id?At(d,3e3):d));break}case"game_end":return{...a,phase:"game_over",currentEvent:null,showEventModal:!1,eventLog:[...a.eventLog||[],...s]}}else if(l=l.map(f=>{if(!c.find(d=>d.id===f.id))return f;switch(n.effect.type){case"money_change":return At(f,n.effect.value);case"stat_change":return jn(f,n.effect.stat,n.effect.value);case"draw_cards":return f;default:return f}}),n.effect.type==="draw_cards"){let f=[...a.deck||[]];return l=l.map(d=>{if(!c.find(g=>g.id===d.id))return d;const m=Math.min(n.effect.type==="draw_cards"?n.effect.count:0,f.length),p=f.slice(0,m);return f=f.slice(m),{...d,hand:[...d.hand,...p].slice(0,If)}}),{...a,players:l,deck:f,currentEvent:null,showEventModal:!1,eventLog:[...a.eventLog||[],...s]}}return{...a,players:l,currentEvent:null,showEventModal:!1,eventLog:[...a.eventLog||[],...s]}},R1=a=>{const n=a.players.map(l=>{let s=S1(l);return s=x1(s),s});return{...a,phase:"salary",players:n}},M1=a=>({...a,phase:"action",currentPlayerIndex:0}),Yy=a=>{const n=a.currentPlayerIndex+1;return n>=a.players.length?{...a,phase:"draw"}:a.players[n].isSkipTurn?Yy({...a,currentPlayerIndex:n,players:a.players.map((l,s)=>s===n?{...l,isSkipTurn:!1}:l)}):{...a,currentPlayerIndex:n}},D1=a=>{let n=[...a.deck||[]];const l=[...a.discardPile||[]],s=a.players.length*zp;n.length<s&&l.length>0&&(n=[...n,...Hy(l)]);const c=a.players.map(f=>{const d=Math.min(zp,n.length),m=n.slice(0,d);n=n.slice(d);const p=[...f.hand,...m];return{...f,hand:p.slice(-If)}});return{...a,phase:"draw",players:c,deck:n,discardPile:[]}},O1=a=>{const n=a.turn+1;return n>a.maxTurns?{...a,phase:"game_over"}:{...a,turn:n,phase:"event"}},Lp=(a,n,l)=>{let s=[...a.deck||[]];const c=Math.min(l,s.length),f=s.slice(0,c);return s=s.slice(c),{...a,deck:s,players:a.players.map((d,m)=>m===n?{...d,hand:[...d.hand,...f].slice(0,If)}:d)}},Pu={pendingStatChoice:null,pendingExplore:!1,pendingTargetPlayer:null,pendingFunctionCard:null,lastMessage:null},Up=(a,n,l=[])=>{const s=a.players.length,c=a.pendingFunctionCard?.sourcePlayerIndex??a.currentPlayerIndex;for(let f=1;f<s;f++){const d=(n+f)%s;if(d===c||l.includes(d))continue;if((a.players[d]?.hand??[]).some(g=>g.effect.type==="special"&&g.effect.handler==="invalid"))return d}return-1},On=(a,n,l,s="action")=>{const c={turn:a.turn,playerName:n,message:l,type:s};return[...a.actionLog||[],c]},Hp={playerCount:4,maxTurns:10,players:[],currentPlayerIndex:0,turn:0,phase:"setup",deck:[],discardPile:[],currentEvent:null,eventLog:[],actionLog:[],selectedCardIndex:null,showEventModal:!1},Ve=Ly((a,n)=>({...Hp,...Pu,startGame:(l,s,c=[])=>{const f=Gy(l,s,c),d=of(f);a({...d,...Pu,lastMessage:""})},nextPhase:()=>{const l=n();let s;switch(l.phase){case"event":{s=R1(l);let c=l.actionLog||[];s.players.forEach((d,m)=>{const p=l.players[m]?.money??0,g=d.money-p;g>0&&(c=[...c,{turn:l.turn,playerName:d.name,message:` +$${g}`,type:"system"}])}),s={...s,actionLog:c};const f=Xu(s.players);if(f){a({...s,phase:"game_over",lastMessage:`${f.name}  $20,000`});return}a({...s,lastMessage:""});break}case"salary":s=M1(l),a({...s,lastMessage:`${l.players[0].name} `});break;case"action":break;case"draw":if(s=O1(l),s.phase==="game_over")a({...s,lastMessage:""});else{const c=of(s);a({...c,lastMessage:` ${s.turn} `})}break}},confirmEvent:()=>{const l=n(),s=A1(l),c=l.currentEvent?.name||"",f=l.currentEvent?.description||"",d=On(l,"",`${c}${f}`,"event"),m=Xu(s.players);if(m){a({...s,actionLog:d,phase:"game_over",showEventModal:!1,lastMessage:`${m.name}  $20,000`});return}a({...s,actionLog:d,showEventModal:!1}),setTimeout(()=>n().nextPhase(),500)},selectCard:l=>{a({selectedCardIndex:l})},playSelectedCard:()=>{const l=n();if(l.selectedCardIndex===null||l.phase!=="action")return;const s=l.players[l.currentPlayerIndex],c=s.hand[l.selectedCardIndex];if(!c)return;const f=cf(s,c);if(!f.canPlay){a({lastMessage:f.reason||""});return}const d=c.effect.type==="special"&&(c.effect.handler==="invalid"||c.effect.handler==="sabotage");if(c.type==="function"&&!d){const S=Up(l,l.currentPlayerIndex);if(S!==-1){a({pendingFunctionCard:{card:c,cardIndex:l.selectedCardIndex,sourcePlayerIndex:l.currentPlayerIndex,respondingPlayerIndex:S,passedPlayerIndices:[]},lastMessage:`${s.name} ${c.name} ${l.players[S].name} ...`});return}}const m=jp(s,c);if(m.needsSelection){if(m.needsSelection.type==="stat"){a({pendingStatChoice:{cardIndex:l.selectedCardIndex,value:c.effect.type==="stat_change_choice"?c.effect.value:1},lastMessage:m.message});return}if(m.needsSelection.type==="location"){a({pendingExplore:!0,lastMessage:""});return}if(m.needsSelection.type==="player"){const S=c.effect.type==="special"?c.effect.handler:"";a({pendingTargetPlayer:{action:S,cardIndex:l.selectedCardIndex},lastMessage:m.message});return}}const p=l.players.map((S,v)=>v===l.currentPlayerIndex?{...m.player,hand:m.player.hand.filter((b,R)=>R!==l.selectedCardIndex)}:S);let g={players:p,discardPile:[...l.discardPile||[],c],selectedCardIndex:null,lastMessage:m.message,actionLog:On(l,s.name,`${c.name}${m.message}`)};if(c.effect.type==="draw_cards"){const S=Lp({...l,players:p},l.currentPlayerIndex,c.effect.count);g={...g,deck:S.deck,players:S.players}}a(g)},chooseStat:l=>{const s=n();if(!s.pendingStatChoice)return;const c=s.players[s.currentPlayerIndex],f=c.hand[s.pendingStatChoice.cardIndex],d=T1(c,l,s.pendingStatChoice.value);let m=d.player;f.cost&&(m={...m,money:m.money-f.cost});const p=s.players.map((S,v)=>v===s.currentPlayerIndex?{...m,hand:m.hand.filter((b,R)=>R!==s.pendingStatChoice.cardIndex)}:S),g={intelligence:"",stamina:"",charisma:""};a({players:p,discardPile:[...s.discardPile||[],f],selectedCardIndex:null,pendingStatChoice:null,lastMessage:d.message,actionLog:On(s,c.name,`${f.name} ${g[l]||l} ${s.pendingStatChoice.value>0?"+":""}${s.pendingStatChoice.value}`)})},chooseExploreLocation:l=>{const s=n();if(!s.pendingExplore)return;const c=_1(l);if(!c){a({pendingExplore:!1,selectedCardIndex:null,lastMessage:""});return}const f=s.players[s.currentPlayerIndex];let d=f;const m=c.outcome.effect;if(m.type==="stat_change"?d={...d,stats:{...d.stats,[m.stat]:Math.max(0,d.stats[m.stat]+m.value)}}:m.type==="special"&&(m.handler==="park_bad"?d={...d,money:Math.max(0,d.money-500),stats:{...d.stats,charisma:Math.max(0,d.stats.charisma-2)}}:m.handler==="park_good"&&(d={...d,money:d.money+500,stats:{...d.stats,stamina:d.stats.stamina+2}})),s.selectedCardIndex!==null){const S=f.hand[s.selectedCardIndex];d={...d,hand:d.hand.filter((v,b)=>b!==s.selectedCardIndex)},a({discardPile:[...s.discardPile||[],S]})}const p=s.players.map((S,v)=>v===s.currentPlayerIndex?d:S),g=s.players[s.currentPlayerIndex];a({players:p,pendingExplore:!1,selectedCardIndex:null,lastMessage:`${c.location.name}${c.outcome.description}`,actionLog:On(s,g.name,`${c.location.name}${c.outcome.description}`)})},chooseTargetPlayer:l=>{const s=n();if(!s.pendingTargetPlayer)return;const{action:c,cardIndex:f}=s.pendingTargetPlayer,d=s.players[s.currentPlayerIndex],m=d.hand[f],p=s.players.findIndex(b=>b.id===l),g=s.players[p];if(!g||p===s.currentPlayerIndex){a({lastMessage:""});return}let S=[...s.players||[]],v="";switch(c){case"steal":{const b=g.hand??[];if(b.length===0){a({lastMessage:`${g.name} `});return}const R=Math.floor(Math.random()*b.length),I=g.hand[R];S=S.map((H,k)=>k===s.currentPlayerIndex?{...H,hand:[...H.hand.filter((U,Y)=>Y!==f),I]}:k===p?{...H,hand:H.hand.filter((U,Y)=>Y!==R)}:H),v=` ${g.name} ${I.name}`;break}case"sabotage":{const b=["intelligence","stamina","charisma"],R=b[Math.floor(Math.random()*b.length)],I={intelligence:"",stamina:"",charisma:""};S=S.map((H,k)=>k===s.currentPlayerIndex?{...H,hand:H.hand.filter((U,Y)=>Y!==f)}:k===p?{...H,stats:{...H.stats,[R]:Math.max(0,H.stats[R]-2)}}:H),v=` ${g.name}${I[R]} -2`;break}case"robbery":{const b=g.hand??[];if(b.length===0){a({lastMessage:`${g.name} `});return}const R=Math.floor(Math.random()*b.length),I=g.hand[R];S=S.map((H,k)=>k===s.currentPlayerIndex?{...H,hand:[...H.hand.filter((U,Y)=>Y!==f),I]}:k===p?{...H,hand:H.hand.filter((U,Y)=>Y!==R)}:H),v=` ${g.name}${I.name}`;break}case"parachute":{if(!g.job){a({lastMessage:`${g.name} `});return}const b=g.job,R=g.jobLevel,I=b.levels[R].requiredStats;if(!Object.entries(I).every(([k,U])=>d.stats[k]>=(U||0))){a({lastMessage:` ${b.levels[R].name}`});return}S=S.map((k,U)=>U===s.currentPlayerIndex?{...k,hand:k.hand.filter((Y,V)=>V!==f),job:g.job,jobLevel:g.jobLevel,performance:0}:U===p?{...k,job:null,jobLevel:0,performance:0}:k),v=` ${g.name}  ${b.levels[R].name} `;break}default:a({lastMessage:""});return}a({players:S,discardPile:[...s.discardPile||[],m],pendingTargetPlayer:null,selectedCardIndex:null,lastMessage:v,actionLog:On(s,d.name,v)})},cancelPendingAction:()=>{a({pendingStatChoice:null,pendingExplore:!1,pendingTargetPlayer:null,pendingFunctionCard:null,selectedCardIndex:null,lastMessage:""})},applyInvalidCard:l=>{const s=n();if(!s.pendingFunctionCard)return;const{card:c,cardIndex:f,sourcePlayerIndex:d,respondingPlayerIndex:m}=s.pendingFunctionCard,p=s.players[m],g=s.players[d],S=p.hand[l];if(!S||!(S.effect.type==="special"&&S.effect.handler==="invalid")){a({lastMessage:""});return}const v=s.players.map((R,I)=>I===d?{...R,hand:R.hand.filter((H,k)=>k!==f)}:I===m?{...R,hand:R.hand.filter((H,k)=>k!==l)}:R),b=` ${g.name} ${c.name}`;a({players:v,discardPile:[...s.discardPile||[],c,S],pendingFunctionCard:null,selectedCardIndex:null,lastMessage:`${p.name} ${g.name} ${c.name}`,actionLog:On(s,p.name,b)})},passReaction:()=>{const l=n();if(!l.pendingFunctionCard)return;const{sourcePlayerIndex:s,respondingPlayerIndex:c,passedPlayerIndices:f}=l.pendingFunctionCard,d=[...f??[],c],m=Up(l,c,d);m===-1||m===s?n().confirmFunctionCard():a({pendingFunctionCard:{...l.pendingFunctionCard,respondingPlayerIndex:m,passedPlayerIndices:d},lastMessage:` ${l.players[m].name} ...`})},confirmFunctionCard:()=>{const l=n();if(!l.pendingFunctionCard)return;const{card:s,cardIndex:c,sourcePlayerIndex:f}=l.pendingFunctionCard,d=l.players[f],m=jp(d,s);if(m.needsSelection?.type==="player"){const S=s.effect.type==="special"?s.effect.handler:"";a({pendingFunctionCard:null,pendingTargetPlayer:{action:S,cardIndex:c},lastMessage:m.message});return}const p=l.players.map((S,v)=>v===f?{...m.player,hand:m.player.hand.filter((b,R)=>R!==c)}:S);let g={players:p,discardPile:[...l.discardPile||[],s],pendingFunctionCard:null,selectedCardIndex:null,lastMessage:`${d.name} ${s.name}${m.message}`,actionLog:On(l,d.name,`${s.name}${m.message}`)};if(s.effect.type==="draw_cards"){const S=Lp({...l,players:p},f,s.effect.count);g={...g,deck:S.deck,players:S.players}}a(g)},endPlayerTurn:()=>{const l=n();if(l.phase!=="action")return;const s=Yy(l);if(s.phase==="draw"){const c=D1(s);a({...c,lastMessage:""})}else a({...s,selectedCardIndex:null,lastMessage:`${s.players[s.currentPlayerIndex].name} `})},applyJob:l=>{const s=n(),c=s.players[s.currentPlayerIndex],f=v1(c,l);if(f.job){const d=s.players.map((m,p)=>p===s.currentPlayerIndex?f:m);a({players:d,lastMessage:` ${f.job.levels[0].name}`,actionLog:On(s,c.name,`${f.job.levels[0].name}`,"job")})}else a({lastMessage:""})},tryPromote:()=>{const l=n(),s=l.players[l.currentPlayerIndex];if(jf(s)){const c=b1(s),f=l.players.map((m,p)=>p===l.currentPlayerIndex?c:m),d=c.job.levels[c.jobLevel].name;a({players:f,lastMessage:` ${d}`,actionLog:On(l,s.name,`${d}`,"job")})}else a({lastMessage:""})},getCurrentPlayer:()=>{const l=n();return l.players[l.currentPlayerIndex]||null},canCurrentPlayerPlayCard:l=>{const s=n().getCurrentPlayer();if(!s)return{canPlay:!1,reason:""};const c=s.hand[l];return c?cf(s,c):{canPlay:!1,reason:""}},getAvailableJobsForCurrentPlayer:()=>{const l=n().getCurrentPlayer();return l?Of(l):[]},getGameResult:()=>{const l=n();if(l.phase!=="game_over")return null;const s=Xu(l.players);return o1(l.players,s??void 0)},resetGame:()=>{a({...Hp,...Pu})}})),j1=()=>{};var Bp={};const Vy={NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"};const B=function(a,n){if(!a)throw Ya(n)},Ya=function(a){return new Error("Firebase Database ("+Vy.SDK_VERSION+") INTERNAL ASSERT FAILED: "+a)};const Qy=function(a){const n=[];let l=0;for(let s=0;s<a.length;s++){let c=a.charCodeAt(s);c<128?n[l++]=c:c<2048?(n[l++]=c>>6|192,n[l++]=c&63|128):(c&64512)===55296&&s+1<a.length&&(a.charCodeAt(s+1)&64512)===56320?(c=65536+((c&1023)<<10)+(a.charCodeAt(++s)&1023),n[l++]=c>>18|240,n[l++]=c>>12&63|128,n[l++]=c>>6&63|128,n[l++]=c&63|128):(n[l++]=c>>12|224,n[l++]=c>>6&63|128,n[l++]=c&63|128)}return n},I1=function(a){const n=[];let l=0,s=0;for(;l<a.length;){const c=a[l++];if(c<128)n[s++]=String.fromCharCode(c);else if(c>191&&c<224){const f=a[l++];n[s++]=String.fromCharCode((c&31)<<6|f&63)}else if(c>239&&c<365){const f=a[l++],d=a[l++],m=a[l++],p=((c&7)<<18|(f&63)<<12|(d&63)<<6|m&63)-65536;n[s++]=String.fromCharCode(55296+(p>>10)),n[s++]=String.fromCharCode(56320+(p&1023))}else{const f=a[l++],d=a[l++];n[s++]=String.fromCharCode((c&15)<<12|(f&63)<<6|d&63)}}return n.join("")},zf={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(a,n){if(!Array.isArray(a))throw Error("encodeByteArray takes an array as a parameter");this.init_();const l=n?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let c=0;c<a.length;c+=3){const f=a[c],d=c+1<a.length,m=d?a[c+1]:0,p=c+2<a.length,g=p?a[c+2]:0,S=f>>2,v=(f&3)<<4|m>>4;let b=(m&15)<<2|g>>6,R=g&63;p||(R=64,d||(b=64)),s.push(l[S],l[v],l[b],l[R])}return s.join("")},encodeString(a,n){return this.HAS_NATIVE_SUPPORT&&!n?btoa(a):this.encodeByteArray(Qy(a),n)},decodeString(a,n){return this.HAS_NATIVE_SUPPORT&&!n?atob(a):I1(this.decodeStringToByteArray(a,n))},decodeStringToByteArray(a,n){this.init_();const l=n?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let c=0;c<a.length;){const f=l[a.charAt(c++)],m=c<a.length?l[a.charAt(c)]:0;++c;const g=c<a.length?l[a.charAt(c)]:64;++c;const v=c<a.length?l[a.charAt(c)]:64;if(++c,f==null||m==null||g==null||v==null)throw new z1;const b=f<<2|m>>4;if(s.push(b),g!==64){const R=m<<4&240|g>>2;if(s.push(R),v!==64){const I=g<<6&192|v;s.push(I)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let a=0;a<this.ENCODED_VALS.length;a++)this.byteToCharMap_[a]=this.ENCODED_VALS.charAt(a),this.charToByteMap_[this.byteToCharMap_[a]]=a,this.byteToCharMapWebSafe_[a]=this.ENCODED_VALS_WEBSAFE.charAt(a),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[a]]=a,a>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(a)]=a,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(a)]=a)}}};class z1 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Xy=function(a){const n=Qy(a);return zf.encodeByteArray(n,!0)},Vr=function(a){return Xy(a).replace(/\./g,"")},uf=function(a){try{return zf.decodeString(a,!0)}catch(n){console.error("base64Decode failed: ",n)}return null};function L1(a){return Py(void 0,a)}function Py(a,n){if(!(n instanceof Object))return n;switch(n.constructor){case Date:const l=n;return new Date(l.getTime());case Object:a===void 0&&(a={});break;case Array:a=[];break;default:return n}for(const l in n)!n.hasOwnProperty(l)||!U1(l)||(a[l]=Py(a[l],n[l]));return a}function U1(a){return a!=="__proto__"}function H1(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const B1=()=>H1().__FIREBASE_DEFAULTS__,k1=()=>{if(typeof process>"u"||typeof Bp>"u")return;const a=Bp.__FIREBASE_DEFAULTS__;if(a)return JSON.parse(a)},q1=()=>{if(typeof document>"u")return;let a;try{a=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const n=a&&uf(a[1]);return n&&JSON.parse(n)},Zy=()=>{try{return j1()||B1()||k1()||q1()}catch(a){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${a}`);return}},G1=a=>Zy()?.emulatorHosts?.[a],Y1=a=>{const n=G1(a);if(!n)return;const l=n.lastIndexOf(":");if(l<=0||l+1===n.length)throw new Error(`Invalid host ${n} with no separate hostname and port!`);const s=parseInt(n.substring(l+1),10);return n[0]==="["?[n.substring(1,l-1),s]:[n.substring(0,l),s]},Ky=()=>Zy()?.config;class ds{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((n,l)=>{this.resolve=n,this.reject=l})}wrapCallback(n){return(l,s)=>{l?this.reject(l):this.resolve(s),typeof n=="function"&&(this.promise.catch(()=>{}),n.length===1?n(l):n(l,s))}}}function Lf(a){try{return(a.startsWith("http://")||a.startsWith("https://")?new URL(a).hostname:a).endsWith(".cloudworkstations.dev")}catch{return!1}}async function V1(a){return(await fetch(a,{credentials:"include"})).ok}function Q1(a,n){if(a.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const l={alg:"none",type:"JWT"},s=n||"demo-project",c=a.iat||0,f=a.sub||a.user_id;if(!f)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d={iss:`https://securetoken.google.com/${s}`,aud:s,iat:c,exp:c+3600,auth_time:c,sub:f,user_id:f,firebase:{sign_in_provider:"custom",identities:{}},...a};return[Vr(JSON.stringify(l)),Vr(JSON.stringify(d)),""].join(".")}const Zl={};function X1(){const a={prod:[],emulator:[]};for(const n of Object.keys(Zl))Zl[n]?a.emulator.push(n):a.prod.push(n);return a}function P1(a){let n=document.getElementById(a),l=!1;return n||(n=document.createElement("div"),n.setAttribute("id",a),l=!0),{created:l,element:n}}let kp=!1;function Z1(a,n){if(typeof window>"u"||typeof document>"u"||!Lf(window.location.host)||Zl[a]===n||Zl[a]||kp)return;Zl[a]=n;function l(b){return`__firebase__banner__${b}`}const s="__firebase__banner",f=X1().prod.length>0;function d(){const b=document.getElementById(s);b&&b.remove()}function m(b){b.style.display="flex",b.style.background="#7faaf0",b.style.position="fixed",b.style.bottom="5px",b.style.left="5px",b.style.padding=".5em",b.style.borderRadius="5px",b.style.alignItems="center"}function p(b,R){b.setAttribute("width","24"),b.setAttribute("id",R),b.setAttribute("height","24"),b.setAttribute("viewBox","0 0 24 24"),b.setAttribute("fill","none"),b.style.marginLeft="-6px"}function g(){const b=document.createElement("span");return b.style.cursor="pointer",b.style.marginLeft="16px",b.style.fontSize="24px",b.innerHTML=" &times;",b.onclick=()=>{kp=!0,d()},b}function S(b,R){b.setAttribute("id",R),b.innerText="Learn more",b.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",b.setAttribute("target","__blank"),b.style.paddingLeft="5px",b.style.textDecoration="underline"}function v(){const b=P1(s),R=l("text"),I=document.getElementById(R)||document.createElement("span"),H=l("learnmore"),k=document.getElementById(H)||document.createElement("a"),U=l("preprendIcon"),Y=document.getElementById(U)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(b.created){const V=b.element;m(V),S(k,H);const ne=g();p(Y,U),V.append(Y,I,k,ne),document.body.appendChild(V)}f?(I.innerText="Preview backend disconnected.",Y.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(Y.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,I.innerText="Preview backend running in this workspace."),I.setAttribute("id",R)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",v):v()}function K1(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Fy(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(K1())}function F1(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function $1(){return Vy.NODE_ADMIN===!0}function J1(){try{return typeof indexedDB=="object"}catch{return!1}}function W1(){return new Promise((a,n)=>{try{let l=!0;const s="validate-browser-context-for-indexeddb-analytics-module",c=self.indexedDB.open(s);c.onsuccess=()=>{c.result.close(),l||self.indexedDB.deleteDatabase(s),a(!0)},c.onupgradeneeded=()=>{l=!1},c.onerror=()=>{n(c.error?.message||"")}}catch(l){n(l)}})}const eS="FirebaseError";class hs extends Error{constructor(n,l,s){super(l),this.code=n,this.customData=s,this.name=eS,Object.setPrototypeOf(this,hs.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,$y.prototype.create)}}class $y{constructor(n,l,s){this.service=n,this.serviceName=l,this.errors=s}create(n,...l){const s=l[0]||{},c=`${this.service}/${n}`,f=this.errors[n],d=f?tS(f,s):"Error",m=`${this.serviceName}: ${d} (${c}).`;return new hs(c,m,s)}}function tS(a,n){return a.replace(nS,(l,s)=>{const c=n[s];return c!=null?String(c):`<${s}?>`})}const nS=/\{\$([^}]+)}/g;function ts(a){return JSON.parse(a)}function nt(a){return JSON.stringify(a)}const Jy=function(a){let n={},l={},s={},c="";try{const f=a.split(".");n=ts(uf(f[0])||""),l=ts(uf(f[1])||""),c=f[2],s=l.d||{},delete l.d}catch{}return{header:n,claims:l,data:s,signature:c}},iS=function(a){const n=Jy(a),l=n.claims;return!!l&&typeof l=="object"&&l.hasOwnProperty("iat")},aS=function(a){const n=Jy(a).claims;return typeof n=="object"&&n.admin===!0};function hn(a,n){return Object.prototype.hasOwnProperty.call(a,n)}function Ua(a,n){if(Object.prototype.hasOwnProperty.call(a,n))return a[n]}function qp(a){for(const n in a)if(Object.prototype.hasOwnProperty.call(a,n))return!1;return!0}function Qr(a,n,l){const s={};for(const c in a)Object.prototype.hasOwnProperty.call(a,c)&&(s[c]=n.call(l,a[c],c,a));return s}function Xr(a,n){if(a===n)return!0;const l=Object.keys(a),s=Object.keys(n);for(const c of l){if(!s.includes(c))return!1;const f=a[c],d=n[c];if(Gp(f)&&Gp(d)){if(!Xr(f,d))return!1}else if(f!==d)return!1}for(const c of s)if(!l.includes(c))return!1;return!0}function Gp(a){return a!==null&&typeof a=="object"}function lS(a){const n=[];for(const[l,s]of Object.entries(a))Array.isArray(s)?s.forEach(c=>{n.push(encodeURIComponent(l)+"="+encodeURIComponent(c))}):n.push(encodeURIComponent(l)+"="+encodeURIComponent(s));return n.length?"&"+n.join("&"):""}class sS{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=512/8,this.pad_[0]=128;for(let n=1;n<this.blockSize;++n)this.pad_[n]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(n,l){l||(l=0);const s=this.W_;if(typeof n=="string")for(let v=0;v<16;v++)s[v]=n.charCodeAt(l)<<24|n.charCodeAt(l+1)<<16|n.charCodeAt(l+2)<<8|n.charCodeAt(l+3),l+=4;else for(let v=0;v<16;v++)s[v]=n[l]<<24|n[l+1]<<16|n[l+2]<<8|n[l+3],l+=4;for(let v=16;v<80;v++){const b=s[v-3]^s[v-8]^s[v-14]^s[v-16];s[v]=(b<<1|b>>>31)&4294967295}let c=this.chain_[0],f=this.chain_[1],d=this.chain_[2],m=this.chain_[3],p=this.chain_[4],g,S;for(let v=0;v<80;v++){v<40?v<20?(g=m^f&(d^m),S=1518500249):(g=f^d^m,S=1859775393):v<60?(g=f&d|m&(f|d),S=2400959708):(g=f^d^m,S=3395469782);const b=(c<<5|c>>>27)+g+p+S+s[v]&4294967295;p=m,m=d,d=(f<<30|f>>>2)&4294967295,f=c,c=b}this.chain_[0]=this.chain_[0]+c&4294967295,this.chain_[1]=this.chain_[1]+f&4294967295,this.chain_[2]=this.chain_[2]+d&4294967295,this.chain_[3]=this.chain_[3]+m&4294967295,this.chain_[4]=this.chain_[4]+p&4294967295}update(n,l){if(n==null)return;l===void 0&&(l=n.length);const s=l-this.blockSize;let c=0;const f=this.buf_;let d=this.inbuf_;for(;c<l;){if(d===0)for(;c<=s;)this.compress_(n,c),c+=this.blockSize;if(typeof n=="string"){for(;c<l;)if(f[d]=n.charCodeAt(c),++d,++c,d===this.blockSize){this.compress_(f),d=0;break}}else for(;c<l;)if(f[d]=n[c],++d,++c,d===this.blockSize){this.compress_(f),d=0;break}}this.inbuf_=d,this.total_+=l}digest(){const n=[];let l=this.total_*8;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let c=this.blockSize-1;c>=56;c--)this.buf_[c]=l&255,l/=256;this.compress_(this.buf_);let s=0;for(let c=0;c<5;c++)for(let f=24;f>=0;f-=8)n[s]=this.chain_[c]>>f&255,++s;return n}}function cc(a,n){return`${a} failed: ${n} argument `}const rS=function(a){const n=[];let l=0;for(let s=0;s<a.length;s++){let c=a.charCodeAt(s);if(c>=55296&&c<=56319){const f=c-55296;s++,B(s<a.length,"Surrogate pair missing trail surrogate.");const d=a.charCodeAt(s)-56320;c=65536+(f<<10)+d}c<128?n[l++]=c:c<2048?(n[l++]=c>>6|192,n[l++]=c&63|128):c<65536?(n[l++]=c>>12|224,n[l++]=c>>6&63|128,n[l++]=c&63|128):(n[l++]=c>>18|240,n[l++]=c>>12&63|128,n[l++]=c>>6&63|128,n[l++]=c&63|128)}return n},oc=function(a){let n=0;for(let l=0;l<a.length;l++){const s=a.charCodeAt(l);s<128?n++:s<2048?n+=2:s>=55296&&s<=56319?(n+=4,l++):n+=3}return n};function Va(a){return a&&a._delegate?a._delegate:a}class ns{constructor(n,l,s){this.name=n,this.instanceFactory=l,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(n){return this.instantiationMode=n,this}setMultipleInstances(n){return this.multipleInstances=n,this}setServiceProps(n){return this.serviceProps=n,this}setInstanceCreatedCallback(n){return this.onInstanceCreated=n,this}}const Hi="[DEFAULT]";class cS{constructor(n,l){this.name=n,this.container=l,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(n){const l=this.normalizeInstanceIdentifier(n);if(!this.instancesDeferred.has(l)){const s=new ds;if(this.instancesDeferred.set(l,s),this.isInitialized(l)||this.shouldAutoInitialize())try{const c=this.getOrInitializeService({instanceIdentifier:l});c&&s.resolve(c)}catch{}}return this.instancesDeferred.get(l).promise}getImmediate(n){const l=this.normalizeInstanceIdentifier(n?.identifier),s=n?.optional??!1;if(this.isInitialized(l)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:l})}catch(c){if(s)return null;throw c}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(n){if(n.name!==this.name)throw Error(`Mismatching Component ${n.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=n,!!this.shouldAutoInitialize()){if(uS(n))try{this.getOrInitializeService({instanceIdentifier:Hi})}catch{}for(const[l,s]of this.instancesDeferred.entries()){const c=this.normalizeInstanceIdentifier(l);try{const f=this.getOrInitializeService({instanceIdentifier:c});s.resolve(f)}catch{}}}}clearInstance(n=Hi){this.instancesDeferred.delete(n),this.instancesOptions.delete(n),this.instances.delete(n)}async delete(){const n=Array.from(this.instances.values());await Promise.all([...n.filter(l=>"INTERNAL"in l).map(l=>l.INTERNAL.delete()),...n.filter(l=>"_delete"in l).map(l=>l._delete())])}isComponentSet(){return this.component!=null}isInitialized(n=Hi){return this.instances.has(n)}getOptions(n=Hi){return this.instancesOptions.get(n)||{}}initialize(n={}){const{options:l={}}=n,s=this.normalizeInstanceIdentifier(n.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const c=this.getOrInitializeService({instanceIdentifier:s,options:l});for(const[f,d]of this.instancesDeferred.entries()){const m=this.normalizeInstanceIdentifier(f);s===m&&d.resolve(c)}return c}onInit(n,l){const s=this.normalizeInstanceIdentifier(l),c=this.onInitCallbacks.get(s)??new Set;c.add(n),this.onInitCallbacks.set(s,c);const f=this.instances.get(s);return f&&n(f,s),()=>{c.delete(n)}}invokeOnInitCallbacks(n,l){const s=this.onInitCallbacks.get(l);if(s)for(const c of s)try{c(n,l)}catch{}}getOrInitializeService({instanceIdentifier:n,options:l={}}){let s=this.instances.get(n);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:oS(n),options:l}),this.instances.set(n,s),this.instancesOptions.set(n,l),this.invokeOnInitCallbacks(s,n),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,n,s)}catch{}return s||null}normalizeInstanceIdentifier(n=Hi){return this.component?this.component.multipleInstances?n:Hi:n}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function oS(a){return a===Hi?void 0:a}function uS(a){return a.instantiationMode==="EAGER"}class fS{constructor(n){this.name=n,this.providers=new Map}addComponent(n){const l=this.getProvider(n.name);if(l.isComponentSet())throw new Error(`Component ${n.name} has already been registered with ${this.name}`);l.setComponent(n)}addOrOverwriteComponent(n){this.getProvider(n.name).isComponentSet()&&this.providers.delete(n.name),this.addComponent(n)}getProvider(n){if(this.providers.has(n))return this.providers.get(n);const l=new cS(n,this);return this.providers.set(n,l),l}getProviders(){return Array.from(this.providers.values())}}var Ue;(function(a){a[a.DEBUG=0]="DEBUG",a[a.VERBOSE=1]="VERBOSE",a[a.INFO=2]="INFO",a[a.WARN=3]="WARN",a[a.ERROR=4]="ERROR",a[a.SILENT=5]="SILENT"})(Ue||(Ue={}));const dS={debug:Ue.DEBUG,verbose:Ue.VERBOSE,info:Ue.INFO,warn:Ue.WARN,error:Ue.ERROR,silent:Ue.SILENT},hS=Ue.INFO,mS={[Ue.DEBUG]:"log",[Ue.VERBOSE]:"log",[Ue.INFO]:"info",[Ue.WARN]:"warn",[Ue.ERROR]:"error"},gS=(a,n,...l)=>{if(n<a.logLevel)return;const s=new Date().toISOString(),c=mS[n];if(c)console[c](`[${s}]  ${a.name}:`,...l);else throw new Error(`Attempted to log a message with an invalid logType (value: ${n})`)};class Wy{constructor(n){this.name=n,this._logLevel=hS,this._logHandler=gS,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(n){if(!(n in Ue))throw new TypeError(`Invalid value "${n}" assigned to \`logLevel\``);this._logLevel=n}setLogLevel(n){this._logLevel=typeof n=="string"?dS[n]:n}get logHandler(){return this._logHandler}set logHandler(n){if(typeof n!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=n}get userLogHandler(){return this._userLogHandler}set userLogHandler(n){this._userLogHandler=n}debug(...n){this._userLogHandler&&this._userLogHandler(this,Ue.DEBUG,...n),this._logHandler(this,Ue.DEBUG,...n)}log(...n){this._userLogHandler&&this._userLogHandler(this,Ue.VERBOSE,...n),this._logHandler(this,Ue.VERBOSE,...n)}info(...n){this._userLogHandler&&this._userLogHandler(this,Ue.INFO,...n),this._logHandler(this,Ue.INFO,...n)}warn(...n){this._userLogHandler&&this._userLogHandler(this,Ue.WARN,...n),this._logHandler(this,Ue.WARN,...n)}error(...n){this._userLogHandler&&this._userLogHandler(this,Ue.ERROR,...n),this._logHandler(this,Ue.ERROR,...n)}}const pS=(a,n)=>n.some(l=>a instanceof l);let Yp,Vp;function yS(){return Yp||(Yp=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function _S(){return Vp||(Vp=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const e_=new WeakMap,ff=new WeakMap,t_=new WeakMap,Zu=new WeakMap,Uf=new WeakMap;function vS(a){const n=new Promise((l,s)=>{const c=()=>{a.removeEventListener("success",f),a.removeEventListener("error",d)},f=()=>{l(fi(a.result)),c()},d=()=>{s(a.error),c()};a.addEventListener("success",f),a.addEventListener("error",d)});return n.then(l=>{l instanceof IDBCursor&&e_.set(l,a)}).catch(()=>{}),Uf.set(n,a),n}function bS(a){if(ff.has(a))return;const n=new Promise((l,s)=>{const c=()=>{a.removeEventListener("complete",f),a.removeEventListener("error",d),a.removeEventListener("abort",d)},f=()=>{l(),c()},d=()=>{s(a.error||new DOMException("AbortError","AbortError")),c()};a.addEventListener("complete",f),a.addEventListener("error",d),a.addEventListener("abort",d)});ff.set(a,n)}let df={get(a,n,l){if(a instanceof IDBTransaction){if(n==="done")return ff.get(a);if(n==="objectStoreNames")return a.objectStoreNames||t_.get(a);if(n==="store")return l.objectStoreNames[1]?void 0:l.objectStore(l.objectStoreNames[0])}return fi(a[n])},set(a,n,l){return a[n]=l,!0},has(a,n){return a instanceof IDBTransaction&&(n==="done"||n==="store")?!0:n in a}};function SS(a){df=a(df)}function xS(a){return a===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(n,...l){const s=a.call(Ku(this),n,...l);return t_.set(s,n.sort?n.sort():[n]),fi(s)}:_S().includes(a)?function(...n){return a.apply(Ku(this),n),fi(e_.get(this))}:function(...n){return fi(a.apply(Ku(this),n))}}function ES(a){return typeof a=="function"?xS(a):(a instanceof IDBTransaction&&bS(a),pS(a,yS())?new Proxy(a,df):a)}function fi(a){if(a instanceof IDBRequest)return vS(a);if(Zu.has(a))return Zu.get(a);const n=ES(a);return n!==a&&(Zu.set(a,n),Uf.set(n,a)),n}const Ku=a=>Uf.get(a);function CS(a,n,{blocked:l,upgrade:s,blocking:c,terminated:f}={}){const d=indexedDB.open(a,n),m=fi(d);return s&&d.addEventListener("upgradeneeded",p=>{s(fi(d.result),p.oldVersion,p.newVersion,fi(d.transaction),p)}),l&&d.addEventListener("blocked",p=>l(p.oldVersion,p.newVersion,p)),m.then(p=>{f&&p.addEventListener("close",()=>f()),c&&p.addEventListener("versionchange",g=>c(g.oldVersion,g.newVersion,g))}).catch(()=>{}),m}const TS=["get","getKey","getAll","getAllKeys","count"],NS=["put","add","delete","clear"],Fu=new Map;function Qp(a,n){if(!(a instanceof IDBDatabase&&!(n in a)&&typeof n=="string"))return;if(Fu.get(n))return Fu.get(n);const l=n.replace(/FromIndex$/,""),s=n!==l,c=NS.includes(l);if(!(l in(s?IDBIndex:IDBObjectStore).prototype)||!(c||TS.includes(l)))return;const f=async function(d,...m){const p=this.transaction(d,c?"readwrite":"readonly");let g=p.store;return s&&(g=g.index(m.shift())),(await Promise.all([g[l](...m),c&&p.done]))[0]};return Fu.set(n,f),f}SS(a=>({...a,get:(n,l,s)=>Qp(n,l)||a.get(n,l,s),has:(n,l)=>!!Qp(n,l)||a.has(n,l)}));class wS{constructor(n){this.container=n}getPlatformInfoString(){return this.container.getProviders().map(l=>{if(AS(l)){const s=l.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(l=>l).join(" ")}}function AS(a){return a.getComponent()?.type==="VERSION"}const hf="@firebase/app",Xp="0.14.8";const Ln=new Wy("@firebase/app"),RS="@firebase/app-compat",MS="@firebase/analytics-compat",DS="@firebase/analytics",OS="@firebase/app-check-compat",jS="@firebase/app-check",IS="@firebase/auth",zS="@firebase/auth-compat",LS="@firebase/database",US="@firebase/data-connect",HS="@firebase/database-compat",BS="@firebase/functions",kS="@firebase/functions-compat",qS="@firebase/installations",GS="@firebase/installations-compat",YS="@firebase/messaging",VS="@firebase/messaging-compat",QS="@firebase/performance",XS="@firebase/performance-compat",PS="@firebase/remote-config",ZS="@firebase/remote-config-compat",KS="@firebase/storage",FS="@firebase/storage-compat",$S="@firebase/firestore",JS="@firebase/ai",WS="@firebase/firestore-compat",ex="firebase",tx="12.9.0";const mf="[DEFAULT]",nx={[hf]:"fire-core",[RS]:"fire-core-compat",[DS]:"fire-analytics",[MS]:"fire-analytics-compat",[jS]:"fire-app-check",[OS]:"fire-app-check-compat",[IS]:"fire-auth",[zS]:"fire-auth-compat",[LS]:"fire-rtdb",[US]:"fire-data-connect",[HS]:"fire-rtdb-compat",[BS]:"fire-fn",[kS]:"fire-fn-compat",[qS]:"fire-iid",[GS]:"fire-iid-compat",[YS]:"fire-fcm",[VS]:"fire-fcm-compat",[QS]:"fire-perf",[XS]:"fire-perf-compat",[PS]:"fire-rc",[ZS]:"fire-rc-compat",[KS]:"fire-gcs",[FS]:"fire-gcs-compat",[$S]:"fire-fst",[WS]:"fire-fst-compat",[JS]:"fire-vertex","fire-js":"fire-js",[ex]:"fire-js-all"};const Pr=new Map,ix=new Map,gf=new Map;function Pp(a,n){try{a.container.addComponent(n)}catch(l){Ln.debug(`Component ${n.name} failed to register with FirebaseApp ${a.name}`,l)}}function Zr(a){const n=a.name;if(gf.has(n))return Ln.debug(`There were multiple attempts to register component ${n}.`),!1;gf.set(n,a);for(const l of Pr.values())Pp(l,a);for(const l of ix.values())Pp(l,a);return!0}function ax(a,n){const l=a.container.getProvider("heartbeat").getImmediate({optional:!0});return l&&l.triggerHeartbeat(),a.container.getProvider(n)}function lx(a){return a==null?!1:a.settings!==void 0}const sx={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},di=new $y("app","Firebase",sx);class rx{constructor(n,l,s){this._isDeleted=!1,this._options={...n},this._config={...l},this._name=l.name,this._automaticDataCollectionEnabled=l.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new ns("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(n){this.checkDestroyed(),this._automaticDataCollectionEnabled=n}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(n){this._isDeleted=n}checkDestroyed(){if(this.isDeleted)throw di.create("app-deleted",{appName:this._name})}}const cx=tx;function n_(a,n={}){let l=a;typeof n!="object"&&(n={name:n});const s={name:mf,automaticDataCollectionEnabled:!0,...n},c=s.name;if(typeof c!="string"||!c)throw di.create("bad-app-name",{appName:String(c)});if(l||(l=Ky()),!l)throw di.create("no-options");const f=Pr.get(c);if(f){if(Xr(l,f.options)&&Xr(s,f.config))return f;throw di.create("duplicate-app",{appName:c})}const d=new fS(c);for(const p of gf.values())d.addComponent(p);const m=new rx(l,s,d);return Pr.set(c,m),m}function ox(a=mf){const n=Pr.get(a);if(!n&&a===mf&&Ky())return n_();if(!n)throw di.create("no-app",{appName:a});return n}function Ia(a,n,l){let s=nx[a]??a;l&&(s+=`-${l}`);const c=s.match(/\s|\//),f=n.match(/\s|\//);if(c||f){const d=[`Unable to register library "${s}" with version "${n}":`];c&&d.push(`library name "${s}" contains illegal characters (whitespace or "/")`),c&&f&&d.push("and"),f&&d.push(`version name "${n}" contains illegal characters (whitespace or "/")`),Ln.warn(d.join(" "));return}Zr(new ns(`${s}-version`,()=>({library:s,version:n}),"VERSION"))}const ux="firebase-heartbeat-database",fx=1,is="firebase-heartbeat-store";let $u=null;function i_(){return $u||($u=CS(ux,fx,{upgrade:(a,n)=>{switch(n){case 0:try{a.createObjectStore(is)}catch(l){console.warn(l)}}}}).catch(a=>{throw di.create("idb-open",{originalErrorMessage:a.message})})),$u}async function dx(a){try{const l=(await i_()).transaction(is),s=await l.objectStore(is).get(a_(a));return await l.done,s}catch(n){if(n instanceof hs)Ln.warn(n.message);else{const l=di.create("idb-get",{originalErrorMessage:n?.message});Ln.warn(l.message)}}}async function Zp(a,n){try{const s=(await i_()).transaction(is,"readwrite");await s.objectStore(is).put(n,a_(a)),await s.done}catch(l){if(l instanceof hs)Ln.warn(l.message);else{const s=di.create("idb-set",{originalErrorMessage:l?.message});Ln.warn(s.message)}}}function a_(a){return`${a.name}!${a.options.appId}`}const hx=1024,mx=30;class gx{constructor(n){this.container=n,this._heartbeatsCache=null;const l=this.container.getProvider("app").getImmediate();this._storage=new yx(l),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){try{const l=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=Kp();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(c=>c.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:l}),this._heartbeatsCache.heartbeats.length>mx){const c=_x(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(c,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(n){Ln.warn(n)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=Kp(),{heartbeatsToSend:l,unsentEntries:s}=px(this._heartbeatsCache.heartbeats),c=Vr(JSON.stringify({version:2,heartbeats:l}));return this._heartbeatsCache.lastSentHeartbeatDate=n,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),c}catch(n){return Ln.warn(n),""}}}function Kp(){return new Date().toISOString().substring(0,10)}function px(a,n=hx){const l=[];let s=a.slice();for(const c of a){const f=l.find(d=>d.agent===c.agent);if(f){if(f.dates.push(c.date),Fp(l)>n){f.dates.pop();break}}else if(l.push({agent:c.agent,dates:[c.date]}),Fp(l)>n){l.pop();break}s=s.slice(1)}return{heartbeatsToSend:l,unsentEntries:s}}class yx{constructor(n){this.app=n,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return J1()?W1().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const l=await dx(this.app);return l?.heartbeats?l:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(n){if(await this._canUseIndexedDBPromise){const s=await this.read();return Zp(this.app,{lastSentHeartbeatDate:n.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:n.heartbeats})}else return}async add(n){if(await this._canUseIndexedDBPromise){const s=await this.read();return Zp(this.app,{lastSentHeartbeatDate:n.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...n.heartbeats]})}else return}}function Fp(a){return Vr(JSON.stringify({version:2,heartbeats:a})).length}function _x(a){if(a.length===0)return-1;let n=0,l=a[0].date;for(let s=1;s<a.length;s++)a[s].date<l&&(l=a[s].date,n=s);return n}function vx(a){Zr(new ns("platform-logger",n=>new wS(n),"PRIVATE")),Zr(new ns("heartbeat",n=>new gx(n),"PRIVATE")),Ia(hf,Xp,a),Ia(hf,Xp,"esm2020"),Ia("fire-js","")}vx("");var bx="firebase",Sx="12.9.0";Ia(bx,Sx,"app");var $p={};const Jp="@firebase/database",Wp="1.1.0";let l_="";function xx(a){l_=a}class Ex{constructor(n){this.domStorage_=n,this.prefix_="firebase:"}set(n,l){l==null?this.domStorage_.removeItem(this.prefixedName_(n)):this.domStorage_.setItem(this.prefixedName_(n),nt(l))}get(n){const l=this.domStorage_.getItem(this.prefixedName_(n));return l==null?null:ts(l)}remove(n){this.domStorage_.removeItem(this.prefixedName_(n))}prefixedName_(n){return this.prefix_+n}toString(){return this.domStorage_.toString()}}class Cx{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(n,l){l==null?delete this.cache_[n]:this.cache_[n]=l}get(n){return hn(this.cache_,n)?this.cache_[n]:null}remove(n){delete this.cache_[n]}}const s_=function(a){try{if(typeof window<"u"&&typeof window[a]<"u"){const n=window[a];return n.setItem("firebase:sentinel","cache"),n.removeItem("firebase:sentinel"),new Ex(n)}}catch{}return new Cx},ki=s_("localStorage"),Tx=s_("sessionStorage");const za=new Wy("@firebase/database"),Nx=(function(){let a=1;return function(){return a++}})(),r_=function(a){const n=rS(a),l=new sS;l.update(n);const s=l.digest();return zf.encodeByteArray(s)},ms=function(...a){let n="";for(let l=0;l<a.length;l++){const s=a[l];Array.isArray(s)||s&&typeof s=="object"&&typeof s.length=="number"?n+=ms.apply(null,s):typeof s=="object"?n+=nt(s):n+=s,n+=" "}return n};let Kl=null,ey=!0;const wx=function(a,n){B(!0,"Can't turn on custom loggers persistently."),za.logLevel=Ue.VERBOSE,Kl=za.log.bind(za)},dt=function(...a){if(ey===!0&&(ey=!1,Kl===null&&Tx.get("logging_enabled")===!0&&wx()),Kl){const n=ms.apply(null,a);Kl(n)}},gs=function(a){return function(...n){dt(a,...n)}},pf=function(...a){const n="FIREBASE INTERNAL ERROR: "+ms(...a);za.error(n)},Un=function(...a){const n=`FIREBASE FATAL ERROR: ${ms(...a)}`;throw za.error(n),new Error(n)},bt=function(...a){const n="FIREBASE WARNING: "+ms(...a);za.warn(n)},Ax=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&bt("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},Hf=function(a){return typeof a=="number"&&(a!==a||a===Number.POSITIVE_INFINITY||a===Number.NEGATIVE_INFINITY)},Rx=function(a){if(document.readyState==="complete")a();else{let n=!1;const l=function(){if(!document.body){setTimeout(l,Math.floor(10));return}n||(n=!0,a())};document.addEventListener?(document.addEventListener("DOMContentLoaded",l,!1),window.addEventListener("load",l,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{document.readyState==="complete"&&l()}),window.attachEvent("onload",l))}},Ha="[MIN_NAME]",qi="[MAX_NAME]",Vi=function(a,n){if(a===n)return 0;if(a===Ha||n===qi)return-1;if(n===Ha||a===qi)return 1;{const l=ty(a),s=ty(n);return l!==null?s!==null?l-s===0?a.length-n.length:l-s:-1:s!==null?1:a<n?-1:1}},Mx=function(a,n){return a===n?0:a<n?-1:1},Yl=function(a,n){if(n&&a in n)return n[a];throw new Error("Missing required key ("+a+") in object: "+nt(n))},Bf=function(a){if(typeof a!="object"||a===null)return nt(a);const n=[];for(const s in a)n.push(s);n.sort();let l="{";for(let s=0;s<n.length;s++)s!==0&&(l+=","),l+=nt(n[s]),l+=":",l+=Bf(a[n[s]]);return l+="}",l},c_=function(a,n){const l=a.length;if(l<=n)return[a];const s=[];for(let c=0;c<l;c+=n)c+n>l?s.push(a.substring(c,l)):s.push(a.substring(c,c+n));return s};function ht(a,n){for(const l in a)a.hasOwnProperty(l)&&n(l,a[l])}const o_=function(a){B(!Hf(a),"Invalid JSON number");const n=11,l=52,s=(1<<n-1)-1;let c,f,d,m,p;a===0?(f=0,d=0,c=1/a===-1/0?1:0):(c=a<0,a=Math.abs(a),a>=Math.pow(2,1-s)?(m=Math.min(Math.floor(Math.log(a)/Math.LN2),s),f=m+s,d=Math.round(a*Math.pow(2,l-m)-Math.pow(2,l))):(f=0,d=Math.round(a/Math.pow(2,1-s-l))));const g=[];for(p=l;p;p-=1)g.push(d%2?1:0),d=Math.floor(d/2);for(p=n;p;p-=1)g.push(f%2?1:0),f=Math.floor(f/2);g.push(c?1:0),g.reverse();const S=g.join("");let v="";for(p=0;p<64;p+=8){let b=parseInt(S.substr(p,8),2).toString(16);b.length===1&&(b="0"+b),v=v+b}return v.toLowerCase()},Dx=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},Ox=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"};function jx(a,n){let l="Unknown Error";a==="too_big"?l="The data requested exceeds the maximum size that can be accessed with a single request.":a==="permission_denied"?l="Client doesn't have permission to access the desired data.":a==="unavailable"&&(l="The service is unavailable");const s=new Error(a+" at "+n._path.toString()+": "+l);return s.code=a.toUpperCase(),s}const Ix=new RegExp("^-?(0*)\\d{1,10}$"),zx=-2147483648,Lx=2147483647,ty=function(a){if(Ix.test(a)){const n=Number(a);if(n>=zx&&n<=Lx)return n}return null},Qa=function(a){try{a()}catch(n){setTimeout(()=>{const l=n.stack||"";throw bt("Exception was thrown by user callback.",l),n},Math.floor(0))}},Ux=function(){return(typeof window=="object"&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},Fl=function(a,n){const l=setTimeout(a,n);return typeof l=="number"&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(l):typeof l=="object"&&l.unref&&l.unref(),l};class Hx{constructor(n,l){this.appCheckProvider=l,this.appName=n.name,lx(n)&&n.settings.appCheckToken&&(this.serverAppAppCheckToken=n.settings.appCheckToken),this.appCheck=l?.getImmediate({optional:!0}),this.appCheck||l?.get().then(s=>this.appCheck=s)}getToken(n){if(this.serverAppAppCheckToken){if(n)throw new Error("Attempted reuse of `FirebaseServerApp.appCheckToken` after previous usage failed.");return Promise.resolve({token:this.serverAppAppCheckToken})}return this.appCheck?this.appCheck.getToken(n):new Promise((l,s)=>{setTimeout(()=>{this.appCheck?this.getToken(n).then(l,s):l(null)},0)})}addTokenChangeListener(n){this.appCheckProvider?.get().then(l=>l.addTokenListener(n))}notifyForInvalidToken(){bt(`Provided AppCheck credentials for the app named "${this.appName}" are invalid. This usually indicates your app was not initialized correctly.`)}}class Bx{constructor(n,l,s){this.appName_=n,this.firebaseOptions_=l,this.authProvider_=s,this.auth_=null,this.auth_=s.getImmediate({optional:!0}),this.auth_||s.onInit(c=>this.auth_=c)}getToken(n){return this.auth_?this.auth_.getToken(n).catch(l=>l&&l.code==="auth/token-not-initialized"?(dt("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(l)):new Promise((l,s)=>{setTimeout(()=>{this.auth_?this.getToken(n).then(l,s):l(null)},0)})}addTokenChangeListener(n){this.auth_?this.auth_.addAuthTokenListener(n):this.authProvider_.get().then(l=>l.addAuthTokenListener(n))}removeTokenChangeListener(n){this.authProvider_.get().then(l=>l.removeAuthTokenListener(n))}notifyForInvalidToken(){let n='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?n+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?n+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':n+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',bt(n)}}class Gr{constructor(n){this.accessToken=n}getToken(n){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(n){n(this.accessToken)}removeTokenChangeListener(n){}notifyForInvalidToken(){}}Gr.OWNER="owner";const kf="5",u_="v",f_="s",d_="r",h_="f",m_=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,g_="ls",p_="p",yf="ac",y_="websocket",__="long_polling";class v_{constructor(n,l,s,c,f=!1,d="",m=!1,p=!1,g=null){this.secure=l,this.namespace=s,this.webSocketOnly=c,this.nodeAdmin=f,this.persistenceKey=d,this.includeNamespaceInQueryParams=m,this.isUsingEmulator=p,this.emulatorOptions=g,this._host=n.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=ki.get("host:"+n)||this._host}isCacheableHost(){return this.internalHost.substr(0,2)==="s-"}isCustomHost(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"}get host(){return this._host}set host(n){n!==this.internalHost&&(this.internalHost=n,this.isCacheableHost()&&ki.set("host:"+this._host,this.internalHost))}toString(){let n=this.toURLString();return this.persistenceKey&&(n+="<"+this.persistenceKey+">"),n}toURLString(){const n=this.secure?"https://":"http://",l=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${n}${this.host}/${l}`}}function kx(a){return a.host!==a.internalHost||a.isCustomHost()||a.includeNamespaceInQueryParams}function b_(a,n,l){B(typeof n=="string","typeof type must == string"),B(typeof l=="object","typeof params must == object");let s;if(n===y_)s=(a.secure?"wss://":"ws://")+a.internalHost+"/.ws?";else if(n===__)s=(a.secure?"https://":"http://")+a.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+n);kx(a)&&(l.ns=a.namespace);const c=[];return ht(l,(f,d)=>{c.push(f+"="+d)}),s+c.join("&")}class qx{constructor(){this.counters_={}}incrementCounter(n,l=1){hn(this.counters_,n)||(this.counters_[n]=0),this.counters_[n]+=l}get(){return L1(this.counters_)}}const Ju={},Wu={};function qf(a){const n=a.toString();return Ju[n]||(Ju[n]=new qx),Ju[n]}function Gx(a,n){const l=a.toString();return Wu[l]||(Wu[l]=n()),Wu[l]}class Yx{constructor(n){this.onMessage_=n,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(n,l){this.closeAfterResponse=n,this.onClose=l,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(n,l){for(this.pendingResponses[n]=l;this.pendingResponses[this.currentResponseNum];){const s=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let c=0;c<s.length;++c)s[c]&&Qa(()=>{this.onMessage_(s[c])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}const ny="start",Vx="close",Qx="pLPCommand",Xx="pRTLPCB",S_="id",x_="pw",E_="ser",Px="cb",Zx="seg",Kx="ts",Fx="d",$x="dframe",C_=1870,T_=30,Jx=C_-T_,Wx=25e3,eE=3e4;class ja{constructor(n,l,s,c,f,d,m){this.connId=n,this.repoInfo=l,this.applicationId=s,this.appCheckToken=c,this.authToken=f,this.transportSessionId=d,this.lastSessionId=m,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=gs(n),this.stats_=qf(l),this.urlFn=p=>(this.appCheckToken&&(p[yf]=this.appCheckToken),b_(l,__,p))}open(n,l){this.curSegmentNum=0,this.onDisconnect_=l,this.myPacketOrderer=new Yx(n),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(eE)),Rx(()=>{if(this.isClosed_)return;this.scriptTagHolder=new Gf((...f)=>{const[d,m,p,g,S]=f;if(this.incrementIncomingBytes_(f),!!this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,d===ny)this.id=m,this.password=p;else if(d===Vx)m?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(m,()=>{this.onClosed_()})):this.onClosed_();else throw new Error("Unrecognized command received: "+d)},(...f)=>{const[d,m]=f;this.incrementIncomingBytes_(f),this.myPacketOrderer.handleResponse(d,m)},()=>{this.onClosed_()},this.urlFn);const s={};s[ny]="t",s[E_]=Math.floor(Math.random()*1e8),this.scriptTagHolder.uniqueCallbackIdentifier&&(s[Px]=this.scriptTagHolder.uniqueCallbackIdentifier),s[u_]=kf,this.transportSessionId&&(s[f_]=this.transportSessionId),this.lastSessionId&&(s[g_]=this.lastSessionId),this.applicationId&&(s[p_]=this.applicationId),this.appCheckToken&&(s[yf]=this.appCheckToken),typeof location<"u"&&location.hostname&&m_.test(location.hostname)&&(s[d_]=h_);const c=this.urlFn(s);this.log_("Connecting via long-poll to "+c),this.scriptTagHolder.addTag(c,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){ja.forceAllow_=!0}static forceDisallow(){ja.forceDisallow_=!0}static isAvailable(){return ja.forceAllow_?!0:!ja.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!Dx()&&!Ox()}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(n){const l=nt(n);this.bytesSent+=l.length,this.stats_.incrementCounter("bytes_sent",l.length);const s=Xy(l),c=c_(s,Jx);for(let f=0;f<c.length;f++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,c.length,c[f]),this.curSegmentNum++}addDisconnectPingFrame(n,l){this.myDisconnFrame=document.createElement("iframe");const s={};s[$x]="t",s[S_]=n,s[x_]=l,this.myDisconnFrame.src=this.urlFn(s),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(n){const l=nt(n).length;this.bytesReceived+=l,this.stats_.incrementCounter("bytes_received",l)}}class Gf{constructor(n,l,s,c){this.onDisconnect=s,this.urlFn=c,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0;{this.uniqueCallbackIdentifier=Nx(),window[Qx+this.uniqueCallbackIdentifier]=n,window[Xx+this.uniqueCallbackIdentifier]=l,this.myIFrame=Gf.createIFrame_();let f="";this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"&&(f='<script>document.domain="'+document.domain+'";<\/script>');const d="<html><body>"+f+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(d),this.myIFrame.doc.close()}catch(m){dt("frame writing exception"),m.stack&&dt(m.stack),dt(m)}}}static createIFrame_(){const n=document.createElement("iframe");if(n.style.display="none",document.body){document.body.appendChild(n);try{n.contentWindow.document||dt("No IE domain setting required")}catch{const s=document.domain;n.src="javascript:void((function(){document.open();document.domain='"+s+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return n.contentDocument?n.doc=n.contentDocument:n.contentWindow?n.doc=n.contentWindow.document:n.document&&(n.doc=n.document),n}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{this.myIFrame!==null&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const n=this.onDisconnect;n&&(this.onDisconnect=null,n())}startLongPoll(n,l){for(this.myID=n,this.myPW=l,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const n={};n[S_]=this.myID,n[x_]=this.myPW,n[E_]=this.currentSerial;let l=this.urlFn(n),s="",c=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+T_+s.length<=C_;){const d=this.pendingSegs.shift();s=s+"&"+Zx+c+"="+d.seg+"&"+Kx+c+"="+d.ts+"&"+Fx+c+"="+d.d,c++}return l=l+s,this.addLongPollTag_(l,this.currentSerial),!0}else return!1}enqueueSegment(n,l,s){this.pendingSegs.push({seg:n,ts:l,d:s}),this.alive&&this.newRequest_()}addLongPollTag_(n,l){this.outstandingRequests.add(l);const s=()=>{this.outstandingRequests.delete(l),this.newRequest_()},c=setTimeout(s,Math.floor(Wx)),f=()=>{clearTimeout(c),s()};this.addTag(n,f)}addTag(n,l){setTimeout(()=>{try{if(!this.sendNewPolls)return;const s=this.myIFrame.doc.createElement("script");s.type="text/javascript",s.async=!0,s.src=n,s.onload=s.onreadystatechange=function(){const c=s.readyState;(!c||c==="loaded"||c==="complete")&&(s.onload=s.onreadystatechange=null,s.parentNode&&s.parentNode.removeChild(s),l())},s.onerror=()=>{dt("Long-poll script failed to load: "+n),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(s)}catch{}},Math.floor(1))}}const tE=16384,nE=45e3;let Kr=null;typeof MozWebSocket<"u"?Kr=MozWebSocket:typeof WebSocket<"u"&&(Kr=WebSocket);class ln{constructor(n,l,s,c,f,d,m){this.connId=n,this.applicationId=s,this.appCheckToken=c,this.authToken=f,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=gs(this.connId),this.stats_=qf(l),this.connURL=ln.connectionURL_(l,d,m,c,s),this.nodeAdmin=l.nodeAdmin}static connectionURL_(n,l,s,c,f){const d={};return d[u_]=kf,typeof location<"u"&&location.hostname&&m_.test(location.hostname)&&(d[d_]=h_),l&&(d[f_]=l),s&&(d[g_]=s),c&&(d[yf]=c),f&&(d[p_]=f),b_(n,y_,d)}open(n,l){this.onDisconnect=l,this.onMessage=n,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,ki.set("previous_websocket_failure",!0);try{let s;$1(),this.mySock=new Kr(this.connURL,[],s)}catch(s){this.log_("Error instantiating WebSocket.");const c=s.message||s.data;c&&this.log_(c),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=s=>{this.handleIncomingFrame(s)},this.mySock.onerror=s=>{this.log_("WebSocket error.  Closing connection.");const c=s.message||s.data;c&&this.log_(c),this.onClosed_()}}start(){}static forceDisallow(){ln.forceDisallow_=!0}static isAvailable(){let n=!1;if(typeof navigator<"u"&&navigator.userAgent){const l=/Android ([0-9]{0,}\.[0-9]{0,})/,s=navigator.userAgent.match(l);s&&s.length>1&&parseFloat(s[1])<4.4&&(n=!0)}return!n&&Kr!==null&&!ln.forceDisallow_}static previouslyFailed(){return ki.isInMemoryStorage||ki.get("previous_websocket_failure")===!0}markConnectionHealthy(){ki.remove("previous_websocket_failure")}appendFrame_(n){if(this.frames.push(n),this.frames.length===this.totalFrames){const l=this.frames.join("");this.frames=null;const s=ts(l);this.onMessage(s)}}handleNewFrameCount_(n){this.totalFrames=n,this.frames=[]}extractFrameCount_(n){if(B(this.frames===null,"We already have a frame buffer"),n.length<=6){const l=Number(n);if(!isNaN(l))return this.handleNewFrameCount_(l),null}return this.handleNewFrameCount_(1),n}handleIncomingFrame(n){if(this.mySock===null)return;const l=n.data;if(this.bytesReceived+=l.length,this.stats_.incrementCounter("bytes_received",l.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(l);else{const s=this.extractFrameCount_(l);s!==null&&this.appendFrame_(s)}}send(n){this.resetKeepAlive();const l=nt(n);this.bytesSent+=l.length,this.stats_.incrementCounter("bytes_sent",l.length);const s=c_(l,tE);s.length>1&&this.sendString_(String(s.length));for(let c=0;c<s.length;c++)this.sendString_(s[c])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(nE))}sendString_(n){try{this.mySock.send(n)}catch(l){this.log_("Exception thrown from WebSocket.send():",l.message||l.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}ln.responsesRequiredToBeHealthy=2;ln.healthyTimeout=3e4;class as{static get ALL_TRANSPORTS(){return[ja,ln]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}constructor(n){this.initTransports_(n)}initTransports_(n){const l=ln&&ln.isAvailable();let s=l&&!ln.previouslyFailed();if(n.webSocketOnly&&(l||bt("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),s=!0),s)this.transports_=[ln];else{const c=this.transports_=[];for(const f of as.ALL_TRANSPORTS)f&&f.isAvailable()&&c.push(f);as.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}as.globalTransportInitialized_=!1;const iE=6e4,aE=5e3,lE=10*1024,sE=100*1024,ef="t",iy="d",rE="s",ay="r",cE="e",ly="o",sy="a",ry="n",cy="p",oE="h";class uE{constructor(n,l,s,c,f,d,m,p,g,S){this.id=n,this.repoInfo_=l,this.applicationId_=s,this.appCheckToken_=c,this.authToken_=f,this.onMessage_=d,this.onReady_=m,this.onDisconnect_=p,this.onKill_=g,this.lastSessionId=S,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=gs("c:"+this.id+":"),this.transportManager_=new as(l),this.log_("Connection created"),this.start_()}start_(){const n=this.transportManager_.initialTransport();this.conn_=new n(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=n.responsesRequiredToBeHealthy||0;const l=this.connReceiver_(this.conn_),s=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(l,s)},Math.floor(0));const c=n.healthyTimeout||0;c>0&&(this.healthyTimeout_=Fl(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>sE?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>lE?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(c)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(n){return l=>{n===this.conn_?this.onConnectionLost_(l):n===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(n){return l=>{this.state_!==2&&(n===this.rx_?this.onPrimaryMessageReceived_(l):n===this.secondaryConn_?this.onSecondaryMessageReceived_(l):this.log_("message on old connection"))}}sendRequest(n){const l={t:"d",d:n};this.sendData_(l)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(n){if(ef in n){const l=n[ef];l===sy?this.upgradeIfSecondaryHealthy_():l===ay?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):l===ly&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(n){const l=Yl("t",n),s=Yl("d",n);if(l==="c")this.onSecondaryControl_(s);else if(l==="d")this.pendingDataMessages.push(s);else throw new Error("Unknown protocol layer: "+l)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:cy,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:sy,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:ry,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(n){const l=Yl("t",n),s=Yl("d",n);l==="c"?this.onControl_(s):l==="d"&&this.onDataMessage_(s)}onDataMessage_(n){this.onPrimaryResponse_(),this.onMessage_(n)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(n){const l=Yl(ef,n);if(iy in n){const s=n[iy];if(l===oE){const c={...s};this.repoInfo_.isUsingEmulator&&(c.h=this.repoInfo_.host),this.onHandshake_(c)}else if(l===ry){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let c=0;c<this.pendingDataMessages.length;++c)this.onDataMessage_(this.pendingDataMessages[c]);this.pendingDataMessages=[],this.tryCleanupConnection()}else l===rE?this.onConnectionShutdown_(s):l===ay?this.onReset_(s):l===cE?pf("Server Error: "+s):l===ly?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):pf("Unknown control packet command: "+l)}}onHandshake_(n){const l=n.ts,s=n.v,c=n.h;this.sessionId=n.s,this.repoInfo_.host=c,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,l),kf!==s&&bt("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const n=this.transportManager_.upgradeTransport();n&&this.startUpgrade_(n)}startUpgrade_(n){this.secondaryConn_=new n(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=n.responsesRequiredToBeHealthy||0;const l=this.connReceiver_(this.secondaryConn_),s=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(l,s),Fl(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(iE))}onReset_(n){this.log_("Reset packet received.  New host: "+n),this.repoInfo_.host=n,this.state_===1?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(n,l){this.log_("Realtime connection established."),this.conn_=n,this.state_=1,this.onReady_&&(this.onReady_(l,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):Fl(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(aE))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:cy,d:{}}}))}onSecondaryConnectionLost_(){const n=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===n||this.rx_===n)&&this.close()}onConnectionLost_(n){this.conn_=null,!n&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(ki.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()}onConnectionShutdown_(n){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(n),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(n){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(n)}close(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}class N_{put(n,l,s,c){}merge(n,l,s,c){}refreshAuthToken(n){}refreshAppCheckToken(n){}onDisconnectPut(n,l,s){}onDisconnectMerge(n,l,s){}onDisconnectCancel(n,l){}reportStats(n){}}class w_{constructor(n){this.allowedEvents_=n,this.listeners_={},B(Array.isArray(n)&&n.length>0,"Requires a non-empty array")}trigger(n,...l){if(Array.isArray(this.listeners_[n])){const s=[...this.listeners_[n]];for(let c=0;c<s.length;c++)s[c].callback.apply(s[c].context,l)}}on(n,l,s){this.validateEventType_(n),this.listeners_[n]=this.listeners_[n]||[],this.listeners_[n].push({callback:l,context:s});const c=this.getInitialEvent(n);c&&l.apply(s,c)}off(n,l,s){this.validateEventType_(n);const c=this.listeners_[n]||[];for(let f=0;f<c.length;f++)if(c[f].callback===l&&(!s||s===c[f].context)){c.splice(f,1);return}}validateEventType_(n){B(this.allowedEvents_.find(l=>l===n),"Unknown event: "+n)}}class Fr extends w_{static getInstance(){return new Fr}constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!Fy()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}getInitialEvent(n){return B(n==="online","Unknown event type: "+n),[this.online_]}currentlyOnline(){return this.online_}}const oy=32,uy=768;class Oe{constructor(n,l){if(l===void 0){this.pieces_=n.split("/");let s=0;for(let c=0;c<this.pieces_.length;c++)this.pieces_[c].length>0&&(this.pieces_[s]=this.pieces_[c],s++);this.pieces_.length=s,this.pieceNum_=0}else this.pieces_=n,this.pieceNum_=l}toString(){let n="";for(let l=this.pieceNum_;l<this.pieces_.length;l++)this.pieces_[l]!==""&&(n+="/"+this.pieces_[l]);return n||"/"}}function be(){return new Oe("")}function oe(a){return a.pieceNum_>=a.pieces_.length?null:a.pieces_[a.pieceNum_]}function gi(a){return a.pieces_.length-a.pieceNum_}function He(a){let n=a.pieceNum_;return n<a.pieces_.length&&n++,new Oe(a.pieces_,n)}function Yf(a){return a.pieceNum_<a.pieces_.length?a.pieces_[a.pieces_.length-1]:null}function fE(a){let n="";for(let l=a.pieceNum_;l<a.pieces_.length;l++)a.pieces_[l]!==""&&(n+="/"+encodeURIComponent(String(a.pieces_[l])));return n||"/"}function ls(a,n=0){return a.pieces_.slice(a.pieceNum_+n)}function A_(a){if(a.pieceNum_>=a.pieces_.length)return null;const n=[];for(let l=a.pieceNum_;l<a.pieces_.length-1;l++)n.push(a.pieces_[l]);return new Oe(n,0)}function Qe(a,n){const l=[];for(let s=a.pieceNum_;s<a.pieces_.length;s++)l.push(a.pieces_[s]);if(n instanceof Oe)for(let s=n.pieceNum_;s<n.pieces_.length;s++)l.push(n.pieces_[s]);else{const s=n.split("/");for(let c=0;c<s.length;c++)s[c].length>0&&l.push(s[c])}return new Oe(l,0)}function me(a){return a.pieceNum_>=a.pieces_.length}function vt(a,n){const l=oe(a),s=oe(n);if(l===null)return n;if(l===s)return vt(He(a),He(n));throw new Error("INTERNAL ERROR: innerPath ("+n+") is not within outerPath ("+a+")")}function dE(a,n){const l=ls(a,0),s=ls(n,0);for(let c=0;c<l.length&&c<s.length;c++){const f=Vi(l[c],s[c]);if(f!==0)return f}return l.length===s.length?0:l.length<s.length?-1:1}function Vf(a,n){if(gi(a)!==gi(n))return!1;for(let l=a.pieceNum_,s=n.pieceNum_;l<=a.pieces_.length;l++,s++)if(a.pieces_[l]!==n.pieces_[s])return!1;return!0}function Jt(a,n){let l=a.pieceNum_,s=n.pieceNum_;if(gi(a)>gi(n))return!1;for(;l<a.pieces_.length;){if(a.pieces_[l]!==n.pieces_[s])return!1;++l,++s}return!0}class hE{constructor(n,l){this.errorPrefix_=l,this.parts_=ls(n,0),this.byteLength_=Math.max(1,this.parts_.length);for(let s=0;s<this.parts_.length;s++)this.byteLength_+=oc(this.parts_[s]);R_(this)}}function mE(a,n){a.parts_.length>0&&(a.byteLength_+=1),a.parts_.push(n),a.byteLength_+=oc(n),R_(a)}function gE(a){const n=a.parts_.pop();a.byteLength_-=oc(n),a.parts_.length>0&&(a.byteLength_-=1)}function R_(a){if(a.byteLength_>uy)throw new Error(a.errorPrefix_+"has a key path longer than "+uy+" bytes ("+a.byteLength_+").");if(a.parts_.length>oy)throw new Error(a.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+oy+") or object contains a cycle "+Bi(a))}function Bi(a){return a.parts_.length===0?"":"in property '"+a.parts_.join(".")+"'"}class Qf extends w_{static getInstance(){return new Qf}constructor(){super(["visible"]);let n,l;typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(l="visibilitychange",n="hidden"):typeof document.mozHidden<"u"?(l="mozvisibilitychange",n="mozHidden"):typeof document.msHidden<"u"?(l="msvisibilitychange",n="msHidden"):typeof document.webkitHidden<"u"&&(l="webkitvisibilitychange",n="webkitHidden")),this.visible_=!0,l&&document.addEventListener(l,()=>{const s=!document[n];s!==this.visible_&&(this.visible_=s,this.trigger("visible",s))},!1)}getInitialEvent(n){return B(n==="visible","Unknown event type: "+n),[this.visible_]}}const Vl=1e3,pE=300*1e3,fy=30*1e3,yE=1.3,_E=3e4,vE="server_kill",dy=3;class zn extends N_{constructor(n,l,s,c,f,d,m,p){if(super(),this.repoInfo_=n,this.applicationId_=l,this.onDataUpdate_=s,this.onConnectStatus_=c,this.onServerInfoUpdate_=f,this.authTokenProvider_=d,this.appCheckTokenProvider_=m,this.authOverride_=p,this.id=zn.nextPersistentConnectionId_++,this.log_=gs("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=Vl,this.maxReconnectDelay_=pE,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,p)throw new Error("Auth override specified in options, but not supported on non Node.js platforms");Qf.getInstance().on("visible",this.onVisible_,this),n.host.indexOf("fblocal")===-1&&Fr.getInstance().on("online",this.onOnline_,this)}sendRequest(n,l,s){const c=++this.requestNumber_,f={r:c,a:n,b:l};this.log_(nt(f)),B(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(f),s&&(this.requestCBHash_[c]=s)}get(n){this.initConnection_();const l=new ds,c={action:"g",request:{p:n._path.toString(),q:n._queryObject},onComplete:d=>{const m=d.d;d.s==="ok"?l.resolve(m):l.reject(m)}};this.outstandingGets_.push(c),this.outstandingGetCount_++;const f=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(f),l.promise}listen(n,l,s,c){this.initConnection_();const f=n._queryIdentifier,d=n._path.toString();this.log_("Listen called for "+d+" "+f),this.listens.has(d)||this.listens.set(d,new Map),B(n._queryParams.isDefault()||!n._queryParams.loadsAllData(),"listen() called for non-default but complete query"),B(!this.listens.get(d).has(f),"listen() called twice for same path/queryId.");const m={onComplete:c,hashFn:l,query:n,tag:s};this.listens.get(d).set(f,m),this.connected_&&this.sendListen_(m)}sendGet_(n){const l=this.outstandingGets_[n];this.sendRequest("g",l.request,s=>{delete this.outstandingGets_[n],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),l.onComplete&&l.onComplete(s)})}sendListen_(n){const l=n.query,s=l._path.toString(),c=l._queryIdentifier;this.log_("Listen on "+s+" for "+c);const f={p:s},d="q";n.tag&&(f.q=l._queryObject,f.t=n.tag),f.h=n.hashFn(),this.sendRequest(d,f,m=>{const p=m.d,g=m.s;zn.warnOnListenWarnings_(p,l),(this.listens.get(s)&&this.listens.get(s).get(c))===n&&(this.log_("listen response",m),g!=="ok"&&this.removeListen_(s,c),n.onComplete&&n.onComplete(g,p))})}static warnOnListenWarnings_(n,l){if(n&&typeof n=="object"&&hn(n,"w")){const s=Ua(n,"w");if(Array.isArray(s)&&~s.indexOf("no_index")){const c='".indexOn": "'+l._queryParams.getIndex().toString()+'"',f=l._path.toString();bt(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${c} at ${f} to your security rules for better performance.`)}}}refreshAuthToken(n){this.authToken_=n,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(n)}reduceReconnectDelayIfAdminCredential_(n){(n&&n.length===40||aS(n))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=fy)}refreshAppCheckToken(n){this.appCheckToken_=n,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const n=this.authToken_,l=iS(n)?"auth":"gauth",s={cred:n};this.authOverride_===null?s.noauth=!0:typeof this.authOverride_=="object"&&(s.authvar=this.authOverride_),this.sendRequest(l,s,c=>{const f=c.s,d=c.d||"error";this.authToken_===n&&(f==="ok"?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(f,d))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},n=>{const l=n.s,s=n.d||"error";l==="ok"?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(l,s)})}unlisten(n,l){const s=n._path.toString(),c=n._queryIdentifier;this.log_("Unlisten called for "+s+" "+c),B(n._queryParams.isDefault()||!n._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(s,c)&&this.connected_&&this.sendUnlisten_(s,c,n._queryObject,l)}sendUnlisten_(n,l,s,c){this.log_("Unlisten on "+n+" for "+l);const f={p:n},d="n";c&&(f.q=s,f.t=c),this.sendRequest(d,f)}onDisconnectPut(n,l,s){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",n,l,s):this.onDisconnectRequestQueue_.push({pathString:n,action:"o",data:l,onComplete:s})}onDisconnectMerge(n,l,s){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",n,l,s):this.onDisconnectRequestQueue_.push({pathString:n,action:"om",data:l,onComplete:s})}onDisconnectCancel(n,l){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",n,null,l):this.onDisconnectRequestQueue_.push({pathString:n,action:"oc",data:null,onComplete:l})}sendOnDisconnect_(n,l,s,c){const f={p:l,d:s};this.log_("onDisconnect "+n,f),this.sendRequest(n,f,d=>{c&&setTimeout(()=>{c(d.s,d.d)},Math.floor(0))})}put(n,l,s,c){this.putInternal("p",n,l,s,c)}merge(n,l,s,c){this.putInternal("m",n,l,s,c)}putInternal(n,l,s,c,f){this.initConnection_();const d={p:l,d:s};f!==void 0&&(d.h=f),this.outstandingPuts_.push({action:n,request:d,onComplete:c}),this.outstandingPutCount_++;const m=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(m):this.log_("Buffering put: "+l)}sendPut_(n){const l=this.outstandingPuts_[n].action,s=this.outstandingPuts_[n].request,c=this.outstandingPuts_[n].onComplete;this.outstandingPuts_[n].queued=this.connected_,this.sendRequest(l,s,f=>{this.log_(l+" response",f),delete this.outstandingPuts_[n],this.outstandingPutCount_--,this.outstandingPutCount_===0&&(this.outstandingPuts_=[]),c&&c(f.s,f.d)})}reportStats(n){if(this.connected_){const l={c:n};this.log_("reportStats",l),this.sendRequest("s",l,s=>{if(s.s!=="ok"){const f=s.d;this.log_("reportStats","Error sending stats: "+f)}})}}onDataMessage_(n){if("r"in n){this.log_("from server: "+nt(n));const l=n.r,s=this.requestCBHash_[l];s&&(delete this.requestCBHash_[l],s(n.b))}else{if("error"in n)throw"A server-side error has occurred: "+n.error;"a"in n&&this.onDataPush_(n.a,n.b)}}onDataPush_(n,l){this.log_("handleServerMessage",n,l),n==="d"?this.onDataUpdate_(l.p,l.d,!1,l.t):n==="m"?this.onDataUpdate_(l.p,l.d,!0,l.t):n==="c"?this.onListenRevoked_(l.p,l.q):n==="ac"?this.onAuthRevoked_(l.s,l.d):n==="apc"?this.onAppCheckRevoked_(l.s,l.d):n==="sd"?this.onSecurityDebugPacket_(l):pf("Unrecognized action received from server: "+nt(n)+`
Are you using the latest client?`)}onReady_(n,l){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(n),this.lastSessionId=l,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(n){B(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(n))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(n){n&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=Vl,this.realtime_||this.scheduleConnect_(0)),this.visible_=n}onOnline_(n){n?(this.log_("Browser went online."),this.reconnectDelay_=Vl,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>_E&&(this.reconnectDelay_=Vl),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());const n=Math.max(0,new Date().getTime()-this.lastConnectionAttemptTime_);let l=Math.max(0,this.reconnectDelay_-n);l=Math.random()*l,this.log_("Trying to reconnect in "+l+"ms"),this.scheduleConnect_(l),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*yE)}this.onConnectStatus_(!1)}async establishConnection_(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;const n=this.onDataMessage_.bind(this),l=this.onReady_.bind(this),s=this.onRealtimeDisconnect_.bind(this),c=this.id+":"+zn.nextConnectionId_++,f=this.lastSessionId;let d=!1,m=null;const p=function(){m?m.close():(d=!0,s())},g=function(v){B(m,"sendRequest call when we're not connected not allowed."),m.sendRequest(v)};this.realtime_={close:p,sendRequest:g};const S=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{const[v,b]=await Promise.all([this.authTokenProvider_.getToken(S),this.appCheckTokenProvider_.getToken(S)]);d?dt("getToken() completed but was canceled"):(dt("getToken() completed. Creating connection."),this.authToken_=v&&v.accessToken,this.appCheckToken_=b&&b.token,m=new uE(c,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,n,l,s,R=>{bt(R+" ("+this.repoInfo_.toString()+")"),this.interrupt(vE)},f))}catch(v){this.log_("Failed to get token: "+v),d||(this.repoInfo_.nodeAdmin&&bt(v),p())}}}interrupt(n){dt("Interrupting connection for reason: "+n),this.interruptReasons_[n]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(n){dt("Resuming connection for reason: "+n),delete this.interruptReasons_[n],qp(this.interruptReasons_)&&(this.reconnectDelay_=Vl,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(n){const l=n-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:l})}cancelSentTransactions_(){for(let n=0;n<this.outstandingPuts_.length;n++){const l=this.outstandingPuts_[n];l&&"h"in l.request&&l.queued&&(l.onComplete&&l.onComplete("disconnect"),delete this.outstandingPuts_[n],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])}onListenRevoked_(n,l){let s;l?s=l.map(f=>Bf(f)).join("$"):s="default";const c=this.removeListen_(n,s);c&&c.onComplete&&c.onComplete("permission_denied")}removeListen_(n,l){const s=new Oe(n).toString();let c;if(this.listens.has(s)){const f=this.listens.get(s);c=f.get(l),f.delete(l),f.size===0&&this.listens.delete(s)}else c=void 0;return c}onAuthRevoked_(n,l){dt("Auth token revoked: "+n+"/"+l),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(n==="invalid_token"||n==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=dy&&(this.reconnectDelay_=fy,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(n,l){dt("App check token revoked: "+n+"/"+l),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(n==="invalid_token"||n==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=dy&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(n){this.securityDebugCallback_?this.securityDebugCallback_(n):"msg"in n&&console.log("FIREBASE: "+n.msg.replace(`
`,`
FIREBASE: `))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const n of this.listens.values())for(const l of n.values())this.sendListen_(l);for(let n=0;n<this.outstandingPuts_.length;n++)this.outstandingPuts_[n]&&this.sendPut_(n);for(;this.onDisconnectRequestQueue_.length;){const n=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(n.action,n.pathString,n.data,n.onComplete)}for(let n=0;n<this.outstandingGets_.length;n++)this.outstandingGets_[n]&&this.sendGet_(n)}sendConnectStats_(){const n={};let l="js";n["sdk."+l+"."+l_.replace(/\./g,"-")]=1,Fy()?n["framework.cordova"]=1:F1()&&(n["framework.reactnative"]=1),this.reportStats(n)}shouldReconnect_(){const n=Fr.getInstance().currentlyOnline();return qp(this.interruptReasons_)&&n}}zn.nextPersistentConnectionId_=0;zn.nextConnectionId_=0;class ue{constructor(n,l){this.name=n,this.node=l}static Wrap(n,l){return new ue(n,l)}}class uc{getCompare(){return this.compare.bind(this)}indexedValueChanged(n,l){const s=new ue(Ha,n),c=new ue(Ha,l);return this.compare(s,c)!==0}minPost(){return ue.MIN}}let kr;class M_ extends uc{static get __EMPTY_NODE(){return kr}static set __EMPTY_NODE(n){kr=n}compare(n,l){return Vi(n.name,l.name)}isDefinedOn(n){throw Ya("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(n,l){return!1}minPost(){return ue.MIN}maxPost(){return new ue(qi,kr)}makePost(n,l){return B(typeof n=="string","KeyIndex indexValue must always be a string."),new ue(n,kr)}toString(){return".key"}}const La=new M_;class qr{constructor(n,l,s,c,f=null){this.isReverse_=c,this.resultGenerator_=f,this.nodeStack_=[];let d=1;for(;!n.isEmpty();)if(n=n,d=l?s(n.key,l):1,c&&(d*=-1),d<0)this.isReverse_?n=n.left:n=n.right;else if(d===0){this.nodeStack_.push(n);break}else this.nodeStack_.push(n),this.isReverse_?n=n.right:n=n.left}getNext(){if(this.nodeStack_.length===0)return null;let n=this.nodeStack_.pop(),l;if(this.resultGenerator_?l=this.resultGenerator_(n.key,n.value):l={key:n.key,value:n.value},this.isReverse_)for(n=n.left;!n.isEmpty();)this.nodeStack_.push(n),n=n.right;else for(n=n.right;!n.isEmpty();)this.nodeStack_.push(n),n=n.left;return l}hasNext(){return this.nodeStack_.length>0}peek(){if(this.nodeStack_.length===0)return null;const n=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(n.key,n.value):{key:n.key,value:n.value}}}class st{constructor(n,l,s,c,f){this.key=n,this.value=l,this.color=s??st.RED,this.left=c??Rt.EMPTY_NODE,this.right=f??Rt.EMPTY_NODE}copy(n,l,s,c,f){return new st(n??this.key,l??this.value,s??this.color,c??this.left,f??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(n){return this.left.inorderTraversal(n)||!!n(this.key,this.value)||this.right.inorderTraversal(n)}reverseTraversal(n){return this.right.reverseTraversal(n)||n(this.key,this.value)||this.left.reverseTraversal(n)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(n,l,s){let c=this;const f=s(n,c.key);return f<0?c=c.copy(null,null,null,c.left.insert(n,l,s),null):f===0?c=c.copy(null,l,null,null,null):c=c.copy(null,null,null,null,c.right.insert(n,l,s)),c.fixUp_()}removeMin_(){if(this.left.isEmpty())return Rt.EMPTY_NODE;let n=this;return!n.left.isRed_()&&!n.left.left.isRed_()&&(n=n.moveRedLeft_()),n=n.copy(null,null,null,n.left.removeMin_(),null),n.fixUp_()}remove(n,l){let s,c;if(s=this,l(n,s.key)<0)!s.left.isEmpty()&&!s.left.isRed_()&&!s.left.left.isRed_()&&(s=s.moveRedLeft_()),s=s.copy(null,null,null,s.left.remove(n,l),null);else{if(s.left.isRed_()&&(s=s.rotateRight_()),!s.right.isEmpty()&&!s.right.isRed_()&&!s.right.left.isRed_()&&(s=s.moveRedRight_()),l(n,s.key)===0){if(s.right.isEmpty())return Rt.EMPTY_NODE;c=s.right.min_(),s=s.copy(c.key,c.value,null,null,s.right.removeMin_())}s=s.copy(null,null,null,null,s.right.remove(n,l))}return s.fixUp_()}isRed_(){return this.color}fixUp_(){let n=this;return n.right.isRed_()&&!n.left.isRed_()&&(n=n.rotateLeft_()),n.left.isRed_()&&n.left.left.isRed_()&&(n=n.rotateRight_()),n.left.isRed_()&&n.right.isRed_()&&(n=n.colorFlip_()),n}moveRedLeft_(){let n=this.colorFlip_();return n.right.left.isRed_()&&(n=n.copy(null,null,null,null,n.right.rotateRight_()),n=n.rotateLeft_(),n=n.colorFlip_()),n}moveRedRight_(){let n=this.colorFlip_();return n.left.left.isRed_()&&(n=n.rotateRight_(),n=n.colorFlip_()),n}rotateLeft_(){const n=this.copy(null,null,st.RED,null,this.right.left);return this.right.copy(null,null,this.color,n,null)}rotateRight_(){const n=this.copy(null,null,st.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,n)}colorFlip_(){const n=this.left.copy(null,null,!this.left.color,null,null),l=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,n,l)}checkMaxDepth_(){const n=this.check_();return Math.pow(2,n)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const n=this.left.check_();if(n!==this.right.check_())throw new Error("Black depths differ");return n+(this.isRed_()?0:1)}}st.RED=!0;st.BLACK=!1;class bE{copy(n,l,s,c,f){return this}insert(n,l,s){return new st(n,l,null)}remove(n,l){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(n){return!1}reverseTraversal(n){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}}class Rt{constructor(n,l=Rt.EMPTY_NODE){this.comparator_=n,this.root_=l}insert(n,l){return new Rt(this.comparator_,this.root_.insert(n,l,this.comparator_).copy(null,null,st.BLACK,null,null))}remove(n){return new Rt(this.comparator_,this.root_.remove(n,this.comparator_).copy(null,null,st.BLACK,null,null))}get(n){let l,s=this.root_;for(;!s.isEmpty();){if(l=this.comparator_(n,s.key),l===0)return s.value;l<0?s=s.left:l>0&&(s=s.right)}return null}getPredecessorKey(n){let l,s=this.root_,c=null;for(;!s.isEmpty();)if(l=this.comparator_(n,s.key),l===0){if(s.left.isEmpty())return c?c.key:null;for(s=s.left;!s.right.isEmpty();)s=s.right;return s.key}else l<0?s=s.left:l>0&&(c=s,s=s.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(n){return this.root_.inorderTraversal(n)}reverseTraversal(n){return this.root_.reverseTraversal(n)}getIterator(n){return new qr(this.root_,null,this.comparator_,!1,n)}getIteratorFrom(n,l){return new qr(this.root_,n,this.comparator_,!1,l)}getReverseIteratorFrom(n,l){return new qr(this.root_,n,this.comparator_,!0,l)}getReverseIterator(n){return new qr(this.root_,null,this.comparator_,!0,n)}}Rt.EMPTY_NODE=new bE;function SE(a,n){return Vi(a.name,n.name)}function Xf(a,n){return Vi(a,n)}let _f;function xE(a){_f=a}const D_=function(a){return typeof a=="number"?"number:"+o_(a):"string:"+a},O_=function(a){if(a.isLeafNode()){const n=a.val();B(typeof n=="string"||typeof n=="number"||typeof n=="object"&&hn(n,".sv"),"Priority must be a string or number.")}else B(a===_f||a.isEmpty(),"priority of unexpected type.");B(a===_f||a.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};let hy;class lt{static set __childrenNodeConstructor(n){hy=n}static get __childrenNodeConstructor(){return hy}constructor(n,l=lt.__childrenNodeConstructor.EMPTY_NODE){this.value_=n,this.priorityNode_=l,this.lazyHash_=null,B(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),O_(this.priorityNode_)}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(n){return new lt(this.value_,n)}getImmediateChild(n){return n===".priority"?this.priorityNode_:lt.__childrenNodeConstructor.EMPTY_NODE}getChild(n){return me(n)?this:oe(n)===".priority"?this.priorityNode_:lt.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(n,l){return null}updateImmediateChild(n,l){return n===".priority"?this.updatePriority(l):l.isEmpty()&&n!==".priority"?this:lt.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(n,l).updatePriority(this.priorityNode_)}updateChild(n,l){const s=oe(n);return s===null?l:l.isEmpty()&&s!==".priority"?this:(B(s!==".priority"||gi(n)===1,".priority must be the last token in a path"),this.updateImmediateChild(s,lt.__childrenNodeConstructor.EMPTY_NODE.updateChild(He(n),l)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(n,l){return!1}val(n){return n&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(this.lazyHash_===null){let n="";this.priorityNode_.isEmpty()||(n+="priority:"+D_(this.priorityNode_.val())+":");const l=typeof this.value_;n+=l+":",l==="number"?n+=o_(this.value_):n+=this.value_,this.lazyHash_=r_(n)}return this.lazyHash_}getValue(){return this.value_}compareTo(n){return n===lt.__childrenNodeConstructor.EMPTY_NODE?1:n instanceof lt.__childrenNodeConstructor?-1:(B(n.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(n))}compareToLeafNode_(n){const l=typeof n.value_,s=typeof this.value_,c=lt.VALUE_TYPE_ORDER.indexOf(l),f=lt.VALUE_TYPE_ORDER.indexOf(s);return B(c>=0,"Unknown leaf type: "+l),B(f>=0,"Unknown leaf type: "+s),c===f?s==="object"?0:this.value_<n.value_?-1:this.value_===n.value_?0:1:f-c}withIndex(){return this}isIndexed(){return!0}equals(n){if(n===this)return!0;if(n.isLeafNode()){const l=n;return this.value_===l.value_&&this.priorityNode_.equals(l.priorityNode_)}else return!1}}lt.VALUE_TYPE_ORDER=["object","boolean","number","string"];let j_,I_;function EE(a){j_=a}function CE(a){I_=a}class TE extends uc{compare(n,l){const s=n.node.getPriority(),c=l.node.getPriority(),f=s.compareTo(c);return f===0?Vi(n.name,l.name):f}isDefinedOn(n){return!n.getPriority().isEmpty()}indexedValueChanged(n,l){return!n.getPriority().equals(l.getPriority())}minPost(){return ue.MIN}maxPost(){return new ue(qi,new lt("[PRIORITY-POST]",I_))}makePost(n,l){const s=j_(n);return new ue(l,new lt("[PRIORITY-POST]",s))}toString(){return".priority"}}const Xe=new TE;const NE=Math.log(2);class wE{constructor(n){const l=f=>parseInt(Math.log(f)/NE,10),s=f=>parseInt(Array(f+1).join("1"),2);this.count=l(n+1),this.current_=this.count-1;const c=s(this.count);this.bits_=n+1&c}nextBitIsOne(){const n=!(this.bits_&1<<this.current_);return this.current_--,n}}const $r=function(a,n,l,s){a.sort(n);const c=function(p,g){const S=g-p;let v,b;if(S===0)return null;if(S===1)return v=a[p],b=l?l(v):v,new st(b,v.node,st.BLACK,null,null);{const R=parseInt(S/2,10)+p,I=c(p,R),H=c(R+1,g);return v=a[R],b=l?l(v):v,new st(b,v.node,st.BLACK,I,H)}},f=function(p){let g=null,S=null,v=a.length;const b=function(I,H){const k=v-I,U=v;v-=I;const Y=c(k+1,U),V=a[k],ne=l?l(V):V;R(new st(ne,V.node,H,null,Y))},R=function(I){g?(g.left=I,g=I):(S=I,g=I)};for(let I=0;I<p.count;++I){const H=p.nextBitIsOne(),k=Math.pow(2,p.count-(I+1));H?b(k,st.BLACK):(b(k,st.BLACK),b(k,st.RED))}return S},d=new wE(a.length),m=f(d);return new Rt(s||n,m)};let tf;const Da={};class In{static get Default(){return B(Da&&Xe,"ChildrenNode.ts has not been loaded"),tf=tf||new In({".priority":Da},{".priority":Xe}),tf}constructor(n,l){this.indexes_=n,this.indexSet_=l}get(n){const l=Ua(this.indexes_,n);if(!l)throw new Error("No index defined for "+n);return l instanceof Rt?l:null}hasIndex(n){return hn(this.indexSet_,n.toString())}addIndex(n,l){B(n!==La,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const s=[];let c=!1;const f=l.getIterator(ue.Wrap);let d=f.getNext();for(;d;)c=c||n.isDefinedOn(d.node),s.push(d),d=f.getNext();let m;c?m=$r(s,n.getCompare()):m=Da;const p=n.toString(),g={...this.indexSet_};g[p]=n;const S={...this.indexes_};return S[p]=m,new In(S,g)}addToIndexes(n,l){const s=Qr(this.indexes_,(c,f)=>{const d=Ua(this.indexSet_,f);if(B(d,"Missing index implementation for "+f),c===Da)if(d.isDefinedOn(n.node)){const m=[],p=l.getIterator(ue.Wrap);let g=p.getNext();for(;g;)g.name!==n.name&&m.push(g),g=p.getNext();return m.push(n),$r(m,d.getCompare())}else return Da;else{const m=l.get(n.name);let p=c;return m&&(p=p.remove(new ue(n.name,m))),p.insert(n,n.node)}});return new In(s,this.indexSet_)}removeFromIndexes(n,l){const s=Qr(this.indexes_,c=>{if(c===Da)return c;{const f=l.get(n.name);return f?c.remove(new ue(n.name,f)):c}});return new In(s,this.indexSet_)}}let Ql;class ee{static get EMPTY_NODE(){return Ql||(Ql=new ee(new Rt(Xf),null,In.Default))}constructor(n,l,s){this.children_=n,this.priorityNode_=l,this.indexMap_=s,this.lazyHash_=null,this.priorityNode_&&O_(this.priorityNode_),this.children_.isEmpty()&&B(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}isLeafNode(){return!1}getPriority(){return this.priorityNode_||Ql}updatePriority(n){return this.children_.isEmpty()?this:new ee(this.children_,n,this.indexMap_)}getImmediateChild(n){if(n===".priority")return this.getPriority();{const l=this.children_.get(n);return l===null?Ql:l}}getChild(n){const l=oe(n);return l===null?this:this.getImmediateChild(l).getChild(He(n))}hasChild(n){return this.children_.get(n)!==null}updateImmediateChild(n,l){if(B(l,"We should always be passing snapshot nodes"),n===".priority")return this.updatePriority(l);{const s=new ue(n,l);let c,f;l.isEmpty()?(c=this.children_.remove(n),f=this.indexMap_.removeFromIndexes(s,this.children_)):(c=this.children_.insert(n,l),f=this.indexMap_.addToIndexes(s,this.children_));const d=c.isEmpty()?Ql:this.priorityNode_;return new ee(c,d,f)}}updateChild(n,l){const s=oe(n);if(s===null)return l;{B(oe(n)!==".priority"||gi(n)===1,".priority must be the last token in a path");const c=this.getImmediateChild(s).updateChild(He(n),l);return this.updateImmediateChild(s,c)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(n){if(this.isEmpty())return null;const l={};let s=0,c=0,f=!0;if(this.forEachChild(Xe,(d,m)=>{l[d]=m.val(n),s++,f&&ee.INTEGER_REGEXP_.test(d)?c=Math.max(c,Number(d)):f=!1}),!n&&f&&c<2*s){const d=[];for(const m in l)d[m]=l[m];return d}else return n&&!this.getPriority().isEmpty()&&(l[".priority"]=this.getPriority().val()),l}hash(){if(this.lazyHash_===null){let n="";this.getPriority().isEmpty()||(n+="priority:"+D_(this.getPriority().val())+":"),this.forEachChild(Xe,(l,s)=>{const c=s.hash();c!==""&&(n+=":"+l+":"+c)}),this.lazyHash_=n===""?"":r_(n)}return this.lazyHash_}getPredecessorChildName(n,l,s){const c=this.resolveIndex_(s);if(c){const f=c.getPredecessorKey(new ue(n,l));return f?f.name:null}else return this.children_.getPredecessorKey(n)}getFirstChildName(n){const l=this.resolveIndex_(n);if(l){const s=l.minKey();return s&&s.name}else return this.children_.minKey()}getFirstChild(n){const l=this.getFirstChildName(n);return l?new ue(l,this.children_.get(l)):null}getLastChildName(n){const l=this.resolveIndex_(n);if(l){const s=l.maxKey();return s&&s.name}else return this.children_.maxKey()}getLastChild(n){const l=this.getLastChildName(n);return l?new ue(l,this.children_.get(l)):null}forEachChild(n,l){const s=this.resolveIndex_(n);return s?s.inorderTraversal(c=>l(c.name,c.node)):this.children_.inorderTraversal(l)}getIterator(n){return this.getIteratorFrom(n.minPost(),n)}getIteratorFrom(n,l){const s=this.resolveIndex_(l);if(s)return s.getIteratorFrom(n,c=>c);{const c=this.children_.getIteratorFrom(n.name,ue.Wrap);let f=c.peek();for(;f!=null&&l.compare(f,n)<0;)c.getNext(),f=c.peek();return c}}getReverseIterator(n){return this.getReverseIteratorFrom(n.maxPost(),n)}getReverseIteratorFrom(n,l){const s=this.resolveIndex_(l);if(s)return s.getReverseIteratorFrom(n,c=>c);{const c=this.children_.getReverseIteratorFrom(n.name,ue.Wrap);let f=c.peek();for(;f!=null&&l.compare(f,n)>0;)c.getNext(),f=c.peek();return c}}compareTo(n){return this.isEmpty()?n.isEmpty()?0:-1:n.isLeafNode()||n.isEmpty()?1:n===ps?-1:0}withIndex(n){if(n===La||this.indexMap_.hasIndex(n))return this;{const l=this.indexMap_.addIndex(n,this.children_);return new ee(this.children_,this.priorityNode_,l)}}isIndexed(n){return n===La||this.indexMap_.hasIndex(n)}equals(n){if(n===this)return!0;if(n.isLeafNode())return!1;{const l=n;if(this.getPriority().equals(l.getPriority()))if(this.children_.count()===l.children_.count()){const s=this.getIterator(Xe),c=l.getIterator(Xe);let f=s.getNext(),d=c.getNext();for(;f&&d;){if(f.name!==d.name||!f.node.equals(d.node))return!1;f=s.getNext(),d=c.getNext()}return f===null&&d===null}else return!1;else return!1}}resolveIndex_(n){return n===La?null:this.indexMap_.get(n.toString())}}ee.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;class AE extends ee{constructor(){super(new Rt(Xf),ee.EMPTY_NODE,In.Default)}compareTo(n){return n===this?0:1}equals(n){return n===this}getPriority(){return this}getImmediateChild(n){return ee.EMPTY_NODE}isEmpty(){return!1}}const ps=new AE;Object.defineProperties(ue,{MIN:{value:new ue(Ha,ee.EMPTY_NODE)},MAX:{value:new ue(qi,ps)}});M_.__EMPTY_NODE=ee.EMPTY_NODE;lt.__childrenNodeConstructor=ee;xE(ps);CE(ps);const RE=!0;function tt(a,n=null){if(a===null)return ee.EMPTY_NODE;if(typeof a=="object"&&".priority"in a&&(n=a[".priority"]),B(n===null||typeof n=="string"||typeof n=="number"||typeof n=="object"&&".sv"in n,"Invalid priority type found: "+typeof n),typeof a=="object"&&".value"in a&&a[".value"]!==null&&(a=a[".value"]),typeof a!="object"||".sv"in a){const l=a;return new lt(l,tt(n))}if(!(a instanceof Array)&&RE){const l=[];let s=!1;if(ht(a,(d,m)=>{if(d.substring(0,1)!=="."){const p=tt(m);p.isEmpty()||(s=s||!p.getPriority().isEmpty(),l.push(new ue(d,p)))}}),l.length===0)return ee.EMPTY_NODE;const f=$r(l,SE,d=>d.name,Xf);if(s){const d=$r(l,Xe.getCompare());return new ee(f,tt(n),new In({".priority":d},{".priority":Xe}))}else return new ee(f,tt(n),In.Default)}else{let l=ee.EMPTY_NODE;return ht(a,(s,c)=>{if(hn(a,s)&&s.substring(0,1)!=="."){const f=tt(c);(f.isLeafNode()||!f.isEmpty())&&(l=l.updateImmediateChild(s,f))}}),l.updatePriority(tt(n))}}EE(tt);class ME extends uc{constructor(n){super(),this.indexPath_=n,B(!me(n)&&oe(n)!==".priority","Can't create PathIndex with empty path or .priority key")}extractChild(n){return n.getChild(this.indexPath_)}isDefinedOn(n){return!n.getChild(this.indexPath_).isEmpty()}compare(n,l){const s=this.extractChild(n.node),c=this.extractChild(l.node),f=s.compareTo(c);return f===0?Vi(n.name,l.name):f}makePost(n,l){const s=tt(n),c=ee.EMPTY_NODE.updateChild(this.indexPath_,s);return new ue(l,c)}maxPost(){const n=ee.EMPTY_NODE.updateChild(this.indexPath_,ps);return new ue(qi,n)}toString(){return ls(this.indexPath_,0).join("/")}}class DE extends uc{compare(n,l){const s=n.node.compareTo(l.node);return s===0?Vi(n.name,l.name):s}isDefinedOn(n){return!0}indexedValueChanged(n,l){return!n.equals(l)}minPost(){return ue.MIN}maxPost(){return ue.MAX}makePost(n,l){const s=tt(n);return new ue(l,s)}toString(){return".value"}}const OE=new DE;function z_(a){return{type:"value",snapshotNode:a}}function Ba(a,n){return{type:"child_added",snapshotNode:n,childName:a}}function ss(a,n){return{type:"child_removed",snapshotNode:n,childName:a}}function rs(a,n,l){return{type:"child_changed",snapshotNode:n,childName:a,oldSnap:l}}function jE(a,n){return{type:"child_moved",snapshotNode:n,childName:a}}class Pf{constructor(n){this.index_=n}updateChild(n,l,s,c,f,d){B(n.isIndexed(this.index_),"A node must be indexed if only a child is updated");const m=n.getImmediateChild(l);return m.getChild(c).equals(s.getChild(c))&&m.isEmpty()===s.isEmpty()||(d!=null&&(s.isEmpty()?n.hasChild(l)?d.trackChildChange(ss(l,m)):B(n.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):m.isEmpty()?d.trackChildChange(Ba(l,s)):d.trackChildChange(rs(l,s,m))),n.isLeafNode()&&s.isEmpty())?n:n.updateImmediateChild(l,s).withIndex(this.index_)}updateFullNode(n,l,s){return s!=null&&(n.isLeafNode()||n.forEachChild(Xe,(c,f)=>{l.hasChild(c)||s.trackChildChange(ss(c,f))}),l.isLeafNode()||l.forEachChild(Xe,(c,f)=>{if(n.hasChild(c)){const d=n.getImmediateChild(c);d.equals(f)||s.trackChildChange(rs(c,f,d))}else s.trackChildChange(Ba(c,f))})),l.withIndex(this.index_)}updatePriority(n,l){return n.isEmpty()?ee.EMPTY_NODE:n.updatePriority(l)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}class cs{constructor(n){this.indexedFilter_=new Pf(n.getIndex()),this.index_=n.getIndex(),this.startPost_=cs.getStartPost_(n),this.endPost_=cs.getEndPost_(n),this.startIsInclusive_=!n.startAfterSet_,this.endIsInclusive_=!n.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(n){const l=this.startIsInclusive_?this.index_.compare(this.getStartPost(),n)<=0:this.index_.compare(this.getStartPost(),n)<0,s=this.endIsInclusive_?this.index_.compare(n,this.getEndPost())<=0:this.index_.compare(n,this.getEndPost())<0;return l&&s}updateChild(n,l,s,c,f,d){return this.matches(new ue(l,s))||(s=ee.EMPTY_NODE),this.indexedFilter_.updateChild(n,l,s,c,f,d)}updateFullNode(n,l,s){l.isLeafNode()&&(l=ee.EMPTY_NODE);let c=l.withIndex(this.index_);c=c.updatePriority(ee.EMPTY_NODE);const f=this;return l.forEachChild(Xe,(d,m)=>{f.matches(new ue(d,m))||(c=c.updateImmediateChild(d,ee.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(n,c,s)}updatePriority(n,l){return n}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(n){if(n.hasStart()){const l=n.getIndexStartName();return n.getIndex().makePost(n.getIndexStartValue(),l)}else return n.getIndex().minPost()}static getEndPost_(n){if(n.hasEnd()){const l=n.getIndexEndName();return n.getIndex().makePost(n.getIndexEndValue(),l)}else return n.getIndex().maxPost()}}class IE{constructor(n){this.withinDirectionalStart=l=>this.reverse_?this.withinEndPost(l):this.withinStartPost(l),this.withinDirectionalEnd=l=>this.reverse_?this.withinStartPost(l):this.withinEndPost(l),this.withinStartPost=l=>{const s=this.index_.compare(this.rangedFilter_.getStartPost(),l);return this.startIsInclusive_?s<=0:s<0},this.withinEndPost=l=>{const s=this.index_.compare(l,this.rangedFilter_.getEndPost());return this.endIsInclusive_?s<=0:s<0},this.rangedFilter_=new cs(n),this.index_=n.getIndex(),this.limit_=n.getLimit(),this.reverse_=!n.isViewFromLeft(),this.startIsInclusive_=!n.startAfterSet_,this.endIsInclusive_=!n.endBeforeSet_}updateChild(n,l,s,c,f,d){return this.rangedFilter_.matches(new ue(l,s))||(s=ee.EMPTY_NODE),n.getImmediateChild(l).equals(s)?n:n.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(n,l,s,c,f,d):this.fullLimitUpdateChild_(n,l,s,f,d)}updateFullNode(n,l,s){let c;if(l.isLeafNode()||l.isEmpty())c=ee.EMPTY_NODE.withIndex(this.index_);else if(this.limit_*2<l.numChildren()&&l.isIndexed(this.index_)){c=ee.EMPTY_NODE.withIndex(this.index_);let f;this.reverse_?f=l.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):f=l.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let d=0;for(;f.hasNext()&&d<this.limit_;){const m=f.getNext();if(this.withinDirectionalStart(m))if(this.withinDirectionalEnd(m))c=c.updateImmediateChild(m.name,m.node),d++;else break;else continue}}else{c=l.withIndex(this.index_),c=c.updatePriority(ee.EMPTY_NODE);let f;this.reverse_?f=c.getReverseIterator(this.index_):f=c.getIterator(this.index_);let d=0;for(;f.hasNext();){const m=f.getNext();d<this.limit_&&this.withinDirectionalStart(m)&&this.withinDirectionalEnd(m)?d++:c=c.updateImmediateChild(m.name,ee.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(n,c,s)}updatePriority(n,l){return n}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(n,l,s,c,f){let d;if(this.reverse_){const v=this.index_.getCompare();d=(b,R)=>v(R,b)}else d=this.index_.getCompare();const m=n;B(m.numChildren()===this.limit_,"");const p=new ue(l,s),g=this.reverse_?m.getFirstChild(this.index_):m.getLastChild(this.index_),S=this.rangedFilter_.matches(p);if(m.hasChild(l)){const v=m.getImmediateChild(l);let b=c.getChildAfterChild(this.index_,g,this.reverse_);for(;b!=null&&(b.name===l||m.hasChild(b.name));)b=c.getChildAfterChild(this.index_,b,this.reverse_);const R=b==null?1:d(b,p);if(S&&!s.isEmpty()&&R>=0)return f?.trackChildChange(rs(l,s,v)),m.updateImmediateChild(l,s);{f?.trackChildChange(ss(l,v));const H=m.updateImmediateChild(l,ee.EMPTY_NODE);return b!=null&&this.rangedFilter_.matches(b)?(f?.trackChildChange(Ba(b.name,b.node)),H.updateImmediateChild(b.name,b.node)):H}}else return s.isEmpty()?n:S&&d(g,p)>=0?(f!=null&&(f.trackChildChange(ss(g.name,g.node)),f.trackChildChange(Ba(l,s))),m.updateImmediateChild(l,s).updateImmediateChild(g.name,ee.EMPTY_NODE)):n}}class Zf{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=Xe}hasStart(){return this.startSet_}isViewFromLeft(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"}getIndexStartValue(){return B(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return B(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:Ha}hasEnd(){return this.endSet_}getIndexEndValue(){return B(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return B(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:qi}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&this.viewFrom_!==""}getLimit(){return B(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===Xe}copy(){const n=new Zf;return n.limitSet_=this.limitSet_,n.limit_=this.limit_,n.startSet_=this.startSet_,n.startAfterSet_=this.startAfterSet_,n.indexStartValue_=this.indexStartValue_,n.startNameSet_=this.startNameSet_,n.indexStartName_=this.indexStartName_,n.endSet_=this.endSet_,n.endBeforeSet_=this.endBeforeSet_,n.indexEndValue_=this.indexEndValue_,n.endNameSet_=this.endNameSet_,n.indexEndName_=this.indexEndName_,n.index_=this.index_,n.viewFrom_=this.viewFrom_,n}}function zE(a){return a.loadsAllData()?new Pf(a.getIndex()):a.hasLimit()?new IE(a):new cs(a)}function my(a){const n={};if(a.isDefault())return n;let l;if(a.index_===Xe?l="$priority":a.index_===OE?l="$value":a.index_===La?l="$key":(B(a.index_ instanceof ME,"Unrecognized index type!"),l=a.index_.toString()),n.orderBy=nt(l),a.startSet_){const s=a.startAfterSet_?"startAfter":"startAt";n[s]=nt(a.indexStartValue_),a.startNameSet_&&(n[s]+=","+nt(a.indexStartName_))}if(a.endSet_){const s=a.endBeforeSet_?"endBefore":"endAt";n[s]=nt(a.indexEndValue_),a.endNameSet_&&(n[s]+=","+nt(a.indexEndName_))}return a.limitSet_&&(a.isViewFromLeft()?n.limitToFirst=a.limit_:n.limitToLast=a.limit_),n}function gy(a){const n={};if(a.startSet_&&(n.sp=a.indexStartValue_,a.startNameSet_&&(n.sn=a.indexStartName_),n.sin=!a.startAfterSet_),a.endSet_&&(n.ep=a.indexEndValue_,a.endNameSet_&&(n.en=a.indexEndName_),n.ein=!a.endBeforeSet_),a.limitSet_){n.l=a.limit_;let l=a.viewFrom_;l===""&&(a.isViewFromLeft()?l="l":l="r"),n.vf=l}return a.index_!==Xe&&(n.i=a.index_.toString()),n}class Jr extends N_{reportStats(n){throw new Error("Method not implemented.")}static getListenId_(n,l){return l!==void 0?"tag$"+l:(B(n._queryParams.isDefault(),"should have a tag if it's not a default query."),n._path.toString())}constructor(n,l,s,c){super(),this.repoInfo_=n,this.onDataUpdate_=l,this.authTokenProvider_=s,this.appCheckTokenProvider_=c,this.log_=gs("p:rest:"),this.listens_={}}listen(n,l,s,c){const f=n._path.toString();this.log_("Listen called for "+f+" "+n._queryIdentifier);const d=Jr.getListenId_(n,s),m={};this.listens_[d]=m;const p=my(n._queryParams);this.restRequest_(f+".json",p,(g,S)=>{let v=S;if(g===404&&(v=null,g=null),g===null&&this.onDataUpdate_(f,v,!1,s),Ua(this.listens_,d)===m){let b;g?g===401?b="permission_denied":b="rest_error:"+g:b="ok",c(b,null)}})}unlisten(n,l){const s=Jr.getListenId_(n,l);delete this.listens_[s]}get(n){const l=my(n._queryParams),s=n._path.toString(),c=new ds;return this.restRequest_(s+".json",l,(f,d)=>{let m=d;f===404&&(m=null,f=null),f===null?(this.onDataUpdate_(s,m,!1,null),c.resolve(m)):c.reject(new Error(m))}),c.promise}refreshAuthToken(n){}restRequest_(n,l={},s){return l.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([c,f])=>{c&&c.accessToken&&(l.auth=c.accessToken),f&&f.token&&(l.ac=f.token);const d=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+n+"?ns="+this.repoInfo_.namespace+lS(l);this.log_("Sending REST request for "+d);const m=new XMLHttpRequest;m.onreadystatechange=()=>{if(s&&m.readyState===4){this.log_("REST Response for "+d+" received. status:",m.status,"response:",m.responseText);let p=null;if(m.status>=200&&m.status<300){try{p=ts(m.responseText)}catch{bt("Failed to parse JSON response for "+d+": "+m.responseText)}s(null,p)}else m.status!==401&&m.status!==404&&bt("Got unsuccessful REST response for "+d+" Status: "+m.status),s(m.status);s=null}},m.open("GET",d,!0),m.send()})}}class LE{constructor(){this.rootNode_=ee.EMPTY_NODE}getNode(n){return this.rootNode_.getChild(n)}updateSnapshot(n,l){this.rootNode_=this.rootNode_.updateChild(n,l)}}function Wr(){return{value:null,children:new Map}}function L_(a,n,l){if(me(n))a.value=l,a.children.clear();else if(a.value!==null)a.value=a.value.updateChild(n,l);else{const s=oe(n);a.children.has(s)||a.children.set(s,Wr());const c=a.children.get(s);n=He(n),L_(c,n,l)}}function vf(a,n,l){a.value!==null?l(n,a.value):UE(a,(s,c)=>{const f=new Oe(n.toString()+"/"+s);vf(c,f,l)})}function UE(a,n){a.children.forEach((l,s)=>{n(s,l)})}class HE{constructor(n){this.collection_=n,this.last_=null}get(){const n=this.collection_.get(),l={...n};return this.last_&&ht(this.last_,(s,c)=>{l[s]=l[s]-c}),this.last_=n,l}}const py=10*1e3,BE=30*1e3,kE=300*1e3;class qE{constructor(n,l){this.server_=l,this.statsToReport_={},this.statsListener_=new HE(n);const s=py+(BE-py)*Math.random();Fl(this.reportStats_.bind(this),Math.floor(s))}reportStats_(){const n=this.statsListener_.get(),l={};let s=!1;ht(n,(c,f)=>{f>0&&hn(this.statsToReport_,c)&&(l[c]=f,s=!0)}),s&&this.server_.reportStats(l),Fl(this.reportStats_.bind(this),Math.floor(Math.random()*2*kE))}}var sn;(function(a){a[a.OVERWRITE=0]="OVERWRITE",a[a.MERGE=1]="MERGE",a[a.ACK_USER_WRITE=2]="ACK_USER_WRITE",a[a.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"})(sn||(sn={}));function Kf(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function Ff(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function $f(a){return{fromUser:!1,fromServer:!0,queryId:a,tagged:!0}}class ec{constructor(n,l,s){this.path=n,this.affectedTree=l,this.revert=s,this.type=sn.ACK_USER_WRITE,this.source=Kf()}operationForChild(n){if(me(this.path)){if(this.affectedTree.value!=null)return B(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const l=this.affectedTree.subtree(new Oe(n));return new ec(be(),l,this.revert)}}else return B(oe(this.path)===n,"operationForChild called for unrelated child."),new ec(He(this.path),this.affectedTree,this.revert)}}class os{constructor(n,l){this.source=n,this.path=l,this.type=sn.LISTEN_COMPLETE}operationForChild(n){return me(this.path)?new os(this.source,be()):new os(this.source,He(this.path))}}class Gi{constructor(n,l,s){this.source=n,this.path=l,this.snap=s,this.type=sn.OVERWRITE}operationForChild(n){return me(this.path)?new Gi(this.source,be(),this.snap.getImmediateChild(n)):new Gi(this.source,He(this.path),this.snap)}}class ka{constructor(n,l,s){this.source=n,this.path=l,this.children=s,this.type=sn.MERGE}operationForChild(n){if(me(this.path)){const l=this.children.subtree(new Oe(n));return l.isEmpty()?null:l.value?new Gi(this.source,be(),l.value):new ka(this.source,be(),l)}else return B(oe(this.path)===n,"Can't get a merge for a child not on the path of the operation"),new ka(this.source,He(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}class pi{constructor(n,l,s){this.node_=n,this.fullyInitialized_=l,this.filtered_=s}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(n){if(me(n))return this.isFullyInitialized()&&!this.filtered_;const l=oe(n);return this.isCompleteForChild(l)}isCompleteForChild(n){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(n)}getNode(){return this.node_}}class GE{constructor(n){this.query_=n,this.index_=this.query_._queryParams.getIndex()}}function YE(a,n,l,s){const c=[],f=[];return n.forEach(d=>{d.type==="child_changed"&&a.index_.indexedValueChanged(d.oldSnap,d.snapshotNode)&&f.push(jE(d.childName,d.snapshotNode))}),Xl(a,c,"child_removed",n,s,l),Xl(a,c,"child_added",n,s,l),Xl(a,c,"child_moved",f,s,l),Xl(a,c,"child_changed",n,s,l),Xl(a,c,"value",n,s,l),c}function Xl(a,n,l,s,c,f){const d=s.filter(m=>m.type===l);d.sort((m,p)=>QE(a,m,p)),d.forEach(m=>{const p=VE(a,m,f);c.forEach(g=>{g.respondsTo(m.type)&&n.push(g.createEvent(p,a.query_))})})}function VE(a,n,l){return n.type==="value"||n.type==="child_removed"||(n.prevName=l.getPredecessorChildName(n.childName,n.snapshotNode,a.index_)),n}function QE(a,n,l){if(n.childName==null||l.childName==null)throw Ya("Should only compare child_ events.");const s=new ue(n.childName,n.snapshotNode),c=new ue(l.childName,l.snapshotNode);return a.index_.compare(s,c)}function fc(a,n){return{eventCache:a,serverCache:n}}function $l(a,n,l,s){return fc(new pi(n,l,s),a.serverCache)}function U_(a,n,l,s){return fc(a.eventCache,new pi(n,l,s))}function tc(a){return a.eventCache.isFullyInitialized()?a.eventCache.getNode():null}function Yi(a){return a.serverCache.isFullyInitialized()?a.serverCache.getNode():null}let nf;const XE=()=>(nf||(nf=new Rt(Mx)),nf);class Le{static fromObject(n){let l=new Le(null);return ht(n,(s,c)=>{l=l.set(new Oe(s),c)}),l}constructor(n,l=XE()){this.value=n,this.children=l}isEmpty(){return this.value===null&&this.children.isEmpty()}findRootMostMatchingPathAndValue(n,l){if(this.value!=null&&l(this.value))return{path:be(),value:this.value};if(me(n))return null;{const s=oe(n),c=this.children.get(s);if(c!==null){const f=c.findRootMostMatchingPathAndValue(He(n),l);return f!=null?{path:Qe(new Oe(s),f.path),value:f.value}:null}else return null}}findRootMostValueAndPath(n){return this.findRootMostMatchingPathAndValue(n,()=>!0)}subtree(n){if(me(n))return this;{const l=oe(n),s=this.children.get(l);return s!==null?s.subtree(He(n)):new Le(null)}}set(n,l){if(me(n))return new Le(l,this.children);{const s=oe(n),f=(this.children.get(s)||new Le(null)).set(He(n),l),d=this.children.insert(s,f);return new Le(this.value,d)}}remove(n){if(me(n))return this.children.isEmpty()?new Le(null):new Le(null,this.children);{const l=oe(n),s=this.children.get(l);if(s){const c=s.remove(He(n));let f;return c.isEmpty()?f=this.children.remove(l):f=this.children.insert(l,c),this.value===null&&f.isEmpty()?new Le(null):new Le(this.value,f)}else return this}}get(n){if(me(n))return this.value;{const l=oe(n),s=this.children.get(l);return s?s.get(He(n)):null}}setTree(n,l){if(me(n))return l;{const s=oe(n),f=(this.children.get(s)||new Le(null)).setTree(He(n),l);let d;return f.isEmpty()?d=this.children.remove(s):d=this.children.insert(s,f),new Le(this.value,d)}}fold(n){return this.fold_(be(),n)}fold_(n,l){const s={};return this.children.inorderTraversal((c,f)=>{s[c]=f.fold_(Qe(n,c),l)}),l(n,this.value,s)}findOnPath(n,l){return this.findOnPath_(n,be(),l)}findOnPath_(n,l,s){const c=this.value?s(l,this.value):!1;if(c)return c;if(me(n))return null;{const f=oe(n),d=this.children.get(f);return d?d.findOnPath_(He(n),Qe(l,f),s):null}}foreachOnPath(n,l){return this.foreachOnPath_(n,be(),l)}foreachOnPath_(n,l,s){if(me(n))return this;{this.value&&s(l,this.value);const c=oe(n),f=this.children.get(c);return f?f.foreachOnPath_(He(n),Qe(l,c),s):new Le(null)}}foreach(n){this.foreach_(be(),n)}foreach_(n,l){this.children.inorderTraversal((s,c)=>{c.foreach_(Qe(n,s),l)}),this.value&&l(n,this.value)}foreachChild(n){this.children.inorderTraversal((l,s)=>{s.value&&n(l,s.value)})}}class rn{constructor(n){this.writeTree_=n}static empty(){return new rn(new Le(null))}}function Jl(a,n,l){if(me(n))return new rn(new Le(l));{const s=a.writeTree_.findRootMostValueAndPath(n);if(s!=null){const c=s.path;let f=s.value;const d=vt(c,n);return f=f.updateChild(d,l),new rn(a.writeTree_.set(c,f))}else{const c=new Le(l),f=a.writeTree_.setTree(n,c);return new rn(f)}}}function bf(a,n,l){let s=a;return ht(l,(c,f)=>{s=Jl(s,Qe(n,c),f)}),s}function yy(a,n){if(me(n))return rn.empty();{const l=a.writeTree_.setTree(n,new Le(null));return new rn(l)}}function Sf(a,n){return Qi(a,n)!=null}function Qi(a,n){const l=a.writeTree_.findRootMostValueAndPath(n);return l!=null?a.writeTree_.get(l.path).getChild(vt(l.path,n)):null}function _y(a){const n=[],l=a.writeTree_.value;return l!=null?l.isLeafNode()||l.forEachChild(Xe,(s,c)=>{n.push(new ue(s,c))}):a.writeTree_.children.inorderTraversal((s,c)=>{c.value!=null&&n.push(new ue(s,c.value))}),n}function hi(a,n){if(me(n))return a;{const l=Qi(a,n);return l!=null?new rn(new Le(l)):new rn(a.writeTree_.subtree(n))}}function xf(a){return a.writeTree_.isEmpty()}function qa(a,n){return H_(be(),a.writeTree_,n)}function H_(a,n,l){if(n.value!=null)return l.updateChild(a,n.value);{let s=null;return n.children.inorderTraversal((c,f)=>{c===".priority"?(B(f.value!==null,"Priority writes must always be leaf nodes"),s=f.value):l=H_(Qe(a,c),f,l)}),!l.getChild(a).isEmpty()&&s!==null&&(l=l.updateChild(Qe(a,".priority"),s)),l}}function dc(a,n){return G_(n,a)}function PE(a,n,l,s,c){B(s>a.lastWriteId,"Stacking an older write on top of newer ones"),c===void 0&&(c=!0),a.allWrites.push({path:n,snap:l,writeId:s,visible:c}),c&&(a.visibleWrites=Jl(a.visibleWrites,n,l)),a.lastWriteId=s}function ZE(a,n,l,s){B(s>a.lastWriteId,"Stacking an older merge on top of newer ones"),a.allWrites.push({path:n,children:l,writeId:s,visible:!0}),a.visibleWrites=bf(a.visibleWrites,n,l),a.lastWriteId=s}function KE(a,n){for(let l=0;l<a.allWrites.length;l++){const s=a.allWrites[l];if(s.writeId===n)return s}return null}function FE(a,n){const l=a.allWrites.findIndex(m=>m.writeId===n);B(l>=0,"removeWrite called with nonexistent writeId.");const s=a.allWrites[l];a.allWrites.splice(l,1);let c=s.visible,f=!1,d=a.allWrites.length-1;for(;c&&d>=0;){const m=a.allWrites[d];m.visible&&(d>=l&&$E(m,s.path)?c=!1:Jt(s.path,m.path)&&(f=!0)),d--}if(c){if(f)return JE(a),!0;if(s.snap)a.visibleWrites=yy(a.visibleWrites,s.path);else{const m=s.children;ht(m,p=>{a.visibleWrites=yy(a.visibleWrites,Qe(s.path,p))})}return!0}else return!1}function $E(a,n){if(a.snap)return Jt(a.path,n);for(const l in a.children)if(a.children.hasOwnProperty(l)&&Jt(Qe(a.path,l),n))return!0;return!1}function JE(a){a.visibleWrites=B_(a.allWrites,WE,be()),a.allWrites.length>0?a.lastWriteId=a.allWrites[a.allWrites.length-1].writeId:a.lastWriteId=-1}function WE(a){return a.visible}function B_(a,n,l){let s=rn.empty();for(let c=0;c<a.length;++c){const f=a[c];if(n(f)){const d=f.path;let m;if(f.snap)Jt(l,d)?(m=vt(l,d),s=Jl(s,m,f.snap)):Jt(d,l)&&(m=vt(d,l),s=Jl(s,be(),f.snap.getChild(m)));else if(f.children){if(Jt(l,d))m=vt(l,d),s=bf(s,m,f.children);else if(Jt(d,l))if(m=vt(d,l),me(m))s=bf(s,be(),f.children);else{const p=Ua(f.children,oe(m));if(p){const g=p.getChild(He(m));s=Jl(s,be(),g)}}}else throw Ya("WriteRecord should have .snap or .children")}}return s}function k_(a,n,l,s,c){if(!s&&!c){const f=Qi(a.visibleWrites,n);if(f!=null)return f;{const d=hi(a.visibleWrites,n);if(xf(d))return l;if(l==null&&!Sf(d,be()))return null;{const m=l||ee.EMPTY_NODE;return qa(d,m)}}}else{const f=hi(a.visibleWrites,n);if(!c&&xf(f))return l;if(!c&&l==null&&!Sf(f,be()))return null;{const d=function(g){return(g.visible||c)&&(!s||!~s.indexOf(g.writeId))&&(Jt(g.path,n)||Jt(n,g.path))},m=B_(a.allWrites,d,n),p=l||ee.EMPTY_NODE;return qa(m,p)}}}function eC(a,n,l){let s=ee.EMPTY_NODE;const c=Qi(a.visibleWrites,n);if(c)return c.isLeafNode()||c.forEachChild(Xe,(f,d)=>{s=s.updateImmediateChild(f,d)}),s;if(l){const f=hi(a.visibleWrites,n);return l.forEachChild(Xe,(d,m)=>{const p=qa(hi(f,new Oe(d)),m);s=s.updateImmediateChild(d,p)}),_y(f).forEach(d=>{s=s.updateImmediateChild(d.name,d.node)}),s}else{const f=hi(a.visibleWrites,n);return _y(f).forEach(d=>{s=s.updateImmediateChild(d.name,d.node)}),s}}function tC(a,n,l,s,c){B(s||c,"Either existingEventSnap or existingServerSnap must exist");const f=Qe(n,l);if(Sf(a.visibleWrites,f))return null;{const d=hi(a.visibleWrites,f);return xf(d)?c.getChild(l):qa(d,c.getChild(l))}}function nC(a,n,l,s){const c=Qe(n,l),f=Qi(a.visibleWrites,c);if(f!=null)return f;if(s.isCompleteForChild(l)){const d=hi(a.visibleWrites,c);return qa(d,s.getNode().getImmediateChild(l))}else return null}function iC(a,n){return Qi(a.visibleWrites,n)}function aC(a,n,l,s,c,f,d){let m;const p=hi(a.visibleWrites,n),g=Qi(p,be());if(g!=null)m=g;else if(l!=null)m=qa(p,l);else return[];if(m=m.withIndex(d),!m.isEmpty()&&!m.isLeafNode()){const S=[],v=d.getCompare(),b=f?m.getReverseIteratorFrom(s,d):m.getIteratorFrom(s,d);let R=b.getNext();for(;R&&S.length<c;)v(R,s)!==0&&S.push(R),R=b.getNext();return S}else return[]}function lC(){return{visibleWrites:rn.empty(),allWrites:[],lastWriteId:-1}}function nc(a,n,l,s){return k_(a.writeTree,a.treePath,n,l,s)}function Jf(a,n){return eC(a.writeTree,a.treePath,n)}function vy(a,n,l,s){return tC(a.writeTree,a.treePath,n,l,s)}function ic(a,n){return iC(a.writeTree,Qe(a.treePath,n))}function sC(a,n,l,s,c,f){return aC(a.writeTree,a.treePath,n,l,s,c,f)}function Wf(a,n,l){return nC(a.writeTree,a.treePath,n,l)}function q_(a,n){return G_(Qe(a.treePath,n),a.writeTree)}function G_(a,n){return{treePath:a,writeTree:n}}class rC{constructor(){this.changeMap=new Map}trackChildChange(n){const l=n.type,s=n.childName;B(l==="child_added"||l==="child_changed"||l==="child_removed","Only child changes supported for tracking"),B(s!==".priority","Only non-priority child changes can be tracked.");const c=this.changeMap.get(s);if(c){const f=c.type;if(l==="child_added"&&f==="child_removed")this.changeMap.set(s,rs(s,n.snapshotNode,c.snapshotNode));else if(l==="child_removed"&&f==="child_added")this.changeMap.delete(s);else if(l==="child_removed"&&f==="child_changed")this.changeMap.set(s,ss(s,c.oldSnap));else if(l==="child_changed"&&f==="child_added")this.changeMap.set(s,Ba(s,n.snapshotNode));else if(l==="child_changed"&&f==="child_changed")this.changeMap.set(s,rs(s,n.snapshotNode,c.oldSnap));else throw Ya("Illegal combination of changes: "+n+" occurred after "+c)}else this.changeMap.set(s,n)}getChanges(){return Array.from(this.changeMap.values())}}class cC{getCompleteChild(n){return null}getChildAfterChild(n,l,s){return null}}const Y_=new cC;class ed{constructor(n,l,s=null){this.writes_=n,this.viewCache_=l,this.optCompleteServerCache_=s}getCompleteChild(n){const l=this.viewCache_.eventCache;if(l.isCompleteForChild(n))return l.getNode().getImmediateChild(n);{const s=this.optCompleteServerCache_!=null?new pi(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return Wf(this.writes_,n,s)}}getChildAfterChild(n,l,s){const c=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:Yi(this.viewCache_),f=sC(this.writes_,c,l,1,s,n);return f.length===0?null:f[0]}}function oC(a){return{filter:a}}function uC(a,n){B(n.eventCache.getNode().isIndexed(a.filter.getIndex()),"Event snap not indexed"),B(n.serverCache.getNode().isIndexed(a.filter.getIndex()),"Server snap not indexed")}function fC(a,n,l,s,c){const f=new rC;let d,m;if(l.type===sn.OVERWRITE){const g=l;g.source.fromUser?d=Ef(a,n,g.path,g.snap,s,c,f):(B(g.source.fromServer,"Unknown source."),m=g.source.tagged||n.serverCache.isFiltered()&&!me(g.path),d=ac(a,n,g.path,g.snap,s,c,m,f))}else if(l.type===sn.MERGE){const g=l;g.source.fromUser?d=hC(a,n,g.path,g.children,s,c,f):(B(g.source.fromServer,"Unknown source."),m=g.source.tagged||n.serverCache.isFiltered(),d=Cf(a,n,g.path,g.children,s,c,m,f))}else if(l.type===sn.ACK_USER_WRITE){const g=l;g.revert?d=pC(a,n,g.path,s,c,f):d=mC(a,n,g.path,g.affectedTree,s,c,f)}else if(l.type===sn.LISTEN_COMPLETE)d=gC(a,n,l.path,s,f);else throw Ya("Unknown operation type: "+l.type);const p=f.getChanges();return dC(n,d,p),{viewCache:d,changes:p}}function dC(a,n,l){const s=n.eventCache;if(s.isFullyInitialized()){const c=s.getNode().isLeafNode()||s.getNode().isEmpty(),f=tc(a);(l.length>0||!a.eventCache.isFullyInitialized()||c&&!s.getNode().equals(f)||!s.getNode().getPriority().equals(f.getPriority()))&&l.push(z_(tc(n)))}}function V_(a,n,l,s,c,f){const d=n.eventCache;if(ic(s,l)!=null)return n;{let m,p;if(me(l))if(B(n.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),n.serverCache.isFiltered()){const g=Yi(n),S=g instanceof ee?g:ee.EMPTY_NODE,v=Jf(s,S);m=a.filter.updateFullNode(n.eventCache.getNode(),v,f)}else{const g=nc(s,Yi(n));m=a.filter.updateFullNode(n.eventCache.getNode(),g,f)}else{const g=oe(l);if(g===".priority"){B(gi(l)===1,"Can't have a priority with additional path components");const S=d.getNode();p=n.serverCache.getNode();const v=vy(s,l,S,p);v!=null?m=a.filter.updatePriority(S,v):m=d.getNode()}else{const S=He(l);let v;if(d.isCompleteForChild(g)){p=n.serverCache.getNode();const b=vy(s,l,d.getNode(),p);b!=null?v=d.getNode().getImmediateChild(g).updateChild(S,b):v=d.getNode().getImmediateChild(g)}else v=Wf(s,g,n.serverCache);v!=null?m=a.filter.updateChild(d.getNode(),g,v,S,c,f):m=d.getNode()}}return $l(n,m,d.isFullyInitialized()||me(l),a.filter.filtersNodes())}}function ac(a,n,l,s,c,f,d,m){const p=n.serverCache;let g;const S=d?a.filter:a.filter.getIndexedFilter();if(me(l))g=S.updateFullNode(p.getNode(),s,null);else if(S.filtersNodes()&&!p.isFiltered()){const R=p.getNode().updateChild(l,s);g=S.updateFullNode(p.getNode(),R,null)}else{const R=oe(l);if(!p.isCompleteForPath(l)&&gi(l)>1)return n;const I=He(l),k=p.getNode().getImmediateChild(R).updateChild(I,s);R===".priority"?g=S.updatePriority(p.getNode(),k):g=S.updateChild(p.getNode(),R,k,I,Y_,null)}const v=U_(n,g,p.isFullyInitialized()||me(l),S.filtersNodes()),b=new ed(c,v,f);return V_(a,v,l,c,b,m)}function Ef(a,n,l,s,c,f,d){const m=n.eventCache;let p,g;const S=new ed(c,n,f);if(me(l))g=a.filter.updateFullNode(n.eventCache.getNode(),s,d),p=$l(n,g,!0,a.filter.filtersNodes());else{const v=oe(l);if(v===".priority")g=a.filter.updatePriority(n.eventCache.getNode(),s),p=$l(n,g,m.isFullyInitialized(),m.isFiltered());else{const b=He(l),R=m.getNode().getImmediateChild(v);let I;if(me(b))I=s;else{const H=S.getCompleteChild(v);H!=null?Yf(b)===".priority"&&H.getChild(A_(b)).isEmpty()?I=H:I=H.updateChild(b,s):I=ee.EMPTY_NODE}if(R.equals(I))p=n;else{const H=a.filter.updateChild(m.getNode(),v,I,b,S,d);p=$l(n,H,m.isFullyInitialized(),a.filter.filtersNodes())}}}return p}function by(a,n){return a.eventCache.isCompleteForChild(n)}function hC(a,n,l,s,c,f,d){let m=n;return s.foreach((p,g)=>{const S=Qe(l,p);by(n,oe(S))&&(m=Ef(a,m,S,g,c,f,d))}),s.foreach((p,g)=>{const S=Qe(l,p);by(n,oe(S))||(m=Ef(a,m,S,g,c,f,d))}),m}function Sy(a,n,l){return l.foreach((s,c)=>{n=n.updateChild(s,c)}),n}function Cf(a,n,l,s,c,f,d,m){if(n.serverCache.getNode().isEmpty()&&!n.serverCache.isFullyInitialized())return n;let p=n,g;me(l)?g=s:g=new Le(null).setTree(l,s);const S=n.serverCache.getNode();return g.children.inorderTraversal((v,b)=>{if(S.hasChild(v)){const R=n.serverCache.getNode().getImmediateChild(v),I=Sy(a,R,b);p=ac(a,p,new Oe(v),I,c,f,d,m)}}),g.children.inorderTraversal((v,b)=>{const R=!n.serverCache.isCompleteForChild(v)&&b.value===null;if(!S.hasChild(v)&&!R){const I=n.serverCache.getNode().getImmediateChild(v),H=Sy(a,I,b);p=ac(a,p,new Oe(v),H,c,f,d,m)}}),p}function mC(a,n,l,s,c,f,d){if(ic(c,l)!=null)return n;const m=n.serverCache.isFiltered(),p=n.serverCache;if(s.value!=null){if(me(l)&&p.isFullyInitialized()||p.isCompleteForPath(l))return ac(a,n,l,p.getNode().getChild(l),c,f,m,d);if(me(l)){let g=new Le(null);return p.getNode().forEachChild(La,(S,v)=>{g=g.set(new Oe(S),v)}),Cf(a,n,l,g,c,f,m,d)}else return n}else{let g=new Le(null);return s.foreach((S,v)=>{const b=Qe(l,S);p.isCompleteForPath(b)&&(g=g.set(S,p.getNode().getChild(b)))}),Cf(a,n,l,g,c,f,m,d)}}function gC(a,n,l,s,c){const f=n.serverCache,d=U_(n,f.getNode(),f.isFullyInitialized()||me(l),f.isFiltered());return V_(a,d,l,s,Y_,c)}function pC(a,n,l,s,c,f){let d;if(ic(s,l)!=null)return n;{const m=new ed(s,n,c),p=n.eventCache.getNode();let g;if(me(l)||oe(l)===".priority"){let S;if(n.serverCache.isFullyInitialized())S=nc(s,Yi(n));else{const v=n.serverCache.getNode();B(v instanceof ee,"serverChildren would be complete if leaf node"),S=Jf(s,v)}S=S,g=a.filter.updateFullNode(p,S,f)}else{const S=oe(l);let v=Wf(s,S,n.serverCache);v==null&&n.serverCache.isCompleteForChild(S)&&(v=p.getImmediateChild(S)),v!=null?g=a.filter.updateChild(p,S,v,He(l),m,f):n.eventCache.getNode().hasChild(S)?g=a.filter.updateChild(p,S,ee.EMPTY_NODE,He(l),m,f):g=p,g.isEmpty()&&n.serverCache.isFullyInitialized()&&(d=nc(s,Yi(n)),d.isLeafNode()&&(g=a.filter.updateFullNode(g,d,f)))}return d=n.serverCache.isFullyInitialized()||ic(s,be())!=null,$l(n,g,d,a.filter.filtersNodes())}}class yC{constructor(n,l){this.query_=n,this.eventRegistrations_=[];const s=this.query_._queryParams,c=new Pf(s.getIndex()),f=zE(s);this.processor_=oC(f);const d=l.serverCache,m=l.eventCache,p=c.updateFullNode(ee.EMPTY_NODE,d.getNode(),null),g=f.updateFullNode(ee.EMPTY_NODE,m.getNode(),null),S=new pi(p,d.isFullyInitialized(),c.filtersNodes()),v=new pi(g,m.isFullyInitialized(),f.filtersNodes());this.viewCache_=fc(v,S),this.eventGenerator_=new GE(this.query_)}get query(){return this.query_}}function _C(a){return a.viewCache_.serverCache.getNode()}function vC(a){return tc(a.viewCache_)}function bC(a,n){const l=Yi(a.viewCache_);return l&&(a.query._queryParams.loadsAllData()||!me(n)&&!l.getImmediateChild(oe(n)).isEmpty())?l.getChild(n):null}function xy(a){return a.eventRegistrations_.length===0}function SC(a,n){a.eventRegistrations_.push(n)}function Ey(a,n,l){const s=[];if(l){B(n==null,"A cancel should cancel all event registrations.");const c=a.query._path;a.eventRegistrations_.forEach(f=>{const d=f.createCancelEvent(l,c);d&&s.push(d)})}if(n){let c=[];for(let f=0;f<a.eventRegistrations_.length;++f){const d=a.eventRegistrations_[f];if(!d.matches(n))c.push(d);else if(n.hasAnyCallback()){c=c.concat(a.eventRegistrations_.slice(f+1));break}}a.eventRegistrations_=c}else a.eventRegistrations_=[];return s}function Cy(a,n,l,s){n.type===sn.MERGE&&n.source.queryId!==null&&(B(Yi(a.viewCache_),"We should always have a full cache before handling merges"),B(tc(a.viewCache_),"Missing event cache, even though we have a server cache"));const c=a.viewCache_,f=fC(a.processor_,c,n,l,s);return uC(a.processor_,f.viewCache),B(f.viewCache.serverCache.isFullyInitialized()||!c.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),a.viewCache_=f.viewCache,Q_(a,f.changes,f.viewCache.eventCache.getNode(),null)}function xC(a,n){const l=a.viewCache_.eventCache,s=[];return l.getNode().isLeafNode()||l.getNode().forEachChild(Xe,(f,d)=>{s.push(Ba(f,d))}),l.isFullyInitialized()&&s.push(z_(l.getNode())),Q_(a,s,l.getNode(),n)}function Q_(a,n,l,s){const c=s?[s]:a.eventRegistrations_;return YE(a.eventGenerator_,n,l,c)}let lc;class X_{constructor(){this.views=new Map}}function EC(a){B(!lc,"__referenceConstructor has already been defined"),lc=a}function CC(){return B(lc,"Reference.ts has not been loaded"),lc}function TC(a){return a.views.size===0}function td(a,n,l,s){const c=n.source.queryId;if(c!==null){const f=a.views.get(c);return B(f!=null,"SyncTree gave us an op for an invalid query."),Cy(f,n,l,s)}else{let f=[];for(const d of a.views.values())f=f.concat(Cy(d,n,l,s));return f}}function P_(a,n,l,s,c){const f=n._queryIdentifier,d=a.views.get(f);if(!d){let m=nc(l,c?s:null),p=!1;m?p=!0:s instanceof ee?(m=Jf(l,s),p=!1):(m=ee.EMPTY_NODE,p=!1);const g=fc(new pi(m,p,!1),new pi(s,c,!1));return new yC(n,g)}return d}function NC(a,n,l,s,c,f){const d=P_(a,n,s,c,f);return a.views.has(n._queryIdentifier)||a.views.set(n._queryIdentifier,d),SC(d,l),xC(d,l)}function wC(a,n,l,s){const c=n._queryIdentifier,f=[];let d=[];const m=yi(a);if(c==="default")for(const[p,g]of a.views.entries())d=d.concat(Ey(g,l,s)),xy(g)&&(a.views.delete(p),g.query._queryParams.loadsAllData()||f.push(g.query));else{const p=a.views.get(c);p&&(d=d.concat(Ey(p,l,s)),xy(p)&&(a.views.delete(c),p.query._queryParams.loadsAllData()||f.push(p.query)))}return m&&!yi(a)&&f.push(new(CC())(n._repo,n._path)),{removed:f,events:d}}function Z_(a){const n=[];for(const l of a.views.values())l.query._queryParams.loadsAllData()||n.push(l);return n}function mi(a,n){let l=null;for(const s of a.views.values())l=l||bC(s,n);return l}function K_(a,n){if(n._queryParams.loadsAllData())return hc(a);{const s=n._queryIdentifier;return a.views.get(s)}}function F_(a,n){return K_(a,n)!=null}function yi(a){return hc(a)!=null}function hc(a){for(const n of a.views.values())if(n.query._queryParams.loadsAllData())return n;return null}let sc;function AC(a){B(!sc,"__referenceConstructor has already been defined"),sc=a}function RC(){return B(sc,"Reference.ts has not been loaded"),sc}let MC=1;class Ty{constructor(n){this.listenProvider_=n,this.syncPointTree_=new Le(null),this.pendingWriteTree_=lC(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function $_(a,n,l,s,c){return PE(a.pendingWriteTree_,n,l,s,c),c?Xa(a,new Gi(Kf(),n,l)):[]}function DC(a,n,l,s){ZE(a.pendingWriteTree_,n,l,s);const c=Le.fromObject(l);return Xa(a,new ka(Kf(),n,c))}function ui(a,n,l=!1){const s=KE(a.pendingWriteTree_,n);if(FE(a.pendingWriteTree_,n)){let f=new Le(null);return s.snap!=null?f=f.set(be(),!0):ht(s.children,d=>{f=f.set(new Oe(d),!0)}),Xa(a,new ec(s.path,f,l))}else return[]}function ys(a,n,l){return Xa(a,new Gi(Ff(),n,l))}function OC(a,n,l){const s=Le.fromObject(l);return Xa(a,new ka(Ff(),n,s))}function jC(a,n){return Xa(a,new os(Ff(),n))}function IC(a,n,l){const s=id(a,l);if(s){const c=ad(s),f=c.path,d=c.queryId,m=vt(f,n),p=new os($f(d),m);return ld(a,f,p)}else return[]}function rc(a,n,l,s,c=!1){const f=n._path,d=a.syncPointTree_.get(f);let m=[];if(d&&(n._queryIdentifier==="default"||F_(d,n))){const p=wC(d,n,l,s);TC(d)&&(a.syncPointTree_=a.syncPointTree_.remove(f));const g=p.removed;if(m=p.events,!c){const S=g.findIndex(b=>b._queryParams.loadsAllData())!==-1,v=a.syncPointTree_.findOnPath(f,(b,R)=>yi(R));if(S&&!v){const b=a.syncPointTree_.subtree(f);if(!b.isEmpty()){const R=UC(b);for(let I=0;I<R.length;++I){const H=R[I],k=H.query,U=t0(a,H);a.listenProvider_.startListening(Wl(k),us(a,k),U.hashFn,U.onComplete)}}}!v&&g.length>0&&!s&&(S?a.listenProvider_.stopListening(Wl(n),null):g.forEach(b=>{const R=a.queryToTagMap.get(mc(b));a.listenProvider_.stopListening(Wl(b),R)}))}HC(a,g)}return m}function J_(a,n,l,s){const c=id(a,s);if(c!=null){const f=ad(c),d=f.path,m=f.queryId,p=vt(d,n),g=new Gi($f(m),p,l);return ld(a,d,g)}else return[]}function zC(a,n,l,s){const c=id(a,s);if(c){const f=ad(c),d=f.path,m=f.queryId,p=vt(d,n),g=Le.fromObject(l),S=new ka($f(m),p,g);return ld(a,d,S)}else return[]}function Tf(a,n,l,s=!1){const c=n._path;let f=null,d=!1;a.syncPointTree_.foreachOnPath(c,(b,R)=>{const I=vt(b,c);f=f||mi(R,I),d=d||yi(R)});let m=a.syncPointTree_.get(c);m?(d=d||yi(m),f=f||mi(m,be())):(m=new X_,a.syncPointTree_=a.syncPointTree_.set(c,m));let p;f!=null?p=!0:(p=!1,f=ee.EMPTY_NODE,a.syncPointTree_.subtree(c).foreachChild((R,I)=>{const H=mi(I,be());H&&(f=f.updateImmediateChild(R,H))}));const g=F_(m,n);if(!g&&!n._queryParams.loadsAllData()){const b=mc(n);B(!a.queryToTagMap.has(b),"View does not exist, but we have a tag");const R=BC();a.queryToTagMap.set(b,R),a.tagToQueryMap.set(R,b)}const S=dc(a.pendingWriteTree_,c);let v=NC(m,n,l,S,f,p);if(!g&&!d&&!s){const b=K_(m,n);v=v.concat(kC(a,n,b))}return v}function nd(a,n,l){const c=a.pendingWriteTree_,f=a.syncPointTree_.findOnPath(n,(d,m)=>{const p=vt(d,n),g=mi(m,p);if(g)return g});return k_(c,n,f,l,!0)}function LC(a,n){const l=n._path;let s=null;a.syncPointTree_.foreachOnPath(l,(g,S)=>{const v=vt(g,l);s=s||mi(S,v)});let c=a.syncPointTree_.get(l);c?s=s||mi(c,be()):(c=new X_,a.syncPointTree_=a.syncPointTree_.set(l,c));const f=s!=null,d=f?new pi(s,!0,!1):null,m=dc(a.pendingWriteTree_,n._path),p=P_(c,n,m,f?d.getNode():ee.EMPTY_NODE,f);return vC(p)}function Xa(a,n){return W_(n,a.syncPointTree_,null,dc(a.pendingWriteTree_,be()))}function W_(a,n,l,s){if(me(a.path))return e0(a,n,l,s);{const c=n.get(be());l==null&&c!=null&&(l=mi(c,be()));let f=[];const d=oe(a.path),m=a.operationForChild(d),p=n.children.get(d);if(p&&m){const g=l?l.getImmediateChild(d):null,S=q_(s,d);f=f.concat(W_(m,p,g,S))}return c&&(f=f.concat(td(c,a,s,l))),f}}function e0(a,n,l,s){const c=n.get(be());l==null&&c!=null&&(l=mi(c,be()));let f=[];return n.children.inorderTraversal((d,m)=>{const p=l?l.getImmediateChild(d):null,g=q_(s,d),S=a.operationForChild(d);S&&(f=f.concat(e0(S,m,p,g)))}),c&&(f=f.concat(td(c,a,s,l))),f}function t0(a,n){const l=n.query,s=us(a,l);return{hashFn:()=>(_C(n)||ee.EMPTY_NODE).hash(),onComplete:c=>{if(c==="ok")return s?IC(a,l._path,s):jC(a,l._path);{const f=jx(c,l);return rc(a,l,null,f)}}}}function us(a,n){const l=mc(n);return a.queryToTagMap.get(l)}function mc(a){return a._path.toString()+"$"+a._queryIdentifier}function id(a,n){return a.tagToQueryMap.get(n)}function ad(a){const n=a.indexOf("$");return B(n!==-1&&n<a.length-1,"Bad queryKey."),{queryId:a.substr(n+1),path:new Oe(a.substr(0,n))}}function ld(a,n,l){const s=a.syncPointTree_.get(n);B(s,"Missing sync point for query tag that we're tracking");const c=dc(a.pendingWriteTree_,n);return td(s,l,c,null)}function UC(a){return a.fold((n,l,s)=>{if(l&&yi(l))return[hc(l)];{let c=[];return l&&(c=Z_(l)),ht(s,(f,d)=>{c=c.concat(d)}),c}})}function Wl(a){return a._queryParams.loadsAllData()&&!a._queryParams.isDefault()?new(RC())(a._repo,a._path):a}function HC(a,n){for(let l=0;l<n.length;++l){const s=n[l];if(!s._queryParams.loadsAllData()){const c=mc(s),f=a.queryToTagMap.get(c);a.queryToTagMap.delete(c),a.tagToQueryMap.delete(f)}}}function BC(){return MC++}function kC(a,n,l){const s=n._path,c=us(a,n),f=t0(a,l),d=a.listenProvider_.startListening(Wl(n),c,f.hashFn,f.onComplete),m=a.syncPointTree_.subtree(s);if(c)B(!yi(m.value),"If we're adding a query, it shouldn't be shadowed");else{const p=m.fold((g,S,v)=>{if(!me(g)&&S&&yi(S))return[hc(S).query];{let b=[];return S&&(b=b.concat(Z_(S).map(R=>R.query))),ht(v,(R,I)=>{b=b.concat(I)}),b}});for(let g=0;g<p.length;++g){const S=p[g];a.listenProvider_.stopListening(Wl(S),us(a,S))}}return d}class sd{constructor(n){this.node_=n}getImmediateChild(n){const l=this.node_.getImmediateChild(n);return new sd(l)}node(){return this.node_}}class rd{constructor(n,l){this.syncTree_=n,this.path_=l}getImmediateChild(n){const l=Qe(this.path_,n);return new rd(this.syncTree_,l)}node(){return nd(this.syncTree_,this.path_)}}const qC=function(a){return a=a||{},a.timestamp=a.timestamp||new Date().getTime(),a},Ny=function(a,n,l){if(!a||typeof a!="object")return a;if(B(".sv"in a,"Unexpected leaf node or priority contents"),typeof a[".sv"]=="string")return GC(a[".sv"],n,l);if(typeof a[".sv"]=="object")return YC(a[".sv"],n);B(!1,"Unexpected server value: "+JSON.stringify(a,null,2))},GC=function(a,n,l){if(a==="timestamp")return l.timestamp;B(!1,"Unexpected server value: "+a)},YC=function(a,n,l){a.hasOwnProperty("increment")||B(!1,"Unexpected server value: "+JSON.stringify(a,null,2));const s=a.increment;typeof s!="number"&&B(!1,"Unexpected increment value: "+s);const c=n.node();if(B(c!==null&&typeof c<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!c.isLeafNode())return s;const d=c.getValue();return typeof d!="number"?s:d+s},n0=function(a,n,l,s){return cd(n,new rd(l,a),s)},i0=function(a,n,l){return cd(a,new sd(n),l)};function cd(a,n,l){const s=a.getPriority().val(),c=Ny(s,n.getImmediateChild(".priority"),l);let f;if(a.isLeafNode()){const d=a,m=Ny(d.getValue(),n,l);return m!==d.getValue()||c!==d.getPriority().val()?new lt(m,tt(c)):a}else{const d=a;return f=d,c!==d.getPriority().val()&&(f=f.updatePriority(new lt(c))),d.forEachChild(Xe,(m,p)=>{const g=cd(p,n.getImmediateChild(m),l);g!==p&&(f=f.updateImmediateChild(m,g))}),f}}class od{constructor(n="",l=null,s={children:{},childCount:0}){this.name=n,this.parent=l,this.node=s}}function ud(a,n){let l=n instanceof Oe?n:new Oe(n),s=a,c=oe(l);for(;c!==null;){const f=Ua(s.node.children,c)||{children:{},childCount:0};s=new od(c,s,f),l=He(l),c=oe(l)}return s}function Pa(a){return a.node.value}function a0(a,n){a.node.value=n,Nf(a)}function l0(a){return a.node.childCount>0}function VC(a){return Pa(a)===void 0&&!l0(a)}function gc(a,n){ht(a.node.children,(l,s)=>{n(new od(l,a,s))})}function s0(a,n,l,s){l&&n(a),gc(a,c=>{s0(c,n,!0)})}function QC(a,n,l){let s=a.parent;for(;s!==null;){if(n(s))return!0;s=s.parent}return!1}function _s(a){return new Oe(a.parent===null?a.name:_s(a.parent)+"/"+a.name)}function Nf(a){a.parent!==null&&XC(a.parent,a.name,a)}function XC(a,n,l){const s=VC(l),c=hn(a.node.children,n);s&&c?(delete a.node.children[n],a.node.childCount--,Nf(a)):!s&&!c&&(a.node.children[n]=l.node,a.node.childCount++,Nf(a))}const PC=/[\[\].#$\/\u0000-\u001F\u007F]/,ZC=/[\[\].#$\u0000-\u001F\u007F]/,af=10*1024*1024,fd=function(a){return typeof a=="string"&&a.length!==0&&!PC.test(a)},r0=function(a){return typeof a=="string"&&a.length!==0&&!ZC.test(a)},KC=function(a){return a&&(a=a.replace(/^\/*\.info(\/|$)/,"/")),r0(a)},FC=function(a){return a===null||typeof a=="string"||typeof a=="number"&&!Hf(a)||a&&typeof a=="object"&&hn(a,".sv")},$C=function(a,n,l,s){pc(cc(a,"value"),n,l)},pc=function(a,n,l){const s=l instanceof Oe?new hE(l,a):l;if(n===void 0)throw new Error(a+"contains undefined "+Bi(s));if(typeof n=="function")throw new Error(a+"contains a function "+Bi(s)+" with contents = "+n.toString());if(Hf(n))throw new Error(a+"contains "+n.toString()+" "+Bi(s));if(typeof n=="string"&&n.length>af/3&&oc(n)>af)throw new Error(a+"contains a string greater than "+af+" utf8 bytes "+Bi(s)+" ('"+n.substring(0,50)+"...')");if(n&&typeof n=="object"){let c=!1,f=!1;if(ht(n,(d,m)=>{if(d===".value")c=!0;else if(d!==".priority"&&d!==".sv"&&(f=!0,!fd(d)))throw new Error(a+" contains an invalid key ("+d+") "+Bi(s)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);mE(s,d),pc(a,m,s),gE(s)}),c&&f)throw new Error(a+' contains ".value" child '+Bi(s)+" in addition to actual children.")}},JC=function(a,n){let l,s;for(l=0;l<n.length;l++){s=n[l];const f=ls(s);for(let d=0;d<f.length;d++)if(!(f[d]===".priority"&&d===f.length-1)){if(!fd(f[d]))throw new Error(a+"contains an invalid key ("+f[d]+") in path "+s.toString()+`. Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`)}}n.sort(dE);let c=null;for(l=0;l<n.length;l++){if(s=n[l],c!==null&&Jt(c,s))throw new Error(a+"contains a path "+c.toString()+" that is ancestor of another path "+s.toString());c=s}},WC=function(a,n,l,s){const c=cc(a,"values");if(!(n&&typeof n=="object")||Array.isArray(n))throw new Error(c+" must be an object containing the children to replace.");const f=[];ht(n,(d,m)=>{const p=new Oe(d);if(pc(c,m,Qe(l,p)),Yf(p)===".priority"&&!FC(m))throw new Error(c+"contains an invalid value for '"+p.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");f.push(p)}),JC(c,f)},c0=function(a,n,l,s){if(!r0(l))throw new Error(cc(a,n)+'was an invalid path = "'+l+`". Paths must be non-empty strings and can't contain ".", "#", "$", "[", or "]"`)},eT=function(a,n,l,s){l&&(l=l.replace(/^\/*\.info(\/|$)/,"/")),c0(a,n,l)},o0=function(a,n){if(oe(n)===".info")throw new Error(a+" failed = Can't modify data under /.info/")},tT=function(a,n){const l=n.path.toString();if(typeof n.repoInfo.host!="string"||n.repoInfo.host.length===0||!fd(n.repoInfo.namespace)&&n.repoInfo.host.split(":")[0]!=="localhost"||l.length!==0&&!KC(l))throw new Error(cc(a,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)};class nT{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function yc(a,n){let l=null;for(let s=0;s<n.length;s++){const c=n[s],f=c.getPath();l!==null&&!Vf(f,l.path)&&(a.eventLists_.push(l),l=null),l===null&&(l={events:[],path:f}),l.events.push(c)}l&&a.eventLists_.push(l)}function u0(a,n,l){yc(a,l),f0(a,s=>Vf(s,n))}function Wt(a,n,l){yc(a,l),f0(a,s=>Jt(s,n)||Jt(n,s))}function f0(a,n){a.recursionDepth_++;let l=!0;for(let s=0;s<a.eventLists_.length;s++){const c=a.eventLists_[s];if(c){const f=c.path;n(f)?(iT(a.eventLists_[s]),a.eventLists_[s]=null):l=!1}}l&&(a.eventLists_=[]),a.recursionDepth_--}function iT(a){for(let n=0;n<a.events.length;n++){const l=a.events[n];if(l!==null){a.events[n]=null;const s=l.getEventRunner();Kl&&dt("event: "+l.toString()),Qa(s)}}}const aT="repo_interrupt",lT=25;class sT{constructor(n,l,s,c){this.repoInfo_=n,this.forceRestClient_=l,this.authTokenProvider_=s,this.appCheckProvider_=c,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new nT,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=Wr(),this.transactionQueueTree_=new od,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function rT(a,n,l){if(a.stats_=qf(a.repoInfo_),a.forceRestClient_||Ux())a.server_=new Jr(a.repoInfo_,(s,c,f,d)=>{wy(a,s,c,f,d)},a.authTokenProvider_,a.appCheckProvider_),setTimeout(()=>Ay(a,!0),0);else{if(typeof l<"u"&&l!==null){if(typeof l!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{nt(l)}catch(s){throw new Error("Invalid authOverride provided: "+s)}}a.persistentConnection_=new zn(a.repoInfo_,n,(s,c,f,d)=>{wy(a,s,c,f,d)},s=>{Ay(a,s)},s=>{oT(a,s)},a.authTokenProvider_,a.appCheckProvider_,l),a.server_=a.persistentConnection_}a.authTokenProvider_.addTokenChangeListener(s=>{a.server_.refreshAuthToken(s)}),a.appCheckProvider_.addTokenChangeListener(s=>{a.server_.refreshAppCheckToken(s.token)}),a.statsReporter_=Gx(a.repoInfo_,()=>new qE(a.stats_,a.server_)),a.infoData_=new LE,a.infoSyncTree_=new Ty({startListening:(s,c,f,d)=>{let m=[];const p=a.infoData_.getNode(s._path);return p.isEmpty()||(m=ys(a.infoSyncTree_,s._path,p),setTimeout(()=>{d("ok")},0)),m},stopListening:()=>{}}),dd(a,"connected",!1),a.serverSyncTree_=new Ty({startListening:(s,c,f,d)=>(a.server_.listen(s,f,c,(m,p)=>{const g=d(m,p);Wt(a.eventQueue_,s._path,g)}),[]),stopListening:(s,c)=>{a.server_.unlisten(s,c)}})}function cT(a){const l=a.infoData_.getNode(new Oe(".info/serverTimeOffset")).val()||0;return new Date().getTime()+l}function _c(a){return qC({timestamp:cT(a)})}function wy(a,n,l,s,c){a.dataUpdateCount++;const f=new Oe(n);l=a.interceptServerDataCallback_?a.interceptServerDataCallback_(n,l):l;let d=[];if(c)if(s){const p=Qr(l,g=>tt(g));d=zC(a.serverSyncTree_,f,p,c)}else{const p=tt(l);d=J_(a.serverSyncTree_,f,p,c)}else if(s){const p=Qr(l,g=>tt(g));d=OC(a.serverSyncTree_,f,p)}else{const p=tt(l);d=ys(a.serverSyncTree_,f,p)}let m=f;d.length>0&&(m=Ga(a,f)),Wt(a.eventQueue_,m,d)}function Ay(a,n){dd(a,"connected",n),n===!1&&hT(a)}function oT(a,n){ht(n,(l,s)=>{dd(a,l,s)})}function dd(a,n,l){const s=new Oe("/.info/"+n),c=tt(l);a.infoData_.updateSnapshot(s,c);const f=ys(a.infoSyncTree_,s,c);Wt(a.eventQueue_,s,f)}function hd(a){return a.nextWriteId_++}function uT(a,n,l){const s=LC(a.serverSyncTree_,n);return s!=null?Promise.resolve(s):a.server_.get(n).then(c=>{const f=tt(c).withIndex(n._queryParams.getIndex());Tf(a.serverSyncTree_,n,l,!0);let d;if(n._queryParams.loadsAllData())d=ys(a.serverSyncTree_,n._path,f);else{const m=us(a.serverSyncTree_,n);d=J_(a.serverSyncTree_,n._path,f,m)}return Wt(a.eventQueue_,n._path,d),rc(a.serverSyncTree_,n,l,null,!0),f},c=>(vs(a,"get for query "+nt(n)+" failed: "+c),Promise.reject(new Error(c))))}function fT(a,n,l,s,c){vs(a,"set",{path:n.toString(),value:l,priority:s});const f=_c(a),d=tt(l,s),m=nd(a.serverSyncTree_,n),p=i0(d,m,f),g=hd(a),S=$_(a.serverSyncTree_,n,p,g,!0);yc(a.eventQueue_,S),a.server_.put(n.toString(),d.val(!0),(b,R)=>{const I=b==="ok";I||bt("set at "+n+" failed: "+b);const H=ui(a.serverSyncTree_,g,!I);Wt(a.eventQueue_,n,H),wf(a,c,b,R)});const v=gd(a,n);Ga(a,v),Wt(a.eventQueue_,v,[])}function dT(a,n,l,s){vs(a,"update",{path:n.toString(),value:l});let c=!0;const f=_c(a),d={};if(ht(l,(m,p)=>{c=!1,d[m]=n0(Qe(n,m),tt(p),a.serverSyncTree_,f)}),c)dt("update() called with empty data.  Don't do anything."),wf(a,s,"ok",void 0);else{const m=hd(a),p=DC(a.serverSyncTree_,n,d,m);yc(a.eventQueue_,p),a.server_.merge(n.toString(),l,(g,S)=>{const v=g==="ok";v||bt("update at "+n+" failed: "+g);const b=ui(a.serverSyncTree_,m,!v),R=b.length>0?Ga(a,n):n;Wt(a.eventQueue_,R,b),wf(a,s,g,S)}),ht(l,g=>{const S=gd(a,Qe(n,g));Ga(a,S)}),Wt(a.eventQueue_,n,[])}}function hT(a){vs(a,"onDisconnectEvents");const n=_c(a),l=Wr();vf(a.onDisconnect_,be(),(c,f)=>{const d=n0(c,f,a.serverSyncTree_,n);L_(l,c,d)});let s=[];vf(l,be(),(c,f)=>{s=s.concat(ys(a.serverSyncTree_,c,f));const d=gd(a,c);Ga(a,d)}),a.onDisconnect_=Wr(),Wt(a.eventQueue_,be(),s)}function mT(a,n,l){let s;oe(n._path)===".info"?s=Tf(a.infoSyncTree_,n,l):s=Tf(a.serverSyncTree_,n,l),u0(a.eventQueue_,n._path,s)}function gT(a,n,l){let s;oe(n._path)===".info"?s=rc(a.infoSyncTree_,n,l):s=rc(a.serverSyncTree_,n,l),u0(a.eventQueue_,n._path,s)}function pT(a){a.persistentConnection_&&a.persistentConnection_.interrupt(aT)}function vs(a,...n){let l="";a.persistentConnection_&&(l=a.persistentConnection_.id+":"),dt(l,...n)}function wf(a,n,l,s){n&&Qa(()=>{if(l==="ok")n(null);else{const c=(l||"error").toUpperCase();let f=c;s&&(f+=": "+s);const d=new Error(f);d.code=c,n(d)}})}function d0(a,n,l){return nd(a.serverSyncTree_,n,l)||ee.EMPTY_NODE}function md(a,n=a.transactionQueueTree_){if(n||vc(a,n),Pa(n)){const l=m0(a,n);B(l.length>0,"Sending zero length transaction queue"),l.every(c=>c.status===0)&&yT(a,_s(n),l)}else l0(n)&&gc(n,l=>{md(a,l)})}function yT(a,n,l){const s=l.map(g=>g.currentWriteId),c=d0(a,n,s);let f=c;const d=c.hash();for(let g=0;g<l.length;g++){const S=l[g];B(S.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),S.status=1,S.retryCount++;const v=vt(n,S.path);f=f.updateChild(v,S.currentOutputSnapshotRaw)}const m=f.val(!0),p=n;a.server_.put(p.toString(),m,g=>{vs(a,"transaction put response",{path:p.toString(),status:g});let S=[];if(g==="ok"){const v=[];for(let b=0;b<l.length;b++)l[b].status=2,S=S.concat(ui(a.serverSyncTree_,l[b].currentWriteId)),l[b].onComplete&&v.push(()=>l[b].onComplete(null,!0,l[b].currentOutputSnapshotResolved)),l[b].unwatcher();vc(a,ud(a.transactionQueueTree_,n)),md(a,a.transactionQueueTree_),Wt(a.eventQueue_,n,S);for(let b=0;b<v.length;b++)Qa(v[b])}else{if(g==="datastale")for(let v=0;v<l.length;v++)l[v].status===3?l[v].status=4:l[v].status=0;else{bt("transaction at "+p.toString()+" failed: "+g);for(let v=0;v<l.length;v++)l[v].status=4,l[v].abortReason=g}Ga(a,n)}},d)}function Ga(a,n){const l=h0(a,n),s=_s(l),c=m0(a,l);return _T(a,c,s),s}function _T(a,n,l){if(n.length===0)return;const s=[];let c=[];const d=n.filter(m=>m.status===0).map(m=>m.currentWriteId);for(let m=0;m<n.length;m++){const p=n[m],g=vt(l,p.path);let S=!1,v;if(B(g!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),p.status===4)S=!0,v=p.abortReason,c=c.concat(ui(a.serverSyncTree_,p.currentWriteId,!0));else if(p.status===0)if(p.retryCount>=lT)S=!0,v="maxretry",c=c.concat(ui(a.serverSyncTree_,p.currentWriteId,!0));else{const b=d0(a,p.path,d);p.currentInputSnapshot=b;const R=n[m].update(b.val());if(R!==void 0){pc("transaction failed: Data returned ",R,p.path);let I=tt(R);typeof R=="object"&&R!=null&&hn(R,".priority")||(I=I.updatePriority(b.getPriority()));const k=p.currentWriteId,U=_c(a),Y=i0(I,b,U);p.currentOutputSnapshotRaw=I,p.currentOutputSnapshotResolved=Y,p.currentWriteId=hd(a),d.splice(d.indexOf(k),1),c=c.concat($_(a.serverSyncTree_,p.path,Y,p.currentWriteId,p.applyLocally)),c=c.concat(ui(a.serverSyncTree_,k,!0))}else S=!0,v="nodata",c=c.concat(ui(a.serverSyncTree_,p.currentWriteId,!0))}Wt(a.eventQueue_,l,c),c=[],S&&(n[m].status=2,(function(b){setTimeout(b,Math.floor(0))})(n[m].unwatcher),n[m].onComplete&&(v==="nodata"?s.push(()=>n[m].onComplete(null,!1,n[m].currentInputSnapshot)):s.push(()=>n[m].onComplete(new Error(v),!1,null))))}vc(a,a.transactionQueueTree_);for(let m=0;m<s.length;m++)Qa(s[m]);md(a,a.transactionQueueTree_)}function h0(a,n){let l,s=a.transactionQueueTree_;for(l=oe(n);l!==null&&Pa(s)===void 0;)s=ud(s,l),n=He(n),l=oe(n);return s}function m0(a,n){const l=[];return g0(a,n,l),l.sort((s,c)=>s.order-c.order),l}function g0(a,n,l){const s=Pa(n);if(s)for(let c=0;c<s.length;c++)l.push(s[c]);gc(n,c=>{g0(a,c,l)})}function vc(a,n){const l=Pa(n);if(l){let s=0;for(let c=0;c<l.length;c++)l[c].status!==2&&(l[s]=l[c],s++);l.length=s,a0(n,l.length>0?l:void 0)}gc(n,s=>{vc(a,s)})}function gd(a,n){const l=_s(h0(a,n)),s=ud(a.transactionQueueTree_,n);return QC(s,c=>{lf(a,c)}),lf(a,s),s0(s,c=>{lf(a,c)}),l}function lf(a,n){const l=Pa(n);if(l){const s=[];let c=[],f=-1;for(let d=0;d<l.length;d++)l[d].status===3||(l[d].status===1?(B(f===d-1,"All SENT items should be at beginning of queue."),f=d,l[d].status=3,l[d].abortReason="set"):(B(l[d].status===0,"Unexpected transaction status in abort"),l[d].unwatcher(),c=c.concat(ui(a.serverSyncTree_,l[d].currentWriteId,!0)),l[d].onComplete&&s.push(l[d].onComplete.bind(null,new Error("set"),!1,null))));f===-1?a0(n,void 0):l.length=f+1,Wt(a.eventQueue_,_s(n),c);for(let d=0;d<s.length;d++)Qa(s[d])}}function vT(a){let n="";const l=a.split("/");for(let s=0;s<l.length;s++)if(l[s].length>0){let c=l[s];try{c=decodeURIComponent(c.replace(/\+/g," "))}catch{}n+="/"+c}return n}function bT(a){const n={};a.charAt(0)==="?"&&(a=a.substring(1));for(const l of a.split("&")){if(l.length===0)continue;const s=l.split("=");s.length===2?n[decodeURIComponent(s[0])]=decodeURIComponent(s[1]):bt(`Invalid query segment '${l}' in query '${a}'`)}return n}const Ry=function(a,n){const l=ST(a),s=l.namespace;l.domain==="firebase.com"&&Un(l.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!s||s==="undefined")&&l.domain!=="localhost"&&Un("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),l.secure||Ax();const c=l.scheme==="ws"||l.scheme==="wss";return{repoInfo:new v_(l.host,l.secure,s,c,n,"",s!==l.subdomain),path:new Oe(l.pathString)}},ST=function(a){let n="",l="",s="",c="",f="",d=!0,m="https",p=443;if(typeof a=="string"){let g=a.indexOf("//");g>=0&&(m=a.substring(0,g-1),a=a.substring(g+2));let S=a.indexOf("/");S===-1&&(S=a.length);let v=a.indexOf("?");v===-1&&(v=a.length),n=a.substring(0,Math.min(S,v)),S<v&&(c=vT(a.substring(S,v)));const b=bT(a.substring(Math.min(a.length,v)));g=n.indexOf(":"),g>=0?(d=m==="https"||m==="wss",p=parseInt(n.substring(g+1),10)):g=n.length;const R=n.slice(0,g);if(R.toLowerCase()==="localhost")l="localhost";else if(R.split(".").length<=2)l=R;else{const I=n.indexOf(".");s=n.substring(0,I).toLowerCase(),l=n.substring(I+1),f=s}"ns"in b&&(f=b.ns)}return{host:n,port:p,domain:l,subdomain:s,secure:d,scheme:m,pathString:c,namespace:f}};class xT{constructor(n,l,s,c){this.eventType=n,this.eventRegistration=l,this.snapshot=s,this.prevName=c}getPath(){const n=this.snapshot.ref;return this.eventType==="value"?n._path:n.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+nt(this.snapshot.exportVal())}}class ET{constructor(n,l,s){this.eventRegistration=n,this.error=l,this.path=s}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}class p0{constructor(n,l){this.snapshotCallback=n,this.cancelCallback=l}onValue(n,l){this.snapshotCallback.call(null,n,l)}onCancel(n){return B(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,n)}get hasCancelCallback(){return!!this.cancelCallback}matches(n){return this.snapshotCallback===n.snapshotCallback||this.snapshotCallback.userCallback!==void 0&&this.snapshotCallback.userCallback===n.snapshotCallback.userCallback&&this.snapshotCallback.context===n.snapshotCallback.context}}class pd{constructor(n,l,s,c){this._repo=n,this._path=l,this._queryParams=s,this._orderByCalled=c}get key(){return me(this._path)?null:Yf(this._path)}get ref(){return new Hn(this._repo,this._path)}get _queryIdentifier(){const n=gy(this._queryParams),l=Bf(n);return l==="{}"?"default":l}get _queryObject(){return gy(this._queryParams)}isEqual(n){if(n=Va(n),!(n instanceof pd))return!1;const l=this._repo===n._repo,s=Vf(this._path,n._path),c=this._queryIdentifier===n._queryIdentifier;return l&&s&&c}toJSON(){return this.toString()}toString(){return this._repo.toString()+fE(this._path)}}class Hn extends pd{constructor(n,l){super(n,l,new Zf,!1)}get parent(){const n=A_(this._path);return n===null?null:new Hn(this._repo,n)}get root(){let n=this;for(;n.parent!==null;)n=n.parent;return n}}class fs{constructor(n,l,s){this._node=n,this.ref=l,this._index=s}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(n){const l=new Oe(n),s=Af(this.ref,n);return new fs(this._node.getChild(l),s,Xe)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(n){return this._node.isLeafNode()?!1:!!this._node.forEachChild(this._index,(s,c)=>n(new fs(c,Af(this.ref,s),Xe)))}hasChild(n){const l=new Oe(n);return!this._node.getChild(l).isEmpty()}hasChildren(){return this._node.isLeafNode()?!1:!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function kt(a,n){return a=Va(a),a._checkNotDeleted("ref"),n!==void 0?Af(a._root,n):a._root}function Af(a,n){return a=Va(a),oe(a._path)===null?eT("child","path",n):c0("child","path",n),new Hn(a._repo,Qe(a._path,n))}function y0(a){return o0("remove",a._path),_0(a,null)}function _0(a,n){a=Va(a),o0("set",a._path),$C("set",n,a._path);const l=new ds;return fT(a._repo,a._path,n,null,l.wrapCallback(()=>{})),l.promise}function _i(a,n){WC("update",n,a._path);const l=new ds;return dT(a._repo,a._path,n,l.wrapCallback(()=>{})),l.promise}function Xi(a){a=Va(a);const n=new p0(()=>{}),l=new bc(n);return uT(a._repo,a,l).then(s=>new fs(s,new Hn(a._repo,a._path),a._queryParams.getIndex()))}class bc{constructor(n){this.callbackContext=n}respondsTo(n){return n==="value"}createEvent(n,l){const s=l._queryParams.getIndex();return new xT("value",this,new fs(n.snapshotNode,new Hn(l._repo,l._path),s))}getEventRunner(n){return n.getEventType()==="cancel"?()=>this.callbackContext.onCancel(n.error):()=>this.callbackContext.onValue(n.snapshot,null)}createCancelEvent(n,l){return this.callbackContext.hasCancelCallback?new ET(this,n,l):null}matches(n){return n instanceof bc?!n.callbackContext||!this.callbackContext?!0:n.callbackContext.matches(this.callbackContext):!1}hasAnyCallback(){return this.callbackContext!==null}}function CT(a,n,l,s,c){const f=new p0(l,void 0),d=new bc(f);return mT(a._repo,a,d),()=>gT(a._repo,a,d)}function v0(a,n,l,s){return CT(a,"value",n)}EC(Hn);AC(Hn);const TT="FIREBASE_DATABASE_EMULATOR_HOST",Rf={};let NT=!1;function wT(a,n,l,s){const c=n.lastIndexOf(":"),f=n.substring(0,c),d=Lf(f);a.repoInfo_=new v_(n,d,a.repoInfo_.namespace,a.repoInfo_.webSocketOnly,a.repoInfo_.nodeAdmin,a.repoInfo_.persistenceKey,a.repoInfo_.includeNamespaceInQueryParams,!0,l),s&&(a.authTokenProvider_=s)}function AT(a,n,l,s,c){let f=s||a.options.databaseURL;f===void 0&&(a.options.projectId||Un("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),dt("Using default host for project ",a.options.projectId),f=`${a.options.projectId}-default-rtdb.firebaseio.com`);let d=Ry(f,c),m=d.repoInfo,p;typeof process<"u"&&$p&&(p=$p[TT]),p?(f=`http://${p}?ns=${m.namespace}`,d=Ry(f,c),m=d.repoInfo):d.repoInfo.secure;const g=new Bx(a.name,a.options,n);tT("Invalid Firebase Database URL",d),me(d.path)||Un("Database URL must point to the root of a Firebase Database (not including a child path).");const S=MT(m,a,g,new Hx(a,l));return new DT(S,a)}function RT(a,n){const l=Rf[n];(!l||l[a.key]!==a)&&Un(`Database ${n}(${a.repoInfo_}) has already been deleted.`),pT(a),delete l[a.key]}function MT(a,n,l,s){let c=Rf[n.name];c||(c={},Rf[n.name]=c);let f=c[a.toURLString()];return f&&Un("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),f=new sT(a,NT,l,s),c[a.toURLString()]=f,f}class DT{constructor(n,l){this._repoInternal=n,this.app=l,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(rT(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new Hn(this._repo,be())),this._rootInternal}_delete(){return this._rootInternal!==null&&(RT(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(n){this._rootInternal===null&&Un("Cannot call "+n+" on a deleted database.")}}function OT(a=ox(),n){const l=ax(a,"database").getImmediate({identifier:n});if(!l._instanceStarted){const s=Y1("database");s&&jT(l,...s)}return l}function jT(a,n,l,s={}){a=Va(a),a._checkNotDeleted("useEmulator");const c=`${n}:${l}`,f=a._repoInternal;if(a._instanceStarted){if(c===a._repoInternal.repoInfo_.host&&Xr(s,f.repoInfo_.emulatorOptions))return;Un("connectDatabaseEmulator() cannot initialize or alter the emulator configuration after the database instance has started.")}let d;if(f.repoInfo_.nodeAdmin)s.mockUserToken&&Un('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),d=new Gr(Gr.OWNER);else if(s.mockUserToken){const m=typeof s.mockUserToken=="string"?s.mockUserToken:Q1(s.mockUserToken,a.app.options.projectId);d=new Gr(m)}Lf(n)&&(V1(n),Z1("Database",!0)),wT(f,c,s,d)}function IT(a){xx(cx),Zr(new ns("database",(n,{instanceIdentifier:l})=>{const s=n.getProvider("app").getImmediate(),c=n.getProvider("auth-internal"),f=n.getProvider("app-check-internal");return AT(s,c,f,l)},"PUBLIC").setMultipleInstances(!0)),Ia(Jp,Wp,a),Ia(Jp,Wp,"esm2020")}zn.prototype.simpleListen=function(a,n){this.sendRequest("q",{p:a},n)};zn.prototype.echo=function(a,n){this.sendRequest("echo",{d:a},n)};IT();const zT={apiKey:"AIzaSyAEOAwPVqYO-BbsBYQC6o7CfJvHdGfYKss",authDomain:"relife-bbd8c.firebaseapp.com",databaseURL:"https://relife-bbd8c-default-rtdb.asia-southeast1.firebasedatabase.app",projectId:"relife-bbd8c",storageBucket:"relife-bbd8c.firebasestorage.app",messagingSenderId:"144008353106",appId:"1:144008353106:web:cc629a581daf2e2ed1168b"},LT=n_(zT),qt=OT(LT),UT=()=>Math.random().toString().slice(2,8),b0=()=>"player_"+Math.random().toString(36).slice(2,11),HT=async(a,n)=>{const l=UT(),s=b0(),c={id:l,hostId:s,players:[{id:s,name:a,characterId:n,ready:!0}],status:"waiting",gameState:null,createdAt:Date.now()};return await _0(kt(qt,`rooms/${l}`),c),{roomId:l,playerId:s}},BT=async(a,n,l)=>{const s=kt(qt,`rooms/${a}`),c=await Xi(s);if(!c.exists())return{success:!1,error:""};const f=c.val();if(f.status!=="waiting")return{success:!1,error:""};if(f.players.length>=4)return{success:!1,error:""};if(f.players.some(p=>p.characterId===l))return{success:!1,error:""};const d=b0(),m={id:d,name:n,characterId:l,ready:!1};return await _i(s,{players:[...f.players,m]}),{success:!0,playerId:d}},kT=async(a,n)=>{const l=kt(qt,`rooms/${a}`),s=await Xi(l);if(!s.exists())return;const c=s.val(),f=c.players.filter(d=>d.id!==n);f.length===0?await y0(l):c.hostId===n?await _i(l,{players:f,hostId:f[0].id}):await _i(l,{players:f})},qT=async(a,n,l)=>{const s=kt(qt,`rooms/${a}`),c=await Xi(s);if(!c.exists())return;const d=c.val().players.map(m=>m.id===n?{...m,ready:l}:m);await _i(s,{players:d})},GT=async(a,n,l)=>{const s=kt(qt,`rooms/${a}`),c=await Xi(s);if(!c.exists())return{success:!1,error:""};const f=c.val();if(f.players.some(m=>m.id!==n&&m.characterId===l))return{success:!1,error:""};const d=f.players.map(m=>m.id===n?{...m,characterId:l}:m);return await _i(s,{players:d}),{success:!0}},YT=async(a,n,l)=>{const s=kt(qt,`rooms/${a}`),c=await Xi(s);if(!c.exists())return{success:!1,error:""};const f=c.val();return f.hostId!==n?{success:!1,error:""}:f.players.length<2?{success:!1,error:" 2 "}:f.players.every(d=>d.ready)?(await _i(s,{status:"playing",gameState:l}),{success:!0}):{success:!1,error:""}},VT=async(a,n)=>{const l=kt(qt,`rooms/${a}`);await _i(l,{gameState:n})},sf=(a,n)=>{const l=kt(qt,`rooms/${a}`);return v0(l,c=>{c.exists()?n(c.val()):n(null)})},QT=async a=>(await Xi(kt(qt,`rooms/${a}`))).exists(),XT=1440*60*1e3,PT=360*60*1e3,ZT=async()=>{const a=kt(qt,"rooms"),n=await Xi(a);if(!n.exists())return{deleted:0,total:0};const l=Date.now(),s=n.val(),c=Object.entries(s);let f=0;for(const[d,m]of c){const p=l-(m.createdAt||0);(p>XT||m.status==="playing"&&p>PT||m.status==="finished"&&p>3600*1e3)&&(await y0(kt(qt,`rooms/${d}`)),f++)}return console.log(`[Room Cleanup]  ${f}/${c.length} `),{deleted:f,total:c.length}},es="relife_session",My=(a,n,l)=>{const s={roomId:a,playerId:n,playerName:l,timestamp:Date.now()};localStorage.setItem(es,JSON.stringify(s))},Dy=()=>{try{const a=localStorage.getItem(es);if(!a)return null;const n=JSON.parse(a),l=1440*60*1e3;return Date.now()-n.timestamp>l?(localStorage.removeItem(es),null):n}catch{return localStorage.removeItem(es),null}},Oa=()=>{localStorage.removeItem(es)},bs=Ly((a,n)=>{let l=null;return{roomId:null,playerId:null,room:null,isOnlineMode:!1,isReconnecting:!1,error:null,createNewRoom:async(s,c)=>{try{l&&(l(),l=null);const{roomId:f,playerId:d}=await HT(s,c);My(f,d,s),l=sf(f,m=>{a({room:m})}),a({roomId:f,playerId:d,isOnlineMode:!0,error:null})}catch{a({error:""})}},joinExistingRoom:async(s,c,f)=>{try{l&&(l(),l=null);const d=await BT(s,c,f);return d.success?(My(s,d.playerId,c),l=sf(s,m=>{a({room:m})}),a({roomId:s,playerId:d.playerId,isOnlineMode:!0,error:null}),!0):(a({error:d.error||""}),!1)}catch{return a({error:""}),!1}},leaveCurrentRoom:async()=>{const{roomId:s,playerId:c}=n();!s||!c||(l&&(l(),l=null),await kT(s,c),Oa(),a({roomId:null,playerId:null,room:null,isOnlineMode:!1,error:null}))},tryReconnect:async()=>{const s=Dy();if(!s)return!1;l&&(l(),l=null),a({isReconnecting:!0,error:null});try{return await QT(s.roomId)?new Promise(f=>{let d=!1;l=sf(s.roomId,m=>{if(d){m&&a({room:m});return}if(!m){d=!0,Oa(),l&&(l(),l=null),a({isReconnecting:!1,error:""}),f(!1);return}if(!m.players.some(g=>g.id===s.playerId)){d=!0,Oa(),l&&(l(),l=null),a({isReconnecting:!1,error:""}),f(!1);return}d=!0,a({roomId:s.roomId,playerId:s.playerId,room:m,isOnlineMode:!0,isReconnecting:!1,error:null}),f(!0)})}):(Oa(),a({isReconnecting:!1,error:""}),!1)}catch{return Oa(),a({isReconnecting:!1,error:""}),!1}},hasStoredSession:()=>Dy()!==null,toggleReady:async()=>{const{roomId:s,playerId:c,room:f}=n();if(!s||!c||!f)return;const d=f.players.find(m=>m.id===c);d&&await qT(s,c,!d.ready)},changeCharacter:async s=>{const{roomId:c,playerId:f}=n();if(!c||!f)return!1;const d=await GT(c,f,s);return d.success?!0:(a({error:d.error||""}),!1)},startOnlineGame:async()=>{const{roomId:s,playerId:c,room:f}=n();if(!s||!c||!f)return!1;const d=f.players.map(v=>v.name),m=f.players.map(v=>v.characterId),p=Gy(d,m),g=of(p),S=await YT(s,c,g);return S.success?!0:(a({error:S.error||""}),!1)},syncGameState:async s=>{const{roomId:c}=n();c&&await VT(c,s)},getCurrentPlayer:()=>{const{room:s,playerId:c}=n();return!s||!c?null:s.players.find(f=>f.id===c)||null},isHost:()=>{const{room:s,playerId:c}=n();return!s||!c?!1:s.hostId===c},canStartGame:()=>{const{room:s}=n();return s?s.players.length>=2&&s.players.every(c=>c.ready):!1},resetRoom:()=>{l&&(l(),l=null),Oa(),a({roomId:null,playerId:null,room:null,isOnlineMode:!1,isReconnecting:!1,error:null})}}}),KT=({onOnlineClick:a})=>{const{startGame:n}=Ve(),[l,s]=ae.useState([{name:"1",characterId:an[0].id,isAI:!1}]),c=()=>{const U=l.map(Y=>Y.characterId);return an.find(Y=>!U.includes(Y.id))?.id||an[0].id},f=()=>{if(l.length>=4)return;const U=l.length+1;s([...l,{name:`${U}`,characterId:c(),isAI:!1}])},d=()=>{if(l.length>=4)return;const U=l.filter(Y=>Y.isAI).length+1;s([...l,{name:`${U}`,characterId:c(),isAI:!0}])},m=U=>{l.length<=2||s(l.filter((Y,V)=>V!==U))},p=(U,Y)=>{const V=[...l];V[U]={...V[U],name:Y},s(V)},g=(U,Y)=>{const V=[...l];V[U]={...V[U],characterId:Y},s(V)},S=U=>{const Y=[...l],V=Y[U].isAI;Y[U]={...Y[U],isAI:!V,name:V?`${U+1}`:`${U+1}`},s(Y)},v=()=>{n(l.map(U=>U.name),l.map(U=>U.characterId),l.map(U=>U.isAI))},b=l.map(U=>U.characterId),R=new Set(b).size!==b.length,I=l.every(U=>U.isAI),H=l.length<2,k=l.length<4;return y.jsx("div",{className:"min-h-screen bg-gray-900 flex items-center justify-center p-4",children:y.jsxs("div",{className:"bg-gray-800 rounded-xl p-8 max-w-2xl w-full",children:[y.jsxs("div",{className:"text-center mb-8",children:[y.jsx("img",{src:"/ReLife/logo.png",alt:"ReLife ",className:"h-20 mx-auto mb-4"}),y.jsx("p",{className:"text-gray-400",children:""})]}),y.jsxs("div",{className:"space-y-4 mb-6",children:[y.jsxs("div",{className:"flex justify-between items-center",children:[y.jsx("h2",{className:"text-xl font-bold text-white",children:""}),y.jsxs("span",{className:"text-gray-400 text-sm",children:[l.length,"/4 "]})]}),l.map((U,Y)=>y.jsxs("div",{className:"bg-gray-700 rounded-lg p-4 flex flex-col sm:flex-row gap-4 items-start sm:items-center",children:[y.jsx("button",{onClick:()=>S(Y),className:`px-3 py-1 rounded text-sm font-bold transition-colors ${U.isAI?"bg-purple-600 text-white":"bg-gray-600 text-gray-300 hover:bg-gray-500"}`,children:U.isAI?" ":" "}),y.jsx("div",{className:"flex-1 w-full sm:w-auto",children:y.jsx("input",{type:"text",value:U.name,onChange:V=>p(Y,V.target.value),className:"w-full bg-gray-600 text-white rounded px-3 py-2 focus:outline-none focus:ring-2 focus:ring-yellow-500",placeholder:U.isAI?"":""})}),y.jsx("div",{className:"flex-1 w-full sm:w-auto",children:y.jsx("select",{value:U.characterId,onChange:V=>g(Y,V.target.value),className:"w-full bg-gray-600 text-white rounded px-3 py-2 focus:outline-none focus:ring-2 focus:ring-yellow-500",children:an.map(V=>y.jsxs("option",{value:V.id,children:[V.name," ($",V.initialMoney.toLocaleString(),")"]},V.id))})}),y.jsx("div",{className:"text-xs text-gray-400 w-full sm:w-24",children:(()=>{const V=an.find(ne=>ne.id===U.characterId);return V?y.jsxs("div",{className:"flex sm:flex-col gap-2 sm:gap-0",children:[y.jsxs("span",{children:[":",V.initialStats.intelligence]}),y.jsxs("span",{children:[":",V.initialStats.stamina]}),y.jsxs("span",{children:[":",V.initialStats.charisma]})]}):null})()}),l.length>2&&y.jsx("button",{onClick:()=>m(Y),className:"text-red-400 hover:text-red-300 text-xl px-2",title:"",children:""})]},Y)),k&&y.jsxs("div",{className:"flex gap-3",children:[y.jsx("button",{onClick:f,className:"flex-1 py-3 rounded-lg border-2 border-dashed border-gray-600 text-gray-400 hover:border-gray-500 hover:text-gray-300 transition-colors",children:"+  "}),y.jsx("button",{onClick:d,className:"flex-1 py-3 rounded-lg border-2 border-dashed border-purple-600 text-purple-400 hover:border-purple-500 hover:text-purple-300 transition-colors",children:"+  "})]}),R&&y.jsx("div",{className:"text-red-400 text-sm",children:" "}),I&&y.jsx("div",{className:"text-red-400 text-sm",children:" "}),H&&y.jsx("div",{className:"text-yellow-400 text-sm",children:"  2 "})]}),y.jsxs("div",{className:"space-y-3",children:[y.jsxs("button",{onClick:v,disabled:R||I||H,className:`w-full py-4 rounded-lg font-bold text-xl transition-colors ${R||I||H?"bg-gray-600 text-gray-400 cursor-not-allowed":"bg-yellow-500 hover:bg-yellow-400 text-black"}`,children:[" (",l.length," )"]}),a&&y.jsx("button",{onClick:a,className:"w-full py-4 rounded-lg font-bold text-xl bg-blue-600 hover:bg-blue-500 text-white transition-colors",children:""})]}),y.jsxs("div",{className:"mt-8 text-gray-400 text-sm",children:[y.jsx("h3",{className:"font-bold text-white mb-2",children:""}),y.jsxs("ul",{className:"list-disc list-inside space-y-1",children:[y.jsx("li",{children:" 2-4 "}),y.jsx("li",{children:""}),y.jsx("li",{children:""}),y.jsx("li",{children:" $20,000  30 "})]})]})]})})},Mf=a=>{if(a===void 0)return null;if(a===null)return a;if(Array.isArray(a))return a.filter(n=>n!==void 0).map(Mf);if(typeof a=="object"){const n={};for(const[l,s]of Object.entries(a))s!==void 0&&(n[l]=Mf(s));return n}return a},FT=()=>{const{roomId:a,playerId:n,room:l}=bs(),s=ae.useRef(!1),c=ae.useRef(""),f=a&&l?.status==="playing",d=ae.useCallback(async()=>{if(!a||s.current)return;const g=Ve.getState(),S={playerCount:g.playerCount??4,maxTurns:g.maxTurns??10,players:g.players||[],currentPlayerIndex:g.currentPlayerIndex??0,turn:g.turn??1,phase:g.phase||"setup",deck:g.deck||[],discardPile:g.discardPile||[],currentEvent:g.currentEvent??null,eventLog:g.eventLog||[],actionLog:g.actionLog||[],selectedCardIndex:g.selectedCardIndex??null,showEventModal:!1,pendingFunctionCard:g.pendingFunctionCard??null},v=JSON.stringify(S);if(v===c.current)return;c.current=v;const b=kt(qt,`rooms/${a}`);await _i(b,{gameState:Mf(S)})},[a]);ae.useEffect(()=>{if(!f)return;const g=kt(qt,`rooms/${a}`),v=v0(g,b=>{if(!b.exists())return;const I=b.val().gameState;if(!I)return;const H=JSON.stringify(I);if(H===c.current)return;s.current=!0,c.current=H;const k=I,U=k.pendingFunctionCard?{...k.pendingFunctionCard,passedPlayerIndices:k.pendingFunctionCard.passedPlayerIndices??[]}:null;Ve.setState({playerCount:I.playerCount??4,maxTurns:I.maxTurns??10,players:I.players??[],currentPlayerIndex:I.currentPlayerIndex??0,turn:I.turn??1,phase:I.phase??"setup",deck:I.deck??[],discardPile:I.discardPile??[],currentEvent:I.currentEvent??null,eventLog:I.eventLog??[],actionLog:I.actionLog??[],selectedCardIndex:I.selectedCardIndex??null,pendingFunctionCard:U}),queueMicrotask(()=>{s.current=!1})});return()=>{v()}},[f,a]);const m=ae.useCallback(()=>!l||!n||!l.players.find(v=>v.id===n)?-1:l.players.findIndex(v=>v.id===n),[l,n]),p=ae.useCallback(()=>{if(!f)return!0;const g=m(),S=Ve.getState().currentPlayerIndex;return g===S},[f,m]);return{isOnlineGame:!!f,syncToFirebase:d,isMyTurn:p,getMyPlayerIndex:m,playerId:n}},Yr=a=>a.length===0?null:a[Math.floor(Math.random()*a.length)],S0=a=>{const{intelligence:n,stamina:l,charisma:s}=a.stats;return n<=l&&n<=s?"intelligence":l<=s?"stamina":"charisma"},Oy=a=>{const n=a.stats.intelligence+a.stats.stamina+a.stats.charisma,l=a.job?ky(a):0;return a.money+n*100+l},$T=(a,n)=>{const{effect:l}=n,s=!!a.job,c=a.money;switch(l.type){case"performance_change":return s?90:0;case"stat_change":{const f=S0(a),d=l.stat===f;return n.type==="study"?c>=(n.cost||0)?d?70:50:0:d?60:40}case"stat_change_choice":return c>=(n.cost||0)?65:0;case"draw_cards":return 60;case"explore":return n.type==="work"&&!s?0:25;case"special":return JT(a,l.handler,n);default:return 10}},JT=(a,n,l)=>{const s=!!a.job,c=a.money;switch(n){case"bootlicking":return s&&c<2e3?55:s?30:0;case"socializing":return s&&c>=1e3&&a.stats.charisma<10?50:s?20:0;case"napping":return s&&c>=1e3&&a.stats.stamina<10?50:s?20:0;case"overtime":return s&&c<3e3?60:s?25:0;case"steal":case"robbery":return 45;case"sabotage":return 40;case"job_change":return s?15:0;case"parachute":return l.type==="function"?35:0;case"invalid":return 0;default:return 10}},WT=a=>{const n=[];return a.hand.forEach((l,s)=>{if(cf(a,l).canPlay){const f=$T(a,l);f>0&&n.push({index:s,score:f})}}),n.length===0?null:(n.sort((l,s)=>s.score-l.score),Math.random()<.8?n[0].index:Yr(n)?.index??null)},eN=a=>S0(a),tN=()=>{const a=["library","home","park"],n=[.45,.35,.2],l=Math.random();let s=0;for(let c=0;c<a.length;c++)if(s+=n[c],l<s)return a[c];return"library"},nN=(a,n,l)=>{const s=a.filter((c,f)=>f!==n);if(s.length===0)return null;switch(l){case"steal":case"robbery":{const c=s.filter(d=>(d.hand?.length??0)>0);return c.length===0?Yr(s)?.id||null:[...c].sort((d,m)=>(m.hand?.length??0)-(d.hand?.length??0))[0].id}case"sabotage":return[...s].sort((f,d)=>Oy(d)-Oy(f))[0].id;case"parachute":{const c=s.filter(d=>d.job!==null);return c.length===0?Yr(s)?.id||null:[...c].sort((d,m)=>m.jobLevel-d.jobLevel)[0].id}}return Yr(s)?.id||null},iN=(a,n)=>{const l=a.effect.type==="special"?a.effect.handler:"";return["steal","robbery","parachute"].includes(l)?!0:["job_change"].includes(l)?Math.random()<.7:Math.random()<.3},aN=a=>{if(a.job)return null;const n=Of(a);return n.length===0?null:[...n].sort((s,c)=>{const f=s.levels[0].salary[0]||0;return(c.levels[0].salary[0]||0)-f})[0].id},dn=1e3,lN=(a=!1)=>{const{players:n,currentPlayerIndex:l,phase:s,pendingStatChoice:c,pendingExplore:f,pendingTargetPlayer:d,pendingFunctionCard:m,selectCard:p,playSelectedCard:g,chooseStat:S,chooseExploreLocation:v,chooseTargetPlayer:b,passReaction:R,applyInvalidCard:I,applyJob:H,endPlayerTurn:k}=Ve(),U=ae.useRef(!1),Y=ae.useRef(null),V=ae.useRef(null),ne=ae.useRef(null),Ee=ae.useRef(null),Se=ae.useRef(null);ae.useEffect(()=>()=>{Y.current&&clearTimeout(Y.current),V.current&&clearTimeout(V.current),ne.current&&clearTimeout(ne.current),Ee.current&&clearTimeout(Ee.current),Se.current&&clearTimeout(Se.current)},[]);const K=n[l]?.isAI===!0;ae.useEffect(()=>{if(!a&&!(!K||s!=="action"||U.current)&&!(c||f||d||m))return U.current=!0,Y.current=setTimeout(()=>{const Q=Ve.getState(),Ce=Q.players[Q.currentPlayerIndex];if(!Ce?.isAI){U.current=!1;return}const ce=WT(Ce);if(ce!==null)p(ce),setTimeout(()=>{g();const W=Ve.getState();W.pendingStatChoice||W.pendingExplore||W.pendingTargetPlayer||W.pendingFunctionCard?U.current=!1:setTimeout(()=>{k(),U.current=!1},dn)},500);else{const W=aN(Ce);W?(H(W),setTimeout(()=>{k(),U.current=!1},dn)):(k(),U.current=!1)}},dn),()=>{Y.current&&clearTimeout(Y.current)}},[a,K,s,c,f,d,m,l,p,g,H,k]),ae.useEffect(()=>{if(!a&&!(!K||!c||U.current))return U.current=!0,V.current=setTimeout(()=>{const Q=Ve.getState(),Ce=Q.players[Q.currentPlayerIndex];if(!Ce?.isAI||!Q.pendingStatChoice){U.current=!1;return}const ce=eN(Ce);S(ce),setTimeout(()=>{k(),U.current=!1},dn)},dn),()=>{V.current&&clearTimeout(V.current)}},[a,K,c,S,k]),ae.useEffect(()=>{if(!a&&!(!K||!f||U.current))return U.current=!0,ne.current=setTimeout(()=>{const Q=Ve.getState();if(!Q.players[Q.currentPlayerIndex]?.isAI||!Q.pendingExplore){U.current=!1;return}const ce=tN();v(ce),setTimeout(()=>{k(),U.current=!1},dn)},dn),()=>{ne.current&&clearTimeout(ne.current)}},[a,K,f,v,k]),ae.useEffect(()=>{if(!a&&!(!K||!d||U.current))return U.current=!0,Ee.current=setTimeout(()=>{const Q=Ve.getState();if(!Q.players[Q.currentPlayerIndex]?.isAI||!Q.pendingTargetPlayer){U.current=!1;return}const ce=nN(Q.players,Q.currentPlayerIndex,Q.pendingTargetPlayer.action);ce&&b(ce),setTimeout(()=>{k(),U.current=!1},dn)},dn),()=>{Ee.current&&clearTimeout(Ee.current)}},[a,K,d,b,k]),ae.useEffect(()=>{if(!(a||!m||U.current||!n[m.respondingPlayerIndex]?.isAI))return U.current=!0,Se.current=setTimeout(()=>{const Ce=Ve.getState();if(!Ce.pendingFunctionCard){U.current=!1;return}const ce=Ce.players[Ce.pendingFunctionCard.respondingPlayerIndex];if(!ce?.isAI){U.current=!1;return}const W=(ce.hand??[]).findIndex(je=>je.effect.type==="special"&&je.effect.handler==="invalid");W!==-1&&iN(Ce.pendingFunctionCard.card)?I(W):R(),U.current=!1},dn),()=>{Se.current&&clearTimeout(Se.current)}},[a,m,n,I,R])};function x0(a){const[n,l]=ae.useState([]),s=ae.useRef(null),[c]=ae.useState(()=>Date.now()),f=ae.useRef(0),d=ae.useRef(new Set);return ae.useEffect(()=>{const m=d.current;return()=>{m.forEach(p=>clearTimeout(p)),m.clear()}},[]),ae.useEffect(()=>{if(Date.now()-c<1500){s.current=a;return}if(s.current===null){s.current=a;return}const p=a-s.current;if(p!==0){const g={id:f.current++,value:p,timestamp:Date.now()};l(v=>[...v,g]);const S=setTimeout(()=>{d.current.delete(S),l(v=>v.filter(b=>b.id!==g.id))},1e3);d.current.add(S)}s.current=a},[a,c]),n}const E0=({changes:a,isMoney:n=!1})=>y.jsx(y.Fragment,{children:a.map(l=>y.jsxs("span",{className:`
            absolute left-1/2 -translate-x-1/2
            font-bold text-lg pointer-events-none
            animate-float-up
            ${l.value>0?"text-green-400":"text-red-400"}
          `,style:{top:"-8px"},children:[l.value>0?"+":"",n?`$${l.value.toLocaleString()}`:l.value]},l.id))}),jy=({player:a,isCurrentPlayer:n,isCompact:l=!1})=>{if(!a)return null;const s=n?"border-yellow-400":"border-gray-600",c=n?"bg-gray-800":"bg-gray-900";return l?y.jsxs("div",{className:`${c} ${s} border-2 rounded-lg p-2 text-sm`,children:[y.jsxs("div",{className:"flex justify-between items-center mb-1",children:[y.jsx("span",{className:"font-bold text-white",children:a.name}),y.jsx(Iy,{value:a.money,size:"small"})]}),y.jsxs("div",{className:"flex gap-2 text-xs",children:[y.jsxs("span",{className:"text-blue-400",children:["",a.stats.intelligence]}),y.jsxs("span",{className:"text-red-400",children:["",a.stats.stamina]}),y.jsxs("span",{className:"text-pink-400",children:["",a.stats.charisma]})]}),y.jsxs("div",{className:"text-xs text-gray-400 mt-1",children:[Op(a)," |  ",a.hand?.length??0]})]}):y.jsxs("div",{className:`${c} ${s} border-2 rounded-lg p-4`,children:[y.jsxs("div",{className:"flex justify-between items-start mb-3",children:[y.jsxs("div",{children:[y.jsx("h3",{className:"text-lg font-bold text-white",children:a.name}),y.jsx("p",{className:"text-sm text-gray-400",children:a.character.name})]}),n&&y.jsx("span",{className:"bg-yellow-500 text-black text-xs px-2 py-1 rounded",children:""})]}),y.jsx("div",{className:"mb-3",children:y.jsx(Iy,{value:a.money,size:"large"})}),y.jsxs("div",{className:"grid grid-cols-3 gap-2 mb-3",children:[y.jsx(rf,{label:"",value:a.stats.intelligence,color:"blue"}),y.jsx(rf,{label:"",value:a.stats.stamina,color:"red"}),y.jsx(rf,{label:"",value:a.stats.charisma,color:"pink"})]}),y.jsxs("div",{className:"border-t border-gray-700 pt-3",children:[y.jsxs("div",{className:"flex justify-between text-sm",children:[y.jsx("span",{className:"text-gray-400",children:""}),y.jsx("span",{className:"text-white",children:Op(a)})]}),a.job&&y.jsxs("div",{className:"flex justify-between text-sm mt-1",children:[y.jsx("span",{className:"text-gray-400",children:""}),y.jsxs("span",{className:"text-green-400",children:[a.performance,"/9"]})]}),y.jsxs("div",{className:"flex justify-between text-sm mt-1",children:[y.jsx("span",{className:"text-gray-400",children:""}),y.jsxs("span",{className:"text-white",children:[a.hand?.length??0,"/10"]})]})]})]})},rf=({label:a,value:n,color:l})=>{const s=x0(n),c={blue:"bg-blue-900 text-blue-300",red:"bg-red-900 text-red-300",pink:"bg-pink-900 text-pink-300"};return y.jsxs("div",{className:`${c[l]} rounded px-2 py-1 text-center relative`,children:[y.jsx("div",{className:"text-xs",children:a}),y.jsx("div",{className:"text-lg font-bold",children:n}),y.jsx(E0,{changes:s})]})},Iy=({value:a,size:n})=>{const l=x0(a),s={small:"text-yellow-400",large:"text-yellow-400 text-2xl font-bold"};return y.jsxs("span",{className:`${s[n]} relative inline-block`,children:["$",a.toLocaleString(),y.jsx(E0,{changes:l,isMoney:!0})]})},sN=({card:a,isSelected:n=!1,onClick:l,disabled:s=!1,size:c="medium"})=>{const f={study:{bg:"bg-blue-900",border:"border-blue-500",text:"text-blue-300"},work:{bg:"bg-green-900",border:"border-green-500",text:"text-green-300"},explore:{bg:"bg-yellow-900",border:"border-yellow-500",text:"text-yellow-300"},function:{bg:"bg-purple-900",border:"border-purple-500",text:"text-purple-300"}},d={study:"",work:"",explore:"",function:""},m={small:"w-20 h-28 text-xs",medium:"w-28 h-40 text-sm",large:"w-36 h-52 text-base"},p=f[a.type];return y.jsxs("div",{onClick:s?void 0:l,className:`
        ${m[c]}
        ${p.bg}
        ${n?"border-yellow-400 border-4 -translate-y-4 scale-110 shadow-lg shadow-yellow-400/30":`${p.border} border-2`}
        ${s?"opacity-50 cursor-not-allowed":"cursor-pointer hover:-translate-y-3 hover:scale-110 hover:shadow-xl hover:shadow-black/50"}
        rounded-lg p-2 flex flex-col transition-all duration-200 ease-out
      `,children:[y.jsx("div",{className:`${p.text} text-xs mb-1`,children:d[a.type]}),y.jsx("div",{className:"text-white font-bold flex-grow flex items-center justify-center text-center",children:a.name}),y.jsx("div",{className:"text-gray-300 text-xs mt-1 text-center",children:a.description}),a.cost&&y.jsxs("div",{className:"mt-1 text-yellow-400 text-xs text-center",children:["$",a.cost]})]})},rN=({cards:a,canPlay:n})=>{const{selectedCardIndex:l,selectCard:s,canCurrentPlayerPlayCard:c}=Ve(),[f,d]=ae.useState(null);return a.length===0?y.jsx("div",{className:"text-gray-500 text-center py-8",children:""}):y.jsx("div",{className:"flex flex-wrap gap-2 justify-center py-4",children:a.map((m,p)=>{const g=c(p),S=!n||!g.canPlay,v=f===p,b=l===p;return y.jsxs("div",{className:"relative transition-all duration-200",style:{zIndex:b?20:v?10:1},onMouseEnter:()=>d(p),onMouseLeave:()=>d(null),children:[y.jsx(sN,{card:m,isSelected:b,onClick:()=>s(b?null:p),disabled:S,size:"medium"}),S&&g.reason&&b&&y.jsx("div",{className:"absolute -top-10 left-1/2 transform -translate-x-1/2 bg-red-800 text-white text-xs px-2 py-1 rounded whitespace-nowrap z-30",children:g.reason})]},m.id)})})},cN=({event:a,onConfirm:n})=>y.jsx("div",{className:"fixed inset-0 bg-black/70 flex items-center justify-center z-50",children:y.jsxs("div",{className:"bg-gray-800 border-2 border-yellow-500 rounded-xl p-6 max-w-md mx-4 animate-bounce-in",children:[y.jsxs("div",{className:"text-center mb-4",children:[y.jsx("div",{className:"text-yellow-400 text-sm mb-1",children:""}),y.jsx("h2",{className:"text-2xl font-bold text-white",children:a.name})]}),y.jsx("div",{className:"bg-gray-900 rounded-lg p-4 mb-6",children:y.jsx("p",{className:"text-gray-200 text-center leading-relaxed",children:a.description})}),y.jsx("div",{className:"text-center mb-6",children:y.jsx(oN,{event:a})}),y.jsx("button",{onClick:n,className:"w-full bg-yellow-500 hover:bg-yellow-400 text-black font-bold py-3 px-6 rounded-lg transition-colors",children:""})]})}),oN=({event:a})=>{const{effect:n,target:l}=a;let s="";switch(l.type){case"all":s="";break;case"richest":s=` ${l.count} `;break;case"poorest":s=` ${l.count} `;break;case"has_job":s="";break;default:s=""}let c="";switch(n.type){case"money_change":c=` ${n.value>0?"+":""}$${n.value}`;break;case"stat_change":{c=`${{intelligence:"",stamina:"",charisma:""}[n.stat]} ${n.value>0?"+":""}${n.value}`;break}case"draw_cards":c=` ${n.count} `;break;case"special":c="";break}return y.jsxs("div",{className:"text-sm",children:[y.jsx("span",{className:"text-gray-400",children:""}),y.jsx("span",{className:"text-white ml-2",children:s}),c&&n.type!=="special"&&y.jsxs(y.Fragment,{children:[y.jsx("br",{}),y.jsx("span",{className:"text-gray-400",children:""}),y.jsx("span",{className:`ml-2 ${n.type==="money_change"||n.type==="stat_change"?(n.type==="money_change",n.value>0?"text-green-400":"text-red-400"):"text-white"}`,children:c})]})]})},uN=({disabled:a=!1})=>{const{roomId:n,playerId:l,room:s}=bs(),c=!!(n&&s?.status==="playing"),{phase:f,players:d,currentPlayerIndex:m,selectedCardIndex:p,pendingStatChoice:g,pendingExplore:S,pendingTargetPlayer:v,pendingFunctionCard:b,lastMessage:R,playSelectedCard:I,chooseStat:H,chooseExploreLocation:k,chooseTargetPlayer:U,applyInvalidCard:Y,passReaction:V,cancelPendingAction:ne,endPlayerTurn:Ee}=Ve(),Se={steal:"",sabotage:""};if(b){const{card:Q,sourcePlayerIndex:Ce,respondingPlayerIndex:ce}=b,W=d?.[Ce],je=d?.[ce];if(!W||!je)return y.jsx("div",{className:"bg-gray-800 rounded-lg p-4",children:y.jsx("div",{className:"text-gray-400 text-center",children:"..."})});const mt=s?.players.findIndex(q=>q.id===l)??-1,pt=c?mt===ce:!je?.isAI,D=(je?.hand??[]).findIndex(q=>q.effect.type==="special"&&q.effect.handler==="invalid");return y.jsxs("div",{className:"bg-gray-800 rounded-lg p-4",children:[y.jsxs("div",{className:"text-yellow-400 text-center mb-2",children:[" ",W.name," ",Q.name,""]}),y.jsxs("div",{className:"text-white text-center mb-3",children:[je.name,""]}),pt?y.jsxs("div",{className:"flex justify-center gap-3 flex-wrap",children:[y.jsx("button",{onClick:()=>Y(D),className:"bg-purple-600 hover:bg-purple-500 text-white px-4 py-2 rounded",children:""}),y.jsx("button",{onClick:V,className:"bg-gray-600 hover:bg-gray-500 text-white px-4 py-2 rounded",children:""})]}):y.jsxs("div",{className:"text-gray-400 text-center",children:[" ",je.name," ..."]})]})}const J=d?.[m],K=J?.isAI===!0;if(g)return K?y.jsx("div",{className:"bg-gray-800 rounded-lg p-4",children:y.jsxs("div",{className:"text-gray-400 text-center animate-pulse",children:[" ",J?.name," ..."]})}):y.jsxs("div",{className:"bg-gray-800 rounded-lg p-4",children:[y.jsx("div",{className:"text-white text-center mb-3",children:""}),y.jsxs("div",{className:"flex justify-center gap-3 flex-wrap",children:[y.jsxs("button",{onClick:()=>H("intelligence"),className:"bg-blue-600 hover:bg-blue-500 text-white px-4 py-2 rounded",children:[" +",g.value]}),y.jsxs("button",{onClick:()=>H("stamina"),className:"bg-red-600 hover:bg-red-500 text-white px-4 py-2 rounded",children:[" +",g.value]}),y.jsxs("button",{onClick:()=>H("charisma"),className:"bg-pink-600 hover:bg-pink-500 text-white px-4 py-2 rounded",children:[" +",g.value]}),y.jsx("button",{onClick:ne,className:"bg-gray-600 hover:bg-gray-500 text-white px-4 py-2 rounded",children:""})]})]});if(S)return K?y.jsx("div",{className:"bg-gray-800 rounded-lg p-4",children:y.jsxs("div",{className:"text-gray-400 text-center animate-pulse",children:[" ",J?.name," ..."]})}):y.jsxs("div",{className:"bg-gray-800 rounded-lg p-4",children:[y.jsx("div",{className:"text-white text-center mb-3",children:""}),y.jsxs("div",{className:"flex justify-center gap-3 flex-wrap",children:[By.map(Q=>y.jsx("button",{onClick:()=>k(Q.id),className:"bg-yellow-600 hover:bg-yellow-500 text-white px-4 py-2 rounded",children:Q.name},Q.id)),y.jsx("button",{onClick:ne,className:"bg-gray-600 hover:bg-gray-500 text-white px-4 py-2 rounded",children:""})]})]});if(v){if(K)return y.jsx("div",{className:"bg-gray-800 rounded-lg p-4",children:y.jsxs("div",{className:"text-gray-400 text-center animate-pulse",children:[" ",J?.name," ..."]})});const Q=d.filter((ce,W)=>W!==m),Ce=Se[v.action]||v.action;return y.jsxs("div",{className:"bg-gray-800 rounded-lg p-4",children:[y.jsxs("div",{className:"text-white text-center mb-3",children:["",Ce,""]}),y.jsxs("div",{className:"flex justify-center gap-3 flex-wrap",children:[Q.map(ce=>y.jsxs("button",{onClick:()=>U(ce.id),className:"bg-purple-600 hover:bg-purple-500 text-white px-4 py-2 rounded",children:[ce.name,v.action==="steal"&&y.jsxs("span",{className:"text-xs ml-1",children:["(",ce.hand?.length??0," )"]})]},ce.id)),y.jsx("button",{onClick:ne,className:"bg-gray-600 hover:bg-gray-500 text-white px-4 py-2 rounded",children:""})]})]})}return a?y.jsxs("div",{className:"bg-gray-800 rounded-lg p-4",children:[R&&y.jsx("div",{className:"text-yellow-400 text-center mb-3 text-sm",children:R}),y.jsx("div",{className:"text-gray-500 text-center",children:"..."})]}):y.jsxs("div",{className:"bg-gray-800 rounded-lg p-4",children:[R&&y.jsx("div",{className:"text-yellow-400 text-center mb-3 text-sm",children:R}),y.jsxs("div",{className:"flex justify-center gap-3",children:[f==="action"&&y.jsxs(y.Fragment,{children:[y.jsx("button",{onClick:I,disabled:p===null,className:`px-4 py-2 rounded font-bold ${p!==null?"bg-green-600 hover:bg-green-500 text-white":"bg-gray-600 text-gray-400 cursor-not-allowed"}`,children:""}),y.jsx("button",{onClick:Ee,className:"bg-gray-600 hover:bg-gray-500 text-white px-4 py-2 rounded",children:""})]}),f==="salary"&&y.jsx("div",{className:"text-gray-400",children:y.jsx("span",{className:"animate-pulse",children:"..."})}),f==="draw"&&y.jsx("div",{className:"text-gray-400",children:y.jsx("span",{className:"animate-pulse",children:"..."})})]})]})},fN=({player:a,disabled:n=!1})=>{const{phase:l,applyJob:s,tryPromote:c}=Ve(),f=Of(a),d=jf(a),m=h1(),p={intelligence:{name:"",color:"text-blue-400",bg:"bg-blue-900/30"},stamina:{name:"",color:"text-red-400",bg:"bg-red-900/30"},charisma:{name:"",color:"text-pink-400",bg:"bg-pink-900/30"}};return l!=="action"?y.jsxs("div",{className:"bg-gray-800 rounded-lg p-4",children:[y.jsx("h3",{className:"text-white font-bold mb-2",children:""}),y.jsx("div",{className:"text-gray-400 text-sm",children:""})]}):y.jsxs("div",{className:"bg-gray-800 rounded-lg p-4",children:[y.jsx("h3",{className:"text-white font-bold mb-3",children:""}),a.job?y.jsxs("div",{className:"mb-4 p-3 bg-gray-700 rounded",children:[y.jsx("div",{className:"text-sm text-gray-400",children:""}),y.jsx("div",{className:"text-white font-bold",children:a.job.levels[a.jobLevel].name}),y.jsx("div",{className:"text-xs text-gray-400 mt-1",children:a.job.skill}),y.jsxs("div",{className:"text-sm text-gray-300 mt-1",children:[": ",a.performance,"/9"]}),d&&!n&&y.jsx("button",{onClick:c,className:"mt-2 bg-green-600 hover:bg-green-500 text-white text-sm px-3 py-1 rounded w-full",children:""})]}):y.jsx("div",{className:"mb-4 text-gray-400 text-sm",children:""}),!a.job&&y.jsxs("div",{children:[y.jsxs("div",{className:"text-sm text-gray-400 mb-2",children:[" (",f.length,")"]}),f.length>0?y.jsx("div",{className:"space-y-2 max-h-48 overflow-y-auto",children:f.map(g=>{const S=p[g.category];return y.jsxs("button",{onClick:()=>s(g.id),disabled:n,className:`w-full text-left p-2 ${S.bg} ${n?"opacity-50 cursor-not-allowed":"hover:brightness-125"} rounded transition-all`,children:[y.jsxs("div",{className:"flex justify-between items-center",children:[y.jsx("span",{className:"text-white font-bold",children:g.levels[0].name}),y.jsx("span",{className:`text-xs ${S.color}`,children:S.name})]}),y.jsxs("div",{className:"text-xs text-gray-400",children:[": $",g.levels[0].salary[0].toLocaleString()]})]},g.id)})}):y.jsx("div",{className:"text-gray-500 text-sm",children:""})]}),y.jsxs("details",{className:"mt-4",children:[y.jsx("summary",{className:"text-gray-400 text-xs cursor-pointer hover:text-gray-300",children:""}),y.jsx("div",{className:"mt-2 space-y-3 text-xs max-h-64 overflow-y-auto",children:["intelligence","stamina","charisma"].map(g=>{const S=p[g];return y.jsxs("div",{children:[y.jsx("div",{className:`${S.color} font-bold mb-1`,children:S.name}),y.jsx("div",{className:"space-y-1",children:m[g].map(v=>{const b=v.levels[0].requiredStats,R=f.some(I=>I.id===v.id);return y.jsxs("div",{className:`p-2 rounded ${R?S.bg:"bg-gray-900"}`,children:[y.jsxs("div",{className:"flex justify-between",children:[y.jsx("span",{className:R?"text-white":"text-gray-500",children:v.name}),y.jsxs("span",{className:"text-gray-500",children:["$",v.levels[0].salary[0].toLocaleString()]})]}),y.jsxs("div",{className:"text-gray-500",children:[b.intelligence?`${b.intelligence} `:"",b.stamina?`${b.stamina} `:"",b.charisma?`${b.charisma}`:""]})]},v.id)})})]},g)})})]})]})},zy=()=>{const{players:a,currentPlayerIndex:n,turn:l,phase:s,currentEvent:c,showEventModal:f,confirmEvent:d,nextPhase:m}=Ve(),[p,g]=ae.useState(!1),S=ae.useRef(l),{room:v}=bs(),{isOnlineGame:b,syncToFirebase:R,isMyTurn:I,getMyPlayerIndex:H}=FT();lN(b);const k=ae.useRef(R);if(k.current=R,ae.useEffect(()=>{if(!b)return;const K=Ve.subscribe(()=>{k.current()});return()=>K()},[b]),ae.useEffect(()=>{l!==S.current&&(S.current=l,g(!1))},[l]),ae.useEffect(()=>{if(s!=="salary"&&s!=="draw")return;const K=setTimeout(()=>{const Q=Ve.getState().phase;(Q==="salary"||Q==="draw")&&m()},1500);return()=>clearTimeout(K)},[s,m]),ae.useEffect(()=>{if(!c||!f||b)return;const K=setTimeout(()=>{d()},2500);return()=>clearTimeout(K)},[c,f,b,d]),!a||a.length===0||s==="setup")return y.jsx("div",{className:"min-h-screen bg-gray-900 flex items-center justify-center",children:y.jsx("div",{className:"text-white text-xl",children:"..."})});const U=a[n],Y=b?H():a.findIndex(K=>!K.isAI),V=a[Y>=0?Y:0]||U,ne=a.some(K=>K.isAI),Ee=b?I():ne?n===Y:!0,Se=b||ne?V:U;if(!U)return y.jsx("div",{className:"min-h-screen bg-gray-900 flex items-center justify-center",children:y.jsx("div",{className:"text-white text-xl",children:"..."})});const J={event:"",salary:"",action:"",draw:"",end_turn:""};return y.jsxs("div",{className:"min-h-screen bg-gray-900 p-4",children:[y.jsxs("div",{className:"bg-gray-800 rounded-lg p-3 mb-4 flex justify-between items-center",children:[y.jsxs("div",{className:"flex items-center gap-4",children:[y.jsx("img",{src:"/ReLife/logo.png",alt:"ReLife",className:"h-8"}),y.jsxs("div",{className:"text-white",children:[y.jsxs("span",{className:"text-yellow-400 font-bold",children:[" ",l," "]}),y.jsx("span",{className:"text-gray-400 mx-2",children:"|"}),y.jsx("span",{children:J[s]||s})]}),y.jsx("div",{className:"text-green-400 text-sm bg-green-900/30 px-2 py-1 rounded",children:" $20,000"})]}),y.jsxs("div",{className:"flex items-center gap-4",children:[b&&y.jsxs("div",{className:"text-blue-400 text-sm",children:[" ",v&&` (: ${v.id})`]}),y.jsxs("div",{className:"text-gray-400 text-sm",children:[": ",Ve.getState().deck?.length??0," "]})]})]}),(b||ne)&&y.jsx("div",{className:`rounded-lg p-3 mb-4 text-center ${Ee?"bg-green-900/50 border border-green-500":"bg-gray-800"}`,children:Ee?y.jsx("span",{className:"text-green-400 font-bold",children:" "}):y.jsxs("span",{className:"text-gray-400",children:[" ",y.jsx("span",{className:"text-yellow-400 font-bold",children:U?.name})," ",U?.isAI?"":""," ..."]})}),y.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-4",children:[y.jsxs("div",{className:"lg:col-span-1 space-y-3",children:[y.jsx("h2",{className:"text-gray-400 text-sm font-bold",children:""}),a.map((K,Q)=>{const Ce=(b||ne)&&Q===Y,ce=Q===n;if(b||ne){if(Ce)return null}else if(ce)return null;return y.jsxs("div",{className:"relative",children:[K.isAI&&y.jsx("div",{className:"absolute -top-2 -left-2 bg-purple-500 text-white text-xs px-2 py-0.5 rounded-full z-10",children:""}),ce&&y.jsx("div",{className:"absolute -top-2 -right-2 bg-yellow-500 text-black text-xs px-2 py-0.5 rounded-full z-10",children:""}),y.jsx(jy,{player:K,isCurrentPlayer:ce,isCompact:!0})]},K.id)})]}),y.jsxs("div",{className:"lg:col-span-2 space-y-4",children:[y.jsxs("div",{className:"relative",children:[(b||ne)&&Ee&&y.jsx("div",{className:"absolute -top-2 -right-2 bg-green-500 text-white text-xs px-2 py-0.5 rounded-full z-10",children:""}),(b||ne)&&!Ee&&y.jsx("div",{className:"absolute -top-2 -right-2 bg-gray-600 text-white text-xs px-2 py-0.5 rounded-full z-10",children:""}),y.jsx(jy,{player:b||ne?V:U,isCurrentPlayer:b||ne?Ee:!0})]}),y.jsx(uN,{disabled:(b||ne)&&!Ee}),y.jsxs("div",{className:"bg-gray-800 rounded-lg p-4",children:[y.jsx("h3",{className:"text-white font-bold mb-3",children:b||ne?`${V?.name} `:`${U.name} `}),y.jsx(rN,{cards:Se?.hand||[],canPlay:s==="action"&&Ee}),(b||ne)&&!Ee&&s==="action"&&y.jsx("div",{className:"text-gray-500 text-sm mt-2 text-center",children:"..."})]})]}),y.jsxs("div",{className:"lg:col-span-1",children:[y.jsx(fN,{player:V,disabled:!Ee}),y.jsxs("div",{className:"bg-gray-800 rounded-lg p-4 mt-4",children:[y.jsx("h3",{className:"text-white font-bold mb-2",children:""}),y.jsxs("div",{className:"max-h-64 overflow-y-auto text-sm space-y-1",children:[(Ve.getState().actionLog||[]).slice(-20).reverse().map((K,Q)=>{const Ce={event:"text-yellow-400",action:"text-blue-300",job:"text-green-400",system:"text-gray-400"};return y.jsxs("div",{className:Ce[K.type]||"text-gray-400",children:[y.jsxs("span",{className:"text-gray-500 mr-1",children:["[",K.turn,"]"]}),K.type!=="event"&&y.jsx("span",{className:"font-semibold mr-1",children:K.playerName}),K.message]},Q)}),(Ve.getState().actionLog||[]).length===0&&y.jsx("div",{className:"text-gray-500",children:""})]})]})]})]}),c&&(b?s==="event"&&!p:f)&&y.jsx(cN,{event:c,onConfirm:()=>{b&&g(!0),d()}})]})},dN=()=>{const{getGameResult:a,resetGame:n}=Ve(),l=a();if(!l)return null;const s=["","","",""];return y.jsx("div",{className:"min-h-screen bg-gray-900 flex items-center justify-center p-4",children:y.jsxs("div",{className:"bg-gray-800 rounded-xl p-8 max-w-2xl w-full",children:[y.jsxs("div",{className:"text-center mb-8",children:[y.jsx("img",{src:"/ReLife/logo.png",alt:"ReLife",className:"h-16 mx-auto mb-4"}),y.jsx("h1",{className:"text-3xl font-bold text-white mb-2",children:""}),l.winner&&y.jsxs("p",{className:"text-yellow-400 text-lg font-semibold mb-1",children:[l.winner.name," "]}),y.jsx("p",{className:"text-gray-400",children:l.winReason==="money_threshold"?" $20,000":""})]}),y.jsx("div",{className:"space-y-4 mb-8",children:l.rankings.map((c,f)=>y.jsxs("div",{className:`rounded-lg p-4 ${f===0?"bg-yellow-900/50 border-2 border-yellow-500":"bg-gray-700"}`,children:[y.jsxs("div",{className:"flex items-center justify-between",children:[y.jsxs("div",{className:"flex items-center gap-4",children:[y.jsx("div",{className:"text-3xl",children:s[f]||`#${c.rank}`}),y.jsxs("div",{children:[y.jsx("div",{className:"text-white font-bold text-lg",children:c.player.name}),y.jsx("div",{className:"text-gray-400 text-sm",children:c.player.character.name})]})]}),y.jsxs("div",{className:"text-right",children:[y.jsx("div",{className:"text-2xl font-bold text-yellow-400",children:c.score.total.toLocaleString()}),y.jsx("div",{className:"text-gray-400 text-xs",children:""})]})]}),y.jsxs("div",{className:"mt-3 pt-3 border-t border-gray-600 grid grid-cols-3 gap-4 text-sm",children:[y.jsxs("div",{children:[y.jsx("div",{className:"text-gray-400",children:""}),y.jsxs("div",{className:"text-white",children:["$",c.score.money.toLocaleString()]})]}),y.jsxs("div",{children:[y.jsx("div",{className:"text-gray-400",children:""}),y.jsx("div",{className:"text-white",children:c.score.stats.toLocaleString()})]}),y.jsxs("div",{children:[y.jsx("div",{className:"text-gray-400",children:""}),y.jsx("div",{className:"text-white",children:c.score.jobBonus.toLocaleString()})]})]}),y.jsxs("div",{className:"mt-3 pt-3 border-t border-gray-600 flex gap-4 text-xs text-gray-400",children:[y.jsxs("span",{children:[": ",c.player.stats.intelligence]}),y.jsxs("span",{children:[": ",c.player.stats.stamina]}),y.jsxs("span",{children:[": ",c.player.stats.charisma]}),y.jsxs("span",{children:[": ",c.player.job?c.player.job.levels[c.player.jobLevel].name:""]})]})]},c.player.id))}),y.jsx("button",{onClick:n,className:"w-full bg-yellow-500 hover:bg-yellow-400 text-black font-bold py-4 rounded-lg transition-colors",children:""})]})})},hN=({onStartGame:a,onBack:n})=>{const{roomId:l,room:s,error:c,createNewRoom:f,joinExistingRoom:d,leaveCurrentRoom:m,toggleReady:p,changeCharacter:g,startOnlineGame:S,getCurrentPlayer:v,isHost:b,canStartGame:R}=bs(),[I,H]=ae.useState("menu"),[k,U]=ae.useState(""),[Y,V]=ae.useState(an[0].id),[ne,Ee]=ae.useState(""),[Se,J]=ae.useState(!1);if(ae.useEffect(()=>{ZT().catch(console.error)},[]),l&&s){const K=v(),Q=async()=>{J(!0),await S()&&a(),J(!1)},Ce=async()=>{await m(),H("menu")},ce=s.players.filter(W=>W.id!==K?.id).map(W=>W.characterId);return y.jsx("div",{className:"min-h-screen bg-gray-900 flex items-center justify-center p-4",children:y.jsxs("div",{className:"bg-gray-800 rounded-lg p-6 w-full max-w-md",children:[y.jsxs("div",{className:"text-center mb-6",children:[y.jsx("h2",{className:"text-white text-xl font-bold mb-2",children:""}),y.jsx("div",{className:"bg-gray-700 rounded-lg p-4",children:y.jsx("span",{className:"text-yellow-400 text-3xl font-mono tracking-widest",children:l})}),y.jsx("p",{className:"text-gray-400 text-sm mt-2",children:""})]}),y.jsxs("div",{className:"mb-6",children:[y.jsxs("h3",{className:"text-white font-bold mb-3",children:[" (",s.players.length,"/4)"]}),y.jsxs("div",{className:"space-y-2",children:[s.players.map(W=>{const je=an.find(D=>D.id===W.characterId),mt=W.id===K?.id,pt=W.id===s.hostId;return y.jsxs("div",{className:`p-3 rounded-lg flex items-center justify-between ${mt?"bg-blue-900/50 border border-blue-500":"bg-gray-700"}`,children:[y.jsxs("div",{className:"flex items-center gap-3",children:[y.jsxs("span",{className:"text-white font-bold",children:[W.name,mt&&y.jsx("span",{className:"text-blue-400 text-sm ml-1",children:"()"}),pt&&y.jsx("span",{className:"text-yellow-400 text-sm ml-1",children:""})]}),y.jsx("span",{className:"text-gray-400 text-sm",children:je?.name})]}),y.jsx("div",{children:W.ready?y.jsx("span",{className:"text-green-400 text-sm",children:" "}):y.jsx("span",{className:"text-gray-500 text-sm",children:"..."})})]},W.id)}),Array.from({length:4-s.players.length}).map((W,je)=>y.jsx("div",{className:"p-3 rounded-lg bg-gray-700/50 border border-dashed border-gray-600",children:y.jsx("span",{className:"text-gray-500",children:"..."})},`empty-${je}`))]})]}),K&&y.jsxs("div",{className:"mb-6",children:[y.jsx("h3",{className:"text-white font-bold mb-3",children:""}),y.jsx("div",{className:"grid grid-cols-2 gap-2",children:an.map(W=>{const je=ce.includes(W.id),mt=K.characterId===W.id;return y.jsxs("button",{onClick:()=>!je&&g(W.id),disabled:je||K.ready,className:`p-2 rounded text-left text-sm ${mt?"bg-blue-600 text-white":je?"bg-gray-700 text-gray-500 cursor-not-allowed":"bg-gray-700 text-white hover:bg-gray-600"}`,children:[y.jsx("div",{className:"font-bold",children:W.name}),y.jsxs("div",{className:"text-xs opacity-75",children:["$",W.initialMoney.toLocaleString(),je&&" ()"]})]},W.id)})})]}),c&&y.jsx("div",{className:"mb-4 p-3 bg-red-900/50 border border-red-500 rounded text-red-300 text-sm",children:c}),y.jsxs("div",{className:"space-y-2",children:[b()?y.jsx("button",{onClick:Q,disabled:!R()||Se,className:`w-full py-3 rounded-lg font-bold ${R()?"bg-green-600 hover:bg-green-500 text-white":"bg-gray-600 text-gray-400 cursor-not-allowed"}`,children:Se?"...":R()?"":""}):y.jsx("button",{onClick:p,className:`w-full py-3 rounded-lg font-bold ${K?.ready?"bg-gray-600 hover:bg-gray-500 text-white":"bg-green-600 hover:bg-green-500 text-white"}`,children:K?.ready?"":""}),y.jsx("button",{onClick:Ce,className:"w-full py-2 rounded-lg bg-gray-700 hover:bg-gray-600 text-gray-300",children:""})]})]})})}if(I==="menu")return y.jsx("div",{className:"min-h-screen bg-gray-900 flex items-center justify-center p-4",children:y.jsxs("div",{className:"bg-gray-800 rounded-lg p-6 w-full max-w-sm",children:[y.jsx("h2",{className:"text-white text-2xl font-bold text-center mb-6",children:""}),y.jsxs("div",{className:"space-y-3",children:[y.jsx("button",{onClick:()=>H("create"),className:"w-full py-3 rounded-lg bg-blue-600 hover:bg-blue-500 text-white font-bold",children:""}),y.jsx("button",{onClick:()=>H("join"),className:"w-full py-3 rounded-lg bg-green-600 hover:bg-green-500 text-white font-bold",children:""}),y.jsx("button",{onClick:n,className:"w-full py-2 rounded-lg bg-gray-700 hover:bg-gray-600 text-gray-300",children:""})]})]})});if(I==="create"){const K=async()=>{k.trim()&&(J(!0),await f(k.trim(),Y),J(!1))};return y.jsx("div",{className:"min-h-screen bg-gray-900 flex items-center justify-center p-4",children:y.jsxs("div",{className:"bg-gray-800 rounded-lg p-6 w-full max-w-sm",children:[y.jsx("h2",{className:"text-white text-xl font-bold text-center mb-6",children:""}),y.jsxs("div",{className:"space-y-4",children:[y.jsxs("div",{children:[y.jsx("label",{className:"text-gray-400 text-sm block mb-1",children:""}),y.jsx("input",{type:"text",value:k,onChange:Q=>U(Q.target.value),placeholder:"",className:"w-full p-3 rounded bg-gray-700 text-white border border-gray-600 focus:border-blue-500 focus:outline-none",maxLength:10})]}),y.jsxs("div",{children:[y.jsx("label",{className:"text-gray-400 text-sm block mb-1",children:""}),y.jsx("select",{value:Y,onChange:Q=>V(Q.target.value),className:"w-full p-3 rounded bg-gray-700 text-white border border-gray-600 focus:border-blue-500 focus:outline-none",children:an.map(Q=>y.jsxs("option",{value:Q.id,children:[Q.name," ($",Q.initialMoney.toLocaleString(),")"]},Q.id))})]}),c&&y.jsx("div",{className:"p-3 bg-red-900/50 border border-red-500 rounded text-red-300 text-sm",children:c}),y.jsx("button",{onClick:K,disabled:!k.trim()||Se,className:"w-full py-3 rounded-lg bg-blue-600 hover:bg-blue-500 text-white font-bold disabled:bg-gray-600 disabled:cursor-not-allowed",children:Se?"...":""}),y.jsx("button",{onClick:()=>H("menu"),className:"w-full py-2 rounded-lg bg-gray-700 hover:bg-gray-600 text-gray-300",children:""})]})]})})}if(I==="join"){const K=async()=>{!k.trim()||!ne.trim()||(J(!0),await d(ne.trim(),k.trim(),Y),J(!1))};return y.jsx("div",{className:"min-h-screen bg-gray-900 flex items-center justify-center p-4",children:y.jsxs("div",{className:"bg-gray-800 rounded-lg p-6 w-full max-w-sm",children:[y.jsx("h2",{className:"text-white text-xl font-bold text-center mb-6",children:""}),y.jsxs("div",{className:"space-y-4",children:[y.jsxs("div",{children:[y.jsx("label",{className:"text-gray-400 text-sm block mb-1",children:""}),y.jsx("input",{type:"text",value:ne,onChange:Q=>Ee(Q.target.value),placeholder:" 6 ",className:"w-full p-3 rounded bg-gray-700 text-white border border-gray-600 focus:border-blue-500 focus:outline-none text-center text-xl tracking-widest",maxLength:6})]}),y.jsxs("div",{children:[y.jsx("label",{className:"text-gray-400 text-sm block mb-1",children:""}),y.jsx("input",{type:"text",value:k,onChange:Q=>U(Q.target.value),placeholder:"",className:"w-full p-3 rounded bg-gray-700 text-white border border-gray-600 focus:border-blue-500 focus:outline-none",maxLength:10})]}),y.jsxs("div",{children:[y.jsx("label",{className:"text-gray-400 text-sm block mb-1",children:""}),y.jsx("select",{value:Y,onChange:Q=>V(Q.target.value),className:"w-full p-3 rounded bg-gray-700 text-white border border-gray-600 focus:border-blue-500 focus:outline-none",children:an.map(Q=>y.jsxs("option",{value:Q.id,children:[Q.name," ($",Q.initialMoney.toLocaleString(),")"]},Q.id))})]}),c&&y.jsx("div",{className:"p-3 bg-red-900/50 border border-red-500 rounded text-red-300 text-sm",children:c}),y.jsx("button",{onClick:K,disabled:!k.trim()||!ne.trim()||Se,className:"w-full py-3 rounded-lg bg-green-600 hover:bg-green-500 text-white font-bold disabled:bg-gray-600 disabled:cursor-not-allowed",children:Se?"...":""}),y.jsx("button",{onClick:()=>H("menu"),className:"w-full py-2 rounded-lg bg-gray-700 hover:bg-gray-600 text-gray-300",children:""})]})]})})}return null};function mN(){const{phase:a}=Ve(),{room:n,isReconnecting:l,error:s,hasStoredSession:c,tryReconnect:f,resetRoom:d}=bs(),[m,p]=ae.useState(!1),[g,S]=ae.useState(()=>c()),v=async()=>{S(!1),await f()&&p(!0)},b=()=>{S(!1),d()};return g?y.jsx("div",{className:"min-h-screen bg-gray-900 flex items-center justify-center p-4",children:y.jsxs("div",{className:"bg-gray-800 rounded-lg p-6 max-w-md w-full text-center",children:[y.jsx("h2",{className:"text-xl font-bold text-white mb-4",children:""}),y.jsx("p",{className:"text-gray-300 mb-6",children:""}),y.jsxs("div",{className:"flex gap-3 justify-center",children:[y.jsx("button",{onClick:v,className:"bg-green-600 hover:bg-green-500 text-white px-6 py-2 rounded font-bold",children:""}),y.jsx("button",{onClick:b,className:"bg-gray-600 hover:bg-gray-500 text-white px-6 py-2 rounded",children:""})]})]})}):l?y.jsx("div",{className:"min-h-screen bg-gray-900 flex items-center justify-center p-4",children:y.jsxs("div",{className:"bg-gray-800 rounded-lg p-6 max-w-md w-full text-center",children:[y.jsx("h2",{className:"text-xl font-bold text-white mb-4",children:"..."}),y.jsx("div",{className:"animate-pulse text-gray-400",children:""})]})}):s&&!m?y.jsx("div",{className:"min-h-screen bg-gray-900 flex items-center justify-center p-4",children:y.jsxs("div",{className:"bg-gray-800 rounded-lg p-6 max-w-md w-full text-center",children:[y.jsx("h2",{className:"text-xl font-bold text-red-400 mb-4",children:""}),y.jsx("p",{className:"text-gray-300 mb-6",children:s}),y.jsx("button",{onClick:()=>{d()},className:"bg-blue-600 hover:bg-blue-500 text-white px-6 py-2 rounded font-bold",children:""})]})}):m&&(!n||n.status==="waiting")?y.jsx(hN,{onStartGame:()=>p(!1),onBack:()=>p(!1)}):n&&n.status==="playing"?y.jsx(zy,{}):a==="setup"?y.jsx(KT,{onOnlineClick:()=>p(!0)}):a==="game_over"?y.jsx(dN,{}):y.jsx(zy,{})}i1.createRoot(document.getElementById("root")).render(y.jsx(ae.StrictMode,{children:y.jsx(mN,{})}));

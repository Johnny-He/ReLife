# ReLife é‡ç”Ÿ - é–‹ç™¼æŒ‡å—

## å°ˆæ¡ˆæ¦‚è¿°

Web ç‰ˆæ¡ŒéŠã€ŒReLife é‡ç”Ÿã€- äººç”Ÿæ¨¡æ“¬é¡ç­–ç•¥å¡ç‰ŒéŠæˆ²

- **æŠ€è¡“æ£§**: React 19 + TypeScript + Vite + Zustand + Tailwind CSS + Firebase
- **ç›®æ¨™**: æ”¯æ´æœ¬åœ°å¤šäººèˆ‡ç·šä¸Šå¤šäºº
- **èªè¨€**: ç¹é«”ä¸­æ–‡ä»‹é¢
- **éƒ¨ç½²**: GitHub Pages (https://johnny-he.github.io/ReLife/)

---

## æ¶æ§‹åŸå‰‡

### å››å±¤åˆ†é›¢æ¶æ§‹

```
UI Layer (React)     â†’ åªè² è²¬é¡¯ç¤ºå’Œæ¥æ”¶è¼¸å…¥
    â†“
State Layer (Zustand) â†’ å–®ä¸€è³‡æ–™ä¾†æºï¼Œç®¡ç†éŠæˆ²ç‹€æ…‹
    â†“
Engine Layer         â†’ ç´”å‡½æ•¸ï¼Œä¸ä¾è³´ Reactï¼Œå¯ç¨ç«‹æ¸¬è©¦
    â†“
Data Layer           â†’ éœæ…‹è³‡æ–™å®šç¾©ï¼ˆè§’è‰²ã€å¡ç‰Œã€è·æ¥­ç­‰ï¼‰
```

**ç‚ºä»€éº¼é€™æ¨£è¨­è¨ˆï¼Ÿ**
- æ–¹ä¾¿æœªä¾†æ“´å±•ç‚ºç·šä¸Šå¤šäººï¼ˆåªéœ€åœ¨ State Layer åŠ å…¥ç¶²è·¯åŒæ­¥ï¼‰
- Engine Layer å¯ä»¥åœ¨ Server ç«¯é‡è¤‡ä½¿ç”¨
- æ¯å±¤éƒ½å¯ä»¥ç¨ç«‹æ¸¬è©¦

### éŠæˆ²å¼•æ“åŸå‰‡

1. **ç´”å‡½æ•¸**: Engine ä¸­çš„å‡½æ•¸ä¸æ‡‰æœ‰å‰¯ä½œç”¨ï¼Œåªæ¥æ”¶è¼¸å…¥ã€è¿”å›è¼¸å‡º
2. **ä¸å¯è®Šæ€§**: ä¸è¦ç›´æ¥ä¿®æ”¹ stateï¼Œç¸½æ˜¯è¿”å›æ–°ç‰©ä»¶
3. **å‹åˆ¥å®‰å…¨**: å–„ç”¨ TypeScript çš„ Union Types è™•ç†ä¸åŒæ•ˆæœ

---

## æª”æ¡ˆçµæ§‹

```
relife-game/
â”œâ”€â”€ vitest.config.ts # æ¸¬è©¦è¨­å®š
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ types/           # å‹åˆ¥å®šç¾©
â”‚   â”œâ”€â”€ data/            # éœæ…‹è³‡æ–™ï¼ˆè§’è‰²ã€å¡ç‰Œã€è·æ¥­ã€äº‹ä»¶ã€æˆå°±ã€ç‰ˆæœ¬ç´€éŒ„ï¼‰
â”‚   â”œâ”€â”€ engine/          # éŠæˆ²é‚è¼¯ï¼ˆç´”å‡½æ•¸ï¼‰
â”‚   â”‚   â”œâ”€â”€ calculator.ts      # æ•¸å€¼è¨ˆç®—ï¼ˆå«æˆå°±è¨ˆåˆ†æ•´åˆï¼‰
â”‚   â”‚   â”œâ”€â”€ calculator.test.ts # æ¸¬è©¦
â”‚   â”‚   â”œâ”€â”€ cardEffects.ts     # å¡ç‰Œæ•ˆæœ
â”‚   â”‚   â”œâ”€â”€ cardEffects.test.ts
â”‚   â”‚   â”œâ”€â”€ jobSystem.ts       # è·æ¥­ç³»çµ±
â”‚   â”‚   â”œâ”€â”€ jobSystem.test.ts
â”‚   â”‚   â”œâ”€â”€ gameLogic.ts       # å›åˆæµç¨‹
â”‚   â”‚   â”œâ”€â”€ gameLogic.test.ts
â”‚   â”‚   â”œâ”€â”€ aiPlayer.ts        # AI ç©å®¶æ±ºç­–é‚è¼¯
â”‚   â”‚   â””â”€â”€ aiPlayer.test.ts
â”‚   â”œâ”€â”€ store/           # Zustand ç‹€æ…‹ç®¡ç†
â”‚   â”‚   â”œâ”€â”€ gameStore.ts # éŠæˆ²ç‹€æ…‹
â”‚   â”‚   â””â”€â”€ roomStore.ts # æˆ¿é–“ç‹€æ…‹ï¼ˆç·šä¸Šæ¨¡å¼ï¼‰
â”‚   â”œâ”€â”€ firebase/        # Firebase è¨­å®šèˆ‡æœå‹™
â”‚   â”‚   â”œâ”€â”€ config.ts    # Firebase åˆå§‹åŒ–
â”‚   â”‚   â””â”€â”€ roomService.ts # æˆ¿é–“ CRUD æ“ä½œ
â”‚   â”œâ”€â”€ hooks/           # React Hooks
â”‚   â”‚   â”œâ”€â”€ useGameSync.ts    # ç·šä¸ŠåŒæ­¥é‚è¼¯
â”‚   â”‚   â”œâ”€â”€ useAIPlayer.ts    # AI ç©å®¶è‡ªå‹•è¡Œå‹•
â”‚   â”‚   â””â”€â”€ useValueChange.ts # æ•¸å€¼è®ŠåŒ–è¿½è¹¤
â”‚   â”œâ”€â”€ components/      # React å…ƒä»¶
â”‚   â”‚   â”œâ”€â”€ PlayerPanel.tsx        # ç©å®¶è³‡è¨Šé¢æ¿
â”‚   â”‚   â”œâ”€â”€ CardHand.tsx           # æ‰‹ç‰Œé¡¯ç¤º
â”‚   â”‚   â”œâ”€â”€ CardDisplay.tsx        # å–®å¼µå¡ç‰Œ
â”‚   â”‚   â”œâ”€â”€ ActionBar.tsx          # è¡Œå‹•æŒ‰éˆ•
â”‚   â”‚   â”œâ”€â”€ JobBoard.tsx           # è·æ¥­æ¿
â”‚   â”‚   â”œâ”€â”€ EventModal.tsx         # äº‹ä»¶å½ˆçª—
â”‚   â”‚   â””â”€â”€ ValueChangeIndicator.tsx # æ•¸å€¼è®ŠåŒ–å‹•ç•«
â”‚   â””â”€â”€ pages/           # é é¢å…ƒä»¶
â”‚       â”œâ”€â”€ StartPage.tsx   # é–‹å§‹ç•«é¢ï¼ˆæœ¬åœ°/ç·šä¸Šé¸æ“‡ï¼‰
â”‚       â”œâ”€â”€ LobbyPage.tsx   # ç·šä¸Šå¤§å»³ï¼ˆå‰µå»º/åŠ å…¥/ç­‰å¾…æˆ¿é–“ï¼‰
â”‚       â”œâ”€â”€ GamePage.tsx    # éŠæˆ²ä¸­
â”‚       â””â”€â”€ ResultPage.tsx  # çµç®—ç•«é¢
```

---

## ç·šä¸Šå¤šäººåŠŸèƒ½

### Firebase æ¶æ§‹

```
Firebase Realtime Database
â””â”€â”€ rooms/
    â””â”€â”€ {roomId}/
        â”œâ”€â”€ id: string
        â”œâ”€â”€ hostId: string
        â”œâ”€â”€ status: 'waiting' | 'playing' | 'finished'
        â”œâ”€â”€ players: RoomPlayer[]
        â”œâ”€â”€ gameState: GameState | null
        â””â”€â”€ createdAt: number
```

### åŒæ­¥æ©Ÿåˆ¶

1. **æˆ¿ä¸»é–‹å§‹éŠæˆ²** â†’ åˆå§‹åŒ– GameState ä¸¦å¯«å…¥ Firebase
2. **ç©å®¶æ“ä½œ** â†’ æ›´æ–°æœ¬åœ° Zustand â†’ è‡ªå‹•åŒæ­¥åˆ° Firebase
3. **å…¶ä»–ç©å®¶** â†’ ç›£è½ Firebase è®ŠåŒ– â†’ æ›´æ–°æœ¬åœ° Zustand

### é—œéµæª”æ¡ˆ

- `useGameSync.ts`: è™•ç†é›™å‘åŒæ­¥ï¼Œé¿å…å¾ªç’°æ›´æ–°ï¼ˆåŒæ­¥ pendingFunctionCardã€pendingDiscardï¼‰
- `roomService.ts`: æˆ¿é–“çš„ CRUD æ“ä½œ
- `roomStore.ts`: ç®¡ç†æˆ¿é–“ç‹€æ…‹ï¼ˆroomId, playerId, roomï¼‰

### Firebase æ³¨æ„äº‹é …

**Firebase ä¸æ¥å— undefined å€¼**ï¼ŒåŒæ­¥å‰éœ€è¦æ¸…ç†è³‡æ–™ï¼š

```typescript
// åœ¨ useGameSync.ts ä¸­
const cleanForFirebase = <T>(obj: T): T => {
  if (obj === undefined) return null as T
  if (Array.isArray(obj)) {
    return obj.filter(item => item !== undefined).map(cleanForFirebase) as T
  }
  // ...
}
```

**é™£åˆ—æ¬„ä½éœ€è¦ fallback**ï¼Œå› ç‚º Firebase åŒæ­¥å›ä¾†å¯èƒ½æ˜¯ undefinedï¼š

```typescript
// åœ¨ spread é™£åˆ—æ™‚åŠ ä¸Š || []
[...(state.discardPile || []), card]
[...(state.eventLog || []), ...messages]
```

### æˆ¿é–“è‡ªå‹•æ¸…ç†

`cleanupOldRooms()` åœ¨é€²å…¥å¤§å»³æ™‚è‡ªå‹•åŸ·è¡Œï¼Œæ¸…ç†éæœŸæˆ¿é–“ï¼š

| ç‹€æ…‹ | éæœŸæ™‚é–“ |
|------|----------|
| waiting | 24 å°æ™‚ |
| playing | 6 å°æ™‚ |
| finished | 1 å°æ™‚ |

### ç·šä¸Šæ¨¡å¼å·²çŸ¥å•é¡Œèˆ‡ä¿®å¾©ï¼ˆ2026-02-07ï¼‰

#### å•é¡Œï¼šChrome ç•¶æ‰ / ç™½ç•«é¢

**ç—‡ç‹€**ï¼šç·šä¸Šæ¨¡å¼ä½¿ç”¨ç„¡ç—•è¦–çª—é–‹å…©å€‹ç•«é¢æ™‚ï¼ŒChrome æœƒç•¶æ‰æˆ–éŠæˆ²ä¸­é€”å‡ºç¾ç™½ç•«é¢ã€‚

**æ ¹æœ¬åŸå› **ï¼š

1. **Firebase ç›£è½å™¨æ´©æ¼**
   - éŒ¯èª¤ä½¿ç”¨ `off(ref)` æ¸…ç†ç›£è½å™¨ï¼Œæœƒç§»é™¤æ‰€æœ‰ç›£è½å™¨ï¼ˆåŒ…æ‹¬å…¶ä»–ç©å®¶çš„ï¼‰
   - æ­£ç¢ºåšæ³•æ˜¯ä¿å­˜ä¸¦ä½¿ç”¨ `onValue()` è¿”å›çš„ unsubscribe å‡½æ•¸

2. **Firebase æœƒç§»é™¤ç©ºé™£åˆ—**
   - Firebase å­˜ç©ºé™£åˆ— `[]` æ™‚æœƒè‡ªå‹•è½‰æˆ `undefined`
   - åŒæ­¥å›ä¾†å¾Œå­˜å– `players.length` æœƒå´©æ½°
   - **å¿…é ˆåœ¨æ‰€æœ‰é™£åˆ—å­˜å–å‰åŠ ä¸Š `?? []` fallback**

3. **ç«¶åˆæ¢ä»¶**
   - ä½¿ç”¨å›ºå®š 100ms `setTimeout` é‡ç½®åŒæ­¥ flag ä¸å¯é 
   - æ”¹ç”¨ `queueMicrotask()` ç¢ºä¿åœ¨ React æ‰¹æ¬¡æ›´æ–°å¾ŒåŸ·è¡Œ

**ä¿®å¾©æª”æ¡ˆæ¸…å–®**ï¼š

| æª”æ¡ˆ | ä¿®å¾©å…§å®¹ |
|------|---------|
| `roomService.ts` | `onValue()` è¿”å›å€¼ä½œç‚º unsubscribe |
| `useGameSync.ts` | ç›£è½å™¨æ­£ç¢ºæ¸…ç† + æ‰€æœ‰é™£åˆ—åŠ  `?? []` + `queueMicrotask` |
| `roomStore.ts` | é‡é€£/å»ºç«‹æˆ¿é–“æ™‚å…ˆæ¸…ç†èˆŠè¨‚é–± |
| `GamePage.tsx` | ç”¨ `useRef` é¿å… `syncToFirebase` ä¾è³´è®ŠåŒ–å°è‡´é‡è¤‡è¨‚é–± |
| `PlayerPanel.tsx` | `player.hand?.length ?? 0` |
| `ActionBar.tsx` | null æª¢æŸ¥ + é™£åˆ— fallback |
| `gameStore.ts` | é™£åˆ—å­˜å–å‰åŠ  fallback |
| `useValueChange.ts` | setTimeout åœ¨ unmount æ™‚æ­£ç¢ºæ¸…ç† |

**é‡è¦æ•™è¨“**ï¼š

```typescript
// âŒ éŒ¯èª¤ï¼šFirebase åŒæ­¥å›ä¾†å¯èƒ½æ˜¯ undefined
players: firebaseGameState.players,

// âœ… æ­£ç¢ºï¼šæ°¸é åŠ ä¸Š fallback
players: firebaseGameState.players ?? [],
```

```typescript
// âŒ éŒ¯èª¤ï¼šoff() æœƒç§»é™¤æ‰€æœ‰ç›£è½å™¨
onValue(roomRef, callback)
return () => off(roomRef)

// âœ… æ­£ç¢ºï¼šä¿å­˜ä¸¦ä½¿ç”¨ unsubscribe å‡½æ•¸
const unsubscribe = onValue(roomRef, callback)
return unsubscribe
```

---

## AI é›»è…¦ç©å®¶

### é–‹ç™¼éšæ®µ

| éšæ®µ | åç¨± | ç‹€æ…‹ | èªªæ˜ |
|------|------|------|------|
| ç¬¬ä¸€éšæ®µ | éš¨æ©Ÿ AI | âœ… å®Œæˆ | éš¨æ©Ÿå‡ºç‰Œã€éš¨æ©Ÿé¸æ“‡ |
| ç¬¬äºŒéšæ®µ | è¦å‰‡ AI | âœ… å®Œæˆ | å¡ç‰Œè©•åˆ†ç³»çµ± + ç­–ç•¥æ±ºç­– |
| ç¬¬ä¸‰éšæ®µ | å€‹æ€§ AI | ğŸ”² æœªé–‹å§‹ | ä¸åŒ AI æœ‰ä¸åŒæ€§æ ¼ï¼ˆæ”»æ“Šå‹/é˜²ç¦¦å‹/å¹³è¡¡å‹ï¼‰ |

### æ¶æ§‹

AI ç³»çµ±åˆ†ç‚ºå…©å±¤ï¼š

- **æ±ºç­–é‚è¼¯**ï¼ˆ`engine/aiPlayer.ts`ï¼‰ï¼šç´”å‡½æ•¸ï¼Œä¸ä¾è³´ Reactï¼Œå¯ç¨ç«‹æ¸¬è©¦
- **è‡ªå‹•è¡Œå‹• Hook**ï¼ˆ`hooks/useAIPlayer.ts`ï¼‰ï¼šç›£è¯éŠæˆ²ç‹€æ…‹ï¼Œåœ¨ AI å›åˆè‡ªå‹•è§¸ç™¼æ±ºç­–

### æ±ºç­–å‡½æ•¸ï¼ˆç¬¬äºŒéšæ®µï¼šè¦å‰‡ AIï¼‰

| å‡½æ•¸ | ç”¨é€” |
|------|------|
| `aiChooseCard(player)` | å¡ç‰Œè©•åˆ†ç³»çµ±ï¼Œ80% å‡ºæœ€é«˜åˆ†ç‰Œã€20% éš¨æ©Ÿå¢åŠ ä¸ç¢ºå®šæ€§ |
| `aiChooseStat(player)` | æ°¸é é¸æœ€ä½å±¬æ€§ï¼Œå‡è¡¡ç™¼å±• |
| `aiChooseExploreLocation()` | åŠ æ¬Šéš¨æ©Ÿï¼šåœ–æ›¸é¤¨ 45%ã€å›å®¶ 35%ã€å…¬åœ’ 20% |
| `aiChooseTargetPlayer(players, idx, action)` | å·ç«Š/æ¶åŠ«â†’æ‰‹ç‰Œæœ€å¤šã€é™·å®³â†’é ˜å…ˆè€…ã€ç©ºé™â†’è·ç­‰æœ€é«˜ |
| `aiShouldUseInvalidCard(card, player)` | å¨è„…åˆ¤æ–·ï¼šé«˜å¨è„…å¿…æ“‹ã€ä¸­å¨è„… 70%ã€ä½å¨è„… 30% |
| `aiChooseJob(player)` | ä¸€å®šæ‡‰å¾µï¼Œé¸èµ·è–ªæœ€é«˜çš„è·æ¥­ |
| `aiChooseDiscardCards(player, count)` | æ‰‹ç‰Œæº¢å‡ºæ™‚ä¸Ÿæ£„è©•åˆ†æœ€ä½çš„ç‰Œ |

### å¡ç‰Œè©•åˆ†ç³»çµ±

æ¯å¼µå¯å‡ºçš„ç‰Œæ ¹æ“šç©å®¶ç‹€æ…‹è©•åˆ†ï¼ˆåˆ†æ•¸è¶Šé«˜è¶Šå„ªå…ˆå‡ºï¼‰ï¼š

| å¡ç‰Œé¡å‹ | è©•åˆ†é‚è¼¯ | åˆ†æ•¸ç¯„åœ |
|----------|----------|----------|
| ç¸¾æ•ˆå¡ | æœ‰å·¥ä½œæ™‚æœ€é‡è¦ | 0-90 |
| å±¬æ€§å¡ï¼ˆæœ€ä½å±¬æ€§ï¼‰ | å­¸åŠ›å¡éœ€æœ‰éŒ¢ã€åŠ åˆ°æœ€å¼±å±¬æ€§æ›´å¥½ | 0-70 |
| è‡ªç”±ç ”ç©¶ | ä¾¿å®œåˆèƒ½è£œæœ€å¼±å±¬æ€§ | 0-65 |
| æŠ½ç‰Œï¼ˆç„¡ä¸­ç”Ÿæœ‰ï¼‰ | ç©©å®šå¥½ç‰Œ | 60 |
| åŠ ç­ | ç¼ºéŒ¢æ™‚å‡º | 0-60 |
| æ‡‰é…¬/å·ç¡è¦º | å°æ‡‰å±¬æ€§ä½ä¸”æœ‰éŒ¢æ™‚å‡º | 0-50 |
| å·ç«Š/æ¶åŠ« | æ”»æ“Šç‰Œ | 45 |
| é™·å®³ | æ”»æ“Šç‰Œ | 40 |
| æ¢éšª | æ²’æ›´å¥½ç‰Œæ™‚å‡º | 0-25 |

### ç›®æ¨™é¸æ“‡ç­–ç•¥

| è¡Œå‹• | ç­–ç•¥ | ä¾æ“š |
|------|------|------|
| å·ç«Š/æ¶åŠ« | æ‰‹ç‰Œæœ€å¤šçš„ç©å®¶ | å·åˆ°å¥½ç‰Œæ©Ÿç‡é«˜ |
| é™·å®³ | åˆ†æ•¸æœ€é«˜çš„ç©å®¶ï¼ˆé ˜å…ˆè€…ï¼‰ | é‡‘éŒ¢ + å±¬æ€§Ã—100 + è–ªæ°´ |
| ç©ºé™ | è·ç­‰æœ€é«˜çš„ç©å®¶ | æ¶åˆ°æ›´å¥½çš„è·ä½ |

### UI ä¿è­·æ©Ÿåˆ¶

AI è¡Œå‹•æ™‚ï¼ŒActionBar ä¸é¡¯ç¤ºäº’å‹•æŒ‰éˆ•ï¼Œæ”¹ç‚ºé¡¯ç¤ºç­‰å¾…å‹•ç•«ï¼š

```typescript
// åæ‡‰å¡ï¼šå›æ‡‰è€…æ˜¯ AI æ™‚ä¸é¡¯ç¤ºæŒ‰éˆ•
const isMyResponse = isOnlineGame
  ? myIndex === respondingPlayerIndex
  : !respondingPlayer?.isAI

// å…¶ä»–å¾…æ±ºå®šé …ï¼šç•¶å‰ç©å®¶æ˜¯ AI æ™‚é¡¯ç¤ºç­‰å¾…æ–‡å­—
if (isCurrentAI) {
  return <div>ğŸ¤– {currentPlayer?.name} æ­£åœ¨é¸æ“‡...</div>
}
```

### æœ¬åœ°æ¨¡å¼ + AI çš„ UI è¡Œç‚º

- **ä¸­é–“ä¸»é¢æ¿**ï¼šå›ºå®šé¡¯ç¤ºäººé¡ç©å®¶çš„è³‡è¨Šå’Œæ‰‹ç‰Œ
- **å·¦å´æ¬„ä½**ï¼šé¡¯ç¤ºå…¶ä»–ç©å®¶ï¼ˆå« AIï¼‰ï¼Œæ¨™ç¤ºã€Œè¡Œå‹•ä¸­ã€å’Œã€ŒğŸ¤–ã€
- **å›åˆæŒ‡ç¤º**ï¼šè¼ªåˆ°äººé¡æ™‚é¡¯ç¤ºã€ŒğŸ® è¼ªåˆ°ä½ äº†ï¼ã€ï¼ŒAI è¡Œå‹•æ™‚é¡¯ç¤ºç­‰å¾…
- **éäº’å‹•éšæ®µ**ï¼ˆç™¼è–ªã€æŠ½ç‰Œã€äº‹ä»¶ï¼‰ï¼šè‡ªå‹•æ¨é€²ï¼Œä¸éœ€æ‰‹å‹•æ“ä½œ

---

## è¡Œå‹•è¨˜éŒ„ç³»çµ±

### å‹åˆ¥å®šç¾©

```typescript
type LogType = 'event' | 'action' | 'job' | 'system'

interface GameLog {
  turn: number       // å›åˆæ•¸
  playerName: string // è¡Œå‹•è€…åç¨±
  message: string    // è¡Œå‹•æè¿°
  type: LogType      // åˆ†é¡ï¼ˆç”¨æ–¼ UI ä¸Šè‰²ï¼‰
}
```

### è¨˜éŒ„ç¯„åœ

| åˆ†é¡ | é¡è‰² | è¨˜éŒ„å…§å®¹ |
|------|------|----------|
| `event` | é»ƒè‰² | å›åˆäº‹ä»¶ï¼ˆå¤©ç½ã€æ”¿ç­–ç­‰ï¼‰ |
| `action` | è—è‰² | å‡ºç‰Œã€å·ç«Šã€æ¢éšªã€ä½¿ç”¨ç„¡æ•ˆå¡ç­‰ |
| `job` | ç¶ è‰² | æ‡‰å¾µã€å‡é· |
| `system` | ç°è‰² | ç™¼è–ª |

### å¯¦ä½œä½ç½®

è¨˜éŒ„åœ¨ `gameStore.ts` çš„å„å€‹ action ä¸­ï¼Œä½¿ç”¨ `addLog()` è¼”åŠ©å‡½æ•¸å¯«å…¥ `GameState.actionLog`ã€‚UI é¡¯ç¤ºåœ¨ `GamePage.tsx` å³ä¸‹è§’ï¼Œæœ€æ–°è¨˜éŒ„åœ¨æœ€ä¸Šæ–¹ï¼Œä¿ç•™æœ€è¿‘ 20 ç­†ã€‚

`actionLog` ä¹ŸæœƒåŒæ­¥åˆ° Firebaseï¼Œç·šä¸Šæ¨¡å¼å¯çœ‹åˆ°å°æ‰‹è¡Œå‹•ã€‚

---

## æˆå°±ç³»çµ±

éŠæˆ²çµæŸæ™‚æ ¹æ“šç©å®¶è¡¨ç¾é ’ç™¼æˆå°±ä¸¦åŠ åˆ†ï¼Œé¡¯ç¤ºåœ¨ ResultPage ä¸Šã€‚

### æ¶æ§‹

- **è³‡æ–™å®šç¾©**ï¼ˆ`data/achievements.ts`ï¼‰ï¼šæˆå°±é–€æª»ã€å”¯ä¸€æˆå°±å®šç¾© + `evaluateAchievements()` ç´”å‡½æ•¸
- **è¨ˆåˆ†æ•´åˆ**ï¼ˆ`engine/calculator.ts`ï¼‰ï¼š`calculateGameResult()` å‘¼å« `evaluateAchievements()` è¨ˆå…¥ç¸½åˆ†
- **UI é¡¯ç¤º**ï¼ˆ`pages/ResultPage.tsx`ï¼‰ï¼šåˆ†æ•¸æ˜ç´°ç¬¬å››æ¬„ã€Œæˆå°±åŠ æˆã€+ æˆå°±æ¨™ç±¤

### é–€æª»æˆå°±ï¼ˆåªå–æœ€é«˜ä¸€å€‹ï¼Œä¸ç–ŠåŠ ï¼‰

| æˆå°± | æ¢ä»¶ | å¾—åˆ† |
|------|------|------|
| äººç”Ÿè´å®¶ | é‡‘éŒ¢ â‰¥ $200,000 | +25,000 |
| è²¡å¯Œè‡ªç”± | é‡‘éŒ¢ â‰¥ $150,000 | +18,000 |
| åè¬å¯Œç¿ | é‡‘éŒ¢ â‰¥ $100,000 | +12,000 |
| å¯Œè£•äººç”Ÿ | é‡‘éŒ¢ â‰¥ $80,000 | +8,000 |
| å°åº·ç”Ÿæ´» | é‡‘éŒ¢ â‰¥ $50,000 | +5,000 |

### å”¯ä¸€æˆå°±ï¼ˆæ¯å ´æœ€å¤šä¸€äººï¼‰

| æˆå°± | æ¢ä»¶ | å¾—åˆ† |
|------|------|------|
| ç‡å…ˆè‡´å¯Œ | ç¬¬ä¸€å€‹å­˜åˆ° $100,000ï¼ˆå¤šäººé”æ¨™å–æœ€é«˜ï¼Œå¹³æ‰‹ç„¡äººå¾—ï¼‰ | +10,000 |
| é¦–å¯Œ | æ“æœ‰æœ€å¤šé‡‘éŒ¢ï¼ˆå¹³æ‰‹ç„¡äººå¾—ï¼‰ | +5,000 |

---

## ç¨‹å¼ç¢¼é¢¨æ ¼

### TypeScript
- å„ªå…ˆä½¿ç”¨ `interface` å®šç¾©ç‰©ä»¶å‹åˆ¥
- ä½¿ç”¨ `type` å®šç¾© Union Types
- é¿å… `any`ï¼Œå–„ç”¨æ³›å‹

### React
- ä½¿ç”¨ Function Components + Hooks
- å°å…ƒä»¶å„ªå…ˆï¼Œå–®ä¸€è·è²¬
- Props ä½¿ç”¨è§£æ§‹

### å‘½å
- å…ƒä»¶: PascalCase (`PlayerPanel.tsx`)
- å‡½æ•¸: camelCase (`calculateScore`)
- å¸¸æ•¸: SCREAMING_SNAKE_CASE (`MAX_HAND_SIZE`)
- å‹åˆ¥: PascalCase (`GameState`)
- **é‡è¦**: `use` å‰ç¶´ä¿ç•™çµ¦ React Hooksï¼Œæ™®é€šå‡½æ•¸æ‡‰ä½¿ç”¨ `apply`, `handle`, `get` ç­‰å‹•è©

### ESLint è¦ç¯„

å°ˆæ¡ˆä½¿ç”¨åš´æ ¼çš„ ESLint è¦å‰‡ï¼Œéƒ¨ç½²å‰å¿…é ˆé€šé `npm run lint`ã€‚å¸¸è¦‹å•é¡Œï¼š

| å•é¡Œ | è§£æ±ºæ–¹å¼ |
|------|----------|
| Hook åœ¨ callback ä¸­èª¿ç”¨ | å‡½æ•¸åç¨±ä¸è¦ç”¨ `use` é–‹é ­ï¼ˆå¦‚ `applyInvalidCard` è€Œé `useInvalidCard`ï¼‰ |
| Effect ä¸­åŒæ­¥ setState | æ”¹ç”¨ `useState(() => initialValue)` æ‡¶åˆå§‹åŒ– |
| case block ä¸­çš„è®Šæ•¸å®£å‘Š | ç”¨ `{}` åŒ…åœ case å…§å®¹ |
| Fast Refresh å•é¡Œ | æ¯å€‹æª”æ¡ˆåª export çµ„ä»¶æˆ–åª export Hookï¼Œä¸è¦æ··åˆ |
| æœªä½¿ç”¨çš„ catch è®Šæ•¸ | ä½¿ç”¨ç©º catch blockï¼š`catch { ... }` |
| ä½¿ç”¨ `any` é¡å‹ | ä½¿ç”¨æ­£ç¢ºçš„é¡å‹ï¼ˆå¦‚ Firebase çš„ `DataSnapshot`ï¼‰ |

---

## éŠæˆ²æµç¨‹

```
éŠæˆ²é–‹å§‹
    â†“
æ¯å›åˆ (1-30):
    1. äº‹ä»¶éšæ®µ (event)     â†’ è§¸ç™¼å›åˆäº‹ä»¶ï¼ˆå½±éŸ¿é‡‘éŒ¢/èƒ½åŠ›å€¼ï¼‰
    2. ç™¼è–ªéšæ®µ (salary)    â†’ æœ‰å·¥ä½œè€…é ˜è–ªæ°´ + è·æ¥­æŠ€èƒ½æ•ˆæœ
    3. è¡Œå‹•éšæ®µ (action)    â†’ ç©å®¶è¼ªæµå‡ºç‰Œ
    4. æŠ½ç‰Œéšæ®µ (draw)      â†’ æ¯äººæŠ½ 2 å¼µï¼ˆè¶…é 10 å¼µéœ€æ£„ç‰Œï¼‰
    5. å›åˆçµæŸ (end_turn)  â†’ åˆ‡æ›åˆ°ä¸‹ä¸€å›åˆ
    â†“
éŠæˆ²çµæŸ â†’ è¨ˆåˆ† â†’ é¡¯ç¤ºæ’å

### å›ºå®šäº‹ä»¶æ™‚é–“é»

| å›åˆ | äº‹ä»¶ | æ•ˆæœ |
|------|------|------|
| 1 | æ–°é®é•·ä¸Šä»» | æ‰€æœ‰äºº +$500 |
| 5 | æ¿Ÿè²§æ”¿ç­– | é‡‘éŒ¢ < $1,500 è€…è£œåŠ©è‡³ $1,500 |
| 8 | å°é®ç«¶è³½ | ç¬¬ä¸€å +$3,000ã€ç¬¬äºŒå +$2,000ã€ç¬¬ä¸‰å +$1,000 |
| 15 | çµ‚ç”Ÿæˆå°±ç«¶è³½ | ç¬¬ä¸€å +$5,000ã€ç¬¬äºŒå +$3,500ã€ç¬¬ä¸‰å +$2,000 |
| 21 | æ¿Ÿè²§æ”¿ç­– | æœ€çª®è€…è£œåŠ© $3,000 |
| 30 | åŸé®å¤§æœƒ | éŠæˆ²çµæŸï¼Œæœ€çµ‚çµç®— |
```

### äº‹ä»¶ç³»çµ±

- **å›ºå®šäº‹ä»¶**: ç¬¬ 1ã€5ã€8ã€15ã€21ã€30 å›åˆï¼ˆè¦‹ä¸Šè¡¨ï¼‰
- **éš¨æ©Ÿäº‹ä»¶**: å…¶ä»–å›åˆå¾äº‹ä»¶æ± æŠ½å–
- å¤§éƒ¨åˆ†äº‹ä»¶æœƒå½±éŸ¿å…¨å“¡çš„é‡‘éŒ¢æˆ–èƒ½åŠ›å€¼
- **äº‹ä»¶å½ˆçª—æœƒé¡¯ç¤ºç›®æ¨™ç©å®¶**ï¼šã€Œæœ€æœ‰éŒ¢/æœ€çª®ã€äº‹ä»¶æœƒåˆ—å‡ºå…·é«”ç©å®¶åå­—èˆ‡é‡‘é¡

### è·æ¥­æŠ€èƒ½ï¼ˆç™¼è–ªéšæ®µè‡ªå‹•è§¸ç™¼ï¼‰

| è·æ¥­ | è¢«å‹•æ•ˆæœ |
|------|----------|
| è€å¸« | æ„›çš„æ•™è‚²ï¼Œæ¯å›åˆæ™ºåŠ› +1 |
| å·¥äºº | åˆ»è‹¦è€å‹ï¼Œæ¯å›åˆé«”åŠ› +1 |
| è¾²å¤« | æœ‰æ©Ÿç”Ÿæ´»ï¼Œæ¯å›åˆé«”åŠ› +1 |
| æ­Œæ‰‹ | äººè¦‹äººæ„›ï¼Œæ¯å›åˆé­…åŠ› +1 |
| èµ°ç§é›†åœ˜ | åœ°ä¸‹ç¶“æ¿Ÿï¼ˆè½‰è·éœ€ä»˜ $8,000 é€€å‡ºè²»ï¼‰ |
| é»‘é“ | æ±Ÿæ¹–è¦çŸ©ï¼ˆè½‰è·æ™‚é«”åŠ› -5ï¼‰ |
| é­”è¡“å¸« | è¦‹è­‰å¥‡è¹Ÿï¼Œå¯ç„¡æ•ˆä¸€å¼µåŠŸèƒ½å¡ |
| é…’åº—å°å§ | äº¤éš›æ‰‹è…•ï¼Œæ‡‰é…¬å¡æ•ˆæœåŠ å€ |
| å¾‹å¸« | è¨´è¨Ÿå°ˆå®¶ |

---

## å‹åˆ©æ¢ä»¶

- **æå‰å‹åˆ©**: ç¬¬ä¸€å€‹é”åˆ° **$20,000** çš„ç©å®¶ç«‹å³ç²å‹
- **å›åˆçµæŸ**: 30 å›åˆçµæŸå¾Œï¼Œä»¥æœ€çµ‚åˆ†æ•¸æœ€é«˜è€…ç²å‹

åˆ†æ•¸è¨ˆç®—ï¼šé‡‘éŒ¢ + å±¬æ€§ç¸½å’Œ Ã— 100 + è·æ¥­åŠ æˆ + æˆå°±åŠ æˆ

---

## å¡ç‰Œç³»çµ±

### ç‰Œåº«ç¸½è¦½ï¼ˆå…± 175 å¼µï¼‰

#### å­¸åŠ›å¡ï¼ˆ68 å¼µï¼‰- éœ€ä»˜è²»ä½¿ç”¨

| å¡ç‰Œ | æ•¸é‡ | è²»ç”¨ | æ•ˆæœ |
|------|------|------|------|
| ç¤¾äº¤è¨“ç·´ | 6 | $500 | é­…åŠ› +2 |
| é‡é‡è¨“ç·´ | 6 | $500 | é«”åŠ› +2 |
| è«–æ–‡ç ”ç©¶ | 6 | $500 | æ™ºåŠ› +2 |
| è‡ªç”±ç ”ç©¶ | 40 | $300 | é¸æ“‡ä»»ä¸€èƒ½åŠ› +1 |
| æ ¡å¤–æ•™å­¸ | 10 | - | å‰å¾€æ¢éšªå€åŸŸ |

#### å·¥ä½œå¡ï¼ˆ66 å¼µï¼‰- éœ€æœ‰å·¥ä½œæ‰èƒ½ä½¿ç”¨

| å¡ç‰Œ | æ•¸é‡ | æ•ˆæœ |
|------|------|------|
| ç¸¾æ•ˆ | 28 | ç¸¾æ•ˆ +1 |
| æ‹è€é—†é¦¬å± | 7 | ç²å¾— $500ï¼Œé­…åŠ› -2 |
| æ‡‰é…¬ | 7 | èŠ±è²» $500ï¼Œé­…åŠ› +2 |
| å·ç¡è¦º | 7 | èŠ±è²» $500ï¼Œé«”åŠ› +2 |
| åŠ ç­ | 7 | ç²å¾— $1,000ï¼Œé«”åŠ› -2 |
| å‡ºå·® | 10 | å‰å¾€æ¢éšªå€åŸŸ |

#### åŠŸèƒ½å¡ï¼ˆ41 å¼µï¼‰

| å¡ç‰Œ | æ•¸é‡ | æ•ˆæœ | å¯è¢«ç„¡æ•ˆ |
|------|------|------|----------|
| å·ç«Š | 5 | éš¨æ©ŸæŠ½å–ç›®æ¨™ä¸€å¼µæ‰‹ç‰Œ | âœ“ |
| æ¶åŠ« | 5 | æª¢è¦–ç›®æ¨™æ‰‹ç‰Œä¸¦æ‹¿èµ°ä¸€å¼µ | âœ“ |
| é™·å®³ | 7 | ç›®æ¨™éš¨æ©Ÿå±¬æ€§ -2 | âœ— |
| ç„¡æ•ˆ | 10 | å–æ¶ˆä¸€å¼µåŠŸèƒ½å¡ï¼ˆåæ‡‰å¡ï¼‰ | - |
| ç„¡ä¸­ç”Ÿæœ‰ | 6 | å…è²»æŠ½å…©å¼µç‰Œ | âœ“ |
| è½‰è· | 5 | é›¢è·ï¼Œå¯æ‡‰å¾µæ–°å·¥ä½œ | âœ“ |
| ç©ºé™ | 3 | ç¬¦åˆæ¢ä»¶æ™‚æ¶èµ°ä»–äººè·ä½ | âœ“ |

### å¡ç‰Œæ©Ÿåˆ¶

- **åæ‡‰å¡æµç¨‹**: åŠŸèƒ½å¡ä½¿ç”¨æ™‚ï¼Œå…¶ä»–ç©å®¶ä¾åºå¯é¸æ“‡ä½¿ç”¨ã€Œç„¡æ•ˆã€å¡å–æ¶ˆ
- **é™·å®³å¡ä¾‹å¤–**: ç„¡æ³•è¢«ã€Œç„¡æ•ˆã€å¡å–æ¶ˆ
- **æ‰‹ç‰Œä¸Šé™**: 10 å¼µï¼Œè¶…éæ™‚ç©å®¶è‡ªè¡Œé¸æ“‡è¦ä¸Ÿæ£„å“ªäº›ç‰Œï¼ˆAI è‡ªå‹•ä¸Ÿè©•åˆ†æœ€ä½çš„ï¼‰

---

## MVP ç¯„åœ

### å·²å¯¦ä½œ
- 15 å€‹è§’è‰²ï¼ˆå®Œæ•´ç‰ˆï¼‰
- 9 ç¨®è·æ¥­ï¼ˆå®Œæ•´ç‰ˆï¼šæ™ºåŠ›å‹ 3 ç¨®ã€é«”åŠ›å‹ 3 ç¨®ã€é­…åŠ›å‹ 3 ç¨®ï¼‰
- 30 å›åˆéŠæˆ²ï¼ˆæ ¹æ“šæ¡ŒéŠè¦å‰‡ï¼‰
- 175 å¼µå¡ç‰Œï¼ˆæ ¹æ“šæ¡ŒéŠè¦å‰‡ï¼‰
- 3 å€‹æ¢éšªåœ°é»
- äº‹ä»¶ç³»çµ±ï¼ˆäº‹ä»¶å½ˆçª—é¡¯ç¤ºç›®æ¨™ç©å®¶åç¨±èˆ‡é‡‘é¡ï¼‰
- æœ¬åœ°å¤šäººæ¨¡å¼ï¼ˆæ”¯æ´å‹•æ…‹ 2-4 äººï¼Œå¯è‡ªç”±æ–°å¢/ç§»é™¤äººé¡æˆ– AI ç©å®¶ï¼‰
- ç·šä¸Šå¤šäººæ¨¡å¼ï¼ˆFirebaseï¼‰
- AI é›»è…¦ç©å®¶ï¼ˆç¬¬äºŒéšæ®µè¦å‰‡ AIï¼šå¡ç‰Œè©•åˆ†ç³»çµ±ã€ç­–ç•¥ç›®æ¨™é¸æ“‡ã€å¨è„…åˆ¤æ–·ï¼‰
- è¡Œå‹•è¨˜éŒ„ç³»çµ±ï¼ˆè¨˜éŒ„æ‰€æœ‰ç©å®¶è¡Œå‹•ï¼Œå«å›åˆæ•¸èˆ‡åˆ†é¡ï¼‰
- éäº’å‹•éšæ®µè‡ªå‹•é€²è¡Œï¼ˆç™¼è–ª 800msã€æŠ½ç‰Œ 800msã€äº‹ä»¶è‡ªå‹•æ¨é€²ï¼‰
- æ•¸å€¼è®ŠåŒ–å‹•ç•«
- æˆ¿é–“è‡ªå‹•æ¸…ç†ï¼ˆ24å°æ™‚éæœŸï¼‰
- $20,000 æå‰å‹åˆ©æ¢ä»¶
- å‡é·æ­å–œå½ˆçª—ï¼ˆé¡¯ç¤ºæ–°è·ç¨±èˆ‡è–ªæ°´ç¯„åœï¼‰
- è·æ¥­æ¿é¡¯ç¤ºå‡é·æ¢ä»¶ï¼ˆè‰²å½©æ¨™ç¤ºå·²é”/æœªé”éœ€æ±‚ï¼‰
- æ‰‹ç‰Œæº¢å‡ºæ£„ç‰Œé¸æ“‡ï¼ˆç©å®¶è‡ªé¸è¦ä¸Ÿçš„ç‰Œï¼ŒAI è‡ªå‹•ä¸Ÿæœ€ä½åˆ†ç‰Œï¼‰
- æˆå°±ç³»çµ±ï¼ˆé–€æª»æˆå°± + å”¯ä¸€æˆå°±ï¼Œçµç®—ç•«é¢é¡¯ç¤ºæˆå°±æ¨™ç±¤èˆ‡åŠ æˆåˆ†æ•¸ï¼‰
- ç‰ˆæœ¬æ›´æ–°ç´€éŒ„ï¼ˆé¦–é æ”¶åˆå€å¡Šï¼Œ`<details>/<summary>` åŸç”Ÿæ”¶åˆï¼‰

### æš«ä¸åŒ…å«
- å©šå§»ç³»çµ±
- å•†å“å€è³¼ç‰©
- æ‹è³£ç³»çµ±
- æ¢éšªå¡ï¼ˆ40 å¼µç¨ç«‹æ¢éšªå¡ï¼‰
- éŸ³æ•ˆç³»çµ±

---

## å¸¸ç”¨æŒ‡ä»¤

```bash
npm run dev      # å•Ÿå‹•é–‹ç™¼ä¼ºæœå™¨
npm run build    # å»ºç½®ç”Ÿç”¢ç‰ˆæœ¬
npm run lint     # ç¨‹å¼ç¢¼æª¢æŸ¥
npm run deploy   # éƒ¨ç½²åˆ° GitHub Pages
npm run test     # åŸ·è¡Œæ¸¬è©¦ï¼ˆç›£è½æ¨¡å¼ï¼‰
npm run test:run # åŸ·è¡Œæ¸¬è©¦ï¼ˆå–®æ¬¡ï¼‰
```

---

## éƒ¨ç½²æµç¨‹

1. **æ›´æ–°ç‰ˆæœ¬ç´€éŒ„**ï¼šéƒ¨ç½²å‰å¿…é ˆå…ˆæ›´æ–° `src/data/changelog.ts`ï¼Œæ¯æ¬¡éƒ¨ç½²éƒ½å»ºç«‹æ–°çš„ patch ç‰ˆè™Ÿï¼ˆå¦‚ v1.2.1 â†’ v1.2.2ï¼‰ï¼Œæ–°åŠŸèƒ½æˆ–å¤§æ”¹å‹•æ‰å‡ minor ç‰ˆè™Ÿï¼ˆå¦‚ v1.2.x â†’ v1.3.0ï¼‰
2. åŸ·è¡Œ `npm run deploy`
3. è‡ªå‹•å»ºç½®ä¸¦æ¨é€åˆ° `gh-pages` åˆ†æ”¯
4. è¨ªå• https://johnny-he.github.io/ReLife/

### å¿«å–å•é¡Œ

éƒ¨ç½²å¾Œå¦‚é‡åˆ°èˆŠç‰ˆæœ¬å¿«å–ï¼š
- ä½¿ç”¨ `Cmd + Shift + R` å¼·åˆ¶é‡æ–°æ•´ç†
- æˆ–ä½¿ç”¨ç„¡ç—•æ¨¡å¼æ¸¬è©¦

---

## ç‰ˆæœ¬ç´€éŒ„ç³»çµ±

é¦–é ï¼ˆStartPageï¼‰åº•éƒ¨çš„æ”¶åˆå€å¡Šï¼Œè®“ç©å®¶æŸ¥çœ‹æ¯æ¬¡ç‰ˆæœ¬æ›´æ–°å…§å®¹ã€‚

### æ¶æ§‹

- **è³‡æ–™**ï¼ˆ`data/changelog.ts`ï¼‰ï¼šç´”é™£åˆ—ï¼Œç”±æ–°åˆ°èˆŠæ’åˆ—ï¼Œæ¯ç­†å« `version`ã€`date`ã€`changes`
- **UI**ï¼ˆ`pages/StartPage.tsx`ï¼‰ï¼šä½¿ç”¨ `<details>/<summary>` åŸç”Ÿæ”¶åˆï¼Œé è¨­æ”¶åˆ

### æ–°å¢ç‰ˆæœ¬

åœ¨ `changelog` é™£åˆ—æœ€å‰é¢æ–°å¢ä¸€ç­†å³å¯ï¼Œä¸éœ€æ”¹å…¶ä»–æª”æ¡ˆï¼š

```typescript
export const changelog = [
  { version: 'v1.2.1', date: '2026-02-08', changes: ['ä¿®å¾©æŸæŸå•é¡Œ'] },
  // ... èˆŠç‰ˆæœ¬
]
```

### ç‰ˆè™Ÿè¦å‰‡

- **patch**ï¼ˆv1.2.0 â†’ v1.2.1ï¼‰ï¼šæ¯æ¬¡éƒ¨ç½²
- **minor**ï¼ˆv1.2.x â†’ v1.3.0ï¼‰ï¼šæ–°åŠŸèƒ½æˆ–å¤§æ”¹å‹•

---

## æ¸¬è©¦ç­–ç•¥

### å–®å…ƒæ¸¬è©¦ï¼ˆVitestï¼‰

Engine Layer çš„ç´”å‡½æ•¸æ¸¬è©¦ï¼Œå…± 170 å€‹æ¸¬è©¦æ¡ˆä¾‹ï¼š

| æª”æ¡ˆ | æ¸¬è©¦æ•¸ | æ¶µè“‹åŠŸèƒ½ |
|------|--------|----------|
| `calculator.test.ts` | 35 | åˆ†æ•¸è¨ˆç®—ã€é‡‘éŒ¢/å±¬æ€§è®ŠåŒ–ã€ç©å®¶æŸ¥è©¢ã€å‹åˆ©æ¢ä»¶ã€æˆå°±åˆ¤å®š |
| `jobSystem.test.ts` | 27 | æ‡‰å¾µã€é›¢è·ã€å‡é·ã€è–ªæ°´ã€è·æ¥­æŠ€èƒ½ |
| `cardEffects.test.ts` | 25 | å¡ç‰Œä½¿ç”¨æª¢æŸ¥ã€æ•ˆæœå¥—ç”¨ã€ç‰¹æ®Šæ•ˆæœï¼ˆpark_bad/goodã€æ‡‰é…¬ã€å·ç¡è¦ºï¼‰ |
| `gameLogic.test.ts` | 45 | å›åˆæµç¨‹ã€æŠ½ç‰Œã€æ£„ç‰Œã€æº¢å‡ºåµæ¸¬ã€äº‹ä»¶æ•ˆæœï¼ˆ7 ç¨®ç‰¹æ®Šäº‹ä»¶ + ä¸€èˆ¬æ•ˆæœï¼‰ |
| `aiPlayer.test.ts` | 38 | AI å¡ç‰Œè©•åˆ†ã€å±¬æ€§é¸æ“‡ã€åŠ æ¬Šæ¢éšªã€ç­–ç•¥ç›®æ¨™é¸æ“‡ã€å¨è„…åˆ¤æ–·ã€æ£„ç‰Œæ±ºç­– |

### æ¸¬è©¦å‘½åè¦ç¯„

ä½¿ç”¨ snake_case æè¿°æ¸¬è©¦æƒ…å¢ƒï¼š

```typescript
it('should_return_true_when_stats_meet_requirement', () => { ... })
it('should_not_go_below_zero', () => { ... })
```

### æ¸¬è©¦çµæ§‹

```typescript
// Arrange
const player = createMockPlayer({ money: 1000 })

// Act
const updated = changeMoney(player, -500)

// Assert
expect(updated.money).toBe(500)
```

### å…¶ä»–æ¸¬è©¦æ–¹å¼

1. **æ‰‹å‹•æ¸¬è©¦**: å®Œæ•´ç©ä¸€å ´ 10 å›åˆéŠæˆ²
2. **ç·šä¸Šæ¸¬è©¦**: å¤šå€‹ç€è¦½å™¨è¦–çª—æ¸¬è©¦åŒæ­¥åŠŸèƒ½
3. **é‚Šç•Œæ¸¬è©¦**: é‡‘éŒ¢ä¸è¶³ã€æ‰‹ç‰Œä¸Šé™ç­‰æƒ…æ³

---

## æœªä¾†æ“´å±•

1. AI ç¬¬ä¸‰éšæ®µï¼šå€‹æ€§ AIï¼ˆæ”»æ“Šå‹/é˜²ç¦¦å‹/å¹³è¡¡å‹ä¸åŒç­–ç•¥ï¼‰
2. åŠ å…¥å©šå§»ç³»çµ±
3. åŠ å…¥å•†å“å€è³¼ç‰©
4. åŠ å…¥éŸ³æ•ˆç³»çµ±ï¼ˆé‡‘éŒ¢è®ŠåŒ–ã€å›åˆæç¤ºç­‰ï¼‰
5. å„ªåŒ– UI/UXï¼ˆæ‹–æ›³å‡ºç‰Œã€å‹•ç•«æ•ˆæœï¼‰
6. åŠ å…¥ Firebase Authenticationï¼ˆå¯é¸ï¼‰

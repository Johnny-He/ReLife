(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const c of document.querySelectorAll('link[rel="modulepreload"]'))s(c);new MutationObserver(c=>{for(const f of c)if(f.type==="childList")for(const d of f.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&s(d)}).observe(document,{childList:!0,subtree:!0});function a(c){const f={};return c.integrity&&(f.integrity=c.integrity),c.referrerPolicy&&(f.referrerPolicy=c.referrerPolicy),c.crossOrigin==="use-credentials"?f.credentials="include":c.crossOrigin==="anonymous"?f.credentials="omit":f.credentials="same-origin",f}function s(c){if(c.ep)return;c.ep=!0;const f=a(c);fetch(c.href,f)}})();function Yb(l){return l&&l.__esModule&&Object.prototype.hasOwnProperty.call(l,"default")?l.default:l}var Bu={exports:{}},qa={};var pp;function Vb(){if(pp)return qa;pp=1;var l=Symbol.for("react.transitional.element"),n=Symbol.for("react.fragment");function a(s,c,f){var d=null;if(f!==void 0&&(d=""+f),c.key!==void 0&&(d=""+c.key),"key"in c){f={};for(var m in c)m!=="key"&&(f[m]=c[m])}else f=c;return c=f.ref,{$$typeof:l,type:s,key:d,ref:c!==void 0?c:null,props:f}}return qa.Fragment=n,qa.jsx=a,qa.jsxs=a,qa}var yp;function Qb(){return yp||(yp=1,Bu.exports=Vb()),Bu.exports}var y=Qb(),ku={exports:{}},ne={};var _p;function Xb(){if(_p)return ne;_p=1;var l=Symbol.for("react.transitional.element"),n=Symbol.for("react.portal"),a=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),c=Symbol.for("react.profiler"),f=Symbol.for("react.consumer"),d=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),S=Symbol.for("react.lazy"),v=Symbol.for("react.activity"),b=Symbol.iterator;function M(C){return C===null||typeof C!="object"?null:(C=b&&C[b]||C["@@iterator"],typeof C=="function"?C:null)}var j={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},H=Object.assign,Y={};function U(C,L,V){this.props=C,this.context=L,this.refs=Y,this.updater=V||j}U.prototype.isReactComponent={},U.prototype.setState=function(C,L){if(typeof C!="object"&&typeof C!="function"&&C!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,C,L,"setState")},U.prototype.forceUpdate=function(C){this.updater.enqueueForceUpdate(this,C,"forceUpdate")};function k(){}k.prototype=U.prototype;function X(C,L,V){this.props=C,this.context=L,this.refs=Y,this.updater=V||j}var ee=X.prototype=new k;ee.constructor=X,H(ee,U.prototype),ee.isPureReactComponent=!0;var ye=Array.isArray;function oe(){}var q={H:null,A:null,T:null,S:null},te=Object.prototype.hasOwnProperty;function W(C,L,V){var P=V.ref;return{$$typeof:l,type:C,key:L,ref:P!==void 0?P:null,props:V}}function mt(C,L){return W(C.type,L,C.props)}function st(C){return typeof C=="object"&&C!==null&&C.$$typeof===l}function me(C){var L={"=":"=0",":":"=2"};return"$"+C.replace(/[=:]/g,function(V){return L[V]})}var et=/\/+/g;function gt(C,L){return typeof C=="object"&&C!==null&&C.key!=null?me(""+C.key):L.toString(36)}function tt(C){switch(C.status){case"fulfilled":return C.value;case"rejected":throw C.reason;default:switch(typeof C.status=="string"?C.then(oe,oe):(C.status="pending",C.then(function(L){C.status==="pending"&&(C.status="fulfilled",C.value=L)},function(L){C.status==="pending"&&(C.status="rejected",C.reason=L)})),C.status){case"fulfilled":return C.value;case"rejected":throw C.reason}}throw C}function O(C,L,V,P,ie){var ue=typeof C;(ue==="undefined"||ue==="boolean")&&(C=null);var Ee=!1;if(C===null)Ee=!0;else switch(ue){case"bigint":case"string":case"number":Ee=!0;break;case"object":switch(C.$$typeof){case l:case n:Ee=!0;break;case S:return Ee=C._init,O(Ee(C._payload),L,V,P,ie)}}if(Ee)return ie=ie(C),Ee=P===""?"."+gt(C,0):P,ye(ie)?(V="",Ee!=null&&(V=Ee.replace(et,"$&/")+"/"),O(ie,L,V,"",function(Zl){return Zl})):ie!=null&&(st(ie)&&(ie=mt(ie,V+(ie.key==null||C&&C.key===ie.key?"":(""+ie.key).replace(et,"$&/")+"/")+Ee)),L.push(ie)),1;Ee=0;var yt=P===""?".":P+":";if(ye(C))for(var Ye=0;Ye<C.length;Ye++)P=C[Ye],ue=yt+gt(P,Ye),Ee+=O(P,L,V,ue,ie);else if(Ye=M(C),typeof Ye=="function")for(C=Ye.call(C),Ye=0;!(P=C.next()).done;)P=P.value,ue=yt+gt(P,Ye++),Ee+=O(P,L,V,ue,ie);else if(ue==="object"){if(typeof C.then=="function")return O(tt(C),L,V,P,ie);throw L=String(C),Error("Objects are not valid as a React child (found: "+(L==="[object Object]"?"object with keys {"+Object.keys(C).join(", ")+"}":L)+"). If you meant to render a collection of children, use an array instead.")}return Ee}function G(C,L,V){if(C==null)return C;var P=[],ie=0;return O(C,P,"","",function(ue){return L.call(V,ue,ie++)}),P}function J(C){if(C._status===-1){var L=C._result;L=L(),L.then(function(V){(C._status===0||C._status===-1)&&(C._status=1,C._result=V)},function(V){(C._status===0||C._status===-1)&&(C._status=2,C._result=V)}),C._status===-1&&(C._status=0,C._result=L)}if(C._status===1)return C._result.default;throw C._result}var Ne=typeof reportError=="function"?reportError:function(C){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var L=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof C=="object"&&C!==null&&typeof C.message=="string"?String(C.message):String(C),error:C});if(!window.dispatchEvent(L))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",C);return}console.error(C)},De={map:G,forEach:function(C,L,V){G(C,function(){L.apply(this,arguments)},V)},count:function(C){var L=0;return G(C,function(){L++}),L},toArray:function(C){return G(C,function(L){return L})||[]},only:function(C){if(!st(C))throw Error("React.Children.only expected to receive a single React element child.");return C}};return ne.Activity=v,ne.Children=De,ne.Component=U,ne.Fragment=a,ne.Profiler=c,ne.PureComponent=X,ne.StrictMode=s,ne.Suspense=p,ne.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=q,ne.__COMPILER_RUNTIME={__proto__:null,c:function(C){return q.H.useMemoCache(C)}},ne.cache=function(C){return function(){return C.apply(null,arguments)}},ne.cacheSignal=function(){return null},ne.cloneElement=function(C,L,V){if(C==null)throw Error("The argument must be a React element, but you passed "+C+".");var P=H({},C.props),ie=C.key;if(L!=null)for(ue in L.key!==void 0&&(ie=""+L.key),L)!te.call(L,ue)||ue==="key"||ue==="__self"||ue==="__source"||ue==="ref"&&L.ref===void 0||(P[ue]=L[ue]);var ue=arguments.length-2;if(ue===1)P.children=V;else if(1<ue){for(var Ee=Array(ue),yt=0;yt<ue;yt++)Ee[yt]=arguments[yt+2];P.children=Ee}return W(C.type,ie,P)},ne.createContext=function(C){return C={$$typeof:d,_currentValue:C,_currentValue2:C,_threadCount:0,Provider:null,Consumer:null},C.Provider=C,C.Consumer={$$typeof:f,_context:C},C},ne.createElement=function(C,L,V){var P,ie={},ue=null;if(L!=null)for(P in L.key!==void 0&&(ue=""+L.key),L)te.call(L,P)&&P!=="key"&&P!=="__self"&&P!=="__source"&&(ie[P]=L[P]);var Ee=arguments.length-2;if(Ee===1)ie.children=V;else if(1<Ee){for(var yt=Array(Ee),Ye=0;Ye<Ee;Ye++)yt[Ye]=arguments[Ye+2];ie.children=yt}if(C&&C.defaultProps)for(P in Ee=C.defaultProps,Ee)ie[P]===void 0&&(ie[P]=Ee[P]);return W(C,ue,ie)},ne.createRef=function(){return{current:null}},ne.forwardRef=function(C){return{$$typeof:m,render:C}},ne.isValidElement=st,ne.lazy=function(C){return{$$typeof:S,_payload:{_status:-1,_result:C},_init:J}},ne.memo=function(C,L){return{$$typeof:g,type:C,compare:L===void 0?null:L}},ne.startTransition=function(C){var L=q.T,V={};q.T=V;try{var P=C(),ie=q.S;ie!==null&&ie(V,P),typeof P=="object"&&P!==null&&typeof P.then=="function"&&P.then(oe,Ne)}catch(ue){Ne(ue)}finally{L!==null&&V.types!==null&&(L.types=V.types),q.T=L}},ne.unstable_useCacheRefresh=function(){return q.H.useCacheRefresh()},ne.use=function(C){return q.H.use(C)},ne.useActionState=function(C,L,V){return q.H.useActionState(C,L,V)},ne.useCallback=function(C,L){return q.H.useCallback(C,L)},ne.useContext=function(C){return q.H.useContext(C)},ne.useDebugValue=function(){},ne.useDeferredValue=function(C,L){return q.H.useDeferredValue(C,L)},ne.useEffect=function(C,L){return q.H.useEffect(C,L)},ne.useEffectEvent=function(C){return q.H.useEffectEvent(C)},ne.useId=function(){return q.H.useId()},ne.useImperativeHandle=function(C,L,V){return q.H.useImperativeHandle(C,L,V)},ne.useInsertionEffect=function(C,L){return q.H.useInsertionEffect(C,L)},ne.useLayoutEffect=function(C,L){return q.H.useLayoutEffect(C,L)},ne.useMemo=function(C,L){return q.H.useMemo(C,L)},ne.useOptimistic=function(C,L){return q.H.useOptimistic(C,L)},ne.useReducer=function(C,L,V){return q.H.useReducer(C,L,V)},ne.useRef=function(C){return q.H.useRef(C)},ne.useState=function(C){return q.H.useState(C)},ne.useSyncExternalStore=function(C,L,V){return q.H.useSyncExternalStore(C,L,V)},ne.useTransition=function(){return q.H.useTransition()},ne.version="19.2.4",ne}var vp;function Mf(){return vp||(vp=1,ku.exports=Xb()),ku.exports}var se=Mf();const Br=Yb(se);var qu={exports:{}},Ga={},Gu={exports:{}},Yu={};var bp;function Pb(){return bp||(bp=1,(function(l){function n(O,G){var J=O.length;O.push(G);e:for(;0<J;){var Ne=J-1>>>1,De=O[Ne];if(0<c(De,G))O[Ne]=G,O[J]=De,J=Ne;else break e}}function a(O){return O.length===0?null:O[0]}function s(O){if(O.length===0)return null;var G=O[0],J=O.pop();if(J!==G){O[0]=J;e:for(var Ne=0,De=O.length,C=De>>>1;Ne<C;){var L=2*(Ne+1)-1,V=O[L],P=L+1,ie=O[P];if(0>c(V,J))P<De&&0>c(ie,V)?(O[Ne]=ie,O[P]=J,Ne=P):(O[Ne]=V,O[L]=J,Ne=L);else if(P<De&&0>c(ie,J))O[Ne]=ie,O[P]=J,Ne=P;else break e}}return G}function c(O,G){var J=O.sortIndex-G.sortIndex;return J!==0?J:O.id-G.id}if(l.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var f=performance;l.unstable_now=function(){return f.now()}}else{var d=Date,m=d.now();l.unstable_now=function(){return d.now()-m}}var p=[],g=[],S=1,v=null,b=3,M=!1,j=!1,H=!1,Y=!1,U=typeof setTimeout=="function"?setTimeout:null,k=typeof clearTimeout=="function"?clearTimeout:null,X=typeof setImmediate<"u"?setImmediate:null;function ee(O){for(var G=a(g);G!==null;){if(G.callback===null)s(g);else if(G.startTime<=O)s(g),G.sortIndex=G.expirationTime,n(p,G);else break;G=a(g)}}function ye(O){if(H=!1,ee(O),!j)if(a(p)!==null)j=!0,oe||(oe=!0,me());else{var G=a(g);G!==null&&tt(ye,G.startTime-O)}}var oe=!1,q=-1,te=5,W=-1;function mt(){return Y?!0:!(l.unstable_now()-W<te)}function st(){if(Y=!1,oe){var O=l.unstable_now();W=O;var G=!0;try{e:{j=!1,H&&(H=!1,k(q),q=-1),M=!0;var J=b;try{t:{for(ee(O),v=a(p);v!==null&&!(v.expirationTime>O&&mt());){var Ne=v.callback;if(typeof Ne=="function"){v.callback=null,b=v.priorityLevel;var De=Ne(v.expirationTime<=O);if(O=l.unstable_now(),typeof De=="function"){v.callback=De,ee(O),G=!0;break t}v===a(p)&&s(p),ee(O)}else s(p);v=a(p)}if(v!==null)G=!0;else{var C=a(g);C!==null&&tt(ye,C.startTime-O),G=!1}}break e}finally{v=null,b=J,M=!1}G=void 0}}finally{G?me():oe=!1}}}var me;if(typeof X=="function")me=function(){X(st)};else if(typeof MessageChannel<"u"){var et=new MessageChannel,gt=et.port2;et.port1.onmessage=st,me=function(){gt.postMessage(null)}}else me=function(){U(st,0)};function tt(O,G){q=U(function(){O(l.unstable_now())},G)}l.unstable_IdlePriority=5,l.unstable_ImmediatePriority=1,l.unstable_LowPriority=4,l.unstable_NormalPriority=3,l.unstable_Profiling=null,l.unstable_UserBlockingPriority=2,l.unstable_cancelCallback=function(O){O.callback=null},l.unstable_forceFrameRate=function(O){0>O||125<O?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):te=0<O?Math.floor(1e3/O):5},l.unstable_getCurrentPriorityLevel=function(){return b},l.unstable_next=function(O){switch(b){case 1:case 2:case 3:var G=3;break;default:G=b}var J=b;b=G;try{return O()}finally{b=J}},l.unstable_requestPaint=function(){Y=!0},l.unstable_runWithPriority=function(O,G){switch(O){case 1:case 2:case 3:case 4:case 5:break;default:O=3}var J=b;b=O;try{return G()}finally{b=J}},l.unstable_scheduleCallback=function(O,G,J){var Ne=l.unstable_now();switch(typeof J=="object"&&J!==null?(J=J.delay,J=typeof J=="number"&&0<J?Ne+J:Ne):J=Ne,O){case 1:var De=-1;break;case 2:De=250;break;case 5:De=1073741823;break;case 4:De=1e4;break;default:De=5e3}return De=J+De,O={id:S++,callback:G,priorityLevel:O,startTime:J,expirationTime:De,sortIndex:-1},J>Ne?(O.sortIndex=J,n(g,O),a(p)===null&&O===a(g)&&(H?(k(q),q=-1):H=!0,tt(ye,J-Ne))):(O.sortIndex=De,n(p,O),j||M||(j=!0,oe||(oe=!0,me()))),O},l.unstable_shouldYield=mt,l.unstable_wrapCallback=function(O){var G=b;return function(){var J=b;b=G;try{return O.apply(this,arguments)}finally{b=J}}}})(Yu)),Yu}var Sp;function Zb(){return Sp||(Sp=1,Gu.exports=Pb()),Gu.exports}var Vu={exports:{}},pt={};var xp;function Kb(){if(xp)return pt;xp=1;var l=Mf();function n(p){var g="https://react.dev/errors/"+p;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var S=2;S<arguments.length;S++)g+="&args[]="+encodeURIComponent(arguments[S])}return"Minified React error #"+p+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(){}var s={d:{f:a,r:function(){throw Error(n(522))},D:a,C:a,L:a,m:a,X:a,S:a,M:a},p:0,findDOMNode:null},c=Symbol.for("react.portal");function f(p,g,S){var v=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:c,key:v==null?null:""+v,children:p,containerInfo:g,implementation:S}}var d=l.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function m(p,g){if(p==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return pt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,pt.createPortal=function(p,g){var S=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(n(299));return f(p,g,null,S)},pt.flushSync=function(p){var g=d.T,S=s.p;try{if(d.T=null,s.p=2,p)return p()}finally{d.T=g,s.p=S,s.d.f()}},pt.preconnect=function(p,g){typeof p=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,s.d.C(p,g))},pt.prefetchDNS=function(p){typeof p=="string"&&s.d.D(p)},pt.preinit=function(p,g){if(typeof p=="string"&&g&&typeof g.as=="string"){var S=g.as,v=m(S,g.crossOrigin),b=typeof g.integrity=="string"?g.integrity:void 0,M=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;S==="style"?s.d.S(p,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:v,integrity:b,fetchPriority:M}):S==="script"&&s.d.X(p,{crossOrigin:v,integrity:b,fetchPriority:M,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},pt.preinitModule=function(p,g){if(typeof p=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var S=m(g.as,g.crossOrigin);s.d.M(p,{crossOrigin:S,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&s.d.M(p)},pt.preload=function(p,g){if(typeof p=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var S=g.as,v=m(S,g.crossOrigin);s.d.L(p,S,{crossOrigin:v,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},pt.preloadModule=function(p,g){if(typeof p=="string")if(g){var S=m(g.as,g.crossOrigin);s.d.m(p,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:S,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else s.d.m(p)},pt.requestFormReset=function(p){s.d.r(p)},pt.unstable_batchedUpdates=function(p,g){return p(g)},pt.useFormState=function(p,g,S){return d.H.useFormState(p,g,S)},pt.useFormStatus=function(){return d.H.useHostTransitionStatus()},pt.version="19.2.4",pt}var Ep;function Fb(){if(Ep)return Vu.exports;Ep=1;function l(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(l)}catch(n){console.error(n)}}return l(),Vu.exports=Kb(),Vu.exports}var Cp;function $b(){if(Cp)return Ga;Cp=1;var l=Zb(),n=Mf(),a=Fb();function s(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var i=2;i<arguments.length;i++)t+="&args[]="+encodeURIComponent(arguments[i])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function c(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function f(e){var t=e,i=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,(t.flags&4098)!==0&&(i=t.return),e=t.return;while(e)}return t.tag===3?i:null}function d(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function m(e){if(e.tag===31){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function p(e){if(f(e)!==e)throw Error(s(188))}function g(e){var t=e.alternate;if(!t){if(t=f(e),t===null)throw Error(s(188));return t!==e?null:e}for(var i=e,r=t;;){var o=i.return;if(o===null)break;var u=o.alternate;if(u===null){if(r=o.return,r!==null){i=r;continue}break}if(o.child===u.child){for(u=o.child;u;){if(u===i)return p(o),e;if(u===r)return p(o),t;u=u.sibling}throw Error(s(188))}if(i.return!==r.return)i=o,r=u;else{for(var h=!1,_=o.child;_;){if(_===i){h=!0,i=o,r=u;break}if(_===r){h=!0,r=o,i=u;break}_=_.sibling}if(!h){for(_=u.child;_;){if(_===i){h=!0,i=u,r=o;break}if(_===r){h=!0,r=u,i=o;break}_=_.sibling}if(!h)throw Error(s(189))}}if(i.alternate!==r)throw Error(s(190))}if(i.tag!==3)throw Error(s(188));return i.stateNode.current===i?e:t}function S(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e;for(e=e.child;e!==null;){if(t=S(e),t!==null)return t;e=e.sibling}return null}var v=Object.assign,b=Symbol.for("react.element"),M=Symbol.for("react.transitional.element"),j=Symbol.for("react.portal"),H=Symbol.for("react.fragment"),Y=Symbol.for("react.strict_mode"),U=Symbol.for("react.profiler"),k=Symbol.for("react.consumer"),X=Symbol.for("react.context"),ee=Symbol.for("react.forward_ref"),ye=Symbol.for("react.suspense"),oe=Symbol.for("react.suspense_list"),q=Symbol.for("react.memo"),te=Symbol.for("react.lazy"),W=Symbol.for("react.activity"),mt=Symbol.for("react.memo_cache_sentinel"),st=Symbol.iterator;function me(e){return e===null||typeof e!="object"?null:(e=st&&e[st]||e["@@iterator"],typeof e=="function"?e:null)}var et=Symbol.for("react.client.reference");function gt(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===et?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case H:return"Fragment";case U:return"Profiler";case Y:return"StrictMode";case ye:return"Suspense";case oe:return"SuspenseList";case W:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case j:return"Portal";case X:return e.displayName||"Context";case k:return(e._context.displayName||"Context")+".Consumer";case ee:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case q:return t=e.displayName||null,t!==null?t:gt(e.type)||"Memo";case te:t=e._payload,e=e._init;try{return gt(e(t))}catch{}}return null}var tt=Array.isArray,O=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,G=a.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,J={pending:!1,data:null,method:null,action:null},Ne=[],De=-1;function C(e){return{current:e}}function L(e){0>De||(e.current=Ne[De],Ne[De]=null,De--)}function V(e,t){De++,Ne[De]=e.current,e.current=t}var P=C(null),ie=C(null),ue=C(null),Ee=C(null);function yt(e,t){switch(V(ue,t),V(ie,e),V(P,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?Bg(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)t=Bg(t),e=kg(t,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}L(P),V(P,e)}function Ye(){L(P),L(ie),L(ue)}function Zl(e){e.memoizedState!==null&&V(Ee,e);var t=P.current,i=kg(t,e.type);t!==i&&(V(ie,e),V(P,i))}function Ss(e){ie.current===e&&(L(P),L(ie)),Ee.current===e&&(L(Ee),Ua._currentValue=J)}var bc,gd;function _i(e){if(bc===void 0)try{throw Error()}catch(i){var t=i.stack.trim().match(/\n( *(at )?)/);bc=t&&t[1]||"",gd=-1<i.stack.indexOf(`
    at`)?" (<anonymous>)":-1<i.stack.indexOf("@")?"@unknown:0:0":""}return`
`+bc+e+gd}var Sc=!1;function xc(e,t){if(!e||Sc)return"";Sc=!0;var i=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var r={DetermineComponentFrameRoot:function(){try{if(t){var I=function(){throw Error()};if(Object.defineProperty(I.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(I,[])}catch(R){var A=R}Reflect.construct(e,[],I)}else{try{I.call()}catch(R){A=R}e.call(I.prototype)}}else{try{throw Error()}catch(R){A=R}(I=e())&&typeof I.catch=="function"&&I.catch(function(){})}}catch(R){if(R&&A&&typeof R.stack=="string")return[R.stack,A.stack]}return[null,null]}};r.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var o=Object.getOwnPropertyDescriptor(r.DetermineComponentFrameRoot,"name");o&&o.configurable&&Object.defineProperty(r.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var u=r.DetermineComponentFrameRoot(),h=u[0],_=u[1];if(h&&_){var x=h.split(`
`),w=_.split(`
`);for(o=r=0;r<x.length&&!x[r].includes("DetermineComponentFrameRoot");)r++;for(;o<w.length&&!w[o].includes("DetermineComponentFrameRoot");)o++;if(r===x.length||o===w.length)for(r=x.length-1,o=w.length-1;1<=r&&0<=o&&x[r]!==w[o];)o--;for(;1<=r&&0<=o;r--,o--)if(x[r]!==w[o]){if(r!==1||o!==1)do if(r--,o--,0>o||x[r]!==w[o]){var D=`
`+x[r].replace(" at new "," at ");return e.displayName&&D.includes("<anonymous>")&&(D=D.replace("<anonymous>",e.displayName)),D}while(1<=r&&0<=o);break}}}finally{Sc=!1,Error.prepareStackTrace=i}return(i=e?e.displayName||e.name:"")?_i(i):""}function b0(e,t){switch(e.tag){case 26:case 27:case 5:return _i(e.type);case 16:return _i("Lazy");case 13:return e.child!==t&&t!==null?_i("Suspense Fallback"):_i("Suspense");case 19:return _i("SuspenseList");case 0:case 15:return xc(e.type,!1);case 11:return xc(e.type.render,!1);case 1:return xc(e.type,!0);case 31:return _i("Activity");default:return""}}function pd(e){try{var t="",i=null;do t+=b0(e,i),i=e,e=e.return;while(e);return t}catch(r){return`
Error generating stack: `+r.message+`
`+r.stack}}var Ec=Object.prototype.hasOwnProperty,Cc=l.unstable_scheduleCallback,Tc=l.unstable_cancelCallback,S0=l.unstable_shouldYield,x0=l.unstable_requestPaint,Mt=l.unstable_now,E0=l.unstable_getCurrentPriorityLevel,yd=l.unstable_ImmediatePriority,_d=l.unstable_UserBlockingPriority,xs=l.unstable_NormalPriority,C0=l.unstable_LowPriority,vd=l.unstable_IdlePriority,T0=l.log,N0=l.unstable_setDisableYieldValue,Kl=null,Dt=null;function Un(e){if(typeof T0=="function"&&N0(e),Dt&&typeof Dt.setStrictMode=="function")try{Dt.setStrictMode(Kl,e)}catch{}}var Ot=Math.clz32?Math.clz32:R0,w0=Math.log,A0=Math.LN2;function R0(e){return e>>>=0,e===0?32:31-(w0(e)/A0|0)|0}var Es=256,Cs=262144,Ts=4194304;function vi(e){var t=e&42;if(t!==0)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function Ns(e,t,i){var r=e.pendingLanes;if(r===0)return 0;var o=0,u=e.suspendedLanes,h=e.pingedLanes;e=e.warmLanes;var _=r&134217727;return _!==0?(r=_&~u,r!==0?o=vi(r):(h&=_,h!==0?o=vi(h):i||(i=_&~e,i!==0&&(o=vi(i))))):(_=r&~u,_!==0?o=vi(_):h!==0?o=vi(h):i||(i=r&~e,i!==0&&(o=vi(i)))),o===0?0:t!==0&&t!==o&&(t&u)===0&&(u=o&-o,i=t&-t,u>=i||u===32&&(i&4194048)!==0)?t:o}function Fl(e,t){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)===0}function M0(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function bd(){var e=Ts;return Ts<<=1,(Ts&62914560)===0&&(Ts=4194304),e}function Nc(e){for(var t=[],i=0;31>i;i++)t.push(e);return t}function $l(e,t){e.pendingLanes|=t,t!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function D0(e,t,i,r,o,u){var h=e.pendingLanes;e.pendingLanes=i,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=i,e.entangledLanes&=i,e.errorRecoveryDisabledLanes&=i,e.shellSuspendCounter=0;var _=e.entanglements,x=e.expirationTimes,w=e.hiddenUpdates;for(i=h&~i;0<i;){var D=31-Ot(i),I=1<<D;_[D]=0,x[D]=-1;var A=w[D];if(A!==null)for(w[D]=null,D=0;D<A.length;D++){var R=A[D];R!==null&&(R.lane&=-536870913)}i&=~I}r!==0&&Sd(e,r,0),u!==0&&o===0&&e.tag!==0&&(e.suspendedLanes|=u&~(h&~t))}function Sd(e,t,i){e.pendingLanes|=t,e.suspendedLanes&=~t;var r=31-Ot(t);e.entangledLanes|=t,e.entanglements[r]=e.entanglements[r]|1073741824|i&261930}function xd(e,t){var i=e.entangledLanes|=t;for(e=e.entanglements;i;){var r=31-Ot(i),o=1<<r;o&t|e[r]&t&&(e[r]|=t),i&=~o}}function Ed(e,t){var i=t&-t;return i=(i&42)!==0?1:wc(i),(i&(e.suspendedLanes|t))!==0?0:i}function wc(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Ac(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function Cd(){var e=G.p;return e!==0?e:(e=window.event,e===void 0?32:op(e.type))}function Td(e,t){var i=G.p;try{return G.p=e,t()}finally{G.p=i}}var Hn=Math.random().toString(36).slice(2),rt="__reactFiber$"+Hn,St="__reactProps$"+Hn,Xi="__reactContainer$"+Hn,Rc="__reactEvents$"+Hn,O0="__reactListeners$"+Hn,j0="__reactHandles$"+Hn,Nd="__reactResources$"+Hn,Jl="__reactMarker$"+Hn;function Mc(e){delete e[rt],delete e[St],delete e[Rc],delete e[O0],delete e[j0]}function Pi(e){var t=e[rt];if(t)return t;for(var i=e.parentNode;i;){if(t=i[Xi]||i[rt]){if(i=t.alternate,t.child!==null||i!==null&&i.child!==null)for(e=Pg(e);e!==null;){if(i=e[rt])return i;e=Pg(e)}return t}e=i,i=e.parentNode}return null}function Zi(e){if(e=e[rt]||e[Xi]){var t=e.tag;if(t===5||t===6||t===13||t===31||t===26||t===27||t===3)return e}return null}function Wl(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e.stateNode;throw Error(s(33))}function Ki(e){var t=e[Nd];return t||(t=e[Nd]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function nt(e){e[Jl]=!0}var wd=new Set,Ad={};function bi(e,t){Fi(e,t),Fi(e+"Capture",t)}function Fi(e,t){for(Ad[e]=t,e=0;e<t.length;e++)wd.add(t[e])}var z0=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Rd={},Md={};function I0(e){return Ec.call(Md,e)?!0:Ec.call(Rd,e)?!1:z0.test(e)?Md[e]=!0:(Rd[e]=!0,!1)}function ws(e,t,i){if(I0(t))if(i===null)e.removeAttribute(t);else{switch(typeof i){case"undefined":case"function":case"symbol":e.removeAttribute(t);return;case"boolean":var r=t.toLowerCase().slice(0,5);if(r!=="data-"&&r!=="aria-"){e.removeAttribute(t);return}}e.setAttribute(t,""+i)}}function As(e,t,i){if(i===null)e.removeAttribute(t);else{switch(typeof i){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(t);return}e.setAttribute(t,""+i)}}function hn(e,t,i,r){if(r===null)e.removeAttribute(i);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(i);return}e.setAttributeNS(t,i,""+r)}}function Gt(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Dd(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function L0(e,t,i){var r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t);if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var o=r.get,u=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return o.call(this)},set:function(h){i=""+h,u.call(this,h)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return i},setValue:function(h){i=""+h},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Dc(e){if(!e._valueTracker){var t=Dd(e)?"checked":"value";e._valueTracker=L0(e,t,""+e[t])}}function Od(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var i=t.getValue(),r="";return e&&(r=Dd(e)?e.checked?"true":"false":e.value),e=r,e!==i?(t.setValue(e),!0):!1}function Rs(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var U0=/[\n"\\]/g;function Yt(e){return e.replace(U0,function(t){return"\\"+t.charCodeAt(0).toString(16)+" "})}function Oc(e,t,i,r,o,u,h,_){e.name="",h!=null&&typeof h!="function"&&typeof h!="symbol"&&typeof h!="boolean"?e.type=h:e.removeAttribute("type"),t!=null?h==="number"?(t===0&&e.value===""||e.value!=t)&&(e.value=""+Gt(t)):e.value!==""+Gt(t)&&(e.value=""+Gt(t)):h!=="submit"&&h!=="reset"||e.removeAttribute("value"),t!=null?jc(e,h,Gt(t)):i!=null?jc(e,h,Gt(i)):r!=null&&e.removeAttribute("value"),o==null&&u!=null&&(e.defaultChecked=!!u),o!=null&&(e.checked=o&&typeof o!="function"&&typeof o!="symbol"),_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"?e.name=""+Gt(_):e.removeAttribute("name")}function jd(e,t,i,r,o,u,h,_){if(u!=null&&typeof u!="function"&&typeof u!="symbol"&&typeof u!="boolean"&&(e.type=u),t!=null||i!=null){if(!(u!=="submit"&&u!=="reset"||t!=null)){Dc(e);return}i=i!=null?""+Gt(i):"",t=t!=null?""+Gt(t):i,_||t===e.value||(e.value=t),e.defaultValue=t}r=r??o,r=typeof r!="function"&&typeof r!="symbol"&&!!r,e.checked=_?e.checked:!!r,e.defaultChecked=!!r,h!=null&&typeof h!="function"&&typeof h!="symbol"&&typeof h!="boolean"&&(e.name=h),Dc(e)}function jc(e,t,i){t==="number"&&Rs(e.ownerDocument)===e||e.defaultValue===""+i||(e.defaultValue=""+i)}function $i(e,t,i,r){if(e=e.options,t){t={};for(var o=0;o<i.length;o++)t["$"+i[o]]=!0;for(i=0;i<e.length;i++)o=t.hasOwnProperty("$"+e[i].value),e[i].selected!==o&&(e[i].selected=o),o&&r&&(e[i].defaultSelected=!0)}else{for(i=""+Gt(i),t=null,o=0;o<e.length;o++){if(e[o].value===i){e[o].selected=!0,r&&(e[o].defaultSelected=!0);return}t!==null||e[o].disabled||(t=e[o])}t!==null&&(t.selected=!0)}}function zd(e,t,i){if(t!=null&&(t=""+Gt(t),t!==e.value&&(e.value=t),i==null)){e.defaultValue!==t&&(e.defaultValue=t);return}e.defaultValue=i!=null?""+Gt(i):""}function Id(e,t,i,r){if(t==null){if(r!=null){if(i!=null)throw Error(s(92));if(tt(r)){if(1<r.length)throw Error(s(93));r=r[0]}i=r}i==null&&(i=""),t=i}i=Gt(t),e.defaultValue=i,r=e.textContent,r===i&&r!==""&&r!==null&&(e.value=r),Dc(e)}function Ji(e,t){if(t){var i=e.firstChild;if(i&&i===e.lastChild&&i.nodeType===3){i.nodeValue=t;return}}e.textContent=t}var H0=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Ld(e,t,i){var r=t.indexOf("--")===0;i==null||typeof i=="boolean"||i===""?r?e.setProperty(t,""):t==="float"?e.cssFloat="":e[t]="":r?e.setProperty(t,i):typeof i!="number"||i===0||H0.has(t)?t==="float"?e.cssFloat=i:e[t]=(""+i).trim():e[t]=i+"px"}function Ud(e,t,i){if(t!=null&&typeof t!="object")throw Error(s(62));if(e=e.style,i!=null){for(var r in i)!i.hasOwnProperty(r)||t!=null&&t.hasOwnProperty(r)||(r.indexOf("--")===0?e.setProperty(r,""):r==="float"?e.cssFloat="":e[r]="");for(var o in t)r=t[o],t.hasOwnProperty(o)&&i[o]!==r&&Ld(e,o,r)}else for(var u in t)t.hasOwnProperty(u)&&Ld(e,u,t[u])}function zc(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var B0=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),k0=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Ms(e){return k0.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function mn(){}var Ic=null;function Lc(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Wi=null,el=null;function Hd(e){var t=Zi(e);if(t&&(e=t.stateNode)){var i=e[St]||null;e:switch(e=t.stateNode,t.type){case"input":if(Oc(e,i.value,i.defaultValue,i.defaultValue,i.checked,i.defaultChecked,i.type,i.name),t=i.name,i.type==="radio"&&t!=null){for(i=e;i.parentNode;)i=i.parentNode;for(i=i.querySelectorAll('input[name="'+Yt(""+t)+'"][type="radio"]'),t=0;t<i.length;t++){var r=i[t];if(r!==e&&r.form===e.form){var o=r[St]||null;if(!o)throw Error(s(90));Oc(r,o.value,o.defaultValue,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name)}}for(t=0;t<i.length;t++)r=i[t],r.form===e.form&&Od(r)}break e;case"textarea":zd(e,i.value,i.defaultValue);break e;case"select":t=i.value,t!=null&&$i(e,!!i.multiple,t,!1)}}}var Uc=!1;function Bd(e,t,i){if(Uc)return e(t,i);Uc=!0;try{var r=e(t);return r}finally{if(Uc=!1,(Wi!==null||el!==null)&&(yr(),Wi&&(t=Wi,e=el,el=Wi=null,Hd(t),e)))for(t=0;t<e.length;t++)Hd(e[t])}}function ea(e,t){var i=e.stateNode;if(i===null)return null;var r=i[St]||null;if(r===null)return null;i=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(i&&typeof i!="function")throw Error(s(231,t,typeof i));return i}var gn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Hc=!1;if(gn)try{var ta={};Object.defineProperty(ta,"passive",{get:function(){Hc=!0}}),window.addEventListener("test",ta,ta),window.removeEventListener("test",ta,ta)}catch{Hc=!1}var Bn=null,Bc=null,Ds=null;function kd(){if(Ds)return Ds;var e,t=Bc,i=t.length,r,o="value"in Bn?Bn.value:Bn.textContent,u=o.length;for(e=0;e<i&&t[e]===o[e];e++);var h=i-e;for(r=1;r<=h&&t[i-r]===o[u-r];r++);return Ds=o.slice(e,1<r?1-r:void 0)}function Os(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function js(){return!0}function qd(){return!1}function xt(e){function t(i,r,o,u,h){this._reactName=i,this._targetInst=o,this.type=r,this.nativeEvent=u,this.target=h,this.currentTarget=null;for(var _ in e)e.hasOwnProperty(_)&&(i=e[_],this[_]=i?i(u):u[_]);return this.isDefaultPrevented=(u.defaultPrevented!=null?u.defaultPrevented:u.returnValue===!1)?js:qd,this.isPropagationStopped=qd,this}return v(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var i=this.nativeEvent;i&&(i.preventDefault?i.preventDefault():typeof i.returnValue!="unknown"&&(i.returnValue=!1),this.isDefaultPrevented=js)},stopPropagation:function(){var i=this.nativeEvent;i&&(i.stopPropagation?i.stopPropagation():typeof i.cancelBubble!="unknown"&&(i.cancelBubble=!0),this.isPropagationStopped=js)},persist:function(){},isPersistent:js}),t}var Si={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},zs=xt(Si),na=v({},Si,{view:0,detail:0}),q0=xt(na),kc,qc,ia,Is=v({},na,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Yc,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ia&&(ia&&e.type==="mousemove"?(kc=e.screenX-ia.screenX,qc=e.screenY-ia.screenY):qc=kc=0,ia=e),kc)},movementY:function(e){return"movementY"in e?e.movementY:qc}}),Gd=xt(Is),G0=v({},Is,{dataTransfer:0}),Y0=xt(G0),V0=v({},na,{relatedTarget:0}),Gc=xt(V0),Q0=v({},Si,{animationName:0,elapsedTime:0,pseudoElement:0}),X0=xt(Q0),P0=v({},Si,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Z0=xt(P0),K0=v({},Si,{data:0}),Yd=xt(K0),F0={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},$0={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},J0={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function W0(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=J0[e])?!!t[e]:!1}function Yc(){return W0}var ev=v({},na,{key:function(e){if(e.key){var t=F0[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Os(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?$0[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Yc,charCode:function(e){return e.type==="keypress"?Os(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Os(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),tv=xt(ev),nv=v({},Is,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Vd=xt(nv),iv=v({},na,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Yc}),lv=xt(iv),av=v({},Si,{propertyName:0,elapsedTime:0,pseudoElement:0}),sv=xt(av),rv=v({},Is,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),cv=xt(rv),ov=v({},Si,{newState:0,oldState:0}),uv=xt(ov),fv=[9,13,27,32],Vc=gn&&"CompositionEvent"in window,la=null;gn&&"documentMode"in document&&(la=document.documentMode);var dv=gn&&"TextEvent"in window&&!la,Qd=gn&&(!Vc||la&&8<la&&11>=la),Xd=" ",Pd=!1;function Zd(e,t){switch(e){case"keyup":return fv.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Kd(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var tl=!1;function hv(e,t){switch(e){case"compositionend":return Kd(t);case"keypress":return t.which!==32?null:(Pd=!0,Xd);case"textInput":return e=t.data,e===Xd&&Pd?null:e;default:return null}}function mv(e,t){if(tl)return e==="compositionend"||!Vc&&Zd(e,t)?(e=kd(),Ds=Bc=Bn=null,tl=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Qd&&t.locale!=="ko"?null:t.data;default:return null}}var gv={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Fd(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!gv[e.type]:t==="textarea"}function $d(e,t,i,r){Wi?el?el.push(r):el=[r]:Wi=r,t=Cr(t,"onChange"),0<t.length&&(i=new zs("onChange","change",null,i,r),e.push({event:i,listeners:t}))}var aa=null,sa=null;function pv(e){jg(e,0)}function Ls(e){var t=Wl(e);if(Od(t))return e}function Jd(e,t){if(e==="change")return t}var Wd=!1;if(gn){var Qc;if(gn){var Xc="oninput"in document;if(!Xc){var eh=document.createElement("div");eh.setAttribute("oninput","return;"),Xc=typeof eh.oninput=="function"}Qc=Xc}else Qc=!1;Wd=Qc&&(!document.documentMode||9<document.documentMode)}function th(){aa&&(aa.detachEvent("onpropertychange",nh),sa=aa=null)}function nh(e){if(e.propertyName==="value"&&Ls(sa)){var t=[];$d(t,sa,e,Lc(e)),Bd(pv,t)}}function yv(e,t,i){e==="focusin"?(th(),aa=t,sa=i,aa.attachEvent("onpropertychange",nh)):e==="focusout"&&th()}function _v(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Ls(sa)}function vv(e,t){if(e==="click")return Ls(t)}function bv(e,t){if(e==="input"||e==="change")return Ls(t)}function Sv(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var jt=typeof Object.is=="function"?Object.is:Sv;function ra(e,t){if(jt(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var i=Object.keys(e),r=Object.keys(t);if(i.length!==r.length)return!1;for(r=0;r<i.length;r++){var o=i[r];if(!Ec.call(t,o)||!jt(e[o],t[o]))return!1}return!0}function ih(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function lh(e,t){var i=ih(e);e=0;for(var r;i;){if(i.nodeType===3){if(r=e+i.textContent.length,e<=t&&r>=t)return{node:i,offset:t-e};e=r}e:{for(;i;){if(i.nextSibling){i=i.nextSibling;break e}i=i.parentNode}i=void 0}i=ih(i)}}function ah(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?ah(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function sh(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var t=Rs(e.document);t instanceof e.HTMLIFrameElement;){try{var i=typeof t.contentWindow.location.href=="string"}catch{i=!1}if(i)e=t.contentWindow;else break;t=Rs(e.document)}return t}function Pc(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}var xv=gn&&"documentMode"in document&&11>=document.documentMode,nl=null,Zc=null,ca=null,Kc=!1;function rh(e,t,i){var r=i.window===i?i.document:i.nodeType===9?i:i.ownerDocument;Kc||nl==null||nl!==Rs(r)||(r=nl,"selectionStart"in r&&Pc(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),ca&&ra(ca,r)||(ca=r,r=Cr(Zc,"onSelect"),0<r.length&&(t=new zs("onSelect","select",null,t,i),e.push({event:t,listeners:r}),t.target=nl)))}function xi(e,t){var i={};return i[e.toLowerCase()]=t.toLowerCase(),i["Webkit"+e]="webkit"+t,i["Moz"+e]="moz"+t,i}var il={animationend:xi("Animation","AnimationEnd"),animationiteration:xi("Animation","AnimationIteration"),animationstart:xi("Animation","AnimationStart"),transitionrun:xi("Transition","TransitionRun"),transitionstart:xi("Transition","TransitionStart"),transitioncancel:xi("Transition","TransitionCancel"),transitionend:xi("Transition","TransitionEnd")},Fc={},ch={};gn&&(ch=document.createElement("div").style,"AnimationEvent"in window||(delete il.animationend.animation,delete il.animationiteration.animation,delete il.animationstart.animation),"TransitionEvent"in window||delete il.transitionend.transition);function Ei(e){if(Fc[e])return Fc[e];if(!il[e])return e;var t=il[e],i;for(i in t)if(t.hasOwnProperty(i)&&i in ch)return Fc[e]=t[i];return e}var oh=Ei("animationend"),uh=Ei("animationiteration"),fh=Ei("animationstart"),Ev=Ei("transitionrun"),Cv=Ei("transitionstart"),Tv=Ei("transitioncancel"),dh=Ei("transitionend"),hh=new Map,$c="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");$c.push("scrollEnd");function en(e,t){hh.set(e,t),bi(t,[e])}var Us=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},Vt=[],ll=0,Jc=0;function Hs(){for(var e=ll,t=Jc=ll=0;t<e;){var i=Vt[t];Vt[t++]=null;var r=Vt[t];Vt[t++]=null;var o=Vt[t];Vt[t++]=null;var u=Vt[t];if(Vt[t++]=null,r!==null&&o!==null){var h=r.pending;h===null?o.next=o:(o.next=h.next,h.next=o),r.pending=o}u!==0&&mh(i,o,u)}}function Bs(e,t,i,r){Vt[ll++]=e,Vt[ll++]=t,Vt[ll++]=i,Vt[ll++]=r,Jc|=r,e.lanes|=r,e=e.alternate,e!==null&&(e.lanes|=r)}function Wc(e,t,i,r){return Bs(e,t,i,r),ks(e)}function Ci(e,t){return Bs(e,null,null,t),ks(e)}function mh(e,t,i){e.lanes|=i;var r=e.alternate;r!==null&&(r.lanes|=i);for(var o=!1,u=e.return;u!==null;)u.childLanes|=i,r=u.alternate,r!==null&&(r.childLanes|=i),u.tag===22&&(e=u.stateNode,e===null||e._visibility&1||(o=!0)),e=u,u=u.return;return e.tag===3?(u=e.stateNode,o&&t!==null&&(o=31-Ot(i),e=u.hiddenUpdates,r=e[o],r===null?e[o]=[t]:r.push(t),t.lane=i|536870912),u):null}function ks(e){if(50<Ma)throw Ma=0,ou=null,Error(s(185));for(var t=e.return;t!==null;)e=t,t=e.return;return e.tag===3?e.stateNode:null}var al={};function Nv(e,t,i,r){this.tag=e,this.key=i,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function zt(e,t,i,r){return new Nv(e,t,i,r)}function eo(e){return e=e.prototype,!(!e||!e.isReactComponent)}function pn(e,t){var i=e.alternate;return i===null?(i=zt(e.tag,t,e.key,e.mode),i.elementType=e.elementType,i.type=e.type,i.stateNode=e.stateNode,i.alternate=e,e.alternate=i):(i.pendingProps=t,i.type=e.type,i.flags=0,i.subtreeFlags=0,i.deletions=null),i.flags=e.flags&65011712,i.childLanes=e.childLanes,i.lanes=e.lanes,i.child=e.child,i.memoizedProps=e.memoizedProps,i.memoizedState=e.memoizedState,i.updateQueue=e.updateQueue,t=e.dependencies,i.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},i.sibling=e.sibling,i.index=e.index,i.ref=e.ref,i.refCleanup=e.refCleanup,i}function gh(e,t){e.flags&=65011714;var i=e.alternate;return i===null?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=i.childLanes,e.lanes=i.lanes,e.child=i.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=i.memoizedProps,e.memoizedState=i.memoizedState,e.updateQueue=i.updateQueue,e.type=i.type,t=i.dependencies,e.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function qs(e,t,i,r,o,u){var h=0;if(r=e,typeof e=="function")eo(e)&&(h=1);else if(typeof e=="string")h=Db(e,i,P.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case W:return e=zt(31,i,t,o),e.elementType=W,e.lanes=u,e;case H:return Ti(i.children,o,u,t);case Y:h=8,o|=24;break;case U:return e=zt(12,i,t,o|2),e.elementType=U,e.lanes=u,e;case ye:return e=zt(13,i,t,o),e.elementType=ye,e.lanes=u,e;case oe:return e=zt(19,i,t,o),e.elementType=oe,e.lanes=u,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case X:h=10;break e;case k:h=9;break e;case ee:h=11;break e;case q:h=14;break e;case te:h=16,r=null;break e}h=29,i=Error(s(130,e===null?"null":typeof e,"")),r=null}return t=zt(h,i,t,o),t.elementType=e,t.type=r,t.lanes=u,t}function Ti(e,t,i,r){return e=zt(7,e,r,t),e.lanes=i,e}function to(e,t,i){return e=zt(6,e,null,t),e.lanes=i,e}function ph(e){var t=zt(18,null,null,0);return t.stateNode=e,t}function no(e,t,i){return t=zt(4,e.children!==null?e.children:[],e.key,t),t.lanes=i,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var yh=new WeakMap;function Qt(e,t){if(typeof e=="object"&&e!==null){var i=yh.get(e);return i!==void 0?i:(t={value:e,source:t,stack:pd(t)},yh.set(e,t),t)}return{value:e,source:t,stack:pd(t)}}var sl=[],rl=0,Gs=null,oa=0,Xt=[],Pt=0,kn=null,cn=1,on="";function yn(e,t){sl[rl++]=oa,sl[rl++]=Gs,Gs=e,oa=t}function _h(e,t,i){Xt[Pt++]=cn,Xt[Pt++]=on,Xt[Pt++]=kn,kn=e;var r=cn;e=on;var o=32-Ot(r)-1;r&=~(1<<o),i+=1;var u=32-Ot(t)+o;if(30<u){var h=o-o%5;u=(r&(1<<h)-1).toString(32),r>>=h,o-=h,cn=1<<32-Ot(t)+o|i<<o|r,on=u+e}else cn=1<<u|i<<o|r,on=e}function io(e){e.return!==null&&(yn(e,1),_h(e,1,0))}function lo(e){for(;e===Gs;)Gs=sl[--rl],sl[rl]=null,oa=sl[--rl],sl[rl]=null;for(;e===kn;)kn=Xt[--Pt],Xt[Pt]=null,on=Xt[--Pt],Xt[Pt]=null,cn=Xt[--Pt],Xt[Pt]=null}function vh(e,t){Xt[Pt++]=cn,Xt[Pt++]=on,Xt[Pt++]=kn,cn=t.id,on=t.overflow,kn=e}var ct=null,Le=null,_e=!1,qn=null,Zt=!1,ao=Error(s(519));function Gn(e){var t=Error(s(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw ua(Qt(t,e)),ao}function bh(e){var t=e.stateNode,i=e.type,r=e.memoizedProps;switch(t[rt]=e,t[St]=r,i){case"dialog":de("cancel",t),de("close",t);break;case"iframe":case"object":case"embed":de("load",t);break;case"video":case"audio":for(i=0;i<Oa.length;i++)de(Oa[i],t);break;case"source":de("error",t);break;case"img":case"image":case"link":de("error",t),de("load",t);break;case"details":de("toggle",t);break;case"input":de("invalid",t),jd(t,r.value,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name,!0);break;case"select":de("invalid",t);break;case"textarea":de("invalid",t),Id(t,r.value,r.defaultValue,r.children)}i=r.children,typeof i!="string"&&typeof i!="number"&&typeof i!="bigint"||t.textContent===""+i||r.suppressHydrationWarning===!0||Ug(t.textContent,i)?(r.popover!=null&&(de("beforetoggle",t),de("toggle",t)),r.onScroll!=null&&de("scroll",t),r.onScrollEnd!=null&&de("scrollend",t),r.onClick!=null&&(t.onclick=mn),t=!0):t=!1,t||Gn(e,!0)}function Sh(e){for(ct=e.return;ct;)switch(ct.tag){case 5:case 31:case 13:Zt=!1;return;case 27:case 3:Zt=!0;return;default:ct=ct.return}}function cl(e){if(e!==ct)return!1;if(!_e)return Sh(e),_e=!0,!1;var t=e.tag,i;if((i=t!==3&&t!==27)&&((i=t===5)&&(i=e.type,i=!(i!=="form"&&i!=="button")||Cu(e.type,e.memoizedProps)),i=!i),i&&Le&&Gn(e),Sh(e),t===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(s(317));Le=Xg(e)}else if(t===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(s(317));Le=Xg(e)}else t===27?(t=Le,ni(e.type)?(e=Ru,Ru=null,Le=e):Le=t):Le=ct?Ft(e.stateNode.nextSibling):null;return!0}function Ni(){Le=ct=null,_e=!1}function so(){var e=qn;return e!==null&&(Nt===null?Nt=e:Nt.push.apply(Nt,e),qn=null),e}function ua(e){qn===null?qn=[e]:qn.push(e)}var ro=C(null),wi=null,_n=null;function Yn(e,t,i){V(ro,t._currentValue),t._currentValue=i}function vn(e){e._currentValue=ro.current,L(ro)}function co(e,t,i){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===i)break;e=e.return}}function oo(e,t,i,r){var o=e.child;for(o!==null&&(o.return=e);o!==null;){var u=o.dependencies;if(u!==null){var h=o.child;u=u.firstContext;e:for(;u!==null;){var _=u;u=o;for(var x=0;x<t.length;x++)if(_.context===t[x]){u.lanes|=i,_=u.alternate,_!==null&&(_.lanes|=i),co(u.return,i,e),r||(h=null);break e}u=_.next}}else if(o.tag===18){if(h=o.return,h===null)throw Error(s(341));h.lanes|=i,u=h.alternate,u!==null&&(u.lanes|=i),co(h,i,e),h=null}else h=o.child;if(h!==null)h.return=o;else for(h=o;h!==null;){if(h===e){h=null;break}if(o=h.sibling,o!==null){o.return=h.return,h=o;break}h=h.return}o=h}}function ol(e,t,i,r){e=null;for(var o=t,u=!1;o!==null;){if(!u){if((o.flags&524288)!==0)u=!0;else if((o.flags&262144)!==0)break}if(o.tag===10){var h=o.alternate;if(h===null)throw Error(s(387));if(h=h.memoizedProps,h!==null){var _=o.type;jt(o.pendingProps.value,h.value)||(e!==null?e.push(_):e=[_])}}else if(o===Ee.current){if(h=o.alternate,h===null)throw Error(s(387));h.memoizedState.memoizedState!==o.memoizedState.memoizedState&&(e!==null?e.push(Ua):e=[Ua])}o=o.return}e!==null&&oo(t,e,i,r),t.flags|=262144}function Ys(e){for(e=e.firstContext;e!==null;){if(!jt(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Ai(e){wi=e,_n=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function ot(e){return xh(wi,e)}function Vs(e,t){return wi===null&&Ai(e),xh(e,t)}function xh(e,t){var i=t._currentValue;if(t={context:t,memoizedValue:i,next:null},_n===null){if(e===null)throw Error(s(308));_n=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else _n=_n.next=t;return i}var wv=typeof AbortController<"u"?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(i,r){e.push(r)}};this.abort=function(){t.aborted=!0,e.forEach(function(i){return i()})}},Av=l.unstable_scheduleCallback,Rv=l.unstable_NormalPriority,Xe={$$typeof:X,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function uo(){return{controller:new wv,data:new Map,refCount:0}}function fa(e){e.refCount--,e.refCount===0&&Av(Rv,function(){e.controller.abort()})}var da=null,fo=0,ul=0,fl=null;function Mv(e,t){if(da===null){var i=da=[];fo=0,ul=gu(),fl={status:"pending",value:void 0,then:function(r){i.push(r)}}}return fo++,t.then(Eh,Eh),t}function Eh(){if(--fo===0&&da!==null){fl!==null&&(fl.status="fulfilled");var e=da;da=null,ul=0,fl=null;for(var t=0;t<e.length;t++)(0,e[t])()}}function Dv(e,t){var i=[],r={status:"pending",value:null,reason:null,then:function(o){i.push(o)}};return e.then(function(){r.status="fulfilled",r.value=t;for(var o=0;o<i.length;o++)(0,i[o])(t)},function(o){for(r.status="rejected",r.reason=o,o=0;o<i.length;o++)(0,i[o])(void 0)}),r}var Ch=O.S;O.S=function(e,t){rg=Mt(),typeof t=="object"&&t!==null&&typeof t.then=="function"&&Mv(e,t),Ch!==null&&Ch(e,t)};var Ri=C(null);function ho(){var e=Ri.current;return e!==null?e:Oe.pooledCache}function Qs(e,t){t===null?V(Ri,Ri.current):V(Ri,t.pool)}function Th(){var e=ho();return e===null?null:{parent:Xe._currentValue,pool:e}}var dl=Error(s(460)),mo=Error(s(474)),Xs=Error(s(542)),Ps={then:function(){}};function Nh(e){return e=e.status,e==="fulfilled"||e==="rejected"}function wh(e,t,i){switch(i=e[i],i===void 0?e.push(t):i!==t&&(t.then(mn,mn),t=i),t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,Rh(e),e;default:if(typeof t.status=="string")t.then(mn,mn);else{if(e=Oe,e!==null&&100<e.shellSuspendCounter)throw Error(s(482));e=t,e.status="pending",e.then(function(r){if(t.status==="pending"){var o=t;o.status="fulfilled",o.value=r}},function(r){if(t.status==="pending"){var o=t;o.status="rejected",o.reason=r}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,Rh(e),e}throw Di=t,dl}}function Mi(e){try{var t=e._init;return t(e._payload)}catch(i){throw i!==null&&typeof i=="object"&&typeof i.then=="function"?(Di=i,dl):i}}var Di=null;function Ah(){if(Di===null)throw Error(s(459));var e=Di;return Di=null,e}function Rh(e){if(e===dl||e===Xs)throw Error(s(483))}var hl=null,ha=0;function Zs(e){var t=ha;return ha+=1,hl===null&&(hl=[]),wh(hl,e,t)}function ma(e,t){t=t.props.ref,e.ref=t!==void 0?t:null}function Ks(e,t){throw t.$$typeof===b?Error(s(525)):(e=Object.prototype.toString.call(t),Error(s(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)))}function Mh(e){function t(T,E){if(e){var N=T.deletions;N===null?(T.deletions=[E],T.flags|=16):N.push(E)}}function i(T,E){if(!e)return null;for(;E!==null;)t(T,E),E=E.sibling;return null}function r(T){for(var E=new Map;T!==null;)T.key!==null?E.set(T.key,T):E.set(T.index,T),T=T.sibling;return E}function o(T,E){return T=pn(T,E),T.index=0,T.sibling=null,T}function u(T,E,N){return T.index=N,e?(N=T.alternate,N!==null?(N=N.index,N<E?(T.flags|=67108866,E):N):(T.flags|=67108866,E)):(T.flags|=1048576,E)}function h(T){return e&&T.alternate===null&&(T.flags|=67108866),T}function _(T,E,N,z){return E===null||E.tag!==6?(E=to(N,T.mode,z),E.return=T,E):(E=o(E,N),E.return=T,E)}function x(T,E,N,z){var K=N.type;return K===H?D(T,E,N.props.children,z,N.key):E!==null&&(E.elementType===K||typeof K=="object"&&K!==null&&K.$$typeof===te&&Mi(K)===E.type)?(E=o(E,N.props),ma(E,N),E.return=T,E):(E=qs(N.type,N.key,N.props,null,T.mode,z),ma(E,N),E.return=T,E)}function w(T,E,N,z){return E===null||E.tag!==4||E.stateNode.containerInfo!==N.containerInfo||E.stateNode.implementation!==N.implementation?(E=no(N,T.mode,z),E.return=T,E):(E=o(E,N.children||[]),E.return=T,E)}function D(T,E,N,z,K){return E===null||E.tag!==7?(E=Ti(N,T.mode,z,K),E.return=T,E):(E=o(E,N),E.return=T,E)}function I(T,E,N){if(typeof E=="string"&&E!==""||typeof E=="number"||typeof E=="bigint")return E=to(""+E,T.mode,N),E.return=T,E;if(typeof E=="object"&&E!==null){switch(E.$$typeof){case M:return N=qs(E.type,E.key,E.props,null,T.mode,N),ma(N,E),N.return=T,N;case j:return E=no(E,T.mode,N),E.return=T,E;case te:return E=Mi(E),I(T,E,N)}if(tt(E)||me(E))return E=Ti(E,T.mode,N,null),E.return=T,E;if(typeof E.then=="function")return I(T,Zs(E),N);if(E.$$typeof===X)return I(T,Vs(T,E),N);Ks(T,E)}return null}function A(T,E,N,z){var K=E!==null?E.key:null;if(typeof N=="string"&&N!==""||typeof N=="number"||typeof N=="bigint")return K!==null?null:_(T,E,""+N,z);if(typeof N=="object"&&N!==null){switch(N.$$typeof){case M:return N.key===K?x(T,E,N,z):null;case j:return N.key===K?w(T,E,N,z):null;case te:return N=Mi(N),A(T,E,N,z)}if(tt(N)||me(N))return K!==null?null:D(T,E,N,z,null);if(typeof N.then=="function")return A(T,E,Zs(N),z);if(N.$$typeof===X)return A(T,E,Vs(T,N),z);Ks(T,N)}return null}function R(T,E,N,z,K){if(typeof z=="string"&&z!==""||typeof z=="number"||typeof z=="bigint")return T=T.get(N)||null,_(E,T,""+z,K);if(typeof z=="object"&&z!==null){switch(z.$$typeof){case M:return T=T.get(z.key===null?N:z.key)||null,x(E,T,z,K);case j:return T=T.get(z.key===null?N:z.key)||null,w(E,T,z,K);case te:return z=Mi(z),R(T,E,N,z,K)}if(tt(z)||me(z))return T=T.get(N)||null,D(E,T,z,K,null);if(typeof z.then=="function")return R(T,E,N,Zs(z),K);if(z.$$typeof===X)return R(T,E,N,Vs(E,z),K);Ks(E,z)}return null}function Q(T,E,N,z){for(var K=null,ve=null,Z=E,ae=E=0,pe=null;Z!==null&&ae<N.length;ae++){Z.index>ae?(pe=Z,Z=null):pe=Z.sibling;var be=A(T,Z,N[ae],z);if(be===null){Z===null&&(Z=pe);break}e&&Z&&be.alternate===null&&t(T,Z),E=u(be,E,ae),ve===null?K=be:ve.sibling=be,ve=be,Z=pe}if(ae===N.length)return i(T,Z),_e&&yn(T,ae),K;if(Z===null){for(;ae<N.length;ae++)Z=I(T,N[ae],z),Z!==null&&(E=u(Z,E,ae),ve===null?K=Z:ve.sibling=Z,ve=Z);return _e&&yn(T,ae),K}for(Z=r(Z);ae<N.length;ae++)pe=R(Z,T,ae,N[ae],z),pe!==null&&(e&&pe.alternate!==null&&Z.delete(pe.key===null?ae:pe.key),E=u(pe,E,ae),ve===null?K=pe:ve.sibling=pe,ve=pe);return e&&Z.forEach(function(ri){return t(T,ri)}),_e&&yn(T,ae),K}function F(T,E,N,z){if(N==null)throw Error(s(151));for(var K=null,ve=null,Z=E,ae=E=0,pe=null,be=N.next();Z!==null&&!be.done;ae++,be=N.next()){Z.index>ae?(pe=Z,Z=null):pe=Z.sibling;var ri=A(T,Z,be.value,z);if(ri===null){Z===null&&(Z=pe);break}e&&Z&&ri.alternate===null&&t(T,Z),E=u(ri,E,ae),ve===null?K=ri:ve.sibling=ri,ve=ri,Z=pe}if(be.done)return i(T,Z),_e&&yn(T,ae),K;if(Z===null){for(;!be.done;ae++,be=N.next())be=I(T,be.value,z),be!==null&&(E=u(be,E,ae),ve===null?K=be:ve.sibling=be,ve=be);return _e&&yn(T,ae),K}for(Z=r(Z);!be.done;ae++,be=N.next())be=R(Z,T,ae,be.value,z),be!==null&&(e&&be.alternate!==null&&Z.delete(be.key===null?ae:be.key),E=u(be,E,ae),ve===null?K=be:ve.sibling=be,ve=be);return e&&Z.forEach(function(Gb){return t(T,Gb)}),_e&&yn(T,ae),K}function Re(T,E,N,z){if(typeof N=="object"&&N!==null&&N.type===H&&N.key===null&&(N=N.props.children),typeof N=="object"&&N!==null){switch(N.$$typeof){case M:e:{for(var K=N.key;E!==null;){if(E.key===K){if(K=N.type,K===H){if(E.tag===7){i(T,E.sibling),z=o(E,N.props.children),z.return=T,T=z;break e}}else if(E.elementType===K||typeof K=="object"&&K!==null&&K.$$typeof===te&&Mi(K)===E.type){i(T,E.sibling),z=o(E,N.props),ma(z,N),z.return=T,T=z;break e}i(T,E);break}else t(T,E);E=E.sibling}N.type===H?(z=Ti(N.props.children,T.mode,z,N.key),z.return=T,T=z):(z=qs(N.type,N.key,N.props,null,T.mode,z),ma(z,N),z.return=T,T=z)}return h(T);case j:e:{for(K=N.key;E!==null;){if(E.key===K)if(E.tag===4&&E.stateNode.containerInfo===N.containerInfo&&E.stateNode.implementation===N.implementation){i(T,E.sibling),z=o(E,N.children||[]),z.return=T,T=z;break e}else{i(T,E);break}else t(T,E);E=E.sibling}z=no(N,T.mode,z),z.return=T,T=z}return h(T);case te:return N=Mi(N),Re(T,E,N,z)}if(tt(N))return Q(T,E,N,z);if(me(N)){if(K=me(N),typeof K!="function")throw Error(s(150));return N=K.call(N),F(T,E,N,z)}if(typeof N.then=="function")return Re(T,E,Zs(N),z);if(N.$$typeof===X)return Re(T,E,Vs(T,N),z);Ks(T,N)}return typeof N=="string"&&N!==""||typeof N=="number"||typeof N=="bigint"?(N=""+N,E!==null&&E.tag===6?(i(T,E.sibling),z=o(E,N),z.return=T,T=z):(i(T,E),z=to(N,T.mode,z),z.return=T,T=z),h(T)):i(T,E)}return function(T,E,N,z){try{ha=0;var K=Re(T,E,N,z);return hl=null,K}catch(Z){if(Z===dl||Z===Xs)throw Z;var ve=zt(29,Z,null,T.mode);return ve.lanes=z,ve.return=T,ve}}}var Oi=Mh(!0),Dh=Mh(!1),Vn=!1;function go(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function po(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Qn(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Xn(e,t,i){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,(xe&2)!==0){var o=r.pending;return o===null?t.next=t:(t.next=o.next,o.next=t),r.pending=t,t=ks(e),mh(e,null,i),t}return Bs(e,r,t,i),ks(e)}function ga(e,t,i){if(t=t.updateQueue,t!==null&&(t=t.shared,(i&4194048)!==0)){var r=t.lanes;r&=e.pendingLanes,i|=r,t.lanes=i,xd(e,i)}}function yo(e,t){var i=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,i===r)){var o=null,u=null;if(i=i.firstBaseUpdate,i!==null){do{var h={lane:i.lane,tag:i.tag,payload:i.payload,callback:null,next:null};u===null?o=u=h:u=u.next=h,i=i.next}while(i!==null);u===null?o=u=t:u=u.next=t}else o=u=t;i={baseState:r.baseState,firstBaseUpdate:o,lastBaseUpdate:u,shared:r.shared,callbacks:r.callbacks},e.updateQueue=i;return}e=i.lastBaseUpdate,e===null?i.firstBaseUpdate=t:e.next=t,i.lastBaseUpdate=t}var _o=!1;function pa(){if(_o){var e=fl;if(e!==null)throw e}}function ya(e,t,i,r){_o=!1;var o=e.updateQueue;Vn=!1;var u=o.firstBaseUpdate,h=o.lastBaseUpdate,_=o.shared.pending;if(_!==null){o.shared.pending=null;var x=_,w=x.next;x.next=null,h===null?u=w:h.next=w,h=x;var D=e.alternate;D!==null&&(D=D.updateQueue,_=D.lastBaseUpdate,_!==h&&(_===null?D.firstBaseUpdate=w:_.next=w,D.lastBaseUpdate=x))}if(u!==null){var I=o.baseState;h=0,D=w=x=null,_=u;do{var A=_.lane&-536870913,R=A!==_.lane;if(R?(ge&A)===A:(r&A)===A){A!==0&&A===ul&&(_o=!0),D!==null&&(D=D.next={lane:0,tag:_.tag,payload:_.payload,callback:null,next:null});e:{var Q=e,F=_;A=t;var Re=i;switch(F.tag){case 1:if(Q=F.payload,typeof Q=="function"){I=Q.call(Re,I,A);break e}I=Q;break e;case 3:Q.flags=Q.flags&-65537|128;case 0:if(Q=F.payload,A=typeof Q=="function"?Q.call(Re,I,A):Q,A==null)break e;I=v({},I,A);break e;case 2:Vn=!0}}A=_.callback,A!==null&&(e.flags|=64,R&&(e.flags|=8192),R=o.callbacks,R===null?o.callbacks=[A]:R.push(A))}else R={lane:A,tag:_.tag,payload:_.payload,callback:_.callback,next:null},D===null?(w=D=R,x=I):D=D.next=R,h|=A;if(_=_.next,_===null){if(_=o.shared.pending,_===null)break;R=_,_=R.next,R.next=null,o.lastBaseUpdate=R,o.shared.pending=null}}while(!0);D===null&&(x=I),o.baseState=x,o.firstBaseUpdate=w,o.lastBaseUpdate=D,u===null&&(o.shared.lanes=0),$n|=h,e.lanes=h,e.memoizedState=I}}function Oh(e,t){if(typeof e!="function")throw Error(s(191,e));e.call(t)}function jh(e,t){var i=e.callbacks;if(i!==null)for(e.callbacks=null,e=0;e<i.length;e++)Oh(i[e],t)}var ml=C(null),Fs=C(0);function zh(e,t){e=An,V(Fs,e),V(ml,t),An=e|t.baseLanes}function vo(){V(Fs,An),V(ml,ml.current)}function bo(){An=Fs.current,L(ml),L(Fs)}var It=C(null),Kt=null;function Pn(e){var t=e.alternate;V(Ve,Ve.current&1),V(It,e),Kt===null&&(t===null||ml.current!==null||t.memoizedState!==null)&&(Kt=e)}function So(e){V(Ve,Ve.current),V(It,e),Kt===null&&(Kt=e)}function Ih(e){e.tag===22?(V(Ve,Ve.current),V(It,e),Kt===null&&(Kt=e)):Zn()}function Zn(){V(Ve,Ve.current),V(It,It.current)}function Lt(e){L(It),Kt===e&&(Kt=null),L(Ve)}var Ve=C(0);function $s(e){for(var t=e;t!==null;){if(t.tag===13){var i=t.memoizedState;if(i!==null&&(i=i.dehydrated,i===null||wu(i)||Au(i)))return t}else if(t.tag===19&&(t.memoizedProps.revealOrder==="forwards"||t.memoizedProps.revealOrder==="backwards"||t.memoizedProps.revealOrder==="unstable_legacy-backwards"||t.memoizedProps.revealOrder==="together")){if((t.flags&128)!==0)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var bn=0,le=null,we=null,Pe=null,Js=!1,gl=!1,ji=!1,Ws=0,_a=0,pl=null,Ov=0;function Be(){throw Error(s(321))}function xo(e,t){if(t===null)return!1;for(var i=0;i<t.length&&i<e.length;i++)if(!jt(e[i],t[i]))return!1;return!0}function Eo(e,t,i,r,o,u){return bn=u,le=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,O.H=e===null||e.memoizedState===null?_m:Ho,ji=!1,u=i(r,o),ji=!1,gl&&(u=Uh(t,i,r,o)),Lh(e),u}function Lh(e){O.H=Sa;var t=we!==null&&we.next!==null;if(bn=0,Pe=we=le=null,Js=!1,_a=0,pl=null,t)throw Error(s(300));e===null||Ze||(e=e.dependencies,e!==null&&Ys(e)&&(Ze=!0))}function Uh(e,t,i,r){le=e;var o=0;do{if(gl&&(pl=null),_a=0,gl=!1,25<=o)throw Error(s(301));if(o+=1,Pe=we=null,e.updateQueue!=null){var u=e.updateQueue;u.lastEffect=null,u.events=null,u.stores=null,u.memoCache!=null&&(u.memoCache.index=0)}O.H=vm,u=t(i,r)}while(gl);return u}function jv(){var e=O.H,t=e.useState()[0];return t=typeof t.then=="function"?va(t):t,e=e.useState()[0],(we!==null?we.memoizedState:null)!==e&&(le.flags|=1024),t}function Co(){var e=Ws!==0;return Ws=0,e}function To(e,t,i){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i}function No(e){if(Js){for(e=e.memoizedState;e!==null;){var t=e.queue;t!==null&&(t.pending=null),e=e.next}Js=!1}bn=0,Pe=we=le=null,gl=!1,_a=Ws=0,pl=null}function _t(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Pe===null?le.memoizedState=Pe=e:Pe=Pe.next=e,Pe}function Qe(){if(we===null){var e=le.alternate;e=e!==null?e.memoizedState:null}else e=we.next;var t=Pe===null?le.memoizedState:Pe.next;if(t!==null)Pe=t,we=e;else{if(e===null)throw le.alternate===null?Error(s(467)):Error(s(310));we=e,e={memoizedState:we.memoizedState,baseState:we.baseState,baseQueue:we.baseQueue,queue:we.queue,next:null},Pe===null?le.memoizedState=Pe=e:Pe=Pe.next=e}return Pe}function er(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function va(e){var t=_a;return _a+=1,pl===null&&(pl=[]),e=wh(pl,e,t),t=le,(Pe===null?t.memoizedState:Pe.next)===null&&(t=t.alternate,O.H=t===null||t.memoizedState===null?_m:Ho),e}function tr(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return va(e);if(e.$$typeof===X)return ot(e)}throw Error(s(438,String(e)))}function wo(e){var t=null,i=le.updateQueue;if(i!==null&&(t=i.memoCache),t==null){var r=le.alternate;r!==null&&(r=r.updateQueue,r!==null&&(r=r.memoCache,r!=null&&(t={data:r.data.map(function(o){return o.slice()}),index:0})))}if(t==null&&(t={data:[],index:0}),i===null&&(i=er(),le.updateQueue=i),i.memoCache=t,i=t.data[t.index],i===void 0)for(i=t.data[t.index]=Array(e),r=0;r<e;r++)i[r]=mt;return t.index++,i}function Sn(e,t){return typeof t=="function"?t(e):t}function nr(e){var t=Qe();return Ao(t,we,e)}function Ao(e,t,i){var r=e.queue;if(r===null)throw Error(s(311));r.lastRenderedReducer=i;var o=e.baseQueue,u=r.pending;if(u!==null){if(o!==null){var h=o.next;o.next=u.next,u.next=h}t.baseQueue=o=u,r.pending=null}if(u=e.baseState,o===null)e.memoizedState=u;else{t=o.next;var _=h=null,x=null,w=t,D=!1;do{var I=w.lane&-536870913;if(I!==w.lane?(ge&I)===I:(bn&I)===I){var A=w.revertLane;if(A===0)x!==null&&(x=x.next={lane:0,revertLane:0,gesture:null,action:w.action,hasEagerState:w.hasEagerState,eagerState:w.eagerState,next:null}),I===ul&&(D=!0);else if((bn&A)===A){w=w.next,A===ul&&(D=!0);continue}else I={lane:0,revertLane:w.revertLane,gesture:null,action:w.action,hasEagerState:w.hasEagerState,eagerState:w.eagerState,next:null},x===null?(_=x=I,h=u):x=x.next=I,le.lanes|=A,$n|=A;I=w.action,ji&&i(u,I),u=w.hasEagerState?w.eagerState:i(u,I)}else A={lane:I,revertLane:w.revertLane,gesture:w.gesture,action:w.action,hasEagerState:w.hasEagerState,eagerState:w.eagerState,next:null},x===null?(_=x=A,h=u):x=x.next=A,le.lanes|=I,$n|=I;w=w.next}while(w!==null&&w!==t);if(x===null?h=u:x.next=_,!jt(u,e.memoizedState)&&(Ze=!0,D&&(i=fl,i!==null)))throw i;e.memoizedState=u,e.baseState=h,e.baseQueue=x,r.lastRenderedState=u}return o===null&&(r.lanes=0),[e.memoizedState,r.dispatch]}function Ro(e){var t=Qe(),i=t.queue;if(i===null)throw Error(s(311));i.lastRenderedReducer=e;var r=i.dispatch,o=i.pending,u=t.memoizedState;if(o!==null){i.pending=null;var h=o=o.next;do u=e(u,h.action),h=h.next;while(h!==o);jt(u,t.memoizedState)||(Ze=!0),t.memoizedState=u,t.baseQueue===null&&(t.baseState=u),i.lastRenderedState=u}return[u,r]}function Hh(e,t,i){var r=le,o=Qe(),u=_e;if(u){if(i===void 0)throw Error(s(407));i=i()}else i=t();var h=!jt((we||o).memoizedState,i);if(h&&(o.memoizedState=i,Ze=!0),o=o.queue,Oo(qh.bind(null,r,o,e),[e]),o.getSnapshot!==t||h||Pe!==null&&Pe.memoizedState.tag&1){if(r.flags|=2048,yl(9,{destroy:void 0},kh.bind(null,r,o,i,t),null),Oe===null)throw Error(s(349));u||(bn&127)!==0||Bh(r,t,i)}return i}function Bh(e,t,i){e.flags|=16384,e={getSnapshot:t,value:i},t=le.updateQueue,t===null?(t=er(),le.updateQueue=t,t.stores=[e]):(i=t.stores,i===null?t.stores=[e]:i.push(e))}function kh(e,t,i,r){t.value=i,t.getSnapshot=r,Gh(t)&&Yh(e)}function qh(e,t,i){return i(function(){Gh(t)&&Yh(e)})}function Gh(e){var t=e.getSnapshot;e=e.value;try{var i=t();return!jt(e,i)}catch{return!0}}function Yh(e){var t=Ci(e,2);t!==null&&wt(t,e,2)}function Mo(e){var t=_t();if(typeof e=="function"){var i=e;if(e=i(),ji){Un(!0);try{i()}finally{Un(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Sn,lastRenderedState:e},t}function Vh(e,t,i,r){return e.baseState=i,Ao(e,we,typeof r=="function"?r:Sn)}function zv(e,t,i,r,o){if(ar(e))throw Error(s(485));if(e=t.action,e!==null){var u={payload:o,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(h){u.listeners.push(h)}};O.T!==null?i(!0):u.isTransition=!1,r(u),i=t.pending,i===null?(u.next=t.pending=u,Qh(t,u)):(u.next=i.next,t.pending=i.next=u)}}function Qh(e,t){var i=t.action,r=t.payload,o=e.state;if(t.isTransition){var u=O.T,h={};O.T=h;try{var _=i(o,r),x=O.S;x!==null&&x(h,_),Xh(e,t,_)}catch(w){Do(e,t,w)}finally{u!==null&&h.types!==null&&(u.types=h.types),O.T=u}}else try{u=i(o,r),Xh(e,t,u)}catch(w){Do(e,t,w)}}function Xh(e,t,i){i!==null&&typeof i=="object"&&typeof i.then=="function"?i.then(function(r){Ph(e,t,r)},function(r){return Do(e,t,r)}):Ph(e,t,i)}function Ph(e,t,i){t.status="fulfilled",t.value=i,Zh(t),e.state=i,t=e.pending,t!==null&&(i=t.next,i===t?e.pending=null:(i=i.next,t.next=i,Qh(e,i)))}function Do(e,t,i){var r=e.pending;if(e.pending=null,r!==null){r=r.next;do t.status="rejected",t.reason=i,Zh(t),t=t.next;while(t!==r)}e.action=null}function Zh(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function Kh(e,t){return t}function Fh(e,t){if(_e){var i=Oe.formState;if(i!==null){e:{var r=le;if(_e){if(Le){t:{for(var o=Le,u=Zt;o.nodeType!==8;){if(!u){o=null;break t}if(o=Ft(o.nextSibling),o===null){o=null;break t}}u=o.data,o=u==="F!"||u==="F"?o:null}if(o){Le=Ft(o.nextSibling),r=o.data==="F!";break e}}Gn(r)}r=!1}r&&(t=i[0])}}return i=_t(),i.memoizedState=i.baseState=t,r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Kh,lastRenderedState:t},i.queue=r,i=gm.bind(null,le,r),r.dispatch=i,r=Mo(!1),u=Uo.bind(null,le,!1,r.queue),r=_t(),o={state:t,dispatch:null,action:e,pending:null},r.queue=o,i=zv.bind(null,le,o,u,i),o.dispatch=i,r.memoizedState=e,[t,i,!1]}function $h(e){var t=Qe();return Jh(t,we,e)}function Jh(e,t,i){if(t=Ao(e,t,Kh)[0],e=nr(Sn)[0],typeof t=="object"&&t!==null&&typeof t.then=="function")try{var r=va(t)}catch(h){throw h===dl?Xs:h}else r=t;t=Qe();var o=t.queue,u=o.dispatch;return i!==t.memoizedState&&(le.flags|=2048,yl(9,{destroy:void 0},Iv.bind(null,o,i),null)),[r,u,e]}function Iv(e,t){e.action=t}function Wh(e){var t=Qe(),i=we;if(i!==null)return Jh(t,i,e);Qe(),t=t.memoizedState,i=Qe();var r=i.queue.dispatch;return i.memoizedState=e,[t,r,!1]}function yl(e,t,i,r){return e={tag:e,create:i,deps:r,inst:t,next:null},t=le.updateQueue,t===null&&(t=er(),le.updateQueue=t),i=t.lastEffect,i===null?t.lastEffect=e.next=e:(r=i.next,i.next=e,e.next=r,t.lastEffect=e),e}function em(){return Qe().memoizedState}function ir(e,t,i,r){var o=_t();le.flags|=e,o.memoizedState=yl(1|t,{destroy:void 0},i,r===void 0?null:r)}function lr(e,t,i,r){var o=Qe();r=r===void 0?null:r;var u=o.memoizedState.inst;we!==null&&r!==null&&xo(r,we.memoizedState.deps)?o.memoizedState=yl(t,u,i,r):(le.flags|=e,o.memoizedState=yl(1|t,u,i,r))}function tm(e,t){ir(8390656,8,e,t)}function Oo(e,t){lr(2048,8,e,t)}function Lv(e){le.flags|=4;var t=le.updateQueue;if(t===null)t=er(),le.updateQueue=t,t.events=[e];else{var i=t.events;i===null?t.events=[e]:i.push(e)}}function nm(e){var t=Qe().memoizedState;return Lv({ref:t,nextImpl:e}),function(){if((xe&2)!==0)throw Error(s(440));return t.impl.apply(void 0,arguments)}}function im(e,t){return lr(4,2,e,t)}function lm(e,t){return lr(4,4,e,t)}function am(e,t){if(typeof t=="function"){e=e();var i=t(e);return function(){typeof i=="function"?i():t(null)}}if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function sm(e,t,i){i=i!=null?i.concat([e]):null,lr(4,4,am.bind(null,t,e),i)}function jo(){}function rm(e,t){var i=Qe();t=t===void 0?null:t;var r=i.memoizedState;return t!==null&&xo(t,r[1])?r[0]:(i.memoizedState=[e,t],e)}function cm(e,t){var i=Qe();t=t===void 0?null:t;var r=i.memoizedState;if(t!==null&&xo(t,r[1]))return r[0];if(r=e(),ji){Un(!0);try{e()}finally{Un(!1)}}return i.memoizedState=[r,t],r}function zo(e,t,i){return i===void 0||(bn&1073741824)!==0&&(ge&261930)===0?e.memoizedState=t:(e.memoizedState=i,e=og(),le.lanes|=e,$n|=e,i)}function om(e,t,i,r){return jt(i,t)?i:ml.current!==null?(e=zo(e,i,r),jt(e,t)||(Ze=!0),e):(bn&42)===0||(bn&1073741824)!==0&&(ge&261930)===0?(Ze=!0,e.memoizedState=i):(e=og(),le.lanes|=e,$n|=e,t)}function um(e,t,i,r,o){var u=G.p;G.p=u!==0&&8>u?u:8;var h=O.T,_={};O.T=_,Uo(e,!1,t,i);try{var x=o(),w=O.S;if(w!==null&&w(_,x),x!==null&&typeof x=="object"&&typeof x.then=="function"){var D=Dv(x,r);ba(e,t,D,Bt(e))}else ba(e,t,r,Bt(e))}catch(I){ba(e,t,{then:function(){},status:"rejected",reason:I},Bt())}finally{G.p=u,h!==null&&_.types!==null&&(h.types=_.types),O.T=h}}function Uv(){}function Io(e,t,i,r){if(e.tag!==5)throw Error(s(476));var o=fm(e).queue;um(e,o,t,J,i===null?Uv:function(){return dm(e),i(r)})}function fm(e){var t=e.memoizedState;if(t!==null)return t;t={memoizedState:J,baseState:J,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Sn,lastRenderedState:J},next:null};var i={};return t.next={memoizedState:i,baseState:i,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Sn,lastRenderedState:i},next:null},e.memoizedState=t,e=e.alternate,e!==null&&(e.memoizedState=t),t}function dm(e){var t=fm(e);t.next===null&&(t=e.alternate.memoizedState),ba(e,t.next.queue,{},Bt())}function Lo(){return ot(Ua)}function hm(){return Qe().memoizedState}function mm(){return Qe().memoizedState}function Hv(e){for(var t=e.return;t!==null;){switch(t.tag){case 24:case 3:var i=Bt();e=Qn(i);var r=Xn(t,e,i);r!==null&&(wt(r,t,i),ga(r,t,i)),t={cache:uo()},e.payload=t;return}t=t.return}}function Bv(e,t,i){var r=Bt();i={lane:r,revertLane:0,gesture:null,action:i,hasEagerState:!1,eagerState:null,next:null},ar(e)?pm(t,i):(i=Wc(e,t,i,r),i!==null&&(wt(i,e,r),ym(i,t,r)))}function gm(e,t,i){var r=Bt();ba(e,t,i,r)}function ba(e,t,i,r){var o={lane:r,revertLane:0,gesture:null,action:i,hasEagerState:!1,eagerState:null,next:null};if(ar(e))pm(t,o);else{var u=e.alternate;if(e.lanes===0&&(u===null||u.lanes===0)&&(u=t.lastRenderedReducer,u!==null))try{var h=t.lastRenderedState,_=u(h,i);if(o.hasEagerState=!0,o.eagerState=_,jt(_,h))return Bs(e,t,o,0),Oe===null&&Hs(),!1}catch{}if(i=Wc(e,t,o,r),i!==null)return wt(i,e,r),ym(i,t,r),!0}return!1}function Uo(e,t,i,r){if(r={lane:2,revertLane:gu(),gesture:null,action:r,hasEagerState:!1,eagerState:null,next:null},ar(e)){if(t)throw Error(s(479))}else t=Wc(e,i,r,2),t!==null&&wt(t,e,2)}function ar(e){var t=e.alternate;return e===le||t!==null&&t===le}function pm(e,t){gl=Js=!0;var i=e.pending;i===null?t.next=t:(t.next=i.next,i.next=t),e.pending=t}function ym(e,t,i){if((i&4194048)!==0){var r=t.lanes;r&=e.pendingLanes,i|=r,t.lanes=i,xd(e,i)}}var Sa={readContext:ot,use:tr,useCallback:Be,useContext:Be,useEffect:Be,useImperativeHandle:Be,useLayoutEffect:Be,useInsertionEffect:Be,useMemo:Be,useReducer:Be,useRef:Be,useState:Be,useDebugValue:Be,useDeferredValue:Be,useTransition:Be,useSyncExternalStore:Be,useId:Be,useHostTransitionStatus:Be,useFormState:Be,useActionState:Be,useOptimistic:Be,useMemoCache:Be,useCacheRefresh:Be};Sa.useEffectEvent=Be;var _m={readContext:ot,use:tr,useCallback:function(e,t){return _t().memoizedState=[e,t===void 0?null:t],e},useContext:ot,useEffect:tm,useImperativeHandle:function(e,t,i){i=i!=null?i.concat([e]):null,ir(4194308,4,am.bind(null,t,e),i)},useLayoutEffect:function(e,t){return ir(4194308,4,e,t)},useInsertionEffect:function(e,t){ir(4,2,e,t)},useMemo:function(e,t){var i=_t();t=t===void 0?null:t;var r=e();if(ji){Un(!0);try{e()}finally{Un(!1)}}return i.memoizedState=[r,t],r},useReducer:function(e,t,i){var r=_t();if(i!==void 0){var o=i(t);if(ji){Un(!0);try{i(t)}finally{Un(!1)}}}else o=t;return r.memoizedState=r.baseState=o,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:o},r.queue=e,e=e.dispatch=Bv.bind(null,le,e),[r.memoizedState,e]},useRef:function(e){var t=_t();return e={current:e},t.memoizedState=e},useState:function(e){e=Mo(e);var t=e.queue,i=gm.bind(null,le,t);return t.dispatch=i,[e.memoizedState,i]},useDebugValue:jo,useDeferredValue:function(e,t){var i=_t();return zo(i,e,t)},useTransition:function(){var e=Mo(!1);return e=um.bind(null,le,e.queue,!0,!1),_t().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,i){var r=le,o=_t();if(_e){if(i===void 0)throw Error(s(407));i=i()}else{if(i=t(),Oe===null)throw Error(s(349));(ge&127)!==0||Bh(r,t,i)}o.memoizedState=i;var u={value:i,getSnapshot:t};return o.queue=u,tm(qh.bind(null,r,u,e),[e]),r.flags|=2048,yl(9,{destroy:void 0},kh.bind(null,r,u,i,t),null),i},useId:function(){var e=_t(),t=Oe.identifierPrefix;if(_e){var i=on,r=cn;i=(r&~(1<<32-Ot(r)-1)).toString(32)+i,t="_"+t+"R_"+i,i=Ws++,0<i&&(t+="H"+i.toString(32)),t+="_"}else i=Ov++,t="_"+t+"r_"+i.toString(32)+"_";return e.memoizedState=t},useHostTransitionStatus:Lo,useFormState:Fh,useActionState:Fh,useOptimistic:function(e){var t=_t();t.memoizedState=t.baseState=e;var i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=i,t=Uo.bind(null,le,!0,i),i.dispatch=t,[e,t]},useMemoCache:wo,useCacheRefresh:function(){return _t().memoizedState=Hv.bind(null,le)},useEffectEvent:function(e){var t=_t(),i={impl:e};return t.memoizedState=i,function(){if((xe&2)!==0)throw Error(s(440));return i.impl.apply(void 0,arguments)}}},Ho={readContext:ot,use:tr,useCallback:rm,useContext:ot,useEffect:Oo,useImperativeHandle:sm,useInsertionEffect:im,useLayoutEffect:lm,useMemo:cm,useReducer:nr,useRef:em,useState:function(){return nr(Sn)},useDebugValue:jo,useDeferredValue:function(e,t){var i=Qe();return om(i,we.memoizedState,e,t)},useTransition:function(){var e=nr(Sn)[0],t=Qe().memoizedState;return[typeof e=="boolean"?e:va(e),t]},useSyncExternalStore:Hh,useId:hm,useHostTransitionStatus:Lo,useFormState:$h,useActionState:$h,useOptimistic:function(e,t){var i=Qe();return Vh(i,we,e,t)},useMemoCache:wo,useCacheRefresh:mm};Ho.useEffectEvent=nm;var vm={readContext:ot,use:tr,useCallback:rm,useContext:ot,useEffect:Oo,useImperativeHandle:sm,useInsertionEffect:im,useLayoutEffect:lm,useMemo:cm,useReducer:Ro,useRef:em,useState:function(){return Ro(Sn)},useDebugValue:jo,useDeferredValue:function(e,t){var i=Qe();return we===null?zo(i,e,t):om(i,we.memoizedState,e,t)},useTransition:function(){var e=Ro(Sn)[0],t=Qe().memoizedState;return[typeof e=="boolean"?e:va(e),t]},useSyncExternalStore:Hh,useId:hm,useHostTransitionStatus:Lo,useFormState:Wh,useActionState:Wh,useOptimistic:function(e,t){var i=Qe();return we!==null?Vh(i,we,e,t):(i.baseState=e,[e,i.queue.dispatch])},useMemoCache:wo,useCacheRefresh:mm};vm.useEffectEvent=nm;function Bo(e,t,i,r){t=e.memoizedState,i=i(r,t),i=i==null?t:v({},t,i),e.memoizedState=i,e.lanes===0&&(e.updateQueue.baseState=i)}var ko={enqueueSetState:function(e,t,i){e=e._reactInternals;var r=Bt(),o=Qn(r);o.payload=t,i!=null&&(o.callback=i),t=Xn(e,o,r),t!==null&&(wt(t,e,r),ga(t,e,r))},enqueueReplaceState:function(e,t,i){e=e._reactInternals;var r=Bt(),o=Qn(r);o.tag=1,o.payload=t,i!=null&&(o.callback=i),t=Xn(e,o,r),t!==null&&(wt(t,e,r),ga(t,e,r))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var i=Bt(),r=Qn(i);r.tag=2,t!=null&&(r.callback=t),t=Xn(e,r,i),t!==null&&(wt(t,e,i),ga(t,e,i))}};function bm(e,t,i,r,o,u,h){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,u,h):t.prototype&&t.prototype.isPureReactComponent?!ra(i,r)||!ra(o,u):!0}function Sm(e,t,i,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(i,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(i,r),t.state!==e&&ko.enqueueReplaceState(t,t.state,null)}function zi(e,t){var i=t;if("ref"in t){i={};for(var r in t)r!=="ref"&&(i[r]=t[r])}if(e=e.defaultProps){i===t&&(i=v({},i));for(var o in e)i[o]===void 0&&(i[o]=e[o])}return i}function xm(e){Us(e)}function Em(e){console.error(e)}function Cm(e){Us(e)}function sr(e,t){try{var i=e.onUncaughtError;i(t.value,{componentStack:t.stack})}catch(r){setTimeout(function(){throw r})}}function Tm(e,t,i){try{var r=e.onCaughtError;r(i.value,{componentStack:i.stack,errorBoundary:t.tag===1?t.stateNode:null})}catch(o){setTimeout(function(){throw o})}}function qo(e,t,i){return i=Qn(i),i.tag=3,i.payload={element:null},i.callback=function(){sr(e,t)},i}function Nm(e){return e=Qn(e),e.tag=3,e}function wm(e,t,i,r){var o=i.type.getDerivedStateFromError;if(typeof o=="function"){var u=r.value;e.payload=function(){return o(u)},e.callback=function(){Tm(t,i,r)}}var h=i.stateNode;h!==null&&typeof h.componentDidCatch=="function"&&(e.callback=function(){Tm(t,i,r),typeof o!="function"&&(Jn===null?Jn=new Set([this]):Jn.add(this));var _=r.stack;this.componentDidCatch(r.value,{componentStack:_!==null?_:""})})}function kv(e,t,i,r,o){if(i.flags|=32768,r!==null&&typeof r=="object"&&typeof r.then=="function"){if(t=i.alternate,t!==null&&ol(t,i,o,!0),i=It.current,i!==null){switch(i.tag){case 31:case 13:return Kt===null?_r():i.alternate===null&&ke===0&&(ke=3),i.flags&=-257,i.flags|=65536,i.lanes=o,r===Ps?i.flags|=16384:(t=i.updateQueue,t===null?i.updateQueue=new Set([r]):t.add(r),du(e,r,o)),!1;case 22:return i.flags|=65536,r===Ps?i.flags|=16384:(t=i.updateQueue,t===null?(t={transitions:null,markerInstances:null,retryQueue:new Set([r])},i.updateQueue=t):(i=t.retryQueue,i===null?t.retryQueue=new Set([r]):i.add(r)),du(e,r,o)),!1}throw Error(s(435,i.tag))}return du(e,r,o),_r(),!1}if(_e)return t=It.current,t!==null?((t.flags&65536)===0&&(t.flags|=256),t.flags|=65536,t.lanes=o,r!==ao&&(e=Error(s(422),{cause:r}),ua(Qt(e,i)))):(r!==ao&&(t=Error(s(423),{cause:r}),ua(Qt(t,i))),e=e.current.alternate,e.flags|=65536,o&=-o,e.lanes|=o,r=Qt(r,i),o=qo(e.stateNode,r,o),yo(e,o),ke!==4&&(ke=2)),!1;var u=Error(s(520),{cause:r});if(u=Qt(u,i),Ra===null?Ra=[u]:Ra.push(u),ke!==4&&(ke=2),t===null)return!0;r=Qt(r,i),i=t;do{switch(i.tag){case 3:return i.flags|=65536,e=o&-o,i.lanes|=e,e=qo(i.stateNode,r,e),yo(i,e),!1;case 1:if(t=i.type,u=i.stateNode,(i.flags&128)===0&&(typeof t.getDerivedStateFromError=="function"||u!==null&&typeof u.componentDidCatch=="function"&&(Jn===null||!Jn.has(u))))return i.flags|=65536,o&=-o,i.lanes|=o,o=Nm(o),wm(o,e,i,r),yo(i,o),!1}i=i.return}while(i!==null);return!1}var Go=Error(s(461)),Ze=!1;function ut(e,t,i,r){t.child=e===null?Dh(t,null,i,r):Oi(t,e.child,i,r)}function Am(e,t,i,r,o){i=i.render;var u=t.ref;if("ref"in r){var h={};for(var _ in r)_!=="ref"&&(h[_]=r[_])}else h=r;return Ai(t),r=Eo(e,t,i,h,u,o),_=Co(),e!==null&&!Ze?(To(e,t,o),xn(e,t,o)):(_e&&_&&io(t),t.flags|=1,ut(e,t,r,o),t.child)}function Rm(e,t,i,r,o){if(e===null){var u=i.type;return typeof u=="function"&&!eo(u)&&u.defaultProps===void 0&&i.compare===null?(t.tag=15,t.type=u,Mm(e,t,u,r,o)):(e=qs(i.type,null,r,t,t.mode,o),e.ref=t.ref,e.return=t,t.child=e)}if(u=e.child,!Fo(e,o)){var h=u.memoizedProps;if(i=i.compare,i=i!==null?i:ra,i(h,r)&&e.ref===t.ref)return xn(e,t,o)}return t.flags|=1,e=pn(u,r),e.ref=t.ref,e.return=t,t.child=e}function Mm(e,t,i,r,o){if(e!==null){var u=e.memoizedProps;if(ra(u,r)&&e.ref===t.ref)if(Ze=!1,t.pendingProps=r=u,Fo(e,o))(e.flags&131072)!==0&&(Ze=!0);else return t.lanes=e.lanes,xn(e,t,o)}return Yo(e,t,i,r,o)}function Dm(e,t,i,r){var o=r.children,u=e!==null?e.memoizedState:null;if(e===null&&t.stateNode===null&&(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),r.mode==="hidden"){if((t.flags&128)!==0){if(u=u!==null?u.baseLanes|i:i,e!==null){for(r=t.child=e.child,o=0;r!==null;)o=o|r.lanes|r.childLanes,r=r.sibling;r=o&~u}else r=0,t.child=null;return Om(e,t,u,i,r)}if((i&536870912)!==0)t.memoizedState={baseLanes:0,cachePool:null},e!==null&&Qs(t,u!==null?u.cachePool:null),u!==null?zh(t,u):vo(),Ih(t);else return r=t.lanes=536870912,Om(e,t,u!==null?u.baseLanes|i:i,i,r)}else u!==null?(Qs(t,u.cachePool),zh(t,u),Zn(),t.memoizedState=null):(e!==null&&Qs(t,null),vo(),Zn());return ut(e,t,o,i),t.child}function xa(e,t){return e!==null&&e.tag===22||t.stateNode!==null||(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),t.sibling}function Om(e,t,i,r,o){var u=ho();return u=u===null?null:{parent:Xe._currentValue,pool:u},t.memoizedState={baseLanes:i,cachePool:u},e!==null&&Qs(t,null),vo(),Ih(t),e!==null&&ol(e,t,r,!0),t.childLanes=o,null}function rr(e,t){return t=or({mode:t.mode,children:t.children},e.mode),t.ref=e.ref,e.child=t,t.return=e,t}function jm(e,t,i){return Oi(t,e.child,null,i),e=rr(t,t.pendingProps),e.flags|=2,Lt(t),t.memoizedState=null,e}function qv(e,t,i){var r=t.pendingProps,o=(t.flags&128)!==0;if(t.flags&=-129,e===null){if(_e){if(r.mode==="hidden")return e=rr(t,r),t.lanes=536870912,xa(null,e);if(So(t),(e=Le)?(e=Qg(e,Zt),e=e!==null&&e.data==="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:kn!==null?{id:cn,overflow:on}:null,retryLane:536870912,hydrationErrors:null},i=ph(e),i.return=t,t.child=i,ct=t,Le=null)):e=null,e===null)throw Gn(t);return t.lanes=536870912,null}return rr(t,r)}var u=e.memoizedState;if(u!==null){var h=u.dehydrated;if(So(t),o)if(t.flags&256)t.flags&=-257,t=jm(e,t,i);else if(t.memoizedState!==null)t.child=e.child,t.flags|=128,t=null;else throw Error(s(558));else if(Ze||ol(e,t,i,!1),o=(i&e.childLanes)!==0,Ze||o){if(r=Oe,r!==null&&(h=Ed(r,i),h!==0&&h!==u.retryLane))throw u.retryLane=h,Ci(e,h),wt(r,e,h),Go;_r(),t=jm(e,t,i)}else e=u.treeContext,Le=Ft(h.nextSibling),ct=t,_e=!0,qn=null,Zt=!1,e!==null&&vh(t,e),t=rr(t,r),t.flags|=4096;return t}return e=pn(e.child,{mode:r.mode,children:r.children}),e.ref=t.ref,t.child=e,e.return=t,e}function cr(e,t){var i=t.ref;if(i===null)e!==null&&e.ref!==null&&(t.flags|=4194816);else{if(typeof i!="function"&&typeof i!="object")throw Error(s(284));(e===null||e.ref!==i)&&(t.flags|=4194816)}}function Yo(e,t,i,r,o){return Ai(t),i=Eo(e,t,i,r,void 0,o),r=Co(),e!==null&&!Ze?(To(e,t,o),xn(e,t,o)):(_e&&r&&io(t),t.flags|=1,ut(e,t,i,o),t.child)}function zm(e,t,i,r,o,u){return Ai(t),t.updateQueue=null,i=Uh(t,r,i,o),Lh(e),r=Co(),e!==null&&!Ze?(To(e,t,u),xn(e,t,u)):(_e&&r&&io(t),t.flags|=1,ut(e,t,i,u),t.child)}function Im(e,t,i,r,o){if(Ai(t),t.stateNode===null){var u=al,h=i.contextType;typeof h=="object"&&h!==null&&(u=ot(h)),u=new i(r,u),t.memoizedState=u.state!==null&&u.state!==void 0?u.state:null,u.updater=ko,t.stateNode=u,u._reactInternals=t,u=t.stateNode,u.props=r,u.state=t.memoizedState,u.refs={},go(t),h=i.contextType,u.context=typeof h=="object"&&h!==null?ot(h):al,u.state=t.memoizedState,h=i.getDerivedStateFromProps,typeof h=="function"&&(Bo(t,i,h,r),u.state=t.memoizedState),typeof i.getDerivedStateFromProps=="function"||typeof u.getSnapshotBeforeUpdate=="function"||typeof u.UNSAFE_componentWillMount!="function"&&typeof u.componentWillMount!="function"||(h=u.state,typeof u.componentWillMount=="function"&&u.componentWillMount(),typeof u.UNSAFE_componentWillMount=="function"&&u.UNSAFE_componentWillMount(),h!==u.state&&ko.enqueueReplaceState(u,u.state,null),ya(t,r,u,o),pa(),u.state=t.memoizedState),typeof u.componentDidMount=="function"&&(t.flags|=4194308),r=!0}else if(e===null){u=t.stateNode;var _=t.memoizedProps,x=zi(i,_);u.props=x;var w=u.context,D=i.contextType;h=al,typeof D=="object"&&D!==null&&(h=ot(D));var I=i.getDerivedStateFromProps;D=typeof I=="function"||typeof u.getSnapshotBeforeUpdate=="function",_=t.pendingProps!==_,D||typeof u.UNSAFE_componentWillReceiveProps!="function"&&typeof u.componentWillReceiveProps!="function"||(_||w!==h)&&Sm(t,u,r,h),Vn=!1;var A=t.memoizedState;u.state=A,ya(t,r,u,o),pa(),w=t.memoizedState,_||A!==w||Vn?(typeof I=="function"&&(Bo(t,i,I,r),w=t.memoizedState),(x=Vn||bm(t,i,x,r,A,w,h))?(D||typeof u.UNSAFE_componentWillMount!="function"&&typeof u.componentWillMount!="function"||(typeof u.componentWillMount=="function"&&u.componentWillMount(),typeof u.UNSAFE_componentWillMount=="function"&&u.UNSAFE_componentWillMount()),typeof u.componentDidMount=="function"&&(t.flags|=4194308)):(typeof u.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=w),u.props=r,u.state=w,u.context=h,r=x):(typeof u.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{u=t.stateNode,po(e,t),h=t.memoizedProps,D=zi(i,h),u.props=D,I=t.pendingProps,A=u.context,w=i.contextType,x=al,typeof w=="object"&&w!==null&&(x=ot(w)),_=i.getDerivedStateFromProps,(w=typeof _=="function"||typeof u.getSnapshotBeforeUpdate=="function")||typeof u.UNSAFE_componentWillReceiveProps!="function"&&typeof u.componentWillReceiveProps!="function"||(h!==I||A!==x)&&Sm(t,u,r,x),Vn=!1,A=t.memoizedState,u.state=A,ya(t,r,u,o),pa();var R=t.memoizedState;h!==I||A!==R||Vn||e!==null&&e.dependencies!==null&&Ys(e.dependencies)?(typeof _=="function"&&(Bo(t,i,_,r),R=t.memoizedState),(D=Vn||bm(t,i,D,r,A,R,x)||e!==null&&e.dependencies!==null&&Ys(e.dependencies))?(w||typeof u.UNSAFE_componentWillUpdate!="function"&&typeof u.componentWillUpdate!="function"||(typeof u.componentWillUpdate=="function"&&u.componentWillUpdate(r,R,x),typeof u.UNSAFE_componentWillUpdate=="function"&&u.UNSAFE_componentWillUpdate(r,R,x)),typeof u.componentDidUpdate=="function"&&(t.flags|=4),typeof u.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof u.componentDidUpdate!="function"||h===e.memoizedProps&&A===e.memoizedState||(t.flags|=4),typeof u.getSnapshotBeforeUpdate!="function"||h===e.memoizedProps&&A===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=R),u.props=r,u.state=R,u.context=x,r=D):(typeof u.componentDidUpdate!="function"||h===e.memoizedProps&&A===e.memoizedState||(t.flags|=4),typeof u.getSnapshotBeforeUpdate!="function"||h===e.memoizedProps&&A===e.memoizedState||(t.flags|=1024),r=!1)}return u=r,cr(e,t),r=(t.flags&128)!==0,u||r?(u=t.stateNode,i=r&&typeof i.getDerivedStateFromError!="function"?null:u.render(),t.flags|=1,e!==null&&r?(t.child=Oi(t,e.child,null,o),t.child=Oi(t,null,i,o)):ut(e,t,i,o),t.memoizedState=u.state,e=t.child):e=xn(e,t,o),e}function Lm(e,t,i,r){return Ni(),t.flags|=256,ut(e,t,i,r),t.child}var Vo={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Qo(e){return{baseLanes:e,cachePool:Th()}}function Xo(e,t,i){return e=e!==null?e.childLanes&~i:0,t&&(e|=Ht),e}function Um(e,t,i){var r=t.pendingProps,o=!1,u=(t.flags&128)!==0,h;if((h=u)||(h=e!==null&&e.memoizedState===null?!1:(Ve.current&2)!==0),h&&(o=!0,t.flags&=-129),h=(t.flags&32)!==0,t.flags&=-33,e===null){if(_e){if(o?Pn(t):Zn(),(e=Le)?(e=Qg(e,Zt),e=e!==null&&e.data!=="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:kn!==null?{id:cn,overflow:on}:null,retryLane:536870912,hydrationErrors:null},i=ph(e),i.return=t,t.child=i,ct=t,Le=null)):e=null,e===null)throw Gn(t);return Au(e)?t.lanes=32:t.lanes=536870912,null}var _=r.children;return r=r.fallback,o?(Zn(),o=t.mode,_=or({mode:"hidden",children:_},o),r=Ti(r,o,i,null),_.return=t,r.return=t,_.sibling=r,t.child=_,r=t.child,r.memoizedState=Qo(i),r.childLanes=Xo(e,h,i),t.memoizedState=Vo,xa(null,r)):(Pn(t),Po(t,_))}var x=e.memoizedState;if(x!==null&&(_=x.dehydrated,_!==null)){if(u)t.flags&256?(Pn(t),t.flags&=-257,t=Zo(e,t,i)):t.memoizedState!==null?(Zn(),t.child=e.child,t.flags|=128,t=null):(Zn(),_=r.fallback,o=t.mode,r=or({mode:"visible",children:r.children},o),_=Ti(_,o,i,null),_.flags|=2,r.return=t,_.return=t,r.sibling=_,t.child=r,Oi(t,e.child,null,i),r=t.child,r.memoizedState=Qo(i),r.childLanes=Xo(e,h,i),t.memoizedState=Vo,t=xa(null,r));else if(Pn(t),Au(_)){if(h=_.nextSibling&&_.nextSibling.dataset,h)var w=h.dgst;h=w,r=Error(s(419)),r.stack="",r.digest=h,ua({value:r,source:null,stack:null}),t=Zo(e,t,i)}else if(Ze||ol(e,t,i,!1),h=(i&e.childLanes)!==0,Ze||h){if(h=Oe,h!==null&&(r=Ed(h,i),r!==0&&r!==x.retryLane))throw x.retryLane=r,Ci(e,r),wt(h,e,r),Go;wu(_)||_r(),t=Zo(e,t,i)}else wu(_)?(t.flags|=192,t.child=e.child,t=null):(e=x.treeContext,Le=Ft(_.nextSibling),ct=t,_e=!0,qn=null,Zt=!1,e!==null&&vh(t,e),t=Po(t,r.children),t.flags|=4096);return t}return o?(Zn(),_=r.fallback,o=t.mode,x=e.child,w=x.sibling,r=pn(x,{mode:"hidden",children:r.children}),r.subtreeFlags=x.subtreeFlags&65011712,w!==null?_=pn(w,_):(_=Ti(_,o,i,null),_.flags|=2),_.return=t,r.return=t,r.sibling=_,t.child=r,xa(null,r),r=t.child,_=e.child.memoizedState,_===null?_=Qo(i):(o=_.cachePool,o!==null?(x=Xe._currentValue,o=o.parent!==x?{parent:x,pool:x}:o):o=Th(),_={baseLanes:_.baseLanes|i,cachePool:o}),r.memoizedState=_,r.childLanes=Xo(e,h,i),t.memoizedState=Vo,xa(e.child,r)):(Pn(t),i=e.child,e=i.sibling,i=pn(i,{mode:"visible",children:r.children}),i.return=t,i.sibling=null,e!==null&&(h=t.deletions,h===null?(t.deletions=[e],t.flags|=16):h.push(e)),t.child=i,t.memoizedState=null,i)}function Po(e,t){return t=or({mode:"visible",children:t},e.mode),t.return=e,e.child=t}function or(e,t){return e=zt(22,e,null,t),e.lanes=0,e}function Zo(e,t,i){return Oi(t,e.child,null,i),e=Po(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Hm(e,t,i){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),co(e.return,t,i)}function Ko(e,t,i,r,o,u){var h=e.memoizedState;h===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:i,tailMode:o,treeForkCount:u}:(h.isBackwards=t,h.rendering=null,h.renderingStartTime=0,h.last=r,h.tail=i,h.tailMode=o,h.treeForkCount=u)}function Bm(e,t,i){var r=t.pendingProps,o=r.revealOrder,u=r.tail;r=r.children;var h=Ve.current,_=(h&2)!==0;if(_?(h=h&1|2,t.flags|=128):h&=1,V(Ve,h),ut(e,t,r,i),r=_e?oa:0,!_&&e!==null&&(e.flags&128)!==0)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Hm(e,i,t);else if(e.tag===19)Hm(e,i,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(o){case"forwards":for(i=t.child,o=null;i!==null;)e=i.alternate,e!==null&&$s(e)===null&&(o=i),i=i.sibling;i=o,i===null?(o=t.child,t.child=null):(o=i.sibling,i.sibling=null),Ko(t,!1,o,i,u,r);break;case"backwards":case"unstable_legacy-backwards":for(i=null,o=t.child,t.child=null;o!==null;){if(e=o.alternate,e!==null&&$s(e)===null){t.child=o;break}e=o.sibling,o.sibling=i,i=o,o=e}Ko(t,!0,i,null,u,r);break;case"together":Ko(t,!1,null,null,void 0,r);break;default:t.memoizedState=null}return t.child}function xn(e,t,i){if(e!==null&&(t.dependencies=e.dependencies),$n|=t.lanes,(i&t.childLanes)===0)if(e!==null){if(ol(e,t,i,!1),(i&t.childLanes)===0)return null}else return null;if(e!==null&&t.child!==e.child)throw Error(s(153));if(t.child!==null){for(e=t.child,i=pn(e,e.pendingProps),t.child=i,i.return=t;e.sibling!==null;)e=e.sibling,i=i.sibling=pn(e,e.pendingProps),i.return=t;i.sibling=null}return t.child}function Fo(e,t){return(e.lanes&t)!==0?!0:(e=e.dependencies,!!(e!==null&&Ys(e)))}function Gv(e,t,i){switch(t.tag){case 3:yt(t,t.stateNode.containerInfo),Yn(t,Xe,e.memoizedState.cache),Ni();break;case 27:case 5:Zl(t);break;case 4:yt(t,t.stateNode.containerInfo);break;case 10:Yn(t,t.type,t.memoizedProps.value);break;case 31:if(t.memoizedState!==null)return t.flags|=128,So(t),null;break;case 13:var r=t.memoizedState;if(r!==null)return r.dehydrated!==null?(Pn(t),t.flags|=128,null):(i&t.child.childLanes)!==0?Um(e,t,i):(Pn(t),e=xn(e,t,i),e!==null?e.sibling:null);Pn(t);break;case 19:var o=(e.flags&128)!==0;if(r=(i&t.childLanes)!==0,r||(ol(e,t,i,!1),r=(i&t.childLanes)!==0),o){if(r)return Bm(e,t,i);t.flags|=128}if(o=t.memoizedState,o!==null&&(o.rendering=null,o.tail=null,o.lastEffect=null),V(Ve,Ve.current),r)break;return null;case 22:return t.lanes=0,Dm(e,t,i,t.pendingProps);case 24:Yn(t,Xe,e.memoizedState.cache)}return xn(e,t,i)}function km(e,t,i){if(e!==null)if(e.memoizedProps!==t.pendingProps)Ze=!0;else{if(!Fo(e,i)&&(t.flags&128)===0)return Ze=!1,Gv(e,t,i);Ze=(e.flags&131072)!==0}else Ze=!1,_e&&(t.flags&1048576)!==0&&_h(t,oa,t.index);switch(t.lanes=0,t.tag){case 16:e:{var r=t.pendingProps;if(e=Mi(t.elementType),t.type=e,typeof e=="function")eo(e)?(r=zi(e,r),t.tag=1,t=Im(null,t,e,r,i)):(t.tag=0,t=Yo(null,t,e,r,i));else{if(e!=null){var o=e.$$typeof;if(o===ee){t.tag=11,t=Am(null,t,e,r,i);break e}else if(o===q){t.tag=14,t=Rm(null,t,e,r,i);break e}}throw t=gt(e)||e,Error(s(306,t,""))}}return t;case 0:return Yo(e,t,t.type,t.pendingProps,i);case 1:return r=t.type,o=zi(r,t.pendingProps),Im(e,t,r,o,i);case 3:e:{if(yt(t,t.stateNode.containerInfo),e===null)throw Error(s(387));r=t.pendingProps;var u=t.memoizedState;o=u.element,po(e,t),ya(t,r,null,i);var h=t.memoizedState;if(r=h.cache,Yn(t,Xe,r),r!==u.cache&&oo(t,[Xe],i,!0),pa(),r=h.element,u.isDehydrated)if(u={element:r,isDehydrated:!1,cache:h.cache},t.updateQueue.baseState=u,t.memoizedState=u,t.flags&256){t=Lm(e,t,r,i);break e}else if(r!==o){o=Qt(Error(s(424)),t),ua(o),t=Lm(e,t,r,i);break e}else for(e=t.stateNode.containerInfo,e.nodeType===9?e=e.body:e=e.nodeName==="HTML"?e.ownerDocument.body:e,Le=Ft(e.firstChild),ct=t,_e=!0,qn=null,Zt=!0,i=Dh(t,null,r,i),t.child=i;i;)i.flags=i.flags&-3|4096,i=i.sibling;else{if(Ni(),r===o){t=xn(e,t,i);break e}ut(e,t,r,i)}t=t.child}return t;case 26:return cr(e,t),e===null?(i=$g(t.type,null,t.pendingProps,null))?t.memoizedState=i:_e||(i=t.type,e=t.pendingProps,r=Tr(ue.current).createElement(i),r[rt]=t,r[St]=e,ft(r,i,e),nt(r),t.stateNode=r):t.memoizedState=$g(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return Zl(t),e===null&&_e&&(r=t.stateNode=Zg(t.type,t.pendingProps,ue.current),ct=t,Zt=!0,o=Le,ni(t.type)?(Ru=o,Le=Ft(r.firstChild)):Le=o),ut(e,t,t.pendingProps.children,i),cr(e,t),e===null&&(t.flags|=4194304),t.child;case 5:return e===null&&_e&&((o=r=Le)&&(r=_b(r,t.type,t.pendingProps,Zt),r!==null?(t.stateNode=r,ct=t,Le=Ft(r.firstChild),Zt=!1,o=!0):o=!1),o||Gn(t)),Zl(t),o=t.type,u=t.pendingProps,h=e!==null?e.memoizedProps:null,r=u.children,Cu(o,u)?r=null:h!==null&&Cu(o,h)&&(t.flags|=32),t.memoizedState!==null&&(o=Eo(e,t,jv,null,null,i),Ua._currentValue=o),cr(e,t),ut(e,t,r,i),t.child;case 6:return e===null&&_e&&((e=i=Le)&&(i=vb(i,t.pendingProps,Zt),i!==null?(t.stateNode=i,ct=t,Le=null,e=!0):e=!1),e||Gn(t)),null;case 13:return Um(e,t,i);case 4:return yt(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=Oi(t,null,r,i):ut(e,t,r,i),t.child;case 11:return Am(e,t,t.type,t.pendingProps,i);case 7:return ut(e,t,t.pendingProps,i),t.child;case 8:return ut(e,t,t.pendingProps.children,i),t.child;case 12:return ut(e,t,t.pendingProps.children,i),t.child;case 10:return r=t.pendingProps,Yn(t,t.type,r.value),ut(e,t,r.children,i),t.child;case 9:return o=t.type._context,r=t.pendingProps.children,Ai(t),o=ot(o),r=r(o),t.flags|=1,ut(e,t,r,i),t.child;case 14:return Rm(e,t,t.type,t.pendingProps,i);case 15:return Mm(e,t,t.type,t.pendingProps,i);case 19:return Bm(e,t,i);case 31:return qv(e,t,i);case 22:return Dm(e,t,i,t.pendingProps);case 24:return Ai(t),r=ot(Xe),e===null?(o=ho(),o===null&&(o=Oe,u=uo(),o.pooledCache=u,u.refCount++,u!==null&&(o.pooledCacheLanes|=i),o=u),t.memoizedState={parent:r,cache:o},go(t),Yn(t,Xe,o)):((e.lanes&i)!==0&&(po(e,t),ya(t,null,null,i),pa()),o=e.memoizedState,u=t.memoizedState,o.parent!==r?(o={parent:r,cache:r},t.memoizedState=o,t.lanes===0&&(t.memoizedState=t.updateQueue.baseState=o),Yn(t,Xe,r)):(r=u.cache,Yn(t,Xe,r),r!==o.cache&&oo(t,[Xe],i,!0))),ut(e,t,t.pendingProps.children,i),t.child;case 29:throw t.pendingProps}throw Error(s(156,t.tag))}function En(e){e.flags|=4}function $o(e,t,i,r,o){if((t=(e.mode&32)!==0)&&(t=!1),t){if(e.flags|=16777216,(o&335544128)===o)if(e.stateNode.complete)e.flags|=8192;else if(hg())e.flags|=8192;else throw Di=Ps,mo}else e.flags&=-16777217}function qm(e,t){if(t.type!=="stylesheet"||(t.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!np(t))if(hg())e.flags|=8192;else throw Di=Ps,mo}function ur(e,t){t!==null&&(e.flags|=4),e.flags&16384&&(t=e.tag!==22?bd():536870912,e.lanes|=t,Sl|=t)}function Ea(e,t){if(!_e)switch(e.tailMode){case"hidden":t=e.tail;for(var i=null;t!==null;)t.alternate!==null&&(i=t),t=t.sibling;i===null?e.tail=null:i.sibling=null;break;case"collapsed":i=e.tail;for(var r=null;i!==null;)i.alternate!==null&&(r=i),i=i.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Ue(e){var t=e.alternate!==null&&e.alternate.child===e.child,i=0,r=0;if(t)for(var o=e.child;o!==null;)i|=o.lanes|o.childLanes,r|=o.subtreeFlags&65011712,r|=o.flags&65011712,o.return=e,o=o.sibling;else for(o=e.child;o!==null;)i|=o.lanes|o.childLanes,r|=o.subtreeFlags,r|=o.flags,o.return=e,o=o.sibling;return e.subtreeFlags|=r,e.childLanes=i,t}function Yv(e,t,i){var r=t.pendingProps;switch(lo(t),t.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ue(t),null;case 1:return Ue(t),null;case 3:return i=t.stateNode,r=null,e!==null&&(r=e.memoizedState.cache),t.memoizedState.cache!==r&&(t.flags|=2048),vn(Xe),Ye(),i.pendingContext&&(i.context=i.pendingContext,i.pendingContext=null),(e===null||e.child===null)&&(cl(t)?En(t):e===null||e.memoizedState.isDehydrated&&(t.flags&256)===0||(t.flags|=1024,so())),Ue(t),null;case 26:var o=t.type,u=t.memoizedState;return e===null?(En(t),u!==null?(Ue(t),qm(t,u)):(Ue(t),$o(t,o,null,r,i))):u?u!==e.memoizedState?(En(t),Ue(t),qm(t,u)):(Ue(t),t.flags&=-16777217):(e=e.memoizedProps,e!==r&&En(t),Ue(t),$o(t,o,e,r,i)),null;case 27:if(Ss(t),i=ue.current,o=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==r&&En(t);else{if(!r){if(t.stateNode===null)throw Error(s(166));return Ue(t),null}e=P.current,cl(t)?bh(t):(e=Zg(o,r,i),t.stateNode=e,En(t))}return Ue(t),null;case 5:if(Ss(t),o=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==r&&En(t);else{if(!r){if(t.stateNode===null)throw Error(s(166));return Ue(t),null}if(u=P.current,cl(t))bh(t);else{var h=Tr(ue.current);switch(u){case 1:u=h.createElementNS("http://www.w3.org/2000/svg",o);break;case 2:u=h.createElementNS("http://www.w3.org/1998/Math/MathML",o);break;default:switch(o){case"svg":u=h.createElementNS("http://www.w3.org/2000/svg",o);break;case"math":u=h.createElementNS("http://www.w3.org/1998/Math/MathML",o);break;case"script":u=h.createElement("div"),u.innerHTML="<script><\/script>",u=u.removeChild(u.firstChild);break;case"select":u=typeof r.is=="string"?h.createElement("select",{is:r.is}):h.createElement("select"),r.multiple?u.multiple=!0:r.size&&(u.size=r.size);break;default:u=typeof r.is=="string"?h.createElement(o,{is:r.is}):h.createElement(o)}}u[rt]=t,u[St]=r;e:for(h=t.child;h!==null;){if(h.tag===5||h.tag===6)u.appendChild(h.stateNode);else if(h.tag!==4&&h.tag!==27&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===t)break e;for(;h.sibling===null;){if(h.return===null||h.return===t)break e;h=h.return}h.sibling.return=h.return,h=h.sibling}t.stateNode=u;e:switch(ft(u,o,r),o){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}r&&En(t)}}return Ue(t),$o(t,t.type,e===null?null:e.memoizedProps,t.pendingProps,i),null;case 6:if(e&&t.stateNode!=null)e.memoizedProps!==r&&En(t);else{if(typeof r!="string"&&t.stateNode===null)throw Error(s(166));if(e=ue.current,cl(t)){if(e=t.stateNode,i=t.memoizedProps,r=null,o=ct,o!==null)switch(o.tag){case 27:case 5:r=o.memoizedProps}e[rt]=t,e=!!(e.nodeValue===i||r!==null&&r.suppressHydrationWarning===!0||Ug(e.nodeValue,i)),e||Gn(t,!0)}else e=Tr(e).createTextNode(r),e[rt]=t,t.stateNode=e}return Ue(t),null;case 31:if(i=t.memoizedState,e===null||e.memoizedState!==null){if(r=cl(t),i!==null){if(e===null){if(!r)throw Error(s(318));if(e=t.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(s(557));e[rt]=t}else Ni(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;Ue(t),e=!1}else i=so(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=i),e=!0;if(!e)return t.flags&256?(Lt(t),t):(Lt(t),null);if((t.flags&128)!==0)throw Error(s(558))}return Ue(t),null;case 13:if(r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(o=cl(t),r!==null&&r.dehydrated!==null){if(e===null){if(!o)throw Error(s(318));if(o=t.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(s(317));o[rt]=t}else Ni(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;Ue(t),o=!1}else o=so(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=o),o=!0;if(!o)return t.flags&256?(Lt(t),t):(Lt(t),null)}return Lt(t),(t.flags&128)!==0?(t.lanes=i,t):(i=r!==null,e=e!==null&&e.memoizedState!==null,i&&(r=t.child,o=null,r.alternate!==null&&r.alternate.memoizedState!==null&&r.alternate.memoizedState.cachePool!==null&&(o=r.alternate.memoizedState.cachePool.pool),u=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(u=r.memoizedState.cachePool.pool),u!==o&&(r.flags|=2048)),i!==e&&i&&(t.child.flags|=8192),ur(t,t.updateQueue),Ue(t),null);case 4:return Ye(),e===null&&vu(t.stateNode.containerInfo),Ue(t),null;case 10:return vn(t.type),Ue(t),null;case 19:if(L(Ve),r=t.memoizedState,r===null)return Ue(t),null;if(o=(t.flags&128)!==0,u=r.rendering,u===null)if(o)Ea(r,!1);else{if(ke!==0||e!==null&&(e.flags&128)!==0)for(e=t.child;e!==null;){if(u=$s(e),u!==null){for(t.flags|=128,Ea(r,!1),e=u.updateQueue,t.updateQueue=e,ur(t,e),t.subtreeFlags=0,e=i,i=t.child;i!==null;)gh(i,e),i=i.sibling;return V(Ve,Ve.current&1|2),_e&&yn(t,r.treeForkCount),t.child}e=e.sibling}r.tail!==null&&Mt()>gr&&(t.flags|=128,o=!0,Ea(r,!1),t.lanes=4194304)}else{if(!o)if(e=$s(u),e!==null){if(t.flags|=128,o=!0,e=e.updateQueue,t.updateQueue=e,ur(t,e),Ea(r,!0),r.tail===null&&r.tailMode==="hidden"&&!u.alternate&&!_e)return Ue(t),null}else 2*Mt()-r.renderingStartTime>gr&&i!==536870912&&(t.flags|=128,o=!0,Ea(r,!1),t.lanes=4194304);r.isBackwards?(u.sibling=t.child,t.child=u):(e=r.last,e!==null?e.sibling=u:t.child=u,r.last=u)}return r.tail!==null?(e=r.tail,r.rendering=e,r.tail=e.sibling,r.renderingStartTime=Mt(),e.sibling=null,i=Ve.current,V(Ve,o?i&1|2:i&1),_e&&yn(t,r.treeForkCount),e):(Ue(t),null);case 22:case 23:return Lt(t),bo(),r=t.memoizedState!==null,e!==null?e.memoizedState!==null!==r&&(t.flags|=8192):r&&(t.flags|=8192),r?(i&536870912)!==0&&(t.flags&128)===0&&(Ue(t),t.subtreeFlags&6&&(t.flags|=8192)):Ue(t),i=t.updateQueue,i!==null&&ur(t,i.retryQueue),i=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(i=e.memoizedState.cachePool.pool),r=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(r=t.memoizedState.cachePool.pool),r!==i&&(t.flags|=2048),e!==null&&L(Ri),null;case 24:return i=null,e!==null&&(i=e.memoizedState.cache),t.memoizedState.cache!==i&&(t.flags|=2048),vn(Xe),Ue(t),null;case 25:return null;case 30:return null}throw Error(s(156,t.tag))}function Vv(e,t){switch(lo(t),t.tag){case 1:return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return vn(Xe),Ye(),e=t.flags,(e&65536)!==0&&(e&128)===0?(t.flags=e&-65537|128,t):null;case 26:case 27:case 5:return Ss(t),null;case 31:if(t.memoizedState!==null){if(Lt(t),t.alternate===null)throw Error(s(340));Ni()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 13:if(Lt(t),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(s(340));Ni()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return L(Ve),null;case 4:return Ye(),null;case 10:return vn(t.type),null;case 22:case 23:return Lt(t),bo(),e!==null&&L(Ri),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 24:return vn(Xe),null;case 25:return null;default:return null}}function Gm(e,t){switch(lo(t),t.tag){case 3:vn(Xe),Ye();break;case 26:case 27:case 5:Ss(t);break;case 4:Ye();break;case 31:t.memoizedState!==null&&Lt(t);break;case 13:Lt(t);break;case 19:L(Ve);break;case 10:vn(t.type);break;case 22:case 23:Lt(t),bo(),e!==null&&L(Ri);break;case 24:vn(Xe)}}function Ca(e,t){try{var i=t.updateQueue,r=i!==null?i.lastEffect:null;if(r!==null){var o=r.next;i=o;do{if((i.tag&e)===e){r=void 0;var u=i.create,h=i.inst;r=u(),h.destroy=r}i=i.next}while(i!==o)}}catch(_){Te(t,t.return,_)}}function Kn(e,t,i){try{var r=t.updateQueue,o=r!==null?r.lastEffect:null;if(o!==null){var u=o.next;r=u;do{if((r.tag&e)===e){var h=r.inst,_=h.destroy;if(_!==void 0){h.destroy=void 0,o=t;var x=i,w=_;try{w()}catch(D){Te(o,x,D)}}}r=r.next}while(r!==u)}}catch(D){Te(t,t.return,D)}}function Ym(e){var t=e.updateQueue;if(t!==null){var i=e.stateNode;try{jh(t,i)}catch(r){Te(e,e.return,r)}}}function Vm(e,t,i){i.props=zi(e.type,e.memoizedProps),i.state=e.memoizedState;try{i.componentWillUnmount()}catch(r){Te(e,t,r)}}function Ta(e,t){try{var i=e.ref;if(i!==null){switch(e.tag){case 26:case 27:case 5:var r=e.stateNode;break;case 30:r=e.stateNode;break;default:r=e.stateNode}typeof i=="function"?e.refCleanup=i(r):i.current=r}}catch(o){Te(e,t,o)}}function un(e,t){var i=e.ref,r=e.refCleanup;if(i!==null)if(typeof r=="function")try{r()}catch(o){Te(e,t,o)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof i=="function")try{i(null)}catch(o){Te(e,t,o)}else i.current=null}function Qm(e){var t=e.type,i=e.memoizedProps,r=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":i.autoFocus&&r.focus();break e;case"img":i.src?r.src=i.src:i.srcSet&&(r.srcset=i.srcSet)}}catch(o){Te(e,e.return,o)}}function Jo(e,t,i){try{var r=e.stateNode;db(r,e.type,i,t),r[St]=t}catch(o){Te(e,e.return,o)}}function Xm(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&ni(e.type)||e.tag===4}function Wo(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Xm(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&ni(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function eu(e,t,i){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?(i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i).insertBefore(e,t):(t=i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i,t.appendChild(e),i=i._reactRootContainer,i!=null||t.onclick!==null||(t.onclick=mn));else if(r!==4&&(r===27&&ni(e.type)&&(i=e.stateNode,t=null),e=e.child,e!==null))for(eu(e,t,i),e=e.sibling;e!==null;)eu(e,t,i),e=e.sibling}function fr(e,t,i){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?i.insertBefore(e,t):i.appendChild(e);else if(r!==4&&(r===27&&ni(e.type)&&(i=e.stateNode),e=e.child,e!==null))for(fr(e,t,i),e=e.sibling;e!==null;)fr(e,t,i),e=e.sibling}function Pm(e){var t=e.stateNode,i=e.memoizedProps;try{for(var r=e.type,o=t.attributes;o.length;)t.removeAttributeNode(o[0]);ft(t,r,i),t[rt]=e,t[St]=i}catch(u){Te(e,e.return,u)}}var Cn=!1,Ke=!1,tu=!1,Zm=typeof WeakSet=="function"?WeakSet:Set,it=null;function Qv(e,t){if(e=e.containerInfo,xu=Or,e=sh(e),Pc(e)){if("selectionStart"in e)var i={start:e.selectionStart,end:e.selectionEnd};else e:{i=(i=e.ownerDocument)&&i.defaultView||window;var r=i.getSelection&&i.getSelection();if(r&&r.rangeCount!==0){i=r.anchorNode;var o=r.anchorOffset,u=r.focusNode;r=r.focusOffset;try{i.nodeType,u.nodeType}catch{i=null;break e}var h=0,_=-1,x=-1,w=0,D=0,I=e,A=null;t:for(;;){for(var R;I!==i||o!==0&&I.nodeType!==3||(_=h+o),I!==u||r!==0&&I.nodeType!==3||(x=h+r),I.nodeType===3&&(h+=I.nodeValue.length),(R=I.firstChild)!==null;)A=I,I=R;for(;;){if(I===e)break t;if(A===i&&++w===o&&(_=h),A===u&&++D===r&&(x=h),(R=I.nextSibling)!==null)break;I=A,A=I.parentNode}I=R}i=_===-1||x===-1?null:{start:_,end:x}}else i=null}i=i||{start:0,end:0}}else i=null;for(Eu={focusedElem:e,selectionRange:i},Or=!1,it=t;it!==null;)if(t=it,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,it=e;else for(;it!==null;){switch(t=it,u=t.alternate,e=t.flags,t.tag){case 0:if((e&4)!==0&&(e=t.updateQueue,e=e!==null?e.events:null,e!==null))for(i=0;i<e.length;i++)o=e[i],o.ref.impl=o.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&u!==null){e=void 0,i=t,o=u.memoizedProps,u=u.memoizedState,r=i.stateNode;try{var Q=zi(i.type,o);e=r.getSnapshotBeforeUpdate(Q,u),r.__reactInternalSnapshotBeforeUpdate=e}catch(F){Te(i,i.return,F)}}break;case 3:if((e&1024)!==0){if(e=t.stateNode.containerInfo,i=e.nodeType,i===9)Nu(e);else if(i===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":Nu(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(s(163))}if(e=t.sibling,e!==null){e.return=t.return,it=e;break}it=t.return}}function Km(e,t,i){var r=i.flags;switch(i.tag){case 0:case 11:case 15:Nn(e,i),r&4&&Ca(5,i);break;case 1:if(Nn(e,i),r&4)if(e=i.stateNode,t===null)try{e.componentDidMount()}catch(h){Te(i,i.return,h)}else{var o=zi(i.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(o,t,e.__reactInternalSnapshotBeforeUpdate)}catch(h){Te(i,i.return,h)}}r&64&&Ym(i),r&512&&Ta(i,i.return);break;case 3:if(Nn(e,i),r&64&&(e=i.updateQueue,e!==null)){if(t=null,i.child!==null)switch(i.child.tag){case 27:case 5:t=i.child.stateNode;break;case 1:t=i.child.stateNode}try{jh(e,t)}catch(h){Te(i,i.return,h)}}break;case 27:t===null&&r&4&&Pm(i);case 26:case 5:Nn(e,i),t===null&&r&4&&Qm(i),r&512&&Ta(i,i.return);break;case 12:Nn(e,i);break;case 31:Nn(e,i),r&4&&Jm(e,i);break;case 13:Nn(e,i),r&4&&Wm(e,i),r&64&&(e=i.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(i=eb.bind(null,i),bb(e,i))));break;case 22:if(r=i.memoizedState!==null||Cn,!r){t=t!==null&&t.memoizedState!==null||Ke,o=Cn;var u=Ke;Cn=r,(Ke=t)&&!u?wn(e,i,(i.subtreeFlags&8772)!==0):Nn(e,i),Cn=o,Ke=u}break;case 30:break;default:Nn(e,i)}}function Fm(e){var t=e.alternate;t!==null&&(e.alternate=null,Fm(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&Mc(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var He=null,Et=!1;function Tn(e,t,i){for(i=i.child;i!==null;)$m(e,t,i),i=i.sibling}function $m(e,t,i){if(Dt&&typeof Dt.onCommitFiberUnmount=="function")try{Dt.onCommitFiberUnmount(Kl,i)}catch{}switch(i.tag){case 26:Ke||un(i,t),Tn(e,t,i),i.memoizedState?i.memoizedState.count--:i.stateNode&&(i=i.stateNode,i.parentNode.removeChild(i));break;case 27:Ke||un(i,t);var r=He,o=Et;ni(i.type)&&(He=i.stateNode,Et=!1),Tn(e,t,i),za(i.stateNode),He=r,Et=o;break;case 5:Ke||un(i,t);case 6:if(r=He,o=Et,He=null,Tn(e,t,i),He=r,Et=o,He!==null)if(Et)try{(He.nodeType===9?He.body:He.nodeName==="HTML"?He.ownerDocument.body:He).removeChild(i.stateNode)}catch(u){Te(i,t,u)}else try{He.removeChild(i.stateNode)}catch(u){Te(i,t,u)}break;case 18:He!==null&&(Et?(e=He,Yg(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,i.stateNode),Rl(e)):Yg(He,i.stateNode));break;case 4:r=He,o=Et,He=i.stateNode.containerInfo,Et=!0,Tn(e,t,i),He=r,Et=o;break;case 0:case 11:case 14:case 15:Kn(2,i,t),Ke||Kn(4,i,t),Tn(e,t,i);break;case 1:Ke||(un(i,t),r=i.stateNode,typeof r.componentWillUnmount=="function"&&Vm(i,t,r)),Tn(e,t,i);break;case 21:Tn(e,t,i);break;case 22:Ke=(r=Ke)||i.memoizedState!==null,Tn(e,t,i),Ke=r;break;default:Tn(e,t,i)}}function Jm(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{Rl(e)}catch(i){Te(t,t.return,i)}}}function Wm(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{Rl(e)}catch(i){Te(t,t.return,i)}}function Xv(e){switch(e.tag){case 31:case 13:case 19:var t=e.stateNode;return t===null&&(t=e.stateNode=new Zm),t;case 22:return e=e.stateNode,t=e._retryCache,t===null&&(t=e._retryCache=new Zm),t;default:throw Error(s(435,e.tag))}}function dr(e,t){var i=Xv(e);t.forEach(function(r){if(!i.has(r)){i.add(r);var o=tb.bind(null,e,r);r.then(o,o)}})}function Ct(e,t){var i=t.deletions;if(i!==null)for(var r=0;r<i.length;r++){var o=i[r],u=e,h=t,_=h;e:for(;_!==null;){switch(_.tag){case 27:if(ni(_.type)){He=_.stateNode,Et=!1;break e}break;case 5:He=_.stateNode,Et=!1;break e;case 3:case 4:He=_.stateNode.containerInfo,Et=!0;break e}_=_.return}if(He===null)throw Error(s(160));$m(u,h,o),He=null,Et=!1,u=o.alternate,u!==null&&(u.return=null),o.return=null}if(t.subtreeFlags&13886)for(t=t.child;t!==null;)eg(t,e),t=t.sibling}var tn=null;function eg(e,t){var i=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:Ct(t,e),Tt(e),r&4&&(Kn(3,e,e.return),Ca(3,e),Kn(5,e,e.return));break;case 1:Ct(t,e),Tt(e),r&512&&(Ke||i===null||un(i,i.return)),r&64&&Cn&&(e=e.updateQueue,e!==null&&(r=e.callbacks,r!==null&&(i=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=i===null?r:i.concat(r))));break;case 26:var o=tn;if(Ct(t,e),Tt(e),r&512&&(Ke||i===null||un(i,i.return)),r&4){var u=i!==null?i.memoizedState:null;if(r=e.memoizedState,i===null)if(r===null)if(e.stateNode===null){e:{r=e.type,i=e.memoizedProps,o=o.ownerDocument||o;t:switch(r){case"title":u=o.getElementsByTagName("title")[0],(!u||u[Jl]||u[rt]||u.namespaceURI==="http://www.w3.org/2000/svg"||u.hasAttribute("itemprop"))&&(u=o.createElement(r),o.head.insertBefore(u,o.querySelector("head > title"))),ft(u,r,i),u[rt]=e,nt(u),r=u;break e;case"link":var h=ep("link","href",o).get(r+(i.href||""));if(h){for(var _=0;_<h.length;_++)if(u=h[_],u.getAttribute("href")===(i.href==null||i.href===""?null:i.href)&&u.getAttribute("rel")===(i.rel==null?null:i.rel)&&u.getAttribute("title")===(i.title==null?null:i.title)&&u.getAttribute("crossorigin")===(i.crossOrigin==null?null:i.crossOrigin)){h.splice(_,1);break t}}u=o.createElement(r),ft(u,r,i),o.head.appendChild(u);break;case"meta":if(h=ep("meta","content",o).get(r+(i.content||""))){for(_=0;_<h.length;_++)if(u=h[_],u.getAttribute("content")===(i.content==null?null:""+i.content)&&u.getAttribute("name")===(i.name==null?null:i.name)&&u.getAttribute("property")===(i.property==null?null:i.property)&&u.getAttribute("http-equiv")===(i.httpEquiv==null?null:i.httpEquiv)&&u.getAttribute("charset")===(i.charSet==null?null:i.charSet)){h.splice(_,1);break t}}u=o.createElement(r),ft(u,r,i),o.head.appendChild(u);break;default:throw Error(s(468,r))}u[rt]=e,nt(u),r=u}e.stateNode=r}else tp(o,e.type,e.stateNode);else e.stateNode=Wg(o,r,e.memoizedProps);else u!==r?(u===null?i.stateNode!==null&&(i=i.stateNode,i.parentNode.removeChild(i)):u.count--,r===null?tp(o,e.type,e.stateNode):Wg(o,r,e.memoizedProps)):r===null&&e.stateNode!==null&&Jo(e,e.memoizedProps,i.memoizedProps)}break;case 27:Ct(t,e),Tt(e),r&512&&(Ke||i===null||un(i,i.return)),i!==null&&r&4&&Jo(e,e.memoizedProps,i.memoizedProps);break;case 5:if(Ct(t,e),Tt(e),r&512&&(Ke||i===null||un(i,i.return)),e.flags&32){o=e.stateNode;try{Ji(o,"")}catch(Q){Te(e,e.return,Q)}}r&4&&e.stateNode!=null&&(o=e.memoizedProps,Jo(e,o,i!==null?i.memoizedProps:o)),r&1024&&(tu=!0);break;case 6:if(Ct(t,e),Tt(e),r&4){if(e.stateNode===null)throw Error(s(162));r=e.memoizedProps,i=e.stateNode;try{i.nodeValue=r}catch(Q){Te(e,e.return,Q)}}break;case 3:if(Ar=null,o=tn,tn=Nr(t.containerInfo),Ct(t,e),tn=o,Tt(e),r&4&&i!==null&&i.memoizedState.isDehydrated)try{Rl(t.containerInfo)}catch(Q){Te(e,e.return,Q)}tu&&(tu=!1,tg(e));break;case 4:r=tn,tn=Nr(e.stateNode.containerInfo),Ct(t,e),Tt(e),tn=r;break;case 12:Ct(t,e),Tt(e);break;case 31:Ct(t,e),Tt(e),r&4&&(r=e.updateQueue,r!==null&&(e.updateQueue=null,dr(e,r)));break;case 13:Ct(t,e),Tt(e),e.child.flags&8192&&e.memoizedState!==null!=(i!==null&&i.memoizedState!==null)&&(mr=Mt()),r&4&&(r=e.updateQueue,r!==null&&(e.updateQueue=null,dr(e,r)));break;case 22:o=e.memoizedState!==null;var x=i!==null&&i.memoizedState!==null,w=Cn,D=Ke;if(Cn=w||o,Ke=D||x,Ct(t,e),Ke=D,Cn=w,Tt(e),r&8192)e:for(t=e.stateNode,t._visibility=o?t._visibility&-2:t._visibility|1,o&&(i===null||x||Cn||Ke||Ii(e)),i=null,t=e;;){if(t.tag===5||t.tag===26){if(i===null){x=i=t;try{if(u=x.stateNode,o)h=u.style,typeof h.setProperty=="function"?h.setProperty("display","none","important"):h.display="none";else{_=x.stateNode;var I=x.memoizedProps.style,A=I!=null&&I.hasOwnProperty("display")?I.display:null;_.style.display=A==null||typeof A=="boolean"?"":(""+A).trim()}}catch(Q){Te(x,x.return,Q)}}}else if(t.tag===6){if(i===null){x=t;try{x.stateNode.nodeValue=o?"":x.memoizedProps}catch(Q){Te(x,x.return,Q)}}}else if(t.tag===18){if(i===null){x=t;try{var R=x.stateNode;o?Vg(R,!0):Vg(x.stateNode,!1)}catch(Q){Te(x,x.return,Q)}}}else if((t.tag!==22&&t.tag!==23||t.memoizedState===null||t===e)&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;i===t&&(i=null),t=t.return}i===t&&(i=null),t.sibling.return=t.return,t=t.sibling}r&4&&(r=e.updateQueue,r!==null&&(i=r.retryQueue,i!==null&&(r.retryQueue=null,dr(e,i))));break;case 19:Ct(t,e),Tt(e),r&4&&(r=e.updateQueue,r!==null&&(e.updateQueue=null,dr(e,r)));break;case 30:break;case 21:break;default:Ct(t,e),Tt(e)}}function Tt(e){var t=e.flags;if(t&2){try{for(var i,r=e.return;r!==null;){if(Xm(r)){i=r;break}r=r.return}if(i==null)throw Error(s(160));switch(i.tag){case 27:var o=i.stateNode,u=Wo(e);fr(e,u,o);break;case 5:var h=i.stateNode;i.flags&32&&(Ji(h,""),i.flags&=-33);var _=Wo(e);fr(e,_,h);break;case 3:case 4:var x=i.stateNode.containerInfo,w=Wo(e);eu(e,w,x);break;default:throw Error(s(161))}}catch(D){Te(e,e.return,D)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function tg(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var t=e;tg(t),t.tag===5&&t.flags&1024&&t.stateNode.reset(),e=e.sibling}}function Nn(e,t){if(t.subtreeFlags&8772)for(t=t.child;t!==null;)Km(e,t.alternate,t),t=t.sibling}function Ii(e){for(e=e.child;e!==null;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:Kn(4,t,t.return),Ii(t);break;case 1:un(t,t.return);var i=t.stateNode;typeof i.componentWillUnmount=="function"&&Vm(t,t.return,i),Ii(t);break;case 27:za(t.stateNode);case 26:case 5:un(t,t.return),Ii(t);break;case 22:t.memoizedState===null&&Ii(t);break;case 30:Ii(t);break;default:Ii(t)}e=e.sibling}}function wn(e,t,i){for(i=i&&(t.subtreeFlags&8772)!==0,t=t.child;t!==null;){var r=t.alternate,o=e,u=t,h=u.flags;switch(u.tag){case 0:case 11:case 15:wn(o,u,i),Ca(4,u);break;case 1:if(wn(o,u,i),r=u,o=r.stateNode,typeof o.componentDidMount=="function")try{o.componentDidMount()}catch(w){Te(r,r.return,w)}if(r=u,o=r.updateQueue,o!==null){var _=r.stateNode;try{var x=o.shared.hiddenCallbacks;if(x!==null)for(o.shared.hiddenCallbacks=null,o=0;o<x.length;o++)Oh(x[o],_)}catch(w){Te(r,r.return,w)}}i&&h&64&&Ym(u),Ta(u,u.return);break;case 27:Pm(u);case 26:case 5:wn(o,u,i),i&&r===null&&h&4&&Qm(u),Ta(u,u.return);break;case 12:wn(o,u,i);break;case 31:wn(o,u,i),i&&h&4&&Jm(o,u);break;case 13:wn(o,u,i),i&&h&4&&Wm(o,u);break;case 22:u.memoizedState===null&&wn(o,u,i),Ta(u,u.return);break;case 30:break;default:wn(o,u,i)}t=t.sibling}}function nu(e,t){var i=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(i=e.memoizedState.cachePool.pool),e=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(e=t.memoizedState.cachePool.pool),e!==i&&(e!=null&&e.refCount++,i!=null&&fa(i))}function iu(e,t){e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&fa(e))}function nn(e,t,i,r){if(t.subtreeFlags&10256)for(t=t.child;t!==null;)ng(e,t,i,r),t=t.sibling}function ng(e,t,i,r){var o=t.flags;switch(t.tag){case 0:case 11:case 15:nn(e,t,i,r),o&2048&&Ca(9,t);break;case 1:nn(e,t,i,r);break;case 3:nn(e,t,i,r),o&2048&&(e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&fa(e)));break;case 12:if(o&2048){nn(e,t,i,r),e=t.stateNode;try{var u=t.memoizedProps,h=u.id,_=u.onPostCommit;typeof _=="function"&&_(h,t.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(x){Te(t,t.return,x)}}else nn(e,t,i,r);break;case 31:nn(e,t,i,r);break;case 13:nn(e,t,i,r);break;case 23:break;case 22:u=t.stateNode,h=t.alternate,t.memoizedState!==null?u._visibility&2?nn(e,t,i,r):Na(e,t):u._visibility&2?nn(e,t,i,r):(u._visibility|=2,_l(e,t,i,r,(t.subtreeFlags&10256)!==0||!1)),o&2048&&nu(h,t);break;case 24:nn(e,t,i,r),o&2048&&iu(t.alternate,t);break;default:nn(e,t,i,r)}}function _l(e,t,i,r,o){for(o=o&&((t.subtreeFlags&10256)!==0||!1),t=t.child;t!==null;){var u=e,h=t,_=i,x=r,w=h.flags;switch(h.tag){case 0:case 11:case 15:_l(u,h,_,x,o),Ca(8,h);break;case 23:break;case 22:var D=h.stateNode;h.memoizedState!==null?D._visibility&2?_l(u,h,_,x,o):Na(u,h):(D._visibility|=2,_l(u,h,_,x,o)),o&&w&2048&&nu(h.alternate,h);break;case 24:_l(u,h,_,x,o),o&&w&2048&&iu(h.alternate,h);break;default:_l(u,h,_,x,o)}t=t.sibling}}function Na(e,t){if(t.subtreeFlags&10256)for(t=t.child;t!==null;){var i=e,r=t,o=r.flags;switch(r.tag){case 22:Na(i,r),o&2048&&nu(r.alternate,r);break;case 24:Na(i,r),o&2048&&iu(r.alternate,r);break;default:Na(i,r)}t=t.sibling}}var wa=8192;function vl(e,t,i){if(e.subtreeFlags&wa)for(e=e.child;e!==null;)ig(e,t,i),e=e.sibling}function ig(e,t,i){switch(e.tag){case 26:vl(e,t,i),e.flags&wa&&e.memoizedState!==null&&Ob(i,tn,e.memoizedState,e.memoizedProps);break;case 5:vl(e,t,i);break;case 3:case 4:var r=tn;tn=Nr(e.stateNode.containerInfo),vl(e,t,i),tn=r;break;case 22:e.memoizedState===null&&(r=e.alternate,r!==null&&r.memoizedState!==null?(r=wa,wa=16777216,vl(e,t,i),wa=r):vl(e,t,i));break;default:vl(e,t,i)}}function lg(e){var t=e.alternate;if(t!==null&&(e=t.child,e!==null)){t.child=null;do t=e.sibling,e.sibling=null,e=t;while(e!==null)}}function Aa(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var i=0;i<t.length;i++){var r=t[i];it=r,sg(r,e)}lg(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)ag(e),e=e.sibling}function ag(e){switch(e.tag){case 0:case 11:case 15:Aa(e),e.flags&2048&&Kn(9,e,e.return);break;case 3:Aa(e);break;case 12:Aa(e);break;case 22:var t=e.stateNode;e.memoizedState!==null&&t._visibility&2&&(e.return===null||e.return.tag!==13)?(t._visibility&=-3,hr(e)):Aa(e);break;default:Aa(e)}}function hr(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var i=0;i<t.length;i++){var r=t[i];it=r,sg(r,e)}lg(e)}for(e=e.child;e!==null;){switch(t=e,t.tag){case 0:case 11:case 15:Kn(8,t,t.return),hr(t);break;case 22:i=t.stateNode,i._visibility&2&&(i._visibility&=-3,hr(t));break;default:hr(t)}e=e.sibling}}function sg(e,t){for(;it!==null;){var i=it;switch(i.tag){case 0:case 11:case 15:Kn(8,i,t);break;case 23:case 22:if(i.memoizedState!==null&&i.memoizedState.cachePool!==null){var r=i.memoizedState.cachePool.pool;r!=null&&r.refCount++}break;case 24:fa(i.memoizedState.cache)}if(r=i.child,r!==null)r.return=i,it=r;else e:for(i=e;it!==null;){r=it;var o=r.sibling,u=r.return;if(Fm(r),r===i){it=null;break e}if(o!==null){o.return=u,it=o;break e}it=u}}}var Pv={getCacheForType:function(e){var t=ot(Xe),i=t.data.get(e);return i===void 0&&(i=e(),t.data.set(e,i)),i},cacheSignal:function(){return ot(Xe).controller.signal}},Zv=typeof WeakMap=="function"?WeakMap:Map,xe=0,Oe=null,fe=null,ge=0,Ce=0,Ut=null,Fn=!1,bl=!1,lu=!1,An=0,ke=0,$n=0,Li=0,au=0,Ht=0,Sl=0,Ra=null,Nt=null,su=!1,mr=0,rg=0,gr=1/0,pr=null,Jn=null,$e=0,Wn=null,xl=null,Rn=0,ru=0,cu=null,cg=null,Ma=0,ou=null;function Bt(){return(xe&2)!==0&&ge!==0?ge&-ge:O.T!==null?gu():Cd()}function og(){if(Ht===0)if((ge&536870912)===0||_e){var e=Cs;Cs<<=1,(Cs&3932160)===0&&(Cs=262144),Ht=e}else Ht=536870912;return e=It.current,e!==null&&(e.flags|=32),Ht}function wt(e,t,i){(e===Oe&&(Ce===2||Ce===9)||e.cancelPendingCommit!==null)&&(El(e,0),ei(e,ge,Ht,!1)),$l(e,i),((xe&2)===0||e!==Oe)&&(e===Oe&&((xe&2)===0&&(Li|=i),ke===4&&ei(e,ge,Ht,!1)),fn(e))}function ug(e,t,i){if((xe&6)!==0)throw Error(s(327));var r=!i&&(t&127)===0&&(t&e.expiredLanes)===0||Fl(e,t),o=r?$v(e,t):fu(e,t,!0),u=r;do{if(o===0){bl&&!r&&ei(e,t,0,!1);break}else{if(i=e.current.alternate,u&&!Kv(i)){o=fu(e,t,!1),u=!1;continue}if(o===2){if(u=t,e.errorRecoveryDisabledLanes&u)var h=0;else h=e.pendingLanes&-536870913,h=h!==0?h:h&536870912?536870912:0;if(h!==0){t=h;e:{var _=e;o=Ra;var x=_.current.memoizedState.isDehydrated;if(x&&(El(_,h).flags|=256),h=fu(_,h,!1),h!==2){if(lu&&!x){_.errorRecoveryDisabledLanes|=u,Li|=u,o=4;break e}u=Nt,Nt=o,u!==null&&(Nt===null?Nt=u:Nt.push.apply(Nt,u))}o=h}if(u=!1,o!==2)continue}}if(o===1){El(e,0),ei(e,t,0,!0);break}e:{switch(r=e,u=o,u){case 0:case 1:throw Error(s(345));case 4:if((t&4194048)!==t)break;case 6:ei(r,t,Ht,!Fn);break e;case 2:Nt=null;break;case 3:case 5:break;default:throw Error(s(329))}if((t&62914560)===t&&(o=mr+300-Mt(),10<o)){if(ei(r,t,Ht,!Fn),Ns(r,0,!0)!==0)break e;Rn=t,r.timeoutHandle=qg(fg.bind(null,r,i,Nt,pr,su,t,Ht,Li,Sl,Fn,u,"Throttled",-0,0),o);break e}fg(r,i,Nt,pr,su,t,Ht,Li,Sl,Fn,u,null,-0,0)}}break}while(!0);fn(e)}function fg(e,t,i,r,o,u,h,_,x,w,D,I,A,R){if(e.timeoutHandle=-1,I=t.subtreeFlags,I&8192||(I&16785408)===16785408){I={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:mn},ig(t,u,I);var Q=(u&62914560)===u?mr-Mt():(u&4194048)===u?rg-Mt():0;if(Q=jb(I,Q),Q!==null){Rn=u,e.cancelPendingCommit=Q(vg.bind(null,e,t,u,i,r,o,h,_,x,D,I,null,A,R)),ei(e,u,h,!w);return}}vg(e,t,u,i,r,o,h,_,x)}function Kv(e){for(var t=e;;){var i=t.tag;if((i===0||i===11||i===15)&&t.flags&16384&&(i=t.updateQueue,i!==null&&(i=i.stores,i!==null)))for(var r=0;r<i.length;r++){var o=i[r],u=o.getSnapshot;o=o.value;try{if(!jt(u(),o))return!1}catch{return!1}}if(i=t.child,t.subtreeFlags&16384&&i!==null)i.return=t,t=i;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function ei(e,t,i,r){t&=~au,t&=~Li,e.suspendedLanes|=t,e.pingedLanes&=~t,r&&(e.warmLanes|=t),r=e.expirationTimes;for(var o=t;0<o;){var u=31-Ot(o),h=1<<u;r[u]=-1,o&=~h}i!==0&&Sd(e,i,t)}function yr(){return(xe&6)===0?(Da(0),!1):!0}function uu(){if(fe!==null){if(Ce===0)var e=fe.return;else e=fe,_n=wi=null,No(e),hl=null,ha=0,e=fe;for(;e!==null;)Gm(e.alternate,e),e=e.return;fe=null}}function El(e,t){var i=e.timeoutHandle;i!==-1&&(e.timeoutHandle=-1,gb(i)),i=e.cancelPendingCommit,i!==null&&(e.cancelPendingCommit=null,i()),Rn=0,uu(),Oe=e,fe=i=pn(e.current,null),ge=t,Ce=0,Ut=null,Fn=!1,bl=Fl(e,t),lu=!1,Sl=Ht=au=Li=$n=ke=0,Nt=Ra=null,su=!1,(t&8)!==0&&(t|=t&32);var r=e.entangledLanes;if(r!==0)for(e=e.entanglements,r&=t;0<r;){var o=31-Ot(r),u=1<<o;t|=e[o],r&=~u}return An=t,Hs(),i}function dg(e,t){le=null,O.H=Sa,t===dl||t===Xs?(t=Ah(),Ce=3):t===mo?(t=Ah(),Ce=4):Ce=t===Go?8:t!==null&&typeof t=="object"&&typeof t.then=="function"?6:1,Ut=t,fe===null&&(ke=1,sr(e,Qt(t,e.current)))}function hg(){var e=It.current;return e===null?!0:(ge&4194048)===ge?Kt===null:(ge&62914560)===ge||(ge&536870912)!==0?e===Kt:!1}function mg(){var e=O.H;return O.H=Sa,e===null?Sa:e}function gg(){var e=O.A;return O.A=Pv,e}function _r(){ke=4,Fn||(ge&4194048)!==ge&&It.current!==null||(bl=!0),($n&134217727)===0&&(Li&134217727)===0||Oe===null||ei(Oe,ge,Ht,!1)}function fu(e,t,i){var r=xe;xe|=2;var o=mg(),u=gg();(Oe!==e||ge!==t)&&(pr=null,El(e,t)),t=!1;var h=ke;e:do try{if(Ce!==0&&fe!==null){var _=fe,x=Ut;switch(Ce){case 8:uu(),h=6;break e;case 3:case 2:case 9:case 6:It.current===null&&(t=!0);var w=Ce;if(Ce=0,Ut=null,Cl(e,_,x,w),i&&bl){h=0;break e}break;default:w=Ce,Ce=0,Ut=null,Cl(e,_,x,w)}}Fv(),h=ke;break}catch(D){dg(e,D)}while(!0);return t&&e.shellSuspendCounter++,_n=wi=null,xe=r,O.H=o,O.A=u,fe===null&&(Oe=null,ge=0,Hs()),h}function Fv(){for(;fe!==null;)pg(fe)}function $v(e,t){var i=xe;xe|=2;var r=mg(),o=gg();Oe!==e||ge!==t?(pr=null,gr=Mt()+500,El(e,t)):bl=Fl(e,t);e:do try{if(Ce!==0&&fe!==null){t=fe;var u=Ut;t:switch(Ce){case 1:Ce=0,Ut=null,Cl(e,t,u,1);break;case 2:case 9:if(Nh(u)){Ce=0,Ut=null,yg(t);break}t=function(){Ce!==2&&Ce!==9||Oe!==e||(Ce=7),fn(e)},u.then(t,t);break e;case 3:Ce=7;break e;case 4:Ce=5;break e;case 7:Nh(u)?(Ce=0,Ut=null,yg(t)):(Ce=0,Ut=null,Cl(e,t,u,7));break;case 5:var h=null;switch(fe.tag){case 26:h=fe.memoizedState;case 5:case 27:var _=fe;if(h?np(h):_.stateNode.complete){Ce=0,Ut=null;var x=_.sibling;if(x!==null)fe=x;else{var w=_.return;w!==null?(fe=w,vr(w)):fe=null}break t}}Ce=0,Ut=null,Cl(e,t,u,5);break;case 6:Ce=0,Ut=null,Cl(e,t,u,6);break;case 8:uu(),ke=6;break e;default:throw Error(s(462))}}Jv();break}catch(D){dg(e,D)}while(!0);return _n=wi=null,O.H=r,O.A=o,xe=i,fe!==null?0:(Oe=null,ge=0,Hs(),ke)}function Jv(){for(;fe!==null&&!S0();)pg(fe)}function pg(e){var t=km(e.alternate,e,An);e.memoizedProps=e.pendingProps,t===null?vr(e):fe=t}function yg(e){var t=e,i=t.alternate;switch(t.tag){case 15:case 0:t=zm(i,t,t.pendingProps,t.type,void 0,ge);break;case 11:t=zm(i,t,t.pendingProps,t.type.render,t.ref,ge);break;case 5:No(t);default:Gm(i,t),t=fe=gh(t,An),t=km(i,t,An)}e.memoizedProps=e.pendingProps,t===null?vr(e):fe=t}function Cl(e,t,i,r){_n=wi=null,No(t),hl=null,ha=0;var o=t.return;try{if(kv(e,o,t,i,ge)){ke=1,sr(e,Qt(i,e.current)),fe=null;return}}catch(u){if(o!==null)throw fe=o,u;ke=1,sr(e,Qt(i,e.current)),fe=null;return}t.flags&32768?(_e||r===1?e=!0:bl||(ge&536870912)!==0?e=!1:(Fn=e=!0,(r===2||r===9||r===3||r===6)&&(r=It.current,r!==null&&r.tag===13&&(r.flags|=16384))),_g(t,e)):vr(t)}function vr(e){var t=e;do{if((t.flags&32768)!==0){_g(t,Fn);return}e=t.return;var i=Yv(t.alternate,t,An);if(i!==null){fe=i;return}if(t=t.sibling,t!==null){fe=t;return}fe=t=e}while(t!==null);ke===0&&(ke=5)}function _g(e,t){do{var i=Vv(e.alternate,e);if(i!==null){i.flags&=32767,fe=i;return}if(i=e.return,i!==null&&(i.flags|=32768,i.subtreeFlags=0,i.deletions=null),!t&&(e=e.sibling,e!==null)){fe=e;return}fe=e=i}while(e!==null);ke=6,fe=null}function vg(e,t,i,r,o,u,h,_,x){e.cancelPendingCommit=null;do br();while($e!==0);if((xe&6)!==0)throw Error(s(327));if(t!==null){if(t===e.current)throw Error(s(177));if(u=t.lanes|t.childLanes,u|=Jc,D0(e,i,u,h,_,x),e===Oe&&(fe=Oe=null,ge=0),xl=t,Wn=e,Rn=i,ru=u,cu=o,cg=r,(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,nb(xs,function(){return Cg(),null})):(e.callbackNode=null,e.callbackPriority=0),r=(t.flags&13878)!==0,(t.subtreeFlags&13878)!==0||r){r=O.T,O.T=null,o=G.p,G.p=2,h=xe,xe|=4;try{Qv(e,t,i)}finally{xe=h,G.p=o,O.T=r}}$e=1,bg(),Sg(),xg()}}function bg(){if($e===1){$e=0;var e=Wn,t=xl,i=(t.flags&13878)!==0;if((t.subtreeFlags&13878)!==0||i){i=O.T,O.T=null;var r=G.p;G.p=2;var o=xe;xe|=4;try{eg(t,e);var u=Eu,h=sh(e.containerInfo),_=u.focusedElem,x=u.selectionRange;if(h!==_&&_&&_.ownerDocument&&ah(_.ownerDocument.documentElement,_)){if(x!==null&&Pc(_)){var w=x.start,D=x.end;if(D===void 0&&(D=w),"selectionStart"in _)_.selectionStart=w,_.selectionEnd=Math.min(D,_.value.length);else{var I=_.ownerDocument||document,A=I&&I.defaultView||window;if(A.getSelection){var R=A.getSelection(),Q=_.textContent.length,F=Math.min(x.start,Q),Re=x.end===void 0?F:Math.min(x.end,Q);!R.extend&&F>Re&&(h=Re,Re=F,F=h);var T=lh(_,F),E=lh(_,Re);if(T&&E&&(R.rangeCount!==1||R.anchorNode!==T.node||R.anchorOffset!==T.offset||R.focusNode!==E.node||R.focusOffset!==E.offset)){var N=I.createRange();N.setStart(T.node,T.offset),R.removeAllRanges(),F>Re?(R.addRange(N),R.extend(E.node,E.offset)):(N.setEnd(E.node,E.offset),R.addRange(N))}}}}for(I=[],R=_;R=R.parentNode;)R.nodeType===1&&I.push({element:R,left:R.scrollLeft,top:R.scrollTop});for(typeof _.focus=="function"&&_.focus(),_=0;_<I.length;_++){var z=I[_];z.element.scrollLeft=z.left,z.element.scrollTop=z.top}}Or=!!xu,Eu=xu=null}finally{xe=o,G.p=r,O.T=i}}e.current=t,$e=2}}function Sg(){if($e===2){$e=0;var e=Wn,t=xl,i=(t.flags&8772)!==0;if((t.subtreeFlags&8772)!==0||i){i=O.T,O.T=null;var r=G.p;G.p=2;var o=xe;xe|=4;try{Km(e,t.alternate,t)}finally{xe=o,G.p=r,O.T=i}}$e=3}}function xg(){if($e===4||$e===3){$e=0,x0();var e=Wn,t=xl,i=Rn,r=cg;(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?$e=5:($e=0,xl=Wn=null,Eg(e,e.pendingLanes));var o=e.pendingLanes;if(o===0&&(Jn=null),Ac(i),t=t.stateNode,Dt&&typeof Dt.onCommitFiberRoot=="function")try{Dt.onCommitFiberRoot(Kl,t,void 0,(t.current.flags&128)===128)}catch{}if(r!==null){t=O.T,o=G.p,G.p=2,O.T=null;try{for(var u=e.onRecoverableError,h=0;h<r.length;h++){var _=r[h];u(_.value,{componentStack:_.stack})}}finally{O.T=t,G.p=o}}(Rn&3)!==0&&br(),fn(e),o=e.pendingLanes,(i&261930)!==0&&(o&42)!==0?e===ou?Ma++:(Ma=0,ou=e):Ma=0,Da(0)}}function Eg(e,t){(e.pooledCacheLanes&=t)===0&&(t=e.pooledCache,t!=null&&(e.pooledCache=null,fa(t)))}function br(){return bg(),Sg(),xg(),Cg()}function Cg(){if($e!==5)return!1;var e=Wn,t=ru;ru=0;var i=Ac(Rn),r=O.T,o=G.p;try{G.p=32>i?32:i,O.T=null,i=cu,cu=null;var u=Wn,h=Rn;if($e=0,xl=Wn=null,Rn=0,(xe&6)!==0)throw Error(s(331));var _=xe;if(xe|=4,ag(u.current),ng(u,u.current,h,i),xe=_,Da(0,!1),Dt&&typeof Dt.onPostCommitFiberRoot=="function")try{Dt.onPostCommitFiberRoot(Kl,u)}catch{}return!0}finally{G.p=o,O.T=r,Eg(e,t)}}function Tg(e,t,i){t=Qt(i,t),t=qo(e.stateNode,t,2),e=Xn(e,t,2),e!==null&&($l(e,2),fn(e))}function Te(e,t,i){if(e.tag===3)Tg(e,e,i);else for(;t!==null;){if(t.tag===3){Tg(t,e,i);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Jn===null||!Jn.has(r))){e=Qt(i,e),i=Nm(2),r=Xn(t,i,2),r!==null&&(wm(i,r,t,e),$l(r,2),fn(r));break}}t=t.return}}function du(e,t,i){var r=e.pingCache;if(r===null){r=e.pingCache=new Zv;var o=new Set;r.set(t,o)}else o=r.get(t),o===void 0&&(o=new Set,r.set(t,o));o.has(i)||(lu=!0,o.add(i),e=Wv.bind(null,e,t,i),t.then(e,e))}function Wv(e,t,i){var r=e.pingCache;r!==null&&r.delete(t),e.pingedLanes|=e.suspendedLanes&i,e.warmLanes&=~i,Oe===e&&(ge&i)===i&&(ke===4||ke===3&&(ge&62914560)===ge&&300>Mt()-mr?(xe&2)===0&&El(e,0):au|=i,Sl===ge&&(Sl=0)),fn(e)}function Ng(e,t){t===0&&(t=bd()),e=Ci(e,t),e!==null&&($l(e,t),fn(e))}function eb(e){var t=e.memoizedState,i=0;t!==null&&(i=t.retryLane),Ng(e,i)}function tb(e,t){var i=0;switch(e.tag){case 31:case 13:var r=e.stateNode,o=e.memoizedState;o!==null&&(i=o.retryLane);break;case 19:r=e.stateNode;break;case 22:r=e.stateNode._retryCache;break;default:throw Error(s(314))}r!==null&&r.delete(t),Ng(e,i)}function nb(e,t){return Cc(e,t)}var Sr=null,Tl=null,hu=!1,xr=!1,mu=!1,ti=0;function fn(e){e!==Tl&&e.next===null&&(Tl===null?Sr=Tl=e:Tl=Tl.next=e),xr=!0,hu||(hu=!0,lb())}function Da(e,t){if(!mu&&xr){mu=!0;do for(var i=!1,r=Sr;r!==null;){if(e!==0){var o=r.pendingLanes;if(o===0)var u=0;else{var h=r.suspendedLanes,_=r.pingedLanes;u=(1<<31-Ot(42|e)+1)-1,u&=o&~(h&~_),u=u&201326741?u&201326741|1:u?u|2:0}u!==0&&(i=!0,Mg(r,u))}else u=ge,u=Ns(r,r===Oe?u:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),(u&3)===0||Fl(r,u)||(i=!0,Mg(r,u));r=r.next}while(i);mu=!1}}function ib(){wg()}function wg(){xr=hu=!1;var e=0;ti!==0&&mb()&&(e=ti);for(var t=Mt(),i=null,r=Sr;r!==null;){var o=r.next,u=Ag(r,t);u===0?(r.next=null,i===null?Sr=o:i.next=o,o===null&&(Tl=i)):(i=r,(e!==0||(u&3)!==0)&&(xr=!0)),r=o}$e!==0&&$e!==5||Da(e),ti!==0&&(ti=0)}function Ag(e,t){for(var i=e.suspendedLanes,r=e.pingedLanes,o=e.expirationTimes,u=e.pendingLanes&-62914561;0<u;){var h=31-Ot(u),_=1<<h,x=o[h];x===-1?((_&i)===0||(_&r)!==0)&&(o[h]=M0(_,t)):x<=t&&(e.expiredLanes|=_),u&=~_}if(t=Oe,i=ge,i=Ns(e,e===t?i:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),r=e.callbackNode,i===0||e===t&&(Ce===2||Ce===9)||e.cancelPendingCommit!==null)return r!==null&&r!==null&&Tc(r),e.callbackNode=null,e.callbackPriority=0;if((i&3)===0||Fl(e,i)){if(t=i&-i,t===e.callbackPriority)return t;switch(r!==null&&Tc(r),Ac(i)){case 2:case 8:i=_d;break;case 32:i=xs;break;case 268435456:i=vd;break;default:i=xs}return r=Rg.bind(null,e),i=Cc(i,r),e.callbackPriority=t,e.callbackNode=i,t}return r!==null&&r!==null&&Tc(r),e.callbackPriority=2,e.callbackNode=null,2}function Rg(e,t){if($e!==0&&$e!==5)return e.callbackNode=null,e.callbackPriority=0,null;var i=e.callbackNode;if(br()&&e.callbackNode!==i)return null;var r=ge;return r=Ns(e,e===Oe?r:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),r===0?null:(ug(e,r,t),Ag(e,Mt()),e.callbackNode!=null&&e.callbackNode===i?Rg.bind(null,e):null)}function Mg(e,t){if(br())return null;ug(e,t,!0)}function lb(){pb(function(){(xe&6)!==0?Cc(yd,ib):wg()})}function gu(){if(ti===0){var e=ul;e===0&&(e=Es,Es<<=1,(Es&261888)===0&&(Es=256)),ti=e}return ti}function Dg(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:Ms(""+e)}function Og(e,t){var i=t.ownerDocument.createElement("input");return i.name=t.name,i.value=t.value,e.id&&i.setAttribute("form",e.id),t.parentNode.insertBefore(i,t),e=new FormData(e),i.parentNode.removeChild(i),e}function ab(e,t,i,r,o){if(t==="submit"&&i&&i.stateNode===o){var u=Dg((o[St]||null).action),h=r.submitter;h&&(t=(t=h[St]||null)?Dg(t.formAction):h.getAttribute("formAction"),t!==null&&(u=t,h=null));var _=new zs("action","action",null,r,o);e.push({event:_,listeners:[{instance:null,listener:function(){if(r.defaultPrevented){if(ti!==0){var x=h?Og(o,h):new FormData(o);Io(i,{pending:!0,data:x,method:o.method,action:u},null,x)}}else typeof u=="function"&&(_.preventDefault(),x=h?Og(o,h):new FormData(o),Io(i,{pending:!0,data:x,method:o.method,action:u},u,x))},currentTarget:o}]})}}for(var pu=0;pu<$c.length;pu++){var yu=$c[pu],sb=yu.toLowerCase(),rb=yu[0].toUpperCase()+yu.slice(1);en(sb,"on"+rb)}en(oh,"onAnimationEnd"),en(uh,"onAnimationIteration"),en(fh,"onAnimationStart"),en("dblclick","onDoubleClick"),en("focusin","onFocus"),en("focusout","onBlur"),en(Ev,"onTransitionRun"),en(Cv,"onTransitionStart"),en(Tv,"onTransitionCancel"),en(dh,"onTransitionEnd"),Fi("onMouseEnter",["mouseout","mouseover"]),Fi("onMouseLeave",["mouseout","mouseover"]),Fi("onPointerEnter",["pointerout","pointerover"]),Fi("onPointerLeave",["pointerout","pointerover"]),bi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),bi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),bi("onBeforeInput",["compositionend","keypress","textInput","paste"]),bi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),bi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),bi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Oa="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),cb=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Oa));function jg(e,t){t=(t&4)!==0;for(var i=0;i<e.length;i++){var r=e[i],o=r.event;r=r.listeners;e:{var u=void 0;if(t)for(var h=r.length-1;0<=h;h--){var _=r[h],x=_.instance,w=_.currentTarget;if(_=_.listener,x!==u&&o.isPropagationStopped())break e;u=_,o.currentTarget=w;try{u(o)}catch(D){Us(D)}o.currentTarget=null,u=x}else for(h=0;h<r.length;h++){if(_=r[h],x=_.instance,w=_.currentTarget,_=_.listener,x!==u&&o.isPropagationStopped())break e;u=_,o.currentTarget=w;try{u(o)}catch(D){Us(D)}o.currentTarget=null,u=x}}}}function de(e,t){var i=t[Rc];i===void 0&&(i=t[Rc]=new Set);var r=e+"__bubble";i.has(r)||(zg(t,e,2,!1),i.add(r))}function _u(e,t,i){var r=0;t&&(r|=4),zg(i,e,r,t)}var Er="_reactListening"+Math.random().toString(36).slice(2);function vu(e){if(!e[Er]){e[Er]=!0,wd.forEach(function(i){i!=="selectionchange"&&(cb.has(i)||_u(i,!1,e),_u(i,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Er]||(t[Er]=!0,_u("selectionchange",!1,t))}}function zg(e,t,i,r){switch(op(t)){case 2:var o=Lb;break;case 8:o=Ub;break;default:o=zu}i=o.bind(null,t,i,e),o=void 0,!Hc||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(o=!0),r?o!==void 0?e.addEventListener(t,i,{capture:!0,passive:o}):e.addEventListener(t,i,!0):o!==void 0?e.addEventListener(t,i,{passive:o}):e.addEventListener(t,i,!1)}function bu(e,t,i,r,o){var u=r;if((t&1)===0&&(t&2)===0&&r!==null)e:for(;;){if(r===null)return;var h=r.tag;if(h===3||h===4){var _=r.stateNode.containerInfo;if(_===o)break;if(h===4)for(h=r.return;h!==null;){var x=h.tag;if((x===3||x===4)&&h.stateNode.containerInfo===o)return;h=h.return}for(;_!==null;){if(h=Pi(_),h===null)return;if(x=h.tag,x===5||x===6||x===26||x===27){r=u=h;continue e}_=_.parentNode}}r=r.return}Bd(function(){var w=u,D=Lc(i),I=[];e:{var A=hh.get(e);if(A!==void 0){var R=zs,Q=e;switch(e){case"keypress":if(Os(i)===0)break e;case"keydown":case"keyup":R=tv;break;case"focusin":Q="focus",R=Gc;break;case"focusout":Q="blur",R=Gc;break;case"beforeblur":case"afterblur":R=Gc;break;case"click":if(i.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":R=Gd;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":R=Y0;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":R=lv;break;case oh:case uh:case fh:R=X0;break;case dh:R=sv;break;case"scroll":case"scrollend":R=q0;break;case"wheel":R=cv;break;case"copy":case"cut":case"paste":R=Z0;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":R=Vd;break;case"toggle":case"beforetoggle":R=uv}var F=(t&4)!==0,Re=!F&&(e==="scroll"||e==="scrollend"),T=F?A!==null?A+"Capture":null:A;F=[];for(var E=w,N;E!==null;){var z=E;if(N=z.stateNode,z=z.tag,z!==5&&z!==26&&z!==27||N===null||T===null||(z=ea(E,T),z!=null&&F.push(ja(E,z,N))),Re)break;E=E.return}0<F.length&&(A=new R(A,Q,null,i,D),I.push({event:A,listeners:F}))}}if((t&7)===0){e:{if(A=e==="mouseover"||e==="pointerover",R=e==="mouseout"||e==="pointerout",A&&i!==Ic&&(Q=i.relatedTarget||i.fromElement)&&(Pi(Q)||Q[Xi]))break e;if((R||A)&&(A=D.window===D?D:(A=D.ownerDocument)?A.defaultView||A.parentWindow:window,R?(Q=i.relatedTarget||i.toElement,R=w,Q=Q?Pi(Q):null,Q!==null&&(Re=f(Q),F=Q.tag,Q!==Re||F!==5&&F!==27&&F!==6)&&(Q=null)):(R=null,Q=w),R!==Q)){if(F=Gd,z="onMouseLeave",T="onMouseEnter",E="mouse",(e==="pointerout"||e==="pointerover")&&(F=Vd,z="onPointerLeave",T="onPointerEnter",E="pointer"),Re=R==null?A:Wl(R),N=Q==null?A:Wl(Q),A=new F(z,E+"leave",R,i,D),A.target=Re,A.relatedTarget=N,z=null,Pi(D)===w&&(F=new F(T,E+"enter",Q,i,D),F.target=N,F.relatedTarget=Re,z=F),Re=z,R&&Q)t:{for(F=ob,T=R,E=Q,N=0,z=T;z;z=F(z))N++;z=0;for(var K=E;K;K=F(K))z++;for(;0<N-z;)T=F(T),N--;for(;0<z-N;)E=F(E),z--;for(;N--;){if(T===E||E!==null&&T===E.alternate){F=T;break t}T=F(T),E=F(E)}F=null}else F=null;R!==null&&Ig(I,A,R,F,!1),Q!==null&&Re!==null&&Ig(I,Re,Q,F,!0)}}e:{if(A=w?Wl(w):window,R=A.nodeName&&A.nodeName.toLowerCase(),R==="select"||R==="input"&&A.type==="file")var ve=Jd;else if(Fd(A))if(Wd)ve=bv;else{ve=_v;var Z=yv}else R=A.nodeName,!R||R.toLowerCase()!=="input"||A.type!=="checkbox"&&A.type!=="radio"?w&&zc(w.elementType)&&(ve=Jd):ve=vv;if(ve&&(ve=ve(e,w))){$d(I,ve,i,D);break e}Z&&Z(e,A,w),e==="focusout"&&w&&A.type==="number"&&w.memoizedProps.value!=null&&jc(A,"number",A.value)}switch(Z=w?Wl(w):window,e){case"focusin":(Fd(Z)||Z.contentEditable==="true")&&(nl=Z,Zc=w,ca=null);break;case"focusout":ca=Zc=nl=null;break;case"mousedown":Kc=!0;break;case"contextmenu":case"mouseup":case"dragend":Kc=!1,rh(I,i,D);break;case"selectionchange":if(xv)break;case"keydown":case"keyup":rh(I,i,D)}var ae;if(Vc)e:{switch(e){case"compositionstart":var pe="onCompositionStart";break e;case"compositionend":pe="onCompositionEnd";break e;case"compositionupdate":pe="onCompositionUpdate";break e}pe=void 0}else tl?Zd(e,i)&&(pe="onCompositionEnd"):e==="keydown"&&i.keyCode===229&&(pe="onCompositionStart");pe&&(Qd&&i.locale!=="ko"&&(tl||pe!=="onCompositionStart"?pe==="onCompositionEnd"&&tl&&(ae=kd()):(Bn=D,Bc="value"in Bn?Bn.value:Bn.textContent,tl=!0)),Z=Cr(w,pe),0<Z.length&&(pe=new Yd(pe,e,null,i,D),I.push({event:pe,listeners:Z}),ae?pe.data=ae:(ae=Kd(i),ae!==null&&(pe.data=ae)))),(ae=dv?hv(e,i):mv(e,i))&&(pe=Cr(w,"onBeforeInput"),0<pe.length&&(Z=new Yd("onBeforeInput","beforeinput",null,i,D),I.push({event:Z,listeners:pe}),Z.data=ae)),ab(I,e,w,i,D)}jg(I,t)})}function ja(e,t,i){return{instance:e,listener:t,currentTarget:i}}function Cr(e,t){for(var i=t+"Capture",r=[];e!==null;){var o=e,u=o.stateNode;if(o=o.tag,o!==5&&o!==26&&o!==27||u===null||(o=ea(e,i),o!=null&&r.unshift(ja(e,o,u)),o=ea(e,t),o!=null&&r.push(ja(e,o,u))),e.tag===3)return r;e=e.return}return[]}function ob(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function Ig(e,t,i,r,o){for(var u=t._reactName,h=[];i!==null&&i!==r;){var _=i,x=_.alternate,w=_.stateNode;if(_=_.tag,x!==null&&x===r)break;_!==5&&_!==26&&_!==27||w===null||(x=w,o?(w=ea(i,u),w!=null&&h.unshift(ja(i,w,x))):o||(w=ea(i,u),w!=null&&h.push(ja(i,w,x)))),i=i.return}h.length!==0&&e.push({event:t,listeners:h})}var ub=/\r\n?/g,fb=/\u0000|\uFFFD/g;function Lg(e){return(typeof e=="string"?e:""+e).replace(ub,`
`).replace(fb,"")}function Ug(e,t){return t=Lg(t),Lg(e)===t}function Ae(e,t,i,r,o,u){switch(i){case"children":typeof r=="string"?t==="body"||t==="textarea"&&r===""||Ji(e,r):(typeof r=="number"||typeof r=="bigint")&&t!=="body"&&Ji(e,""+r);break;case"className":As(e,"class",r);break;case"tabIndex":As(e,"tabindex",r);break;case"dir":case"role":case"viewBox":case"width":case"height":As(e,i,r);break;case"style":Ud(e,r,u);break;case"data":if(t!=="object"){As(e,"data",r);break}case"src":case"href":if(r===""&&(t!=="a"||i!=="href")){e.removeAttribute(i);break}if(r==null||typeof r=="function"||typeof r=="symbol"||typeof r=="boolean"){e.removeAttribute(i);break}r=Ms(""+r),e.setAttribute(i,r);break;case"action":case"formAction":if(typeof r=="function"){e.setAttribute(i,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof u=="function"&&(i==="formAction"?(t!=="input"&&Ae(e,t,"name",o.name,o,null),Ae(e,t,"formEncType",o.formEncType,o,null),Ae(e,t,"formMethod",o.formMethod,o,null),Ae(e,t,"formTarget",o.formTarget,o,null)):(Ae(e,t,"encType",o.encType,o,null),Ae(e,t,"method",o.method,o,null),Ae(e,t,"target",o.target,o,null)));if(r==null||typeof r=="symbol"||typeof r=="boolean"){e.removeAttribute(i);break}r=Ms(""+r),e.setAttribute(i,r);break;case"onClick":r!=null&&(e.onclick=mn);break;case"onScroll":r!=null&&de("scroll",e);break;case"onScrollEnd":r!=null&&de("scrollend",e);break;case"dangerouslySetInnerHTML":if(r!=null){if(typeof r!="object"||!("__html"in r))throw Error(s(61));if(i=r.__html,i!=null){if(o.children!=null)throw Error(s(60));e.innerHTML=i}}break;case"multiple":e.multiple=r&&typeof r!="function"&&typeof r!="symbol";break;case"muted":e.muted=r&&typeof r!="function"&&typeof r!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(r==null||typeof r=="function"||typeof r=="boolean"||typeof r=="symbol"){e.removeAttribute("xlink:href");break}i=Ms(""+r),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",i);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":r!=null&&typeof r!="function"&&typeof r!="symbol"?e.setAttribute(i,""+r):e.removeAttribute(i);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":r&&typeof r!="function"&&typeof r!="symbol"?e.setAttribute(i,""):e.removeAttribute(i);break;case"capture":case"download":r===!0?e.setAttribute(i,""):r!==!1&&r!=null&&typeof r!="function"&&typeof r!="symbol"?e.setAttribute(i,r):e.removeAttribute(i);break;case"cols":case"rows":case"size":case"span":r!=null&&typeof r!="function"&&typeof r!="symbol"&&!isNaN(r)&&1<=r?e.setAttribute(i,r):e.removeAttribute(i);break;case"rowSpan":case"start":r==null||typeof r=="function"||typeof r=="symbol"||isNaN(r)?e.removeAttribute(i):e.setAttribute(i,r);break;case"popover":de("beforetoggle",e),de("toggle",e),ws(e,"popover",r);break;case"xlinkActuate":hn(e,"http://www.w3.org/1999/xlink","xlink:actuate",r);break;case"xlinkArcrole":hn(e,"http://www.w3.org/1999/xlink","xlink:arcrole",r);break;case"xlinkRole":hn(e,"http://www.w3.org/1999/xlink","xlink:role",r);break;case"xlinkShow":hn(e,"http://www.w3.org/1999/xlink","xlink:show",r);break;case"xlinkTitle":hn(e,"http://www.w3.org/1999/xlink","xlink:title",r);break;case"xlinkType":hn(e,"http://www.w3.org/1999/xlink","xlink:type",r);break;case"xmlBase":hn(e,"http://www.w3.org/XML/1998/namespace","xml:base",r);break;case"xmlLang":hn(e,"http://www.w3.org/XML/1998/namespace","xml:lang",r);break;case"xmlSpace":hn(e,"http://www.w3.org/XML/1998/namespace","xml:space",r);break;case"is":ws(e,"is",r);break;case"innerText":case"textContent":break;default:(!(2<i.length)||i[0]!=="o"&&i[0]!=="O"||i[1]!=="n"&&i[1]!=="N")&&(i=B0.get(i)||i,ws(e,i,r))}}function Su(e,t,i,r,o,u){switch(i){case"style":Ud(e,r,u);break;case"dangerouslySetInnerHTML":if(r!=null){if(typeof r!="object"||!("__html"in r))throw Error(s(61));if(i=r.__html,i!=null){if(o.children!=null)throw Error(s(60));e.innerHTML=i}}break;case"children":typeof r=="string"?Ji(e,r):(typeof r=="number"||typeof r=="bigint")&&Ji(e,""+r);break;case"onScroll":r!=null&&de("scroll",e);break;case"onScrollEnd":r!=null&&de("scrollend",e);break;case"onClick":r!=null&&(e.onclick=mn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Ad.hasOwnProperty(i))e:{if(i[0]==="o"&&i[1]==="n"&&(o=i.endsWith("Capture"),t=i.slice(2,o?i.length-7:void 0),u=e[St]||null,u=u!=null?u[i]:null,typeof u=="function"&&e.removeEventListener(t,u,o),typeof r=="function")){typeof u!="function"&&u!==null&&(i in e?e[i]=null:e.hasAttribute(i)&&e.removeAttribute(i)),e.addEventListener(t,r,o);break e}i in e?e[i]=r:r===!0?e.setAttribute(i,""):ws(e,i,r)}}}function ft(e,t,i){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":de("error",e),de("load",e);var r=!1,o=!1,u;for(u in i)if(i.hasOwnProperty(u)){var h=i[u];if(h!=null)switch(u){case"src":r=!0;break;case"srcSet":o=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,t));default:Ae(e,t,u,h,i,null)}}o&&Ae(e,t,"srcSet",i.srcSet,i,null),r&&Ae(e,t,"src",i.src,i,null);return;case"input":de("invalid",e);var _=u=h=o=null,x=null,w=null;for(r in i)if(i.hasOwnProperty(r)){var D=i[r];if(D!=null)switch(r){case"name":o=D;break;case"type":h=D;break;case"checked":x=D;break;case"defaultChecked":w=D;break;case"value":u=D;break;case"defaultValue":_=D;break;case"children":case"dangerouslySetInnerHTML":if(D!=null)throw Error(s(137,t));break;default:Ae(e,t,r,D,i,null)}}jd(e,u,_,x,w,h,o,!1);return;case"select":de("invalid",e),r=h=u=null;for(o in i)if(i.hasOwnProperty(o)&&(_=i[o],_!=null))switch(o){case"value":u=_;break;case"defaultValue":h=_;break;case"multiple":r=_;default:Ae(e,t,o,_,i,null)}t=u,i=h,e.multiple=!!r,t!=null?$i(e,!!r,t,!1):i!=null&&$i(e,!!r,i,!0);return;case"textarea":de("invalid",e),u=o=r=null;for(h in i)if(i.hasOwnProperty(h)&&(_=i[h],_!=null))switch(h){case"value":r=_;break;case"defaultValue":o=_;break;case"children":u=_;break;case"dangerouslySetInnerHTML":if(_!=null)throw Error(s(91));break;default:Ae(e,t,h,_,i,null)}Id(e,r,o,u);return;case"option":for(x in i)i.hasOwnProperty(x)&&(r=i[x],r!=null)&&(x==="selected"?e.selected=r&&typeof r!="function"&&typeof r!="symbol":Ae(e,t,x,r,i,null));return;case"dialog":de("beforetoggle",e),de("toggle",e),de("cancel",e),de("close",e);break;case"iframe":case"object":de("load",e);break;case"video":case"audio":for(r=0;r<Oa.length;r++)de(Oa[r],e);break;case"image":de("error",e),de("load",e);break;case"details":de("toggle",e);break;case"embed":case"source":case"link":de("error",e),de("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(w in i)if(i.hasOwnProperty(w)&&(r=i[w],r!=null))switch(w){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,t));default:Ae(e,t,w,r,i,null)}return;default:if(zc(t)){for(D in i)i.hasOwnProperty(D)&&(r=i[D],r!==void 0&&Su(e,t,D,r,i,void 0));return}}for(_ in i)i.hasOwnProperty(_)&&(r=i[_],r!=null&&Ae(e,t,_,r,i,null))}function db(e,t,i,r){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var o=null,u=null,h=null,_=null,x=null,w=null,D=null;for(R in i){var I=i[R];if(i.hasOwnProperty(R)&&I!=null)switch(R){case"checked":break;case"value":break;case"defaultValue":x=I;default:r.hasOwnProperty(R)||Ae(e,t,R,null,r,I)}}for(var A in r){var R=r[A];if(I=i[A],r.hasOwnProperty(A)&&(R!=null||I!=null))switch(A){case"type":u=R;break;case"name":o=R;break;case"checked":w=R;break;case"defaultChecked":D=R;break;case"value":h=R;break;case"defaultValue":_=R;break;case"children":case"dangerouslySetInnerHTML":if(R!=null)throw Error(s(137,t));break;default:R!==I&&Ae(e,t,A,R,r,I)}}Oc(e,h,_,x,w,D,u,o);return;case"select":R=h=_=A=null;for(u in i)if(x=i[u],i.hasOwnProperty(u)&&x!=null)switch(u){case"value":break;case"multiple":R=x;default:r.hasOwnProperty(u)||Ae(e,t,u,null,r,x)}for(o in r)if(u=r[o],x=i[o],r.hasOwnProperty(o)&&(u!=null||x!=null))switch(o){case"value":A=u;break;case"defaultValue":_=u;break;case"multiple":h=u;default:u!==x&&Ae(e,t,o,u,r,x)}t=_,i=h,r=R,A!=null?$i(e,!!i,A,!1):!!r!=!!i&&(t!=null?$i(e,!!i,t,!0):$i(e,!!i,i?[]:"",!1));return;case"textarea":R=A=null;for(_ in i)if(o=i[_],i.hasOwnProperty(_)&&o!=null&&!r.hasOwnProperty(_))switch(_){case"value":break;case"children":break;default:Ae(e,t,_,null,r,o)}for(h in r)if(o=r[h],u=i[h],r.hasOwnProperty(h)&&(o!=null||u!=null))switch(h){case"value":A=o;break;case"defaultValue":R=o;break;case"children":break;case"dangerouslySetInnerHTML":if(o!=null)throw Error(s(91));break;default:o!==u&&Ae(e,t,h,o,r,u)}zd(e,A,R);return;case"option":for(var Q in i)A=i[Q],i.hasOwnProperty(Q)&&A!=null&&!r.hasOwnProperty(Q)&&(Q==="selected"?e.selected=!1:Ae(e,t,Q,null,r,A));for(x in r)A=r[x],R=i[x],r.hasOwnProperty(x)&&A!==R&&(A!=null||R!=null)&&(x==="selected"?e.selected=A&&typeof A!="function"&&typeof A!="symbol":Ae(e,t,x,A,r,R));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var F in i)A=i[F],i.hasOwnProperty(F)&&A!=null&&!r.hasOwnProperty(F)&&Ae(e,t,F,null,r,A);for(w in r)if(A=r[w],R=i[w],r.hasOwnProperty(w)&&A!==R&&(A!=null||R!=null))switch(w){case"children":case"dangerouslySetInnerHTML":if(A!=null)throw Error(s(137,t));break;default:Ae(e,t,w,A,r,R)}return;default:if(zc(t)){for(var Re in i)A=i[Re],i.hasOwnProperty(Re)&&A!==void 0&&!r.hasOwnProperty(Re)&&Su(e,t,Re,void 0,r,A);for(D in r)A=r[D],R=i[D],!r.hasOwnProperty(D)||A===R||A===void 0&&R===void 0||Su(e,t,D,A,r,R);return}}for(var T in i)A=i[T],i.hasOwnProperty(T)&&A!=null&&!r.hasOwnProperty(T)&&Ae(e,t,T,null,r,A);for(I in r)A=r[I],R=i[I],!r.hasOwnProperty(I)||A===R||A==null&&R==null||Ae(e,t,I,A,r,R)}function Hg(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function hb(){if(typeof performance.getEntriesByType=="function"){for(var e=0,t=0,i=performance.getEntriesByType("resource"),r=0;r<i.length;r++){var o=i[r],u=o.transferSize,h=o.initiatorType,_=o.duration;if(u&&_&&Hg(h)){for(h=0,_=o.responseEnd,r+=1;r<i.length;r++){var x=i[r],w=x.startTime;if(w>_)break;var D=x.transferSize,I=x.initiatorType;D&&Hg(I)&&(x=x.responseEnd,h+=D*(x<_?1:(_-w)/(x-w)))}if(--r,t+=8*(u+h)/(o.duration/1e3),e++,10<e)break}}if(0<e)return t/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var xu=null,Eu=null;function Tr(e){return e.nodeType===9?e:e.ownerDocument}function Bg(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function kg(e,t){if(e===0)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&t==="foreignObject"?0:e}function Cu(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.children=="bigint"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Tu=null;function mb(){var e=window.event;return e&&e.type==="popstate"?e===Tu?!1:(Tu=e,!0):(Tu=null,!1)}var qg=typeof setTimeout=="function"?setTimeout:void 0,gb=typeof clearTimeout=="function"?clearTimeout:void 0,Gg=typeof Promise=="function"?Promise:void 0,pb=typeof queueMicrotask=="function"?queueMicrotask:typeof Gg<"u"?function(e){return Gg.resolve(null).then(e).catch(yb)}:qg;function yb(e){setTimeout(function(){throw e})}function ni(e){return e==="head"}function Yg(e,t){var i=t,r=0;do{var o=i.nextSibling;if(e.removeChild(i),o&&o.nodeType===8)if(i=o.data,i==="/$"||i==="/&"){if(r===0){e.removeChild(o),Rl(t);return}r--}else if(i==="$"||i==="$?"||i==="$~"||i==="$!"||i==="&")r++;else if(i==="html")za(e.ownerDocument.documentElement);else if(i==="head"){i=e.ownerDocument.head,za(i);for(var u=i.firstChild;u;){var h=u.nextSibling,_=u.nodeName;u[Jl]||_==="SCRIPT"||_==="STYLE"||_==="LINK"&&u.rel.toLowerCase()==="stylesheet"||i.removeChild(u),u=h}}else i==="body"&&za(e.ownerDocument.body);i=o}while(i);Rl(t)}function Vg(e,t){var i=e;e=0;do{var r=i.nextSibling;if(i.nodeType===1?t?(i._stashedDisplay=i.style.display,i.style.display="none"):(i.style.display=i._stashedDisplay||"",i.getAttribute("style")===""&&i.removeAttribute("style")):i.nodeType===3&&(t?(i._stashedText=i.nodeValue,i.nodeValue=""):i.nodeValue=i._stashedText||""),r&&r.nodeType===8)if(i=r.data,i==="/$"){if(e===0)break;e--}else i!=="$"&&i!=="$?"&&i!=="$~"&&i!=="$!"||e++;i=r}while(i)}function Nu(e){var t=e.firstChild;for(t&&t.nodeType===10&&(t=t.nextSibling);t;){var i=t;switch(t=t.nextSibling,i.nodeName){case"HTML":case"HEAD":case"BODY":Nu(i),Mc(i);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(i.rel.toLowerCase()==="stylesheet")continue}e.removeChild(i)}}function _b(e,t,i,r){for(;e.nodeType===1;){var o=i;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!r&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(r){if(!e[Jl])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(u=e.getAttribute("rel"),u==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(u!==o.rel||e.getAttribute("href")!==(o.href==null||o.href===""?null:o.href)||e.getAttribute("crossorigin")!==(o.crossOrigin==null?null:o.crossOrigin)||e.getAttribute("title")!==(o.title==null?null:o.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(u=e.getAttribute("src"),(u!==(o.src==null?null:o.src)||e.getAttribute("type")!==(o.type==null?null:o.type)||e.getAttribute("crossorigin")!==(o.crossOrigin==null?null:o.crossOrigin))&&u&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(t==="input"&&e.type==="hidden"){var u=o.name==null?null:""+o.name;if(o.type==="hidden"&&e.getAttribute("name")===u)return e}else return e;if(e=Ft(e.nextSibling),e===null)break}return null}function vb(e,t,i){if(t==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!i||(e=Ft(e.nextSibling),e===null))return null;return e}function Qg(e,t){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!t||(e=Ft(e.nextSibling),e===null))return null;return e}function wu(e){return e.data==="$?"||e.data==="$~"}function Au(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function bb(e,t){var i=e.ownerDocument;if(e.data==="$~")e._reactRetry=t;else if(e.data!=="$?"||i.readyState!=="loading")t();else{var r=function(){t(),i.removeEventListener("DOMContentLoaded",r)};i.addEventListener("DOMContentLoaded",r),e._reactRetry=r}}function Ft(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?"||t==="$~"||t==="&"||t==="F!"||t==="F")break;if(t==="/$"||t==="/&")return null}}return e}var Ru=null;function Xg(e){e=e.nextSibling;for(var t=0;e;){if(e.nodeType===8){var i=e.data;if(i==="/$"||i==="/&"){if(t===0)return Ft(e.nextSibling);t--}else i!=="$"&&i!=="$!"&&i!=="$?"&&i!=="$~"&&i!=="&"||t++}e=e.nextSibling}return null}function Pg(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var i=e.data;if(i==="$"||i==="$!"||i==="$?"||i==="$~"||i==="&"){if(t===0)return e;t--}else i!=="/$"&&i!=="/&"||t++}e=e.previousSibling}return null}function Zg(e,t,i){switch(t=Tr(i),e){case"html":if(e=t.documentElement,!e)throw Error(s(452));return e;case"head":if(e=t.head,!e)throw Error(s(453));return e;case"body":if(e=t.body,!e)throw Error(s(454));return e;default:throw Error(s(451))}}function za(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);Mc(e)}var $t=new Map,Kg=new Set;function Nr(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var Mn=G.d;G.d={f:Sb,r:xb,D:Eb,C:Cb,L:Tb,m:Nb,X:Ab,S:wb,M:Rb};function Sb(){var e=Mn.f(),t=yr();return e||t}function xb(e){var t=Zi(e);t!==null&&t.tag===5&&t.type==="form"?dm(t):Mn.r(e)}var Nl=typeof document>"u"?null:document;function Fg(e,t,i){var r=Nl;if(r&&typeof t=="string"&&t){var o=Yt(t);o='link[rel="'+e+'"][href="'+o+'"]',typeof i=="string"&&(o+='[crossorigin="'+i+'"]'),Kg.has(o)||(Kg.add(o),e={rel:e,crossOrigin:i,href:t},r.querySelector(o)===null&&(t=r.createElement("link"),ft(t,"link",e),nt(t),r.head.appendChild(t)))}}function Eb(e){Mn.D(e),Fg("dns-prefetch",e,null)}function Cb(e,t){Mn.C(e,t),Fg("preconnect",e,t)}function Tb(e,t,i){Mn.L(e,t,i);var r=Nl;if(r&&e&&t){var o='link[rel="preload"][as="'+Yt(t)+'"]';t==="image"&&i&&i.imageSrcSet?(o+='[imagesrcset="'+Yt(i.imageSrcSet)+'"]',typeof i.imageSizes=="string"&&(o+='[imagesizes="'+Yt(i.imageSizes)+'"]')):o+='[href="'+Yt(e)+'"]';var u=o;switch(t){case"style":u=wl(e);break;case"script":u=Al(e)}$t.has(u)||(e=v({rel:"preload",href:t==="image"&&i&&i.imageSrcSet?void 0:e,as:t},i),$t.set(u,e),r.querySelector(o)!==null||t==="style"&&r.querySelector(Ia(u))||t==="script"&&r.querySelector(La(u))||(t=r.createElement("link"),ft(t,"link",e),nt(t),r.head.appendChild(t)))}}function Nb(e,t){Mn.m(e,t);var i=Nl;if(i&&e){var r=t&&typeof t.as=="string"?t.as:"script",o='link[rel="modulepreload"][as="'+Yt(r)+'"][href="'+Yt(e)+'"]',u=o;switch(r){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":u=Al(e)}if(!$t.has(u)&&(e=v({rel:"modulepreload",href:e},t),$t.set(u,e),i.querySelector(o)===null)){switch(r){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(i.querySelector(La(u)))return}r=i.createElement("link"),ft(r,"link",e),nt(r),i.head.appendChild(r)}}}function wb(e,t,i){Mn.S(e,t,i);var r=Nl;if(r&&e){var o=Ki(r).hoistableStyles,u=wl(e);t=t||"default";var h=o.get(u);if(!h){var _={loading:0,preload:null};if(h=r.querySelector(Ia(u)))_.loading=5;else{e=v({rel:"stylesheet",href:e,"data-precedence":t},i),(i=$t.get(u))&&Mu(e,i);var x=h=r.createElement("link");nt(x),ft(x,"link",e),x._p=new Promise(function(w,D){x.onload=w,x.onerror=D}),x.addEventListener("load",function(){_.loading|=1}),x.addEventListener("error",function(){_.loading|=2}),_.loading|=4,wr(h,t,r)}h={type:"stylesheet",instance:h,count:1,state:_},o.set(u,h)}}}function Ab(e,t){Mn.X(e,t);var i=Nl;if(i&&e){var r=Ki(i).hoistableScripts,o=Al(e),u=r.get(o);u||(u=i.querySelector(La(o)),u||(e=v({src:e,async:!0},t),(t=$t.get(o))&&Du(e,t),u=i.createElement("script"),nt(u),ft(u,"link",e),i.head.appendChild(u)),u={type:"script",instance:u,count:1,state:null},r.set(o,u))}}function Rb(e,t){Mn.M(e,t);var i=Nl;if(i&&e){var r=Ki(i).hoistableScripts,o=Al(e),u=r.get(o);u||(u=i.querySelector(La(o)),u||(e=v({src:e,async:!0,type:"module"},t),(t=$t.get(o))&&Du(e,t),u=i.createElement("script"),nt(u),ft(u,"link",e),i.head.appendChild(u)),u={type:"script",instance:u,count:1,state:null},r.set(o,u))}}function $g(e,t,i,r){var o=(o=ue.current)?Nr(o):null;if(!o)throw Error(s(446));switch(e){case"meta":case"title":return null;case"style":return typeof i.precedence=="string"&&typeof i.href=="string"?(t=wl(i.href),i=Ki(o).hoistableStyles,r=i.get(t),r||(r={type:"style",instance:null,count:0,state:null},i.set(t,r)),r):{type:"void",instance:null,count:0,state:null};case"link":if(i.rel==="stylesheet"&&typeof i.href=="string"&&typeof i.precedence=="string"){e=wl(i.href);var u=Ki(o).hoistableStyles,h=u.get(e);if(h||(o=o.ownerDocument||o,h={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},u.set(e,h),(u=o.querySelector(Ia(e)))&&!u._p&&(h.instance=u,h.state.loading=5),$t.has(e)||(i={rel:"preload",as:"style",href:i.href,crossOrigin:i.crossOrigin,integrity:i.integrity,media:i.media,hrefLang:i.hrefLang,referrerPolicy:i.referrerPolicy},$t.set(e,i),u||Mb(o,e,i,h.state))),t&&r===null)throw Error(s(528,""));return h}if(t&&r!==null)throw Error(s(529,""));return null;case"script":return t=i.async,i=i.src,typeof i=="string"&&t&&typeof t!="function"&&typeof t!="symbol"?(t=Al(i),i=Ki(o).hoistableScripts,r=i.get(t),r||(r={type:"script",instance:null,count:0,state:null},i.set(t,r)),r):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,e))}}function wl(e){return'href="'+Yt(e)+'"'}function Ia(e){return'link[rel="stylesheet"]['+e+"]"}function Jg(e){return v({},e,{"data-precedence":e.precedence,precedence:null})}function Mb(e,t,i,r){e.querySelector('link[rel="preload"][as="style"]['+t+"]")?r.loading=1:(t=e.createElement("link"),r.preload=t,t.addEventListener("load",function(){return r.loading|=1}),t.addEventListener("error",function(){return r.loading|=2}),ft(t,"link",i),nt(t),e.head.appendChild(t))}function Al(e){return'[src="'+Yt(e)+'"]'}function La(e){return"script[async]"+e}function Wg(e,t,i){if(t.count++,t.instance===null)switch(t.type){case"style":var r=e.querySelector('style[data-href~="'+Yt(i.href)+'"]');if(r)return t.instance=r,nt(r),r;var o=v({},i,{"data-href":i.href,"data-precedence":i.precedence,href:null,precedence:null});return r=(e.ownerDocument||e).createElement("style"),nt(r),ft(r,"style",o),wr(r,i.precedence,e),t.instance=r;case"stylesheet":o=wl(i.href);var u=e.querySelector(Ia(o));if(u)return t.state.loading|=4,t.instance=u,nt(u),u;r=Jg(i),(o=$t.get(o))&&Mu(r,o),u=(e.ownerDocument||e).createElement("link"),nt(u);var h=u;return h._p=new Promise(function(_,x){h.onload=_,h.onerror=x}),ft(u,"link",r),t.state.loading|=4,wr(u,i.precedence,e),t.instance=u;case"script":return u=Al(i.src),(o=e.querySelector(La(u)))?(t.instance=o,nt(o),o):(r=i,(o=$t.get(u))&&(r=v({},i),Du(r,o)),e=e.ownerDocument||e,o=e.createElement("script"),nt(o),ft(o,"link",r),e.head.appendChild(o),t.instance=o);case"void":return null;default:throw Error(s(443,t.type))}else t.type==="stylesheet"&&(t.state.loading&4)===0&&(r=t.instance,t.state.loading|=4,wr(r,i.precedence,e));return t.instance}function wr(e,t,i){for(var r=i.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),o=r.length?r[r.length-1]:null,u=o,h=0;h<r.length;h++){var _=r[h];if(_.dataset.precedence===t)u=_;else if(u!==o)break}u?u.parentNode.insertBefore(e,u.nextSibling):(t=i.nodeType===9?i.head:i,t.insertBefore(e,t.firstChild))}function Mu(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.title==null&&(e.title=t.title)}function Du(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.integrity==null&&(e.integrity=t.integrity)}var Ar=null;function ep(e,t,i){if(Ar===null){var r=new Map,o=Ar=new Map;o.set(i,r)}else o=Ar,r=o.get(i),r||(r=new Map,o.set(i,r));if(r.has(e))return r;for(r.set(e,null),i=i.getElementsByTagName(e),o=0;o<i.length;o++){var u=i[o];if(!(u[Jl]||u[rt]||e==="link"&&u.getAttribute("rel")==="stylesheet")&&u.namespaceURI!=="http://www.w3.org/2000/svg"){var h=u.getAttribute(t)||"";h=e+h;var _=r.get(h);_?_.push(u):r.set(h,[u])}}return r}function tp(e,t,i){e=e.ownerDocument||e,e.head.insertBefore(i,t==="title"?e.querySelector("head > title"):null)}function Db(e,t,i){if(i===1||t.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof t.precedence!="string"||typeof t.href!="string"||t.href==="")break;return!0;case"link":if(typeof t.rel!="string"||typeof t.href!="string"||t.href===""||t.onLoad||t.onError)break;return t.rel==="stylesheet"?(e=t.disabled,typeof t.precedence=="string"&&e==null):!0;case"script":if(t.async&&typeof t.async!="function"&&typeof t.async!="symbol"&&!t.onLoad&&!t.onError&&t.src&&typeof t.src=="string")return!0}return!1}function np(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function Ob(e,t,i,r){if(i.type==="stylesheet"&&(typeof r.media!="string"||matchMedia(r.media).matches!==!1)&&(i.state.loading&4)===0){if(i.instance===null){var o=wl(r.href),u=t.querySelector(Ia(o));if(u){t=u._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(e.count++,e=Rr.bind(e),t.then(e,e)),i.state.loading|=4,i.instance=u,nt(u);return}u=t.ownerDocument||t,r=Jg(r),(o=$t.get(o))&&Mu(r,o),u=u.createElement("link"),nt(u);var h=u;h._p=new Promise(function(_,x){h.onload=_,h.onerror=x}),ft(u,"link",r),i.instance=u}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(i,t),(t=i.state.preload)&&(i.state.loading&3)===0&&(e.count++,i=Rr.bind(e),t.addEventListener("load",i),t.addEventListener("error",i))}}var Ou=0;function jb(e,t){return e.stylesheets&&e.count===0&&Dr(e,e.stylesheets),0<e.count||0<e.imgCount?function(i){var r=setTimeout(function(){if(e.stylesheets&&Dr(e,e.stylesheets),e.unsuspend){var u=e.unsuspend;e.unsuspend=null,u()}},6e4+t);0<e.imgBytes&&Ou===0&&(Ou=62500*hb());var o=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&Dr(e,e.stylesheets),e.unsuspend)){var u=e.unsuspend;e.unsuspend=null,u()}},(e.imgBytes>Ou?50:800)+t);return e.unsuspend=i,function(){e.unsuspend=null,clearTimeout(r),clearTimeout(o)}}:null}function Rr(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Dr(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var Mr=null;function Dr(e,t){e.stylesheets=null,e.unsuspend!==null&&(e.count++,Mr=new Map,t.forEach(zb,e),Mr=null,Rr.call(e))}function zb(e,t){if(!(t.state.loading&4)){var i=Mr.get(e);if(i)var r=i.get(null);else{i=new Map,Mr.set(e,i);for(var o=e.querySelectorAll("link[data-precedence],style[data-precedence]"),u=0;u<o.length;u++){var h=o[u];(h.nodeName==="LINK"||h.getAttribute("media")!=="not all")&&(i.set(h.dataset.precedence,h),r=h)}r&&i.set(null,r)}o=t.instance,h=o.getAttribute("data-precedence"),u=i.get(h)||r,u===r&&i.set(null,o),i.set(h,o),this.count++,r=Rr.bind(this),o.addEventListener("load",r),o.addEventListener("error",r),u?u.parentNode.insertBefore(o,u.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(o,e.firstChild)),t.state.loading|=4}}var Ua={$$typeof:X,Provider:null,Consumer:null,_currentValue:J,_currentValue2:J,_threadCount:0};function Ib(e,t,i,r,o,u,h,_,x){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Nc(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Nc(0),this.hiddenUpdates=Nc(null),this.identifierPrefix=r,this.onUncaughtError=o,this.onCaughtError=u,this.onRecoverableError=h,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=x,this.incompleteTransitions=new Map}function ip(e,t,i,r,o,u,h,_,x,w,D,I){return e=new Ib(e,t,i,h,x,w,D,I,_),t=1,u===!0&&(t|=24),u=zt(3,null,null,t),e.current=u,u.stateNode=e,t=uo(),t.refCount++,e.pooledCache=t,t.refCount++,u.memoizedState={element:r,isDehydrated:i,cache:t},go(u),e}function lp(e){return e?(e=al,e):al}function ap(e,t,i,r,o,u){o=lp(o),r.context===null?r.context=o:r.pendingContext=o,r=Qn(t),r.payload={element:i},u=u===void 0?null:u,u!==null&&(r.callback=u),i=Xn(e,r,t),i!==null&&(wt(i,e,t),ga(i,e,t))}function sp(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var i=e.retryLane;e.retryLane=i!==0&&i<t?i:t}}function ju(e,t){sp(e,t),(e=e.alternate)&&sp(e,t)}function rp(e){if(e.tag===13||e.tag===31){var t=Ci(e,67108864);t!==null&&wt(t,e,67108864),ju(e,67108864)}}function cp(e){if(e.tag===13||e.tag===31){var t=Bt();t=wc(t);var i=Ci(e,t);i!==null&&wt(i,e,t),ju(e,t)}}var Or=!0;function Lb(e,t,i,r){var o=O.T;O.T=null;var u=G.p;try{G.p=2,zu(e,t,i,r)}finally{G.p=u,O.T=o}}function Ub(e,t,i,r){var o=O.T;O.T=null;var u=G.p;try{G.p=8,zu(e,t,i,r)}finally{G.p=u,O.T=o}}function zu(e,t,i,r){if(Or){var o=Iu(r);if(o===null)bu(e,t,r,jr,i),up(e,r);else if(Bb(o,e,t,i,r))r.stopPropagation();else if(up(e,r),t&4&&-1<Hb.indexOf(e)){for(;o!==null;){var u=Zi(o);if(u!==null)switch(u.tag){case 3:if(u=u.stateNode,u.current.memoizedState.isDehydrated){var h=vi(u.pendingLanes);if(h!==0){var _=u;for(_.pendingLanes|=2,_.entangledLanes|=2;h;){var x=1<<31-Ot(h);_.entanglements[1]|=x,h&=~x}fn(u),(xe&6)===0&&(gr=Mt()+500,Da(0))}}break;case 31:case 13:_=Ci(u,2),_!==null&&wt(_,u,2),yr(),ju(u,2)}if(u=Iu(r),u===null&&bu(e,t,r,jr,i),u===o)break;o=u}o!==null&&r.stopPropagation()}else bu(e,t,r,null,i)}}function Iu(e){return e=Lc(e),Lu(e)}var jr=null;function Lu(e){if(jr=null,e=Pi(e),e!==null){var t=f(e);if(t===null)e=null;else{var i=t.tag;if(i===13){if(e=d(t),e!==null)return e;e=null}else if(i===31){if(e=m(t),e!==null)return e;e=null}else if(i===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return jr=e,null}function op(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(E0()){case yd:return 2;case _d:return 8;case xs:case C0:return 32;case vd:return 268435456;default:return 32}default:return 32}}var Uu=!1,ii=null,li=null,ai=null,Ha=new Map,Ba=new Map,si=[],Hb="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function up(e,t){switch(e){case"focusin":case"focusout":ii=null;break;case"dragenter":case"dragleave":li=null;break;case"mouseover":case"mouseout":ai=null;break;case"pointerover":case"pointerout":Ha.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ba.delete(t.pointerId)}}function ka(e,t,i,r,o,u){return e===null||e.nativeEvent!==u?(e={blockedOn:t,domEventName:i,eventSystemFlags:r,nativeEvent:u,targetContainers:[o]},t!==null&&(t=Zi(t),t!==null&&rp(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,o!==null&&t.indexOf(o)===-1&&t.push(o),e)}function Bb(e,t,i,r,o){switch(t){case"focusin":return ii=ka(ii,e,t,i,r,o),!0;case"dragenter":return li=ka(li,e,t,i,r,o),!0;case"mouseover":return ai=ka(ai,e,t,i,r,o),!0;case"pointerover":var u=o.pointerId;return Ha.set(u,ka(Ha.get(u)||null,e,t,i,r,o)),!0;case"gotpointercapture":return u=o.pointerId,Ba.set(u,ka(Ba.get(u)||null,e,t,i,r,o)),!0}return!1}function fp(e){var t=Pi(e.target);if(t!==null){var i=f(t);if(i!==null){if(t=i.tag,t===13){if(t=d(i),t!==null){e.blockedOn=t,Td(e.priority,function(){cp(i)});return}}else if(t===31){if(t=m(i),t!==null){e.blockedOn=t,Td(e.priority,function(){cp(i)});return}}else if(t===3&&i.stateNode.current.memoizedState.isDehydrated){e.blockedOn=i.tag===3?i.stateNode.containerInfo:null;return}}}e.blockedOn=null}function zr(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var i=Iu(e.nativeEvent);if(i===null){i=e.nativeEvent;var r=new i.constructor(i.type,i);Ic=r,i.target.dispatchEvent(r),Ic=null}else return t=Zi(i),t!==null&&rp(t),e.blockedOn=i,!1;t.shift()}return!0}function dp(e,t,i){zr(e)&&i.delete(t)}function kb(){Uu=!1,ii!==null&&zr(ii)&&(ii=null),li!==null&&zr(li)&&(li=null),ai!==null&&zr(ai)&&(ai=null),Ha.forEach(dp),Ba.forEach(dp)}function Ir(e,t){e.blockedOn===t&&(e.blockedOn=null,Uu||(Uu=!0,l.unstable_scheduleCallback(l.unstable_NormalPriority,kb)))}var Lr=null;function hp(e){Lr!==e&&(Lr=e,l.unstable_scheduleCallback(l.unstable_NormalPriority,function(){Lr===e&&(Lr=null);for(var t=0;t<e.length;t+=3){var i=e[t],r=e[t+1],o=e[t+2];if(typeof r!="function"){if(Lu(r||i)===null)continue;break}var u=Zi(i);u!==null&&(e.splice(t,3),t-=3,Io(u,{pending:!0,data:o,method:i.method,action:r},r,o))}}))}function Rl(e){function t(x){return Ir(x,e)}ii!==null&&Ir(ii,e),li!==null&&Ir(li,e),ai!==null&&Ir(ai,e),Ha.forEach(t),Ba.forEach(t);for(var i=0;i<si.length;i++){var r=si[i];r.blockedOn===e&&(r.blockedOn=null)}for(;0<si.length&&(i=si[0],i.blockedOn===null);)fp(i),i.blockedOn===null&&si.shift();if(i=(e.ownerDocument||e).$$reactFormReplay,i!=null)for(r=0;r<i.length;r+=3){var o=i[r],u=i[r+1],h=o[St]||null;if(typeof u=="function")h||hp(i);else if(h){var _=null;if(u&&u.hasAttribute("formAction")){if(o=u,h=u[St]||null)_=h.formAction;else if(Lu(o)!==null)continue}else _=h.action;typeof _=="function"?i[r+1]=_:(i.splice(r,3),r-=3),hp(i)}}}function mp(){function e(u){u.canIntercept&&u.info==="react-transition"&&u.intercept({handler:function(){return new Promise(function(h){return o=h})},focusReset:"manual",scroll:"manual"})}function t(){o!==null&&(o(),o=null),r||setTimeout(i,20)}function i(){if(!r&&!navigation.transition){var u=navigation.currentEntry;u&&u.url!=null&&navigation.navigate(u.url,{state:u.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var r=!1,o=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",t),navigation.addEventListener("navigateerror",t),setTimeout(i,100),function(){r=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",t),navigation.removeEventListener("navigateerror",t),o!==null&&(o(),o=null)}}}function Hu(e){this._internalRoot=e}Ur.prototype.render=Hu.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(s(409));var i=t.current,r=Bt();ap(i,r,e,t,null,null)},Ur.prototype.unmount=Hu.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;ap(e.current,2,null,e,null,null),yr(),t[Xi]=null}};function Ur(e){this._internalRoot=e}Ur.prototype.unstable_scheduleHydration=function(e){if(e){var t=Cd();e={blockedOn:null,target:e,priority:t};for(var i=0;i<si.length&&t!==0&&t<si[i].priority;i++);si.splice(i,0,e),i===0&&fp(e)}};var gp=n.version;if(gp!=="19.2.4")throw Error(s(527,gp,"19.2.4"));G.findDOMNode=function(e){var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(s(188)):(e=Object.keys(e).join(","),Error(s(268,e)));return e=g(t),e=e!==null?S(e):null,e=e===null?null:e.stateNode,e};var qb={bundleType:0,version:"19.2.4",rendererPackageName:"react-dom",currentDispatcherRef:O,reconcilerVersion:"19.2.4"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Hr=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Hr.isDisabled&&Hr.supportsFiber)try{Kl=Hr.inject(qb),Dt=Hr}catch{}}return Ga.createRoot=function(e,t){if(!c(e))throw Error(s(299));var i=!1,r="",o=xm,u=Em,h=Cm;return t!=null&&(t.unstable_strictMode===!0&&(i=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onUncaughtError!==void 0&&(o=t.onUncaughtError),t.onCaughtError!==void 0&&(u=t.onCaughtError),t.onRecoverableError!==void 0&&(h=t.onRecoverableError)),t=ip(e,1,!1,null,null,i,r,null,o,u,h,mp),e[Xi]=t.current,vu(e),new Hu(t)},Ga.hydrateRoot=function(e,t,i){if(!c(e))throw Error(s(299));var r=!1,o="",u=xm,h=Em,_=Cm,x=null;return i!=null&&(i.unstable_strictMode===!0&&(r=!0),i.identifierPrefix!==void 0&&(o=i.identifierPrefix),i.onUncaughtError!==void 0&&(u=i.onUncaughtError),i.onCaughtError!==void 0&&(h=i.onCaughtError),i.onRecoverableError!==void 0&&(_=i.onRecoverableError),i.formState!==void 0&&(x=i.formState)),t=ip(e,1,!0,t,i??null,r,o,x,u,h,_,mp),t.context=lp(null),i=t.current,r=Bt(),r=wc(r),o=Qn(r),o.callback=null,Xn(i,o,r),i=r,t.current.lanes=i,$l(t,i),fn(t),e[Xi]=t.current,vu(e),new Ur(t)},Ga.version="19.2.4",Ga}var Tp;function Jb(){if(Tp)return qu.exports;Tp=1;function l(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(l)}catch(n){console.error(n)}}return l(),qu.exports=$b(),qu.exports}var Wb=Jb();const Np=l=>{let n;const a=new Set,s=(g,S)=>{const v=typeof g=="function"?g(n):g;if(!Object.is(v,n)){const b=n;n=S??(typeof v!="object"||v===null)?v:Object.assign({},n,v),a.forEach(M=>M(n,b))}},c=()=>n,m={setState:s,getState:c,getInitialState:()=>p,subscribe:g=>(a.add(g),()=>a.delete(g))},p=n=l(s,c,m);return m},e1=(l=>l?Np(l):Np),t1=l=>l;function n1(l,n=t1){const a=Br.useSyncExternalStore(l.subscribe,Br.useCallback(()=>n(l.getState()),[l,n]),Br.useCallback(()=>n(l.getInitialState()),[l,n]));return Br.useDebugValue(a),a}const wp=l=>{const n=e1(l),a=s=>n1(n,s);return Object.assign(a,n),a},jy=(l=>l?wp(l):wp),i1=2e4,Qu=l=>l.find(a=>a.money>=i1)||null,l1=l=>{const n=l.stats.intelligence+l.stats.stamina+l.stats.charisma;let a=0;return l.job&&(a=(l.jobLevel+1)*1e3,a+=l.performance*100),{money:l.money,stats:n*100,jobBonus:a,total:l.money+n*100+a}},a1=(l,n)=>{const a=l.map(s=>({player:s,score:l1(s),rank:0})).sort((s,c)=>c.score.total-s.score.total).map((s,c)=>({...s,rank:c+1}));return n?{rankings:a,winner:n,winReason:"money_threshold"}:{rankings:a,winner:a[0]?.player,winReason:"highest_score"}},At=(l,n)=>({...l,money:Math.max(0,l.money+n)}),Dn=(l,n,a)=>({...l,stats:{...l.stats,[n]:Math.max(0,l.stats[n]+a)}}),s1=(l,n)=>{if(!l.job)return l;const a=Math.max(0,Math.min(9,l.performance+n));return{...l,performance:a}},r1=(l,n)=>[...l].sort((a,s)=>s.money-a.money).slice(0,n),Ap=(l,n)=>[...l].sort((a,s)=>a.money-s.money).slice(0,n),c1=(l,n)=>l.reduce((a,s)=>s.stats[n]>a.stats[n]?s:a),ln=[{id:"chen-jian-zhi",name:"",gender:"male",initialMoney:3e3,initialStats:{intelligence:4,stamina:6,charisma:5},marriageRequirement:{intelligence:15,stamina:15,charisma:15},description:""},{id:"zheng-an-qi",name:"",gender:"female",initialMoney:2e3,initialStats:{intelligence:6,stamina:4,charisma:7},marriageRequirement:{intelligence:15,stamina:15,charisma:15},description:""},{id:"yao-xin-bei",name:"",gender:"female",initialMoney:2e3,initialStats:{intelligence:7,stamina:7,charisma:5},marriageRequirement:{intelligence:15,stamina:15,charisma:15},description:""},{id:"chen-dong-ming",name:"",gender:"male",initialMoney:8e3,initialStats:{intelligence:5,stamina:7,charisma:3},marriageRequirement:{intelligence:15,stamina:15,charisma:15},description:""},{id:"ke-ruo-ya",name:"",gender:"female",initialMoney:1e4,initialStats:{intelligence:8,stamina:4,charisma:6},marriageRequirement:{intelligence:15,stamina:15,charisma:15},description:""},{id:"lu-bing-yan",name:"",gender:"male",initialMoney:1e4,initialStats:{intelligence:4,stamina:7,charisma:4},marriageRequirement:{intelligence:15,stamina:15,charisma:15},description:""},{id:"xu-rui-he",name:"",gender:"male",initialMoney:7e3,initialStats:{intelligence:8,stamina:5,charisma:4},marriageRequirement:{intelligence:15,stamina:15,charisma:15},description:""},{id:"liang-si-yu",name:"",gender:"female",initialMoney:5e3,initialStats:{intelligence:7,stamina:5,charisma:7},marriageRequirement:{intelligence:15,stamina:15,charisma:15},description:""},{id:"ma-fei-yang",name:"",gender:"male",initialMoney:8e3,initialStats:{intelligence:4,stamina:4,charisma:8},marriageRequirement:{intelligence:15,stamina:15,charisma:15},description:""},{id:"wu-xin-yi",name:"",gender:"female",initialMoney:7e3,initialStats:{intelligence:2,stamina:7,charisma:4},marriageRequirement:{intelligence:15,stamina:15,charisma:15},description:""},{id:"zhao-bo-qian",name:"",gender:"male",initialMoney:5e3,initialStats:{intelligence:6,stamina:3,charisma:7},marriageRequirement:{intelligence:15,stamina:15,charisma:15},description:""},{id:"su-xun-jie",name:"",gender:"female",initialMoney:6e3,initialStats:{intelligence:4,stamina:6,charisma:7},marriageRequirement:{intelligence:15,stamina:15,charisma:15},description:""},{id:"wang-han-yao",name:"",gender:"male",initialMoney:5500,initialStats:{intelligence:6,stamina:6,charisma:6},marriageRequirement:{intelligence:15,stamina:15,charisma:15},description:""},{id:"zhuang-yu-cheng",name:"",gender:"female",initialMoney:5500,initialStats:{intelligence:7,stamina:2,charisma:6},marriageRequirement:{intelligence:15,stamina:15,charisma:15},description:""},{id:"zhao-bo-xuan",name:"",gender:"male",initialMoney:5e3,initialStats:{intelligence:4,stamina:4,charisma:7},marriageRequirement:{intelligence:15,stamina:15,charisma:15},description:""}],Pa=[{id:"lawyer",name:"",category:"intelligence",levels:[{name:"",requiredStats:{intelligence:20,charisma:15},salary:[4e3,5e3,6e3]},{name:"",requiredStats:{intelligence:25,stamina:10,charisma:20},salary:[1e4,12e3,15e3]},{name:"",requiredStats:{intelligence:30,stamina:10,charisma:25},salary:[18e3,2e4,25e3,3e4]}],skill:""},{id:"teacher",name:"",category:"intelligence",levels:[{name:"",requiredStats:{intelligence:15,charisma:5},salary:[2e3,3e3,4e3]},{name:"",requiredStats:{intelligence:20,stamina:10,charisma:10},salary:[8e3,1e4,15e3]},{name:"",requiredStats:{intelligence:25,stamina:15,charisma:15},salary:[2e4,22e3,24e3,26e3]}],skill:"+1"},{id:"smuggler",name:"",category:"intelligence",levels:[{name:"",requiredStats:{intelligence:12,charisma:8},salary:[2e3,4e3,6e3]},{name:"",requiredStats:{intelligence:18,charisma:15},salary:[1e4,15e3,2e4]},{name:"",requiredStats:{intelligence:25,stamina:10,charisma:20},salary:[3e4,4e4,5e4]}],skill:" $8,000 "},{id:"worker",name:"",category:"stamina",levels:[{name:"",requiredStats:{stamina:12,charisma:3},salary:[1e3,2e3,3e3]},{name:"",requiredStats:{stamina:18,charisma:8},salary:[5e3,6e3,7e3]},{name:"",requiredStats:{intelligence:10,stamina:20,charisma:15},salary:[1e4,12e3,15e3]}],skill:"+1"},{id:"farmer",name:"",category:"stamina",levels:[{name:"",requiredStats:{stamina:10},salary:[1e3,2e3,3e3]},{name:"",requiredStats:{stamina:18,charisma:8},salary:[5e3,7e3,1e4]},{name:"",requiredStats:{intelligence:15,stamina:25,charisma:15},salary:[2e4,22e3,25e3]}],skill:"+1"},{id:"gangster",name:"",category:"stamina",levels:[{name:"",requiredStats:{stamina:12,charisma:8},salary:[2e3,4e3,6e3]},{name:"",requiredStats:{stamina:20,charisma:15},salary:[1e4,15e3,2e4]},{name:"",requiredStats:{intelligence:15,stamina:25,charisma:20},salary:[3e4,35e3,4e4]}],skill:" -5"},{id:"singer",name:"",category:"charisma",levels:[{name:"",requiredStats:{stamina:8,charisma:12},salary:[800,1500,2e3]},{name:"",requiredStats:{intelligence:10,stamina:15,charisma:18},salary:[5e3,8e3,12e3]},{name:"",requiredStats:{intelligence:15,stamina:20,charisma:25},salary:[15e3,2e4,3e4]}],skill:"+1"},{id:"magician",name:"",category:"charisma",levels:[{name:"",requiredStats:{intelligence:10,charisma:10},salary:[800,1200,1500]},{name:"",requiredStats:{intelligence:18,charisma:18},salary:[2500,3e3,4e3]},{name:"",requiredStats:{intelligence:25,stamina:15,charisma:25},salary:[8e3,1e4,15e3]}],skill:""},{id:"hostess",name:"",category:"charisma",levels:[{name:"",requiredStats:{stamina:10,charisma:15},salary:[1500,2e3,2500]},{name:"",requiredStats:{intelligence:8,stamina:15,charisma:22},salary:[6e3,8e3,15e3]},{name:"",requiredStats:{intelligence:15,stamina:18,charisma:28},salary:[2e4,25e3,35e3]}],skill:""}],zy=(l,n,a=0)=>{const s=n.levels[a].requiredStats;return(s.intelligence===void 0||l.intelligence>=s.intelligence)&&(s.stamina===void 0||l.stamina>=s.stamina)&&(s.charisma===void 0||l.charisma>=s.charisma)},o1=()=>({intelligence:Pa.filter(l=>l.category==="intelligence"),stamina:Pa.filter(l=>l.category==="stamina"),charisma:Pa.filter(l=>l.category==="charisma")}),u1=[{id:"social-training",type:"study",name:"",description:" +2",cost:500,effect:{type:"stat_change",stat:"charisma",value:2},count:6},{id:"weight-training",type:"study",name:"",description:" +2",cost:500,effect:{type:"stat_change",stat:"stamina",value:2},count:6},{id:"thesis-research",type:"study",name:"",description:" +2",cost:500,effect:{type:"stat_change",stat:"intelligence",value:2},count:6},{id:"free-research",type:"study",name:"",description:" +1",cost:300,effect:{type:"stat_change_choice",value:1},count:40},{id:"field-trip",type:"study",name:"",description:"",effect:{type:"explore",location:"random"},count:10},{id:"performance",type:"work",name:"",description:" +1",effect:{type:"performance_change",value:1},count:28},{id:"bootlicking",type:"work",name:"",description:" $500 -2",effect:{type:"special",handler:"bootlicking"},count:7},{id:"socializing",type:"work",name:"",description:" $500 +2",effect:{type:"special",handler:"socializing"},count:7},{id:"napping",type:"work",name:"",description:" $500 +2",effect:{type:"special",handler:"napping"},count:7},{id:"overtime",type:"work",name:"",description:" $1,000 -2",effect:{type:"special",handler:"overtime"},count:7},{id:"business-trip",type:"work",name:"",description:"",effect:{type:"explore",location:"random"},count:10},{id:"steal",type:"function",name:"",description:"",effect:{type:"special",handler:"steal"},count:5},{id:"robbery",type:"function",name:"",description:"",effect:{type:"special",handler:"robbery"},count:5},{id:"sabotage",type:"function",name:"",description:" 2 ",effect:{type:"special",handler:"sabotage"},count:7},{id:"invalid",type:"function",name:"",description:"",effect:{type:"special",handler:"invalid"},count:10},{id:"something-from-nothing",type:"function",name:"",description:"",effect:{type:"draw_cards",count:2},count:6},{id:"job-change",type:"function",name:"",description:"",effect:{type:"special",handler:"job_change"},count:5},{id:"parachute",type:"function",name:"",description:"",effect:{type:"special",handler:"parachute"},count:3}],f1=()=>{const l=[];let n=0;for(const a of u1)for(let s=0;s<a.count;s++)l.push({...a,id:`${a.id}-${n++}`});return l},Iy=l=>{const n=[...l];for(let a=n.length-1;a>0;a--){const s=Math.floor(Math.random()*(a+1));[n[a],n[s]]=[n[s],n[a]]}return n},d1=[{id:"new-mayor",turn:1,name:"",description:" $500 ",target:{type:"all"},effect:{type:"money_change",value:500}},{id:"poverty-relief-1",turn:5,name:"",description:" $1,500  $1,500",target:{type:"poorest",count:4},effect:{type:"special",handler:"poverty_relief"}},{id:"competition-1",turn:8,name:"",description:" +$3,000 +$2,000 +$1,000",target:{type:"all"},effect:{type:"special",handler:"competition_ranked"}},{id:"competition-2",turn:15,name:"",description:" +$5,000 +$3,500 +$2,000",target:{type:"all"},effect:{type:"special",handler:"competition_achievement"}},{id:"poverty-relief",turn:21,name:"",description:" $3,000",target:{type:"poorest",count:1},effect:{type:"special",handler:"poverty_relief_3000"}},{id:"finale",turn:30,name:"",description:"",target:{type:"all"},effect:{type:"special",handler:"game_end"}}],Rp=[{id:"tax",turn:"random",name:"",description:" 2  10% ",target:{type:"richest",count:2},effect:{type:"special",handler:"tax"}},{id:"red-envelope",turn:"random",name:"",description:" +$1,000",target:{type:"all"},effect:{type:"money_change",value:1e3}},{id:"plague",turn:"random",name:"",description:" -3",target:{type:"all"},effect:{type:"stat_change",stat:"stamina",value:-3}},{id:"white-terror",turn:"random",name:"",description:" -3",target:{type:"all"},effect:{type:"stat_change",stat:"intelligence",value:-3}},{id:"water-shortage",turn:"random",name:"",description:" -3",target:{type:"all"},effect:{type:"stat_change",stat:"charisma",value:-3}},{id:"vaccine",turn:"random",name:"",description:" +3",target:{type:"all"},effect:{type:"stat_change",stat:"stamina",value:3}},{id:"lecture",turn:"random",name:"",description:" +3",target:{type:"all"},effect:{type:"stat_change",stat:"intelligence",value:3}},{id:"beauty-contest",turn:"random",name:"",description:" +3",target:{type:"all"},effect:{type:"stat_change",stat:"charisma",value:3}},{id:"voucher",turn:"random",name:"",description:"",target:{type:"all"},effect:{type:"draw_cards",count:1}},{id:"landlord-gift",turn:"random",name:"",description:" 2  $1,000",target:{type:"poorest",count:2},effect:{type:"money_change",value:1e3}}],h1=l=>{const n=d1.find(s=>s.turn===l);if(n)return n;const a=Math.floor(Math.random()*Rp.length);return{...Rp[a],turn:l}},Ly=[{id:"park",name:"",outcomes:[{description:" -2 $500",probability:.3,effect:{type:"special",handler:"park_bad"}},{description:" +2 $500",probability:.3,effect:{type:"special",handler:"park_good"}},{description:"",probability:.4,effect:{type:"stat_change",stat:"stamina",value:0}}]},{id:"library",name:"",outcomes:[{description:" -2",probability:.3,effect:{type:"stat_change",stat:"intelligence",value:-2}},{description:" +3",probability:.4,effect:{type:"stat_change",stat:"intelligence",value:3}},{description:" +1",probability:.3,effect:{type:"stat_change",stat:"intelligence",value:1}}]},{id:"home",name:"",outcomes:[{description:" +3",probability:.5,effect:{type:"stat_change",stat:"stamina",value:3}},{description:" -2",probability:.3,effect:{type:"stat_change",stat:"stamina",value:-2}},{description:" +1",probability:.2,effect:{type:"stat_change",stat:"stamina",value:1}}]}],m1=l=>{const n=Ly.find(c=>c.id===l);if(!n)return null;const a=Math.random();let s=0;for(const c of n.outcomes)if(s+=c.probability,a<s)return{location:n,outcome:c};return{location:n,outcome:n.outcomes[n.outcomes.length-1]}},Uy=l=>Pa.filter(n=>zy(l.stats,n,0)),g1=(l,n)=>{const a=Pa.find(s=>s.id===n);return!a||!zy(l.stats,a,0)?l:{...l,job:a,jobLevel:0,performance:0}},Df=l=>{if(!l.job||l.jobLevel>=2)return!1;const n=l.jobLevel+1,a=l.job.levels[n].requiredStats,s=n*3;return l.performance<s?!1:(a.intelligence===void 0||l.stats.intelligence>=a.intelligence)&&(a.stamina===void 0||l.stats.stamina>=a.stamina)&&(a.charisma===void 0||l.stats.charisma>=a.charisma)},p1=l=>Df(l)?{...l,jobLevel:l.jobLevel+1}:l,y1=l=>{if(!l.job)return 0;const a=l.job.levels[l.jobLevel].salary,s=l.jobLevel*3,c=l.performance-s,f=Math.min(c,a.length-1);return a[Math.max(0,f)]},_1=l=>{const n=y1(l);return n===0?l:{...l,money:l.money+n}},Mp=l=>l.job?l.job.levels[l.jobLevel].name:"",v1=l=>{if(!l.job)return l;switch(l.job.id){case"teacher":return{...l,stats:{...l.stats,intelligence:l.stats.intelligence+1}};case"worker":case"farmer":return{...l,stats:{...l.stats,stamina:l.stats.stamina+1}};case"singer":return{...l,stats:{...l.stats,charisma:l.stats.charisma+1}};default:return l}},rf=(l,n)=>n.effect.type==="special"&&n.effect.handler==="invalid"?{canPlay:!1,reason:""}:n.cost&&l.money<n.cost?{canPlay:!1,reason:` $${n.cost}`}:n.type==="work"&&!l.job?{canPlay:!1,reason:""}:n.effect.type==="special"&&n.effect.handler==="job_change"&&!l.job?{canPlay:!1,reason:""}:{canPlay:!0},b1=(l,n)=>{switch(n.type){case"stat_change":return{player:Dn(l,n.stat,n.value),message:`${Hy(n.stat)} ${n.value>0?"+":""}${n.value}`};case"money_change":return{player:At(l,n.value),message:` ${n.value>0?"+":""}$${n.value}`};case"performance_change":return l.job?{player:s1(l,n.value),message:` ${n.value>0?"+":""}${n.value}`}:{player:l,message:""};case"stat_change_choice":return{player:l,message:"",needsSelection:{type:"stat",options:["intelligence","stamina","charisma"]}};case"draw_cards":return{player:l,message:` ${n.count} `};case"explore":return{player:l,message:"",needsSelection:{type:"location"}};case"special":return S1(l,n.handler);default:return{player:l,message:""}}},S1=(l,n)=>{switch(n){case"bootlicking":return{player:Dn(At(l,500),"charisma",-2),message:" $500 -2"};case"socializing":return l.money<500?{player:l,message:""}:{player:Dn(At(l,-500),"charisma",2),message:" $500 +2"};case"napping":return l.money<500?{player:l,message:""}:{player:Dn(At(l,-500),"stamina",2),message:" $500 +2"};case"overtime":return{player:Dn(At(l,1e3),"stamina",-2),message:" $1,000 -2"};case"steal":return{player:l,message:"",needsSelection:{type:"player"}};case"robbery":return{player:l,message:"",needsSelection:{type:"player"}};case"sabotage":return{player:l,message:"",needsSelection:{type:"player"}};case"invalid":return{player:l,message:""};case"job_change":return{player:{...l,job:null,jobLevel:0,performance:0},message:""};case"parachute":return{player:l,message:"",needsSelection:{type:"player"}};case"park_bad":return{player:Dn(At(l,-500),"charisma",-2),message:" -2 $500"};case"park_good":return{player:Dn(At(l,500),"stamina",2),message:" +2 $500"};default:return{player:l,message:`: ${n}`}}},Dp=(l,n)=>{let a=l;return n.cost&&(a=At(l,-n.cost)),{...b1(a,n.effect),usedCard:n}},x1=(l,n,a)=>({player:Dn(l,n,a),message:`${Hy(n)} +${a}`}),Hy=l=>({intelligence:"",stamina:"",charisma:""})[l],Op=3,jp=2,Of=10,E1=30,By=(l,n,a=[])=>{const s=l.map((m,p)=>{const g=ln.find(S=>S.id===n[p]);return C1(m,g,a[p]??!1)});let f=Iy(f1());const d=s.map(m=>{const p=f.slice(0,Op);return f=f.slice(Op),{...m,hand:p}});return{playerCount:4,maxTurns:E1,players:d,currentPlayerIndex:0,turn:1,phase:"event",deck:f,discardPile:[],currentEvent:null,eventLog:[],selectedCardIndex:null,showEventModal:!1}},C1=(l,n,a=!1)=>({id:`player-${Date.now()}-${Math.random().toString(36).substr(2,9)}`,name:l,character:n,stats:{...n.initialStats},money:n.initialMoney,job:null,jobLevel:0,performance:0,hand:[],isSkipTurn:!1,isAI:a}),cf=l=>{const n=h1(l.turn);return{...l,phase:"event",currentEvent:n,showEventModal:!0}},T1=l=>{if(!l.currentEvent)return l;const n=l.currentEvent;let a=[...l.players||[]];const s=[`${n.name}${n.description}`];let c;switch(n.target.type){case"all":c=a;break;case"richest":c=r1(a,n.target.count||1);break;case"poorest":c=Ap(a,n.target.count||1);break;default:c=a}if(n.effect.type==="special")switch(n.effect.handler){case"poverty_relief":a=a.map(f=>f.money<1500?(s.push(`${f.name}  $1,500`),{...f,money:1500}):f);break;case"tax":a=a.map(f=>{if(c.find(d=>d.id===f.id)){const d=Math.floor(f.money*.1);return s.push(`${f.name}  $${d}`),At(f,-d)}return f});break;case"competition":{const f=[{stat:"intelligence",name:"",prize:2e3},{stat:"stamina",name:"",prize:2e3},{stat:"charisma",name:"",prize:2e3}];for(const{stat:d,name:m,prize:p}of f){const g=c1(a,d);s.push(`${m}${g.name} $${p}`),a=a.map(S=>S.id===g.id?At(S,p):S)}break}case"competition_ranked":{const f=[3e3,2e3,1e3],d=[...a].sort((m,p)=>{const g=m.money+(m.stats.intelligence+m.stats.stamina+m.stats.charisma)*100;return p.money+(p.stats.intelligence+p.stats.stamina+p.stats.charisma)*100-g});for(let m=0;m<Math.min(f.length,d.length);m++){const p=d[m],g=f[m];s.push(` ${m+1} ${p.name} $${g.toLocaleString()}`),a=a.map(S=>S.id===p.id?At(S,g):S)}break}case"competition_achievement":{const f=[5e3,3500,2e3],d=[...a].sort((m,p)=>{const g=m.money+(m.stats.intelligence+m.stats.stamina+m.stats.charisma)*100;return p.money+(p.stats.intelligence+p.stats.stamina+p.stats.charisma)*100-g});for(let m=0;m<Math.min(f.length,d.length);m++){const p=d[m],g=f[m];s.push(` ${m+1} ${p.name} $${g.toLocaleString()}`),a=a.map(S=>S.id===p.id?At(S,g):S)}break}case"poverty_relief_3000":{const f=Ap(a,1)[0];f&&(s.push(`${f.name}  $3,000`),a=a.map(d=>d.id===f.id?At(d,3e3):d));break}case"game_end":return{...l,phase:"game_over",currentEvent:null,showEventModal:!1,eventLog:[...l.eventLog||[],...s]}}else if(a=a.map(f=>{if(!c.find(d=>d.id===f.id))return f;switch(n.effect.type){case"money_change":return At(f,n.effect.value);case"stat_change":return Dn(f,n.effect.stat,n.effect.value);case"draw_cards":return f;default:return f}}),n.effect.type==="draw_cards"){let f=[...l.deck||[]];return a=a.map(d=>{if(!c.find(g=>g.id===d.id))return d;const m=Math.min(n.effect.type==="draw_cards"?n.effect.count:0,f.length),p=f.slice(0,m);return f=f.slice(m),{...d,hand:[...d.hand,...p].slice(0,Of)}}),{...l,players:a,deck:f,currentEvent:null,showEventModal:!1,eventLog:[...l.eventLog||[],...s]}}return{...l,players:a,currentEvent:null,showEventModal:!1,eventLog:[...l.eventLog||[],...s]}},N1=l=>{const n=l.players.map(a=>{let s=_1(a);return s=v1(s),s});return{...l,phase:"salary",players:n}},w1=l=>({...l,phase:"action",currentPlayerIndex:0}),ky=l=>{const n=l.currentPlayerIndex+1;return n>=l.players.length?{...l,phase:"draw"}:l.players[n].isSkipTurn?ky({...l,currentPlayerIndex:n,players:l.players.map((a,s)=>s===n?{...a,isSkipTurn:!1}:a)}):{...l,currentPlayerIndex:n}},A1=l=>{let n=[...l.deck||[]];const a=[...l.discardPile||[]],s=l.players.length*jp;n.length<s&&a.length>0&&(n=[...n,...Iy(a)]);const c=l.players.map(f=>{const d=Math.min(jp,n.length),m=n.slice(0,d);n=n.slice(d);const p=[...f.hand,...m];return{...f,hand:p.slice(-Of)}});return{...l,phase:"draw",players:c,deck:n,discardPile:[]}},R1=l=>{const n=l.turn+1;return n>l.maxTurns?{...l,phase:"game_over"}:{...l,turn:n,phase:"event"}},zp=(l,n,a)=>{let s=[...l.deck||[]];const c=Math.min(a,s.length),f=s.slice(0,c);return s=s.slice(c),{...l,deck:s,players:l.players.map((d,m)=>m===n?{...d,hand:[...d.hand,...f].slice(0,Of)}:d)}},Xu={pendingStatChoice:null,pendingExplore:!1,pendingTargetPlayer:null,pendingFunctionCard:null,lastMessage:null},Ip=(l,n,a=[])=>{const s=l.players.length,c=l.pendingFunctionCard?.sourcePlayerIndex??l.currentPlayerIndex;for(let f=1;f<s;f++){const d=(n+f)%s;if(d===c||a.includes(d))continue;if((l.players[d]?.hand??[]).some(g=>g.effect.type==="special"&&g.effect.handler==="invalid"))return d}return-1},Lp={playerCount:4,maxTurns:10,players:[],currentPlayerIndex:0,turn:0,phase:"setup",deck:[],discardPile:[],currentEvent:null,eventLog:[],selectedCardIndex:null,showEventModal:!1},Fe=jy((l,n)=>({...Lp,...Xu,startGame:(a,s,c=[])=>{const f=By(a,s,c),d=cf(f);l({...d,...Xu,lastMessage:""})},nextPhase:()=>{const a=n();let s;switch(a.phase){case"event":{s=N1(a);const c=Qu(s.players);if(c){l({...s,phase:"game_over",lastMessage:`${c.name}  $20,000`});return}l({...s,lastMessage:""});break}case"salary":s=w1(a),l({...s,lastMessage:`${a.players[0].name} `});break;case"action":break;case"draw":if(s=R1(a),s.phase==="game_over")l({...s,lastMessage:""});else{const c=cf(s);l({...c,lastMessage:` ${s.turn} `})}break}},confirmEvent:()=>{const a=n(),s=T1(a),c=Qu(s.players);if(c){l({...s,phase:"game_over",showEventModal:!1,lastMessage:`${c.name}  $20,000`});return}l({...s,showEventModal:!1}),setTimeout(()=>n().nextPhase(),500)},selectCard:a=>{l({selectedCardIndex:a})},playSelectedCard:()=>{const a=n();if(a.selectedCardIndex===null||a.phase!=="action")return;const s=a.players[a.currentPlayerIndex],c=s.hand[a.selectedCardIndex];if(!c)return;const f=rf(s,c);if(!f.canPlay){l({lastMessage:f.reason||""});return}const d=c.effect.type==="special"&&(c.effect.handler==="invalid"||c.effect.handler==="sabotage");if(c.type==="function"&&!d){const S=Ip(a,a.currentPlayerIndex);if(S!==-1){l({pendingFunctionCard:{card:c,cardIndex:a.selectedCardIndex,sourcePlayerIndex:a.currentPlayerIndex,respondingPlayerIndex:S,passedPlayerIndices:[]},lastMessage:`${s.name} ${c.name} ${a.players[S].name} ...`});return}}const m=Dp(s,c);if(m.needsSelection){if(m.needsSelection.type==="stat"){l({pendingStatChoice:{cardIndex:a.selectedCardIndex,value:c.effect.type==="stat_change_choice"?c.effect.value:1},lastMessage:m.message});return}if(m.needsSelection.type==="location"){l({pendingExplore:!0,lastMessage:""});return}if(m.needsSelection.type==="player"){const S=c.effect.type==="special"?c.effect.handler:"";l({pendingTargetPlayer:{action:S,cardIndex:a.selectedCardIndex},lastMessage:m.message});return}}const p=a.players.map((S,v)=>v===a.currentPlayerIndex?{...m.player,hand:m.player.hand.filter((b,M)=>M!==a.selectedCardIndex)}:S);let g={players:p,discardPile:[...a.discardPile||[],c],selectedCardIndex:null,lastMessage:m.message};if(c.effect.type==="draw_cards"){const S=zp({...a,players:p},a.currentPlayerIndex,c.effect.count);g={...g,deck:S.deck,players:S.players}}l(g)},chooseStat:a=>{const s=n();if(!s.pendingStatChoice)return;const c=s.players[s.currentPlayerIndex],f=c.hand[s.pendingStatChoice.cardIndex],d=x1(c,a,s.pendingStatChoice.value);let m=d.player;f.cost&&(m={...m,money:m.money-f.cost});const p=s.players.map((g,S)=>S===s.currentPlayerIndex?{...m,hand:m.hand.filter((v,b)=>b!==s.pendingStatChoice.cardIndex)}:g);l({players:p,discardPile:[...s.discardPile||[],f],selectedCardIndex:null,pendingStatChoice:null,lastMessage:d.message})},chooseExploreLocation:a=>{const s=n();if(!s.pendingExplore)return;const c=m1(a);if(!c)return;const f=s.players[s.currentPlayerIndex];let d=f;const m=c.outcome.effect;if(m.type==="stat_change"?d={...d,stats:{...d.stats,[m.stat]:Math.max(0,d.stats[m.stat]+m.value)}}:m.type==="special"&&(m.handler==="park_bad"?d={...d,money:Math.max(0,d.money-500),stats:{...d.stats,charisma:Math.max(0,d.stats.charisma-2)}}:m.handler==="park_good"&&(d={...d,money:d.money+500,stats:{...d.stats,stamina:d.stats.stamina+2}})),s.selectedCardIndex!==null){const g=f.hand[s.selectedCardIndex];d={...d,hand:d.hand.filter((S,v)=>v!==s.selectedCardIndex)},l({discardPile:[...s.discardPile||[],g]})}const p=s.players.map((g,S)=>S===s.currentPlayerIndex?d:g);l({players:p,pendingExplore:!1,selectedCardIndex:null,lastMessage:`${c.location.name}${c.outcome.description}`})},chooseTargetPlayer:a=>{const s=n();if(!s.pendingTargetPlayer)return;const{action:c,cardIndex:f}=s.pendingTargetPlayer,d=s.players[s.currentPlayerIndex],m=d.hand[f],p=s.players.findIndex(b=>b.id===a),g=s.players[p];if(!g||p===s.currentPlayerIndex){l({lastMessage:""});return}let S=[...s.players||[]],v="";switch(c){case"steal":{const b=g.hand??[];if(b.length===0){l({lastMessage:`${g.name} `});return}const M=Math.floor(Math.random()*b.length),j=g.hand[M];S=S.map((H,Y)=>Y===s.currentPlayerIndex?{...H,hand:[...H.hand.filter((U,k)=>k!==f),j]}:Y===p?{...H,hand:H.hand.filter((U,k)=>k!==M)}:H),v=` ${g.name} ${j.name}`;break}case"sabotage":{const b=["intelligence","stamina","charisma"],M=b[Math.floor(Math.random()*b.length)],j={intelligence:"",stamina:"",charisma:""};S=S.map((H,Y)=>Y===s.currentPlayerIndex?{...H,hand:H.hand.filter((U,k)=>k!==f)}:Y===p?{...H,stats:{...H.stats,[M]:Math.max(0,H.stats[M]-2)}}:H),v=` ${g.name}${j[M]} -2`;break}case"robbery":{const b=g.hand??[];if(b.length===0){l({lastMessage:`${g.name} `});return}const M=Math.floor(Math.random()*b.length),j=g.hand[M];S=S.map((H,Y)=>Y===s.currentPlayerIndex?{...H,hand:[...H.hand.filter((U,k)=>k!==f),j]}:Y===p?{...H,hand:H.hand.filter((U,k)=>k!==M)}:H),v=` ${g.name}${j.name}`;break}case"parachute":{if(!g.job){l({lastMessage:`${g.name} `});return}const b=g.job,M=g.jobLevel,j=b.levels[M].requiredStats;if(!Object.entries(j).every(([Y,U])=>d.stats[Y]>=(U||0))){l({lastMessage:` ${b.levels[M].name}`});return}S=S.map((Y,U)=>U===s.currentPlayerIndex?{...Y,hand:Y.hand.filter((k,X)=>X!==f),job:g.job,jobLevel:g.jobLevel,performance:0}:U===p?{...Y,job:null,jobLevel:0,performance:0}:Y),v=` ${g.name}  ${b.levels[M].name} `;break}default:l({lastMessage:""});return}l({players:S,discardPile:[...s.discardPile||[],m],pendingTargetPlayer:null,selectedCardIndex:null,lastMessage:v})},cancelPendingAction:()=>{l({pendingStatChoice:null,pendingExplore:!1,pendingTargetPlayer:null,pendingFunctionCard:null,selectedCardIndex:null,lastMessage:""})},applyInvalidCard:a=>{const s=n();if(!s.pendingFunctionCard)return;const{card:c,cardIndex:f,sourcePlayerIndex:d,respondingPlayerIndex:m}=s.pendingFunctionCard,p=s.players[m],g=s.players[d],S=p.hand[a];if(!S||!(S.effect.type==="special"&&S.effect.handler==="invalid")){l({lastMessage:""});return}const v=s.players.map((b,M)=>M===d?{...b,hand:b.hand.filter((j,H)=>H!==f)}:M===m?{...b,hand:b.hand.filter((j,H)=>H!==a)}:b);l({players:v,discardPile:[...s.discardPile||[],c,S],pendingFunctionCard:null,selectedCardIndex:null,lastMessage:`${p.name} ${g.name} ${c.name}`})},passReaction:()=>{const a=n();if(!a.pendingFunctionCard)return;const{sourcePlayerIndex:s,respondingPlayerIndex:c,passedPlayerIndices:f}=a.pendingFunctionCard,d=[...f??[],c],m=Ip(a,c,d);m===-1||m===s?n().confirmFunctionCard():l({pendingFunctionCard:{...a.pendingFunctionCard,respondingPlayerIndex:m,passedPlayerIndices:d},lastMessage:` ${a.players[m].name} ...`})},confirmFunctionCard:()=>{const a=n();if(!a.pendingFunctionCard)return;const{card:s,cardIndex:c,sourcePlayerIndex:f}=a.pendingFunctionCard,d=a.players[f],m=Dp(d,s);if(m.needsSelection?.type==="player"){const S=s.effect.type==="special"?s.effect.handler:"";l({pendingFunctionCard:null,pendingTargetPlayer:{action:S,cardIndex:c},lastMessage:m.message});return}const p=a.players.map((S,v)=>v===f?{...m.player,hand:m.player.hand.filter((b,M)=>M!==c)}:S);let g={players:p,discardPile:[...a.discardPile||[],s],pendingFunctionCard:null,selectedCardIndex:null,lastMessage:`${d.name} ${s.name}${m.message}`};if(s.effect.type==="draw_cards"){const S=zp({...a,players:p},f,s.effect.count);g={...g,deck:S.deck,players:S.players}}l(g)},endPlayerTurn:()=>{const a=n();if(a.phase!=="action")return;const s=ky(a);if(s.phase==="draw"){const c=A1(s);l({...c,lastMessage:""})}else l({...s,selectedCardIndex:null,lastMessage:`${s.players[s.currentPlayerIndex].name} `})},applyJob:a=>{const s=n(),c=s.players[s.currentPlayerIndex],f=g1(c,a);if(f.job){const d=s.players.map((m,p)=>p===s.currentPlayerIndex?f:m);l({players:d,lastMessage:` ${f.job.levels[0].name}`})}else l({lastMessage:""})},tryPromote:()=>{const a=n(),s=a.players[a.currentPlayerIndex];if(Df(s)){const c=p1(s),f=a.players.map((d,m)=>m===a.currentPlayerIndex?c:d);l({players:f,lastMessage:` ${c.job.levels[c.jobLevel].name}`})}else l({lastMessage:""})},getCurrentPlayer:()=>{const a=n();return a.players[a.currentPlayerIndex]||null},canCurrentPlayerPlayCard:a=>{const s=n().getCurrentPlayer();if(!s)return{canPlay:!1,reason:""};const c=s.hand[a];return c?rf(s,c):{canPlay:!1,reason:""}},getAvailableJobsForCurrentPlayer:()=>{const a=n().getCurrentPlayer();return a?Uy(a):[]},getGameResult:()=>{const a=n();if(a.phase!=="game_over")return null;const s=Qu(a.players);return a1(a.players,s??void 0)},resetGame:()=>{l({...Lp,...Xu})}})),M1=()=>{};var Up={};const qy={NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"};const B=function(l,n){if(!l)throw Yl(n)},Yl=function(l){return new Error("Firebase Database ("+qy.SDK_VERSION+") INTERNAL ASSERT FAILED: "+l)};const Gy=function(l){const n=[];let a=0;for(let s=0;s<l.length;s++){let c=l.charCodeAt(s);c<128?n[a++]=c:c<2048?(n[a++]=c>>6|192,n[a++]=c&63|128):(c&64512)===55296&&s+1<l.length&&(l.charCodeAt(s+1)&64512)===56320?(c=65536+((c&1023)<<10)+(l.charCodeAt(++s)&1023),n[a++]=c>>18|240,n[a++]=c>>12&63|128,n[a++]=c>>6&63|128,n[a++]=c&63|128):(n[a++]=c>>12|224,n[a++]=c>>6&63|128,n[a++]=c&63|128)}return n},D1=function(l){const n=[];let a=0,s=0;for(;a<l.length;){const c=l[a++];if(c<128)n[s++]=String.fromCharCode(c);else if(c>191&&c<224){const f=l[a++];n[s++]=String.fromCharCode((c&31)<<6|f&63)}else if(c>239&&c<365){const f=l[a++],d=l[a++],m=l[a++],p=((c&7)<<18|(f&63)<<12|(d&63)<<6|m&63)-65536;n[s++]=String.fromCharCode(55296+(p>>10)),n[s++]=String.fromCharCode(56320+(p&1023))}else{const f=l[a++],d=l[a++];n[s++]=String.fromCharCode((c&15)<<12|(f&63)<<6|d&63)}}return n.join("")},jf={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(l,n){if(!Array.isArray(l))throw Error("encodeByteArray takes an array as a parameter");this.init_();const a=n?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let c=0;c<l.length;c+=3){const f=l[c],d=c+1<l.length,m=d?l[c+1]:0,p=c+2<l.length,g=p?l[c+2]:0,S=f>>2,v=(f&3)<<4|m>>4;let b=(m&15)<<2|g>>6,M=g&63;p||(M=64,d||(b=64)),s.push(a[S],a[v],a[b],a[M])}return s.join("")},encodeString(l,n){return this.HAS_NATIVE_SUPPORT&&!n?btoa(l):this.encodeByteArray(Gy(l),n)},decodeString(l,n){return this.HAS_NATIVE_SUPPORT&&!n?atob(l):D1(this.decodeStringToByteArray(l,n))},decodeStringToByteArray(l,n){this.init_();const a=n?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let c=0;c<l.length;){const f=a[l.charAt(c++)],m=c<l.length?a[l.charAt(c)]:0;++c;const g=c<l.length?a[l.charAt(c)]:64;++c;const v=c<l.length?a[l.charAt(c)]:64;if(++c,f==null||m==null||g==null||v==null)throw new O1;const b=f<<2|m>>4;if(s.push(b),g!==64){const M=m<<4&240|g>>2;if(s.push(M),v!==64){const j=g<<6&192|v;s.push(j)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let l=0;l<this.ENCODED_VALS.length;l++)this.byteToCharMap_[l]=this.ENCODED_VALS.charAt(l),this.charToByteMap_[this.byteToCharMap_[l]]=l,this.byteToCharMapWebSafe_[l]=this.ENCODED_VALS_WEBSAFE.charAt(l),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[l]]=l,l>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(l)]=l,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(l)]=l)}}};class O1 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Yy=function(l){const n=Gy(l);return jf.encodeByteArray(n,!0)},Yr=function(l){return Yy(l).replace(/\./g,"")},of=function(l){try{return jf.decodeString(l,!0)}catch(n){console.error("base64Decode failed: ",n)}return null};function j1(l){return Vy(void 0,l)}function Vy(l,n){if(!(n instanceof Object))return n;switch(n.constructor){case Date:const a=n;return new Date(a.getTime());case Object:l===void 0&&(l={});break;case Array:l=[];break;default:return n}for(const a in n)!n.hasOwnProperty(a)||!z1(a)||(l[a]=Vy(l[a],n[a]));return l}function z1(l){return l!=="__proto__"}function I1(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const L1=()=>I1().__FIREBASE_DEFAULTS__,U1=()=>{if(typeof process>"u"||typeof Up>"u")return;const l=Up.__FIREBASE_DEFAULTS__;if(l)return JSON.parse(l)},H1=()=>{if(typeof document>"u")return;let l;try{l=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const n=l&&of(l[1]);return n&&JSON.parse(n)},Qy=()=>{try{return M1()||L1()||U1()||H1()}catch(l){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${l}`);return}},B1=l=>Qy()?.emulatorHosts?.[l],k1=l=>{const n=B1(l);if(!n)return;const a=n.lastIndexOf(":");if(a<=0||a+1===n.length)throw new Error(`Invalid host ${n} with no separate hostname and port!`);const s=parseInt(n.substring(a+1),10);return n[0]==="["?[n.substring(1,a-1),s]:[n.substring(0,a),s]},Xy=()=>Qy()?.config;class ds{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((n,a)=>{this.resolve=n,this.reject=a})}wrapCallback(n){return(a,s)=>{a?this.reject(a):this.resolve(s),typeof n=="function"&&(this.promise.catch(()=>{}),n.length===1?n(a):n(a,s))}}}function zf(l){try{return(l.startsWith("http://")||l.startsWith("https://")?new URL(l).hostname:l).endsWith(".cloudworkstations.dev")}catch{return!1}}async function q1(l){return(await fetch(l,{credentials:"include"})).ok}function G1(l,n){if(l.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const a={alg:"none",type:"JWT"},s=n||"demo-project",c=l.iat||0,f=l.sub||l.user_id;if(!f)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d={iss:`https://securetoken.google.com/${s}`,aud:s,iat:c,exp:c+3600,auth_time:c,sub:f,user_id:f,firebase:{sign_in_provider:"custom",identities:{}},...l};return[Yr(JSON.stringify(a)),Yr(JSON.stringify(d)),""].join(".")}const Za={};function Y1(){const l={prod:[],emulator:[]};for(const n of Object.keys(Za))Za[n]?l.emulator.push(n):l.prod.push(n);return l}function V1(l){let n=document.getElementById(l),a=!1;return n||(n=document.createElement("div"),n.setAttribute("id",l),a=!0),{created:a,element:n}}let Hp=!1;function Q1(l,n){if(typeof window>"u"||typeof document>"u"||!zf(window.location.host)||Za[l]===n||Za[l]||Hp)return;Za[l]=n;function a(b){return`__firebase__banner__${b}`}const s="__firebase__banner",f=Y1().prod.length>0;function d(){const b=document.getElementById(s);b&&b.remove()}function m(b){b.style.display="flex",b.style.background="#7faaf0",b.style.position="fixed",b.style.bottom="5px",b.style.left="5px",b.style.padding=".5em",b.style.borderRadius="5px",b.style.alignItems="center"}function p(b,M){b.setAttribute("width","24"),b.setAttribute("id",M),b.setAttribute("height","24"),b.setAttribute("viewBox","0 0 24 24"),b.setAttribute("fill","none"),b.style.marginLeft="-6px"}function g(){const b=document.createElement("span");return b.style.cursor="pointer",b.style.marginLeft="16px",b.style.fontSize="24px",b.innerHTML=" &times;",b.onclick=()=>{Hp=!0,d()},b}function S(b,M){b.setAttribute("id",M),b.innerText="Learn more",b.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",b.setAttribute("target","__blank"),b.style.paddingLeft="5px",b.style.textDecoration="underline"}function v(){const b=V1(s),M=a("text"),j=document.getElementById(M)||document.createElement("span"),H=a("learnmore"),Y=document.getElementById(H)||document.createElement("a"),U=a("preprendIcon"),k=document.getElementById(U)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(b.created){const X=b.element;m(X),S(Y,H);const ee=g();p(k,U),X.append(k,j,Y,ee),document.body.appendChild(X)}f?(j.innerText="Preview backend disconnected.",k.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(k.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,j.innerText="Preview backend running in this workspace."),j.setAttribute("id",M)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",v):v()}function X1(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Py(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(X1())}function P1(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function Z1(){return qy.NODE_ADMIN===!0}function K1(){try{return typeof indexedDB=="object"}catch{return!1}}function F1(){return new Promise((l,n)=>{try{let a=!0;const s="validate-browser-context-for-indexeddb-analytics-module",c=self.indexedDB.open(s);c.onsuccess=()=>{c.result.close(),a||self.indexedDB.deleteDatabase(s),l(!0)},c.onupgradeneeded=()=>{a=!1},c.onerror=()=>{n(c.error?.message||"")}}catch(a){n(a)}})}const $1="FirebaseError";class hs extends Error{constructor(n,a,s){super(a),this.code=n,this.customData=s,this.name=$1,Object.setPrototypeOf(this,hs.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Zy.prototype.create)}}class Zy{constructor(n,a,s){this.service=n,this.serviceName=a,this.errors=s}create(n,...a){const s=a[0]||{},c=`${this.service}/${n}`,f=this.errors[n],d=f?J1(f,s):"Error",m=`${this.serviceName}: ${d} (${c}).`;return new hs(c,m,s)}}function J1(l,n){return l.replace(W1,(a,s)=>{const c=n[s];return c!=null?String(c):`<${s}?>`})}const W1=/\{\$([^}]+)}/g;function ts(l){return JSON.parse(l)}function We(l){return JSON.stringify(l)}const Ky=function(l){let n={},a={},s={},c="";try{const f=l.split(".");n=ts(of(f[0])||""),a=ts(of(f[1])||""),c=f[2],s=a.d||{},delete a.d}catch{}return{header:n,claims:a,data:s,signature:c}},eS=function(l){const n=Ky(l),a=n.claims;return!!a&&typeof a=="object"&&a.hasOwnProperty("iat")},tS=function(l){const n=Ky(l).claims;return typeof n=="object"&&n.admin===!0};function dn(l,n){return Object.prototype.hasOwnProperty.call(l,n)}function Ul(l,n){if(Object.prototype.hasOwnProperty.call(l,n))return l[n]}function Bp(l){for(const n in l)if(Object.prototype.hasOwnProperty.call(l,n))return!1;return!0}function Vr(l,n,a){const s={};for(const c in l)Object.prototype.hasOwnProperty.call(l,c)&&(s[c]=n.call(a,l[c],c,l));return s}function Qr(l,n){if(l===n)return!0;const a=Object.keys(l),s=Object.keys(n);for(const c of a){if(!s.includes(c))return!1;const f=l[c],d=n[c];if(kp(f)&&kp(d)){if(!Qr(f,d))return!1}else if(f!==d)return!1}for(const c of s)if(!a.includes(c))return!1;return!0}function kp(l){return l!==null&&typeof l=="object"}function nS(l){const n=[];for(const[a,s]of Object.entries(l))Array.isArray(s)?s.forEach(c=>{n.push(encodeURIComponent(a)+"="+encodeURIComponent(c))}):n.push(encodeURIComponent(a)+"="+encodeURIComponent(s));return n.length?"&"+n.join("&"):""}class iS{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=512/8,this.pad_[0]=128;for(let n=1;n<this.blockSize;++n)this.pad_[n]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(n,a){a||(a=0);const s=this.W_;if(typeof n=="string")for(let v=0;v<16;v++)s[v]=n.charCodeAt(a)<<24|n.charCodeAt(a+1)<<16|n.charCodeAt(a+2)<<8|n.charCodeAt(a+3),a+=4;else for(let v=0;v<16;v++)s[v]=n[a]<<24|n[a+1]<<16|n[a+2]<<8|n[a+3],a+=4;for(let v=16;v<80;v++){const b=s[v-3]^s[v-8]^s[v-14]^s[v-16];s[v]=(b<<1|b>>>31)&4294967295}let c=this.chain_[0],f=this.chain_[1],d=this.chain_[2],m=this.chain_[3],p=this.chain_[4],g,S;for(let v=0;v<80;v++){v<40?v<20?(g=m^f&(d^m),S=1518500249):(g=f^d^m,S=1859775393):v<60?(g=f&d|m&(f|d),S=2400959708):(g=f^d^m,S=3395469782);const b=(c<<5|c>>>27)+g+p+S+s[v]&4294967295;p=m,m=d,d=(f<<30|f>>>2)&4294967295,f=c,c=b}this.chain_[0]=this.chain_[0]+c&4294967295,this.chain_[1]=this.chain_[1]+f&4294967295,this.chain_[2]=this.chain_[2]+d&4294967295,this.chain_[3]=this.chain_[3]+m&4294967295,this.chain_[4]=this.chain_[4]+p&4294967295}update(n,a){if(n==null)return;a===void 0&&(a=n.length);const s=a-this.blockSize;let c=0;const f=this.buf_;let d=this.inbuf_;for(;c<a;){if(d===0)for(;c<=s;)this.compress_(n,c),c+=this.blockSize;if(typeof n=="string"){for(;c<a;)if(f[d]=n.charCodeAt(c),++d,++c,d===this.blockSize){this.compress_(f),d=0;break}}else for(;c<a;)if(f[d]=n[c],++d,++c,d===this.blockSize){this.compress_(f),d=0;break}}this.inbuf_=d,this.total_+=a}digest(){const n=[];let a=this.total_*8;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let c=this.blockSize-1;c>=56;c--)this.buf_[c]=a&255,a/=256;this.compress_(this.buf_);let s=0;for(let c=0;c<5;c++)for(let f=24;f>=0;f-=8)n[s]=this.chain_[c]>>f&255,++s;return n}}function rc(l,n){return`${l} failed: ${n} argument `}const lS=function(l){const n=[];let a=0;for(let s=0;s<l.length;s++){let c=l.charCodeAt(s);if(c>=55296&&c<=56319){const f=c-55296;s++,B(s<l.length,"Surrogate pair missing trail surrogate.");const d=l.charCodeAt(s)-56320;c=65536+(f<<10)+d}c<128?n[a++]=c:c<2048?(n[a++]=c>>6|192,n[a++]=c&63|128):c<65536?(n[a++]=c>>12|224,n[a++]=c>>6&63|128,n[a++]=c&63|128):(n[a++]=c>>18|240,n[a++]=c>>12&63|128,n[a++]=c>>6&63|128,n[a++]=c&63|128)}return n},cc=function(l){let n=0;for(let a=0;a<l.length;a++){const s=l.charCodeAt(a);s<128?n++:s<2048?n+=2:s>=55296&&s<=56319?(n+=4,a++):n+=3}return n};function Vl(l){return l&&l._delegate?l._delegate:l}class ns{constructor(n,a,s){this.name=n,this.instanceFactory=a,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(n){return this.instantiationMode=n,this}setMultipleInstances(n){return this.multipleInstances=n,this}setServiceProps(n){return this.serviceProps=n,this}setInstanceCreatedCallback(n){return this.onInstanceCreated=n,this}}const Ui="[DEFAULT]";class aS{constructor(n,a){this.name=n,this.container=a,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(n){const a=this.normalizeInstanceIdentifier(n);if(!this.instancesDeferred.has(a)){const s=new ds;if(this.instancesDeferred.set(a,s),this.isInitialized(a)||this.shouldAutoInitialize())try{const c=this.getOrInitializeService({instanceIdentifier:a});c&&s.resolve(c)}catch{}}return this.instancesDeferred.get(a).promise}getImmediate(n){const a=this.normalizeInstanceIdentifier(n?.identifier),s=n?.optional??!1;if(this.isInitialized(a)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:a})}catch(c){if(s)return null;throw c}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(n){if(n.name!==this.name)throw Error(`Mismatching Component ${n.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=n,!!this.shouldAutoInitialize()){if(rS(n))try{this.getOrInitializeService({instanceIdentifier:Ui})}catch{}for(const[a,s]of this.instancesDeferred.entries()){const c=this.normalizeInstanceIdentifier(a);try{const f=this.getOrInitializeService({instanceIdentifier:c});s.resolve(f)}catch{}}}}clearInstance(n=Ui){this.instancesDeferred.delete(n),this.instancesOptions.delete(n),this.instances.delete(n)}async delete(){const n=Array.from(this.instances.values());await Promise.all([...n.filter(a=>"INTERNAL"in a).map(a=>a.INTERNAL.delete()),...n.filter(a=>"_delete"in a).map(a=>a._delete())])}isComponentSet(){return this.component!=null}isInitialized(n=Ui){return this.instances.has(n)}getOptions(n=Ui){return this.instancesOptions.get(n)||{}}initialize(n={}){const{options:a={}}=n,s=this.normalizeInstanceIdentifier(n.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const c=this.getOrInitializeService({instanceIdentifier:s,options:a});for(const[f,d]of this.instancesDeferred.entries()){const m=this.normalizeInstanceIdentifier(f);s===m&&d.resolve(c)}return c}onInit(n,a){const s=this.normalizeInstanceIdentifier(a),c=this.onInitCallbacks.get(s)??new Set;c.add(n),this.onInitCallbacks.set(s,c);const f=this.instances.get(s);return f&&n(f,s),()=>{c.delete(n)}}invokeOnInitCallbacks(n,a){const s=this.onInitCallbacks.get(a);if(s)for(const c of s)try{c(n,a)}catch{}}getOrInitializeService({instanceIdentifier:n,options:a={}}){let s=this.instances.get(n);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:sS(n),options:a}),this.instances.set(n,s),this.instancesOptions.set(n,a),this.invokeOnInitCallbacks(s,n),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,n,s)}catch{}return s||null}normalizeInstanceIdentifier(n=Ui){return this.component?this.component.multipleInstances?n:Ui:n}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function sS(l){return l===Ui?void 0:l}function rS(l){return l.instantiationMode==="EAGER"}class cS{constructor(n){this.name=n,this.providers=new Map}addComponent(n){const a=this.getProvider(n.name);if(a.isComponentSet())throw new Error(`Component ${n.name} has already been registered with ${this.name}`);a.setComponent(n)}addOrOverwriteComponent(n){this.getProvider(n.name).isComponentSet()&&this.providers.delete(n.name),this.addComponent(n)}getProvider(n){if(this.providers.has(n))return this.providers.get(n);const a=new aS(n,this);return this.providers.set(n,a),a}getProviders(){return Array.from(this.providers.values())}}var ze;(function(l){l[l.DEBUG=0]="DEBUG",l[l.VERBOSE=1]="VERBOSE",l[l.INFO=2]="INFO",l[l.WARN=3]="WARN",l[l.ERROR=4]="ERROR",l[l.SILENT=5]="SILENT"})(ze||(ze={}));const oS={debug:ze.DEBUG,verbose:ze.VERBOSE,info:ze.INFO,warn:ze.WARN,error:ze.ERROR,silent:ze.SILENT},uS=ze.INFO,fS={[ze.DEBUG]:"log",[ze.VERBOSE]:"log",[ze.INFO]:"info",[ze.WARN]:"warn",[ze.ERROR]:"error"},dS=(l,n,...a)=>{if(n<l.logLevel)return;const s=new Date().toISOString(),c=fS[n];if(c)console[c](`[${s}]  ${l.name}:`,...a);else throw new Error(`Attempted to log a message with an invalid logType (value: ${n})`)};class Fy{constructor(n){this.name=n,this._logLevel=uS,this._logHandler=dS,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(n){if(!(n in ze))throw new TypeError(`Invalid value "${n}" assigned to \`logLevel\``);this._logLevel=n}setLogLevel(n){this._logLevel=typeof n=="string"?oS[n]:n}get logHandler(){return this._logHandler}set logHandler(n){if(typeof n!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=n}get userLogHandler(){return this._userLogHandler}set userLogHandler(n){this._userLogHandler=n}debug(...n){this._userLogHandler&&this._userLogHandler(this,ze.DEBUG,...n),this._logHandler(this,ze.DEBUG,...n)}log(...n){this._userLogHandler&&this._userLogHandler(this,ze.VERBOSE,...n),this._logHandler(this,ze.VERBOSE,...n)}info(...n){this._userLogHandler&&this._userLogHandler(this,ze.INFO,...n),this._logHandler(this,ze.INFO,...n)}warn(...n){this._userLogHandler&&this._userLogHandler(this,ze.WARN,...n),this._logHandler(this,ze.WARN,...n)}error(...n){this._userLogHandler&&this._userLogHandler(this,ze.ERROR,...n),this._logHandler(this,ze.ERROR,...n)}}const hS=(l,n)=>n.some(a=>l instanceof a);let qp,Gp;function mS(){return qp||(qp=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function gS(){return Gp||(Gp=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const $y=new WeakMap,uf=new WeakMap,Jy=new WeakMap,Pu=new WeakMap,If=new WeakMap;function pS(l){const n=new Promise((a,s)=>{const c=()=>{l.removeEventListener("success",f),l.removeEventListener("error",d)},f=()=>{a(ui(l.result)),c()},d=()=>{s(l.error),c()};l.addEventListener("success",f),l.addEventListener("error",d)});return n.then(a=>{a instanceof IDBCursor&&$y.set(a,l)}).catch(()=>{}),If.set(n,l),n}function yS(l){if(uf.has(l))return;const n=new Promise((a,s)=>{const c=()=>{l.removeEventListener("complete",f),l.removeEventListener("error",d),l.removeEventListener("abort",d)},f=()=>{a(),c()},d=()=>{s(l.error||new DOMException("AbortError","AbortError")),c()};l.addEventListener("complete",f),l.addEventListener("error",d),l.addEventListener("abort",d)});uf.set(l,n)}let ff={get(l,n,a){if(l instanceof IDBTransaction){if(n==="done")return uf.get(l);if(n==="objectStoreNames")return l.objectStoreNames||Jy.get(l);if(n==="store")return a.objectStoreNames[1]?void 0:a.objectStore(a.objectStoreNames[0])}return ui(l[n])},set(l,n,a){return l[n]=a,!0},has(l,n){return l instanceof IDBTransaction&&(n==="done"||n==="store")?!0:n in l}};function _S(l){ff=l(ff)}function vS(l){return l===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(n,...a){const s=l.call(Zu(this),n,...a);return Jy.set(s,n.sort?n.sort():[n]),ui(s)}:gS().includes(l)?function(...n){return l.apply(Zu(this),n),ui($y.get(this))}:function(...n){return ui(l.apply(Zu(this),n))}}function bS(l){return typeof l=="function"?vS(l):(l instanceof IDBTransaction&&yS(l),hS(l,mS())?new Proxy(l,ff):l)}function ui(l){if(l instanceof IDBRequest)return pS(l);if(Pu.has(l))return Pu.get(l);const n=bS(l);return n!==l&&(Pu.set(l,n),If.set(n,l)),n}const Zu=l=>If.get(l);function SS(l,n,{blocked:a,upgrade:s,blocking:c,terminated:f}={}){const d=indexedDB.open(l,n),m=ui(d);return s&&d.addEventListener("upgradeneeded",p=>{s(ui(d.result),p.oldVersion,p.newVersion,ui(d.transaction),p)}),a&&d.addEventListener("blocked",p=>a(p.oldVersion,p.newVersion,p)),m.then(p=>{f&&p.addEventListener("close",()=>f()),c&&p.addEventListener("versionchange",g=>c(g.oldVersion,g.newVersion,g))}).catch(()=>{}),m}const xS=["get","getKey","getAll","getAllKeys","count"],ES=["put","add","delete","clear"],Ku=new Map;function Yp(l,n){if(!(l instanceof IDBDatabase&&!(n in l)&&typeof n=="string"))return;if(Ku.get(n))return Ku.get(n);const a=n.replace(/FromIndex$/,""),s=n!==a,c=ES.includes(a);if(!(a in(s?IDBIndex:IDBObjectStore).prototype)||!(c||xS.includes(a)))return;const f=async function(d,...m){const p=this.transaction(d,c?"readwrite":"readonly");let g=p.store;return s&&(g=g.index(m.shift())),(await Promise.all([g[a](...m),c&&p.done]))[0]};return Ku.set(n,f),f}_S(l=>({...l,get:(n,a,s)=>Yp(n,a)||l.get(n,a,s),has:(n,a)=>!!Yp(n,a)||l.has(n,a)}));class CS{constructor(n){this.container=n}getPlatformInfoString(){return this.container.getProviders().map(a=>{if(TS(a)){const s=a.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(a=>a).join(" ")}}function TS(l){return l.getComponent()?.type==="VERSION"}const df="@firebase/app",Vp="0.14.8";const zn=new Fy("@firebase/app"),NS="@firebase/app-compat",wS="@firebase/analytics-compat",AS="@firebase/analytics",RS="@firebase/app-check-compat",MS="@firebase/app-check",DS="@firebase/auth",OS="@firebase/auth-compat",jS="@firebase/database",zS="@firebase/data-connect",IS="@firebase/database-compat",LS="@firebase/functions",US="@firebase/functions-compat",HS="@firebase/installations",BS="@firebase/installations-compat",kS="@firebase/messaging",qS="@firebase/messaging-compat",GS="@firebase/performance",YS="@firebase/performance-compat",VS="@firebase/remote-config",QS="@firebase/remote-config-compat",XS="@firebase/storage",PS="@firebase/storage-compat",ZS="@firebase/firestore",KS="@firebase/ai",FS="@firebase/firestore-compat",$S="firebase",JS="12.9.0";const hf="[DEFAULT]",WS={[df]:"fire-core",[NS]:"fire-core-compat",[AS]:"fire-analytics",[wS]:"fire-analytics-compat",[MS]:"fire-app-check",[RS]:"fire-app-check-compat",[DS]:"fire-auth",[OS]:"fire-auth-compat",[jS]:"fire-rtdb",[zS]:"fire-data-connect",[IS]:"fire-rtdb-compat",[LS]:"fire-fn",[US]:"fire-fn-compat",[HS]:"fire-iid",[BS]:"fire-iid-compat",[kS]:"fire-fcm",[qS]:"fire-fcm-compat",[GS]:"fire-perf",[YS]:"fire-perf-compat",[VS]:"fire-rc",[QS]:"fire-rc-compat",[XS]:"fire-gcs",[PS]:"fire-gcs-compat",[ZS]:"fire-fst",[FS]:"fire-fst-compat",[KS]:"fire-vertex","fire-js":"fire-js",[$S]:"fire-js-all"};const Xr=new Map,ex=new Map,mf=new Map;function Qp(l,n){try{l.container.addComponent(n)}catch(a){zn.debug(`Component ${n.name} failed to register with FirebaseApp ${l.name}`,a)}}function Pr(l){const n=l.name;if(mf.has(n))return zn.debug(`There were multiple attempts to register component ${n}.`),!1;mf.set(n,l);for(const a of Xr.values())Qp(a,l);for(const a of ex.values())Qp(a,l);return!0}function tx(l,n){const a=l.container.getProvider("heartbeat").getImmediate({optional:!0});return a&&a.triggerHeartbeat(),l.container.getProvider(n)}function nx(l){return l==null?!1:l.settings!==void 0}const ix={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},fi=new Zy("app","Firebase",ix);class lx{constructor(n,a,s){this._isDeleted=!1,this._options={...n},this._config={...a},this._name=a.name,this._automaticDataCollectionEnabled=a.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new ns("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(n){this.checkDestroyed(),this._automaticDataCollectionEnabled=n}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(n){this._isDeleted=n}checkDestroyed(){if(this.isDeleted)throw fi.create("app-deleted",{appName:this._name})}}const ax=JS;function Wy(l,n={}){let a=l;typeof n!="object"&&(n={name:n});const s={name:hf,automaticDataCollectionEnabled:!0,...n},c=s.name;if(typeof c!="string"||!c)throw fi.create("bad-app-name",{appName:String(c)});if(a||(a=Xy()),!a)throw fi.create("no-options");const f=Xr.get(c);if(f){if(Qr(a,f.options)&&Qr(s,f.config))return f;throw fi.create("duplicate-app",{appName:c})}const d=new cS(c);for(const p of mf.values())d.addComponent(p);const m=new lx(a,s,d);return Xr.set(c,m),m}function sx(l=hf){const n=Xr.get(l);if(!n&&l===hf&&Xy())return Wy();if(!n)throw fi.create("no-app",{appName:l});return n}function zl(l,n,a){let s=WS[l]??l;a&&(s+=`-${a}`);const c=s.match(/\s|\//),f=n.match(/\s|\//);if(c||f){const d=[`Unable to register library "${s}" with version "${n}":`];c&&d.push(`library name "${s}" contains illegal characters (whitespace or "/")`),c&&f&&d.push("and"),f&&d.push(`version name "${n}" contains illegal characters (whitespace or "/")`),zn.warn(d.join(" "));return}Pr(new ns(`${s}-version`,()=>({library:s,version:n}),"VERSION"))}const rx="firebase-heartbeat-database",cx=1,is="firebase-heartbeat-store";let Fu=null;function e_(){return Fu||(Fu=SS(rx,cx,{upgrade:(l,n)=>{switch(n){case 0:try{l.createObjectStore(is)}catch(a){console.warn(a)}}}}).catch(l=>{throw fi.create("idb-open",{originalErrorMessage:l.message})})),Fu}async function ox(l){try{const a=(await e_()).transaction(is),s=await a.objectStore(is).get(t_(l));return await a.done,s}catch(n){if(n instanceof hs)zn.warn(n.message);else{const a=fi.create("idb-get",{originalErrorMessage:n?.message});zn.warn(a.message)}}}async function Xp(l,n){try{const s=(await e_()).transaction(is,"readwrite");await s.objectStore(is).put(n,t_(l)),await s.done}catch(a){if(a instanceof hs)zn.warn(a.message);else{const s=fi.create("idb-set",{originalErrorMessage:a?.message});zn.warn(s.message)}}}function t_(l){return`${l.name}!${l.options.appId}`}const ux=1024,fx=30;class dx{constructor(n){this.container=n,this._heartbeatsCache=null;const a=this.container.getProvider("app").getImmediate();this._storage=new mx(a),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){try{const a=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=Pp();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(c=>c.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:a}),this._heartbeatsCache.heartbeats.length>fx){const c=gx(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(c,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(n){zn.warn(n)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=Pp(),{heartbeatsToSend:a,unsentEntries:s}=hx(this._heartbeatsCache.heartbeats),c=Yr(JSON.stringify({version:2,heartbeats:a}));return this._heartbeatsCache.lastSentHeartbeatDate=n,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),c}catch(n){return zn.warn(n),""}}}function Pp(){return new Date().toISOString().substring(0,10)}function hx(l,n=ux){const a=[];let s=l.slice();for(const c of l){const f=a.find(d=>d.agent===c.agent);if(f){if(f.dates.push(c.date),Zp(a)>n){f.dates.pop();break}}else if(a.push({agent:c.agent,dates:[c.date]}),Zp(a)>n){a.pop();break}s=s.slice(1)}return{heartbeatsToSend:a,unsentEntries:s}}class mx{constructor(n){this.app=n,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return K1()?F1().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const a=await ox(this.app);return a?.heartbeats?a:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(n){if(await this._canUseIndexedDBPromise){const s=await this.read();return Xp(this.app,{lastSentHeartbeatDate:n.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:n.heartbeats})}else return}async add(n){if(await this._canUseIndexedDBPromise){const s=await this.read();return Xp(this.app,{lastSentHeartbeatDate:n.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...n.heartbeats]})}else return}}function Zp(l){return Yr(JSON.stringify({version:2,heartbeats:l})).length}function gx(l){if(l.length===0)return-1;let n=0,a=l[0].date;for(let s=1;s<l.length;s++)l[s].date<a&&(a=l[s].date,n=s);return n}function px(l){Pr(new ns("platform-logger",n=>new CS(n),"PRIVATE")),Pr(new ns("heartbeat",n=>new dx(n),"PRIVATE")),zl(df,Vp,l),zl(df,Vp,"esm2020"),zl("fire-js","")}px("");var yx="firebase",_x="12.9.0";zl(yx,_x,"app");var Kp={};const Fp="@firebase/database",$p="1.1.0";let n_="";function vx(l){n_=l}class bx{constructor(n){this.domStorage_=n,this.prefix_="firebase:"}set(n,a){a==null?this.domStorage_.removeItem(this.prefixedName_(n)):this.domStorage_.setItem(this.prefixedName_(n),We(a))}get(n){const a=this.domStorage_.getItem(this.prefixedName_(n));return a==null?null:ts(a)}remove(n){this.domStorage_.removeItem(this.prefixedName_(n))}prefixedName_(n){return this.prefix_+n}toString(){return this.domStorage_.toString()}}class Sx{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(n,a){a==null?delete this.cache_[n]:this.cache_[n]=a}get(n){return dn(this.cache_,n)?this.cache_[n]:null}remove(n){delete this.cache_[n]}}const i_=function(l){try{if(typeof window<"u"&&typeof window[l]<"u"){const n=window[l];return n.setItem("firebase:sentinel","cache"),n.removeItem("firebase:sentinel"),new bx(n)}}catch{}return new Sx},Bi=i_("localStorage"),xx=i_("sessionStorage");const Il=new Fy("@firebase/database"),Ex=(function(){let l=1;return function(){return l++}})(),l_=function(l){const n=lS(l),a=new iS;a.update(n);const s=a.digest();return jf.encodeByteArray(s)},ms=function(...l){let n="";for(let a=0;a<l.length;a++){const s=l[a];Array.isArray(s)||s&&typeof s=="object"&&typeof s.length=="number"?n+=ms.apply(null,s):typeof s=="object"?n+=We(s):n+=s,n+=" "}return n};let Ka=null,Jp=!0;const Cx=function(l,n){B(!0,"Can't turn on custom loggers persistently."),Il.logLevel=ze.VERBOSE,Ka=Il.log.bind(Il)},dt=function(...l){if(Jp===!0&&(Jp=!1,Ka===null&&xx.get("logging_enabled")===!0&&Cx()),Ka){const n=ms.apply(null,l);Ka(n)}},gs=function(l){return function(...n){dt(l,...n)}},gf=function(...l){const n="FIREBASE INTERNAL ERROR: "+ms(...l);Il.error(n)},In=function(...l){const n=`FIREBASE FATAL ERROR: ${ms(...l)}`;throw Il.error(n),new Error(n)},bt=function(...l){const n="FIREBASE WARNING: "+ms(...l);Il.warn(n)},Tx=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&bt("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},Lf=function(l){return typeof l=="number"&&(l!==l||l===Number.POSITIVE_INFINITY||l===Number.NEGATIVE_INFINITY)},Nx=function(l){if(document.readyState==="complete")l();else{let n=!1;const a=function(){if(!document.body){setTimeout(a,Math.floor(10));return}n||(n=!0,l())};document.addEventListener?(document.addEventListener("DOMContentLoaded",a,!1),window.addEventListener("load",a,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{document.readyState==="complete"&&a()}),window.attachEvent("onload",a))}},Hl="[MIN_NAME]",ki="[MAX_NAME]",Yi=function(l,n){if(l===n)return 0;if(l===Hl||n===ki)return-1;if(n===Hl||l===ki)return 1;{const a=Wp(l),s=Wp(n);return a!==null?s!==null?a-s===0?l.length-n.length:a-s:-1:s!==null?1:l<n?-1:1}},wx=function(l,n){return l===n?0:l<n?-1:1},Ya=function(l,n){if(n&&l in n)return n[l];throw new Error("Missing required key ("+l+") in object: "+We(n))},Uf=function(l){if(typeof l!="object"||l===null)return We(l);const n=[];for(const s in l)n.push(s);n.sort();let a="{";for(let s=0;s<n.length;s++)s!==0&&(a+=","),a+=We(n[s]),a+=":",a+=Uf(l[n[s]]);return a+="}",a},a_=function(l,n){const a=l.length;if(a<=n)return[l];const s=[];for(let c=0;c<a;c+=n)c+n>a?s.push(l.substring(c,a)):s.push(l.substring(c,c+n));return s};function ht(l,n){for(const a in l)l.hasOwnProperty(a)&&n(a,l[a])}const s_=function(l){B(!Lf(l),"Invalid JSON number");const n=11,a=52,s=(1<<n-1)-1;let c,f,d,m,p;l===0?(f=0,d=0,c=1/l===-1/0?1:0):(c=l<0,l=Math.abs(l),l>=Math.pow(2,1-s)?(m=Math.min(Math.floor(Math.log(l)/Math.LN2),s),f=m+s,d=Math.round(l*Math.pow(2,a-m)-Math.pow(2,a))):(f=0,d=Math.round(l/Math.pow(2,1-s-a))));const g=[];for(p=a;p;p-=1)g.push(d%2?1:0),d=Math.floor(d/2);for(p=n;p;p-=1)g.push(f%2?1:0),f=Math.floor(f/2);g.push(c?1:0),g.reverse();const S=g.join("");let v="";for(p=0;p<64;p+=8){let b=parseInt(S.substr(p,8),2).toString(16);b.length===1&&(b="0"+b),v=v+b}return v.toLowerCase()},Ax=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},Rx=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"};function Mx(l,n){let a="Unknown Error";l==="too_big"?a="The data requested exceeds the maximum size that can be accessed with a single request.":l==="permission_denied"?a="Client doesn't have permission to access the desired data.":l==="unavailable"&&(a="The service is unavailable");const s=new Error(l+" at "+n._path.toString()+": "+a);return s.code=l.toUpperCase(),s}const Dx=new RegExp("^-?(0*)\\d{1,10}$"),Ox=-2147483648,jx=2147483647,Wp=function(l){if(Dx.test(l)){const n=Number(l);if(n>=Ox&&n<=jx)return n}return null},Ql=function(l){try{l()}catch(n){setTimeout(()=>{const a=n.stack||"";throw bt("Exception was thrown by user callback.",a),n},Math.floor(0))}},zx=function(){return(typeof window=="object"&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},Fa=function(l,n){const a=setTimeout(l,n);return typeof a=="number"&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(a):typeof a=="object"&&a.unref&&a.unref(),a};class Ix{constructor(n,a){this.appCheckProvider=a,this.appName=n.name,nx(n)&&n.settings.appCheckToken&&(this.serverAppAppCheckToken=n.settings.appCheckToken),this.appCheck=a?.getImmediate({optional:!0}),this.appCheck||a?.get().then(s=>this.appCheck=s)}getToken(n){if(this.serverAppAppCheckToken){if(n)throw new Error("Attempted reuse of `FirebaseServerApp.appCheckToken` after previous usage failed.");return Promise.resolve({token:this.serverAppAppCheckToken})}return this.appCheck?this.appCheck.getToken(n):new Promise((a,s)=>{setTimeout(()=>{this.appCheck?this.getToken(n).then(a,s):a(null)},0)})}addTokenChangeListener(n){this.appCheckProvider?.get().then(a=>a.addTokenListener(n))}notifyForInvalidToken(){bt(`Provided AppCheck credentials for the app named "${this.appName}" are invalid. This usually indicates your app was not initialized correctly.`)}}class Lx{constructor(n,a,s){this.appName_=n,this.firebaseOptions_=a,this.authProvider_=s,this.auth_=null,this.auth_=s.getImmediate({optional:!0}),this.auth_||s.onInit(c=>this.auth_=c)}getToken(n){return this.auth_?this.auth_.getToken(n).catch(a=>a&&a.code==="auth/token-not-initialized"?(dt("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(a)):new Promise((a,s)=>{setTimeout(()=>{this.auth_?this.getToken(n).then(a,s):a(null)},0)})}addTokenChangeListener(n){this.auth_?this.auth_.addAuthTokenListener(n):this.authProvider_.get().then(a=>a.addAuthTokenListener(n))}removeTokenChangeListener(n){this.authProvider_.get().then(a=>a.removeAuthTokenListener(n))}notifyForInvalidToken(){let n='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?n+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?n+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':n+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',bt(n)}}class Gr{constructor(n){this.accessToken=n}getToken(n){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(n){n(this.accessToken)}removeTokenChangeListener(n){}notifyForInvalidToken(){}}Gr.OWNER="owner";const Hf="5",r_="v",c_="s",o_="r",u_="f",f_=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,d_="ls",h_="p",pf="ac",m_="websocket",g_="long_polling";class p_{constructor(n,a,s,c,f=!1,d="",m=!1,p=!1,g=null){this.secure=a,this.namespace=s,this.webSocketOnly=c,this.nodeAdmin=f,this.persistenceKey=d,this.includeNamespaceInQueryParams=m,this.isUsingEmulator=p,this.emulatorOptions=g,this._host=n.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=Bi.get("host:"+n)||this._host}isCacheableHost(){return this.internalHost.substr(0,2)==="s-"}isCustomHost(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"}get host(){return this._host}set host(n){n!==this.internalHost&&(this.internalHost=n,this.isCacheableHost()&&Bi.set("host:"+this._host,this.internalHost))}toString(){let n=this.toURLString();return this.persistenceKey&&(n+="<"+this.persistenceKey+">"),n}toURLString(){const n=this.secure?"https://":"http://",a=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${n}${this.host}/${a}`}}function Ux(l){return l.host!==l.internalHost||l.isCustomHost()||l.includeNamespaceInQueryParams}function y_(l,n,a){B(typeof n=="string","typeof type must == string"),B(typeof a=="object","typeof params must == object");let s;if(n===m_)s=(l.secure?"wss://":"ws://")+l.internalHost+"/.ws?";else if(n===g_)s=(l.secure?"https://":"http://")+l.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+n);Ux(l)&&(a.ns=l.namespace);const c=[];return ht(a,(f,d)=>{c.push(f+"="+d)}),s+c.join("&")}class Hx{constructor(){this.counters_={}}incrementCounter(n,a=1){dn(this.counters_,n)||(this.counters_[n]=0),this.counters_[n]+=a}get(){return j1(this.counters_)}}const $u={},Ju={};function Bf(l){const n=l.toString();return $u[n]||($u[n]=new Hx),$u[n]}function Bx(l,n){const a=l.toString();return Ju[a]||(Ju[a]=n()),Ju[a]}class kx{constructor(n){this.onMessage_=n,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(n,a){this.closeAfterResponse=n,this.onClose=a,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(n,a){for(this.pendingResponses[n]=a;this.pendingResponses[this.currentResponseNum];){const s=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let c=0;c<s.length;++c)s[c]&&Ql(()=>{this.onMessage_(s[c])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}const ey="start",qx="close",Gx="pLPCommand",Yx="pRTLPCB",__="id",v_="pw",b_="ser",Vx="cb",Qx="seg",Xx="ts",Px="d",Zx="dframe",S_=1870,x_=30,Kx=S_-x_,Fx=25e3,$x=3e4;class jl{constructor(n,a,s,c,f,d,m){this.connId=n,this.repoInfo=a,this.applicationId=s,this.appCheckToken=c,this.authToken=f,this.transportSessionId=d,this.lastSessionId=m,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=gs(n),this.stats_=Bf(a),this.urlFn=p=>(this.appCheckToken&&(p[pf]=this.appCheckToken),y_(a,g_,p))}open(n,a){this.curSegmentNum=0,this.onDisconnect_=a,this.myPacketOrderer=new kx(n),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor($x)),Nx(()=>{if(this.isClosed_)return;this.scriptTagHolder=new kf((...f)=>{const[d,m,p,g,S]=f;if(this.incrementIncomingBytes_(f),!!this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,d===ey)this.id=m,this.password=p;else if(d===qx)m?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(m,()=>{this.onClosed_()})):this.onClosed_();else throw new Error("Unrecognized command received: "+d)},(...f)=>{const[d,m]=f;this.incrementIncomingBytes_(f),this.myPacketOrderer.handleResponse(d,m)},()=>{this.onClosed_()},this.urlFn);const s={};s[ey]="t",s[b_]=Math.floor(Math.random()*1e8),this.scriptTagHolder.uniqueCallbackIdentifier&&(s[Vx]=this.scriptTagHolder.uniqueCallbackIdentifier),s[r_]=Hf,this.transportSessionId&&(s[c_]=this.transportSessionId),this.lastSessionId&&(s[d_]=this.lastSessionId),this.applicationId&&(s[h_]=this.applicationId),this.appCheckToken&&(s[pf]=this.appCheckToken),typeof location<"u"&&location.hostname&&f_.test(location.hostname)&&(s[o_]=u_);const c=this.urlFn(s);this.log_("Connecting via long-poll to "+c),this.scriptTagHolder.addTag(c,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){jl.forceAllow_=!0}static forceDisallow(){jl.forceDisallow_=!0}static isAvailable(){return jl.forceAllow_?!0:!jl.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!Ax()&&!Rx()}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(n){const a=We(n);this.bytesSent+=a.length,this.stats_.incrementCounter("bytes_sent",a.length);const s=Yy(a),c=a_(s,Kx);for(let f=0;f<c.length;f++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,c.length,c[f]),this.curSegmentNum++}addDisconnectPingFrame(n,a){this.myDisconnFrame=document.createElement("iframe");const s={};s[Zx]="t",s[__]=n,s[v_]=a,this.myDisconnFrame.src=this.urlFn(s),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(n){const a=We(n).length;this.bytesReceived+=a,this.stats_.incrementCounter("bytes_received",a)}}class kf{constructor(n,a,s,c){this.onDisconnect=s,this.urlFn=c,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0;{this.uniqueCallbackIdentifier=Ex(),window[Gx+this.uniqueCallbackIdentifier]=n,window[Yx+this.uniqueCallbackIdentifier]=a,this.myIFrame=kf.createIFrame_();let f="";this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"&&(f='<script>document.domain="'+document.domain+'";<\/script>');const d="<html><body>"+f+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(d),this.myIFrame.doc.close()}catch(m){dt("frame writing exception"),m.stack&&dt(m.stack),dt(m)}}}static createIFrame_(){const n=document.createElement("iframe");if(n.style.display="none",document.body){document.body.appendChild(n);try{n.contentWindow.document||dt("No IE domain setting required")}catch{const s=document.domain;n.src="javascript:void((function(){document.open();document.domain='"+s+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return n.contentDocument?n.doc=n.contentDocument:n.contentWindow?n.doc=n.contentWindow.document:n.document&&(n.doc=n.document),n}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{this.myIFrame!==null&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const n=this.onDisconnect;n&&(this.onDisconnect=null,n())}startLongPoll(n,a){for(this.myID=n,this.myPW=a,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const n={};n[__]=this.myID,n[v_]=this.myPW,n[b_]=this.currentSerial;let a=this.urlFn(n),s="",c=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+x_+s.length<=S_;){const d=this.pendingSegs.shift();s=s+"&"+Qx+c+"="+d.seg+"&"+Xx+c+"="+d.ts+"&"+Px+c+"="+d.d,c++}return a=a+s,this.addLongPollTag_(a,this.currentSerial),!0}else return!1}enqueueSegment(n,a,s){this.pendingSegs.push({seg:n,ts:a,d:s}),this.alive&&this.newRequest_()}addLongPollTag_(n,a){this.outstandingRequests.add(a);const s=()=>{this.outstandingRequests.delete(a),this.newRequest_()},c=setTimeout(s,Math.floor(Fx)),f=()=>{clearTimeout(c),s()};this.addTag(n,f)}addTag(n,a){setTimeout(()=>{try{if(!this.sendNewPolls)return;const s=this.myIFrame.doc.createElement("script");s.type="text/javascript",s.async=!0,s.src=n,s.onload=s.onreadystatechange=function(){const c=s.readyState;(!c||c==="loaded"||c==="complete")&&(s.onload=s.onreadystatechange=null,s.parentNode&&s.parentNode.removeChild(s),a())},s.onerror=()=>{dt("Long-poll script failed to load: "+n),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(s)}catch{}},Math.floor(1))}}const Jx=16384,Wx=45e3;let Zr=null;typeof MozWebSocket<"u"?Zr=MozWebSocket:typeof WebSocket<"u"&&(Zr=WebSocket);class an{constructor(n,a,s,c,f,d,m){this.connId=n,this.applicationId=s,this.appCheckToken=c,this.authToken=f,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=gs(this.connId),this.stats_=Bf(a),this.connURL=an.connectionURL_(a,d,m,c,s),this.nodeAdmin=a.nodeAdmin}static connectionURL_(n,a,s,c,f){const d={};return d[r_]=Hf,typeof location<"u"&&location.hostname&&f_.test(location.hostname)&&(d[o_]=u_),a&&(d[c_]=a),s&&(d[d_]=s),c&&(d[pf]=c),f&&(d[h_]=f),y_(n,m_,d)}open(n,a){this.onDisconnect=a,this.onMessage=n,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,Bi.set("previous_websocket_failure",!0);try{let s;Z1(),this.mySock=new Zr(this.connURL,[],s)}catch(s){this.log_("Error instantiating WebSocket.");const c=s.message||s.data;c&&this.log_(c),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=s=>{this.handleIncomingFrame(s)},this.mySock.onerror=s=>{this.log_("WebSocket error.  Closing connection.");const c=s.message||s.data;c&&this.log_(c),this.onClosed_()}}start(){}static forceDisallow(){an.forceDisallow_=!0}static isAvailable(){let n=!1;if(typeof navigator<"u"&&navigator.userAgent){const a=/Android ([0-9]{0,}\.[0-9]{0,})/,s=navigator.userAgent.match(a);s&&s.length>1&&parseFloat(s[1])<4.4&&(n=!0)}return!n&&Zr!==null&&!an.forceDisallow_}static previouslyFailed(){return Bi.isInMemoryStorage||Bi.get("previous_websocket_failure")===!0}markConnectionHealthy(){Bi.remove("previous_websocket_failure")}appendFrame_(n){if(this.frames.push(n),this.frames.length===this.totalFrames){const a=this.frames.join("");this.frames=null;const s=ts(a);this.onMessage(s)}}handleNewFrameCount_(n){this.totalFrames=n,this.frames=[]}extractFrameCount_(n){if(B(this.frames===null,"We already have a frame buffer"),n.length<=6){const a=Number(n);if(!isNaN(a))return this.handleNewFrameCount_(a),null}return this.handleNewFrameCount_(1),n}handleIncomingFrame(n){if(this.mySock===null)return;const a=n.data;if(this.bytesReceived+=a.length,this.stats_.incrementCounter("bytes_received",a.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(a);else{const s=this.extractFrameCount_(a);s!==null&&this.appendFrame_(s)}}send(n){this.resetKeepAlive();const a=We(n);this.bytesSent+=a.length,this.stats_.incrementCounter("bytes_sent",a.length);const s=a_(a,Jx);s.length>1&&this.sendString_(String(s.length));for(let c=0;c<s.length;c++)this.sendString_(s[c])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(Wx))}sendString_(n){try{this.mySock.send(n)}catch(a){this.log_("Exception thrown from WebSocket.send():",a.message||a.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}an.responsesRequiredToBeHealthy=2;an.healthyTimeout=3e4;class ls{static get ALL_TRANSPORTS(){return[jl,an]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}constructor(n){this.initTransports_(n)}initTransports_(n){const a=an&&an.isAvailable();let s=a&&!an.previouslyFailed();if(n.webSocketOnly&&(a||bt("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),s=!0),s)this.transports_=[an];else{const c=this.transports_=[];for(const f of ls.ALL_TRANSPORTS)f&&f.isAvailable()&&c.push(f);ls.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}ls.globalTransportInitialized_=!1;const eE=6e4,tE=5e3,nE=10*1024,iE=100*1024,Wu="t",ty="d",lE="s",ny="r",aE="e",iy="o",ly="a",ay="n",sy="p",sE="h";class rE{constructor(n,a,s,c,f,d,m,p,g,S){this.id=n,this.repoInfo_=a,this.applicationId_=s,this.appCheckToken_=c,this.authToken_=f,this.onMessage_=d,this.onReady_=m,this.onDisconnect_=p,this.onKill_=g,this.lastSessionId=S,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=gs("c:"+this.id+":"),this.transportManager_=new ls(a),this.log_("Connection created"),this.start_()}start_(){const n=this.transportManager_.initialTransport();this.conn_=new n(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=n.responsesRequiredToBeHealthy||0;const a=this.connReceiver_(this.conn_),s=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(a,s)},Math.floor(0));const c=n.healthyTimeout||0;c>0&&(this.healthyTimeout_=Fa(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>iE?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>nE?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(c)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(n){return a=>{n===this.conn_?this.onConnectionLost_(a):n===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(n){return a=>{this.state_!==2&&(n===this.rx_?this.onPrimaryMessageReceived_(a):n===this.secondaryConn_?this.onSecondaryMessageReceived_(a):this.log_("message on old connection"))}}sendRequest(n){const a={t:"d",d:n};this.sendData_(a)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(n){if(Wu in n){const a=n[Wu];a===ly?this.upgradeIfSecondaryHealthy_():a===ny?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):a===iy&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(n){const a=Ya("t",n),s=Ya("d",n);if(a==="c")this.onSecondaryControl_(s);else if(a==="d")this.pendingDataMessages.push(s);else throw new Error("Unknown protocol layer: "+a)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:sy,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:ly,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:ay,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(n){const a=Ya("t",n),s=Ya("d",n);a==="c"?this.onControl_(s):a==="d"&&this.onDataMessage_(s)}onDataMessage_(n){this.onPrimaryResponse_(),this.onMessage_(n)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(n){const a=Ya(Wu,n);if(ty in n){const s=n[ty];if(a===sE){const c={...s};this.repoInfo_.isUsingEmulator&&(c.h=this.repoInfo_.host),this.onHandshake_(c)}else if(a===ay){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let c=0;c<this.pendingDataMessages.length;++c)this.onDataMessage_(this.pendingDataMessages[c]);this.pendingDataMessages=[],this.tryCleanupConnection()}else a===lE?this.onConnectionShutdown_(s):a===ny?this.onReset_(s):a===aE?gf("Server Error: "+s):a===iy?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):gf("Unknown control packet command: "+a)}}onHandshake_(n){const a=n.ts,s=n.v,c=n.h;this.sessionId=n.s,this.repoInfo_.host=c,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,a),Hf!==s&&bt("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const n=this.transportManager_.upgradeTransport();n&&this.startUpgrade_(n)}startUpgrade_(n){this.secondaryConn_=new n(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=n.responsesRequiredToBeHealthy||0;const a=this.connReceiver_(this.secondaryConn_),s=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(a,s),Fa(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(eE))}onReset_(n){this.log_("Reset packet received.  New host: "+n),this.repoInfo_.host=n,this.state_===1?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(n,a){this.log_("Realtime connection established."),this.conn_=n,this.state_=1,this.onReady_&&(this.onReady_(a,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):Fa(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(tE))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:sy,d:{}}}))}onSecondaryConnectionLost_(){const n=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===n||this.rx_===n)&&this.close()}onConnectionLost_(n){this.conn_=null,!n&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(Bi.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()}onConnectionShutdown_(n){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(n),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(n){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(n)}close(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}class E_{put(n,a,s,c){}merge(n,a,s,c){}refreshAuthToken(n){}refreshAppCheckToken(n){}onDisconnectPut(n,a,s){}onDisconnectMerge(n,a,s){}onDisconnectCancel(n,a){}reportStats(n){}}class C_{constructor(n){this.allowedEvents_=n,this.listeners_={},B(Array.isArray(n)&&n.length>0,"Requires a non-empty array")}trigger(n,...a){if(Array.isArray(this.listeners_[n])){const s=[...this.listeners_[n]];for(let c=0;c<s.length;c++)s[c].callback.apply(s[c].context,a)}}on(n,a,s){this.validateEventType_(n),this.listeners_[n]=this.listeners_[n]||[],this.listeners_[n].push({callback:a,context:s});const c=this.getInitialEvent(n);c&&a.apply(s,c)}off(n,a,s){this.validateEventType_(n);const c=this.listeners_[n]||[];for(let f=0;f<c.length;f++)if(c[f].callback===a&&(!s||s===c[f].context)){c.splice(f,1);return}}validateEventType_(n){B(this.allowedEvents_.find(a=>a===n),"Unknown event: "+n)}}class Kr extends C_{static getInstance(){return new Kr}constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!Py()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}getInitialEvent(n){return B(n==="online","Unknown event type: "+n),[this.online_]}currentlyOnline(){return this.online_}}const ry=32,cy=768;class Me{constructor(n,a){if(a===void 0){this.pieces_=n.split("/");let s=0;for(let c=0;c<this.pieces_.length;c++)this.pieces_[c].length>0&&(this.pieces_[s]=this.pieces_[c],s++);this.pieces_.length=s,this.pieceNum_=0}else this.pieces_=n,this.pieceNum_=a}toString(){let n="";for(let a=this.pieceNum_;a<this.pieces_.length;a++)this.pieces_[a]!==""&&(n+="/"+this.pieces_[a]);return n||"/"}}function Se(){return new Me("")}function re(l){return l.pieceNum_>=l.pieces_.length?null:l.pieces_[l.pieceNum_]}function mi(l){return l.pieces_.length-l.pieceNum_}function Ie(l){let n=l.pieceNum_;return n<l.pieces_.length&&n++,new Me(l.pieces_,n)}function qf(l){return l.pieceNum_<l.pieces_.length?l.pieces_[l.pieces_.length-1]:null}function cE(l){let n="";for(let a=l.pieceNum_;a<l.pieces_.length;a++)l.pieces_[a]!==""&&(n+="/"+encodeURIComponent(String(l.pieces_[a])));return n||"/"}function as(l,n=0){return l.pieces_.slice(l.pieceNum_+n)}function T_(l){if(l.pieceNum_>=l.pieces_.length)return null;const n=[];for(let a=l.pieceNum_;a<l.pieces_.length-1;a++)n.push(l.pieces_[a]);return new Me(n,0)}function qe(l,n){const a=[];for(let s=l.pieceNum_;s<l.pieces_.length;s++)a.push(l.pieces_[s]);if(n instanceof Me)for(let s=n.pieceNum_;s<n.pieces_.length;s++)a.push(n.pieces_[s]);else{const s=n.split("/");for(let c=0;c<s.length;c++)s[c].length>0&&a.push(s[c])}return new Me(a,0)}function he(l){return l.pieceNum_>=l.pieces_.length}function vt(l,n){const a=re(l),s=re(n);if(a===null)return n;if(a===s)return vt(Ie(l),Ie(n));throw new Error("INTERNAL ERROR: innerPath ("+n+") is not within outerPath ("+l+")")}function oE(l,n){const a=as(l,0),s=as(n,0);for(let c=0;c<a.length&&c<s.length;c++){const f=Yi(a[c],s[c]);if(f!==0)return f}return a.length===s.length?0:a.length<s.length?-1:1}function Gf(l,n){if(mi(l)!==mi(n))return!1;for(let a=l.pieceNum_,s=n.pieceNum_;a<=l.pieces_.length;a++,s++)if(l.pieces_[a]!==n.pieces_[s])return!1;return!0}function Jt(l,n){let a=l.pieceNum_,s=n.pieceNum_;if(mi(l)>mi(n))return!1;for(;a<l.pieces_.length;){if(l.pieces_[a]!==n.pieces_[s])return!1;++a,++s}return!0}class uE{constructor(n,a){this.errorPrefix_=a,this.parts_=as(n,0),this.byteLength_=Math.max(1,this.parts_.length);for(let s=0;s<this.parts_.length;s++)this.byteLength_+=cc(this.parts_[s]);N_(this)}}function fE(l,n){l.parts_.length>0&&(l.byteLength_+=1),l.parts_.push(n),l.byteLength_+=cc(n),N_(l)}function dE(l){const n=l.parts_.pop();l.byteLength_-=cc(n),l.parts_.length>0&&(l.byteLength_-=1)}function N_(l){if(l.byteLength_>cy)throw new Error(l.errorPrefix_+"has a key path longer than "+cy+" bytes ("+l.byteLength_+").");if(l.parts_.length>ry)throw new Error(l.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+ry+") or object contains a cycle "+Hi(l))}function Hi(l){return l.parts_.length===0?"":"in property '"+l.parts_.join(".")+"'"}class Yf extends C_{static getInstance(){return new Yf}constructor(){super(["visible"]);let n,a;typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(a="visibilitychange",n="hidden"):typeof document.mozHidden<"u"?(a="mozvisibilitychange",n="mozHidden"):typeof document.msHidden<"u"?(a="msvisibilitychange",n="msHidden"):typeof document.webkitHidden<"u"&&(a="webkitvisibilitychange",n="webkitHidden")),this.visible_=!0,a&&document.addEventListener(a,()=>{const s=!document[n];s!==this.visible_&&(this.visible_=s,this.trigger("visible",s))},!1)}getInitialEvent(n){return B(n==="visible","Unknown event type: "+n),[this.visible_]}}const Va=1e3,hE=300*1e3,oy=30*1e3,mE=1.3,gE=3e4,pE="server_kill",uy=3;class jn extends E_{constructor(n,a,s,c,f,d,m,p){if(super(),this.repoInfo_=n,this.applicationId_=a,this.onDataUpdate_=s,this.onConnectStatus_=c,this.onServerInfoUpdate_=f,this.authTokenProvider_=d,this.appCheckTokenProvider_=m,this.authOverride_=p,this.id=jn.nextPersistentConnectionId_++,this.log_=gs("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=Va,this.maxReconnectDelay_=hE,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,p)throw new Error("Auth override specified in options, but not supported on non Node.js platforms");Yf.getInstance().on("visible",this.onVisible_,this),n.host.indexOf("fblocal")===-1&&Kr.getInstance().on("online",this.onOnline_,this)}sendRequest(n,a,s){const c=++this.requestNumber_,f={r:c,a:n,b:a};this.log_(We(f)),B(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(f),s&&(this.requestCBHash_[c]=s)}get(n){this.initConnection_();const a=new ds,c={action:"g",request:{p:n._path.toString(),q:n._queryObject},onComplete:d=>{const m=d.d;d.s==="ok"?a.resolve(m):a.reject(m)}};this.outstandingGets_.push(c),this.outstandingGetCount_++;const f=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(f),a.promise}listen(n,a,s,c){this.initConnection_();const f=n._queryIdentifier,d=n._path.toString();this.log_("Listen called for "+d+" "+f),this.listens.has(d)||this.listens.set(d,new Map),B(n._queryParams.isDefault()||!n._queryParams.loadsAllData(),"listen() called for non-default but complete query"),B(!this.listens.get(d).has(f),"listen() called twice for same path/queryId.");const m={onComplete:c,hashFn:a,query:n,tag:s};this.listens.get(d).set(f,m),this.connected_&&this.sendListen_(m)}sendGet_(n){const a=this.outstandingGets_[n];this.sendRequest("g",a.request,s=>{delete this.outstandingGets_[n],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),a.onComplete&&a.onComplete(s)})}sendListen_(n){const a=n.query,s=a._path.toString(),c=a._queryIdentifier;this.log_("Listen on "+s+" for "+c);const f={p:s},d="q";n.tag&&(f.q=a._queryObject,f.t=n.tag),f.h=n.hashFn(),this.sendRequest(d,f,m=>{const p=m.d,g=m.s;jn.warnOnListenWarnings_(p,a),(this.listens.get(s)&&this.listens.get(s).get(c))===n&&(this.log_("listen response",m),g!=="ok"&&this.removeListen_(s,c),n.onComplete&&n.onComplete(g,p))})}static warnOnListenWarnings_(n,a){if(n&&typeof n=="object"&&dn(n,"w")){const s=Ul(n,"w");if(Array.isArray(s)&&~s.indexOf("no_index")){const c='".indexOn": "'+a._queryParams.getIndex().toString()+'"',f=a._path.toString();bt(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${c} at ${f} to your security rules for better performance.`)}}}refreshAuthToken(n){this.authToken_=n,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(n)}reduceReconnectDelayIfAdminCredential_(n){(n&&n.length===40||tS(n))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=oy)}refreshAppCheckToken(n){this.appCheckToken_=n,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const n=this.authToken_,a=eS(n)?"auth":"gauth",s={cred:n};this.authOverride_===null?s.noauth=!0:typeof this.authOverride_=="object"&&(s.authvar=this.authOverride_),this.sendRequest(a,s,c=>{const f=c.s,d=c.d||"error";this.authToken_===n&&(f==="ok"?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(f,d))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},n=>{const a=n.s,s=n.d||"error";a==="ok"?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(a,s)})}unlisten(n,a){const s=n._path.toString(),c=n._queryIdentifier;this.log_("Unlisten called for "+s+" "+c),B(n._queryParams.isDefault()||!n._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(s,c)&&this.connected_&&this.sendUnlisten_(s,c,n._queryObject,a)}sendUnlisten_(n,a,s,c){this.log_("Unlisten on "+n+" for "+a);const f={p:n},d="n";c&&(f.q=s,f.t=c),this.sendRequest(d,f)}onDisconnectPut(n,a,s){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",n,a,s):this.onDisconnectRequestQueue_.push({pathString:n,action:"o",data:a,onComplete:s})}onDisconnectMerge(n,a,s){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",n,a,s):this.onDisconnectRequestQueue_.push({pathString:n,action:"om",data:a,onComplete:s})}onDisconnectCancel(n,a){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",n,null,a):this.onDisconnectRequestQueue_.push({pathString:n,action:"oc",data:null,onComplete:a})}sendOnDisconnect_(n,a,s,c){const f={p:a,d:s};this.log_("onDisconnect "+n,f),this.sendRequest(n,f,d=>{c&&setTimeout(()=>{c(d.s,d.d)},Math.floor(0))})}put(n,a,s,c){this.putInternal("p",n,a,s,c)}merge(n,a,s,c){this.putInternal("m",n,a,s,c)}putInternal(n,a,s,c,f){this.initConnection_();const d={p:a,d:s};f!==void 0&&(d.h=f),this.outstandingPuts_.push({action:n,request:d,onComplete:c}),this.outstandingPutCount_++;const m=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(m):this.log_("Buffering put: "+a)}sendPut_(n){const a=this.outstandingPuts_[n].action,s=this.outstandingPuts_[n].request,c=this.outstandingPuts_[n].onComplete;this.outstandingPuts_[n].queued=this.connected_,this.sendRequest(a,s,f=>{this.log_(a+" response",f),delete this.outstandingPuts_[n],this.outstandingPutCount_--,this.outstandingPutCount_===0&&(this.outstandingPuts_=[]),c&&c(f.s,f.d)})}reportStats(n){if(this.connected_){const a={c:n};this.log_("reportStats",a),this.sendRequest("s",a,s=>{if(s.s!=="ok"){const f=s.d;this.log_("reportStats","Error sending stats: "+f)}})}}onDataMessage_(n){if("r"in n){this.log_("from server: "+We(n));const a=n.r,s=this.requestCBHash_[a];s&&(delete this.requestCBHash_[a],s(n.b))}else{if("error"in n)throw"A server-side error has occurred: "+n.error;"a"in n&&this.onDataPush_(n.a,n.b)}}onDataPush_(n,a){this.log_("handleServerMessage",n,a),n==="d"?this.onDataUpdate_(a.p,a.d,!1,a.t):n==="m"?this.onDataUpdate_(a.p,a.d,!0,a.t):n==="c"?this.onListenRevoked_(a.p,a.q):n==="ac"?this.onAuthRevoked_(a.s,a.d):n==="apc"?this.onAppCheckRevoked_(a.s,a.d):n==="sd"?this.onSecurityDebugPacket_(a):gf("Unrecognized action received from server: "+We(n)+`
Are you using the latest client?`)}onReady_(n,a){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(n),this.lastSessionId=a,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(n){B(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(n))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(n){n&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=Va,this.realtime_||this.scheduleConnect_(0)),this.visible_=n}onOnline_(n){n?(this.log_("Browser went online."),this.reconnectDelay_=Va,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>gE&&(this.reconnectDelay_=Va),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());const n=Math.max(0,new Date().getTime()-this.lastConnectionAttemptTime_);let a=Math.max(0,this.reconnectDelay_-n);a=Math.random()*a,this.log_("Trying to reconnect in "+a+"ms"),this.scheduleConnect_(a),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*mE)}this.onConnectStatus_(!1)}async establishConnection_(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;const n=this.onDataMessage_.bind(this),a=this.onReady_.bind(this),s=this.onRealtimeDisconnect_.bind(this),c=this.id+":"+jn.nextConnectionId_++,f=this.lastSessionId;let d=!1,m=null;const p=function(){m?m.close():(d=!0,s())},g=function(v){B(m,"sendRequest call when we're not connected not allowed."),m.sendRequest(v)};this.realtime_={close:p,sendRequest:g};const S=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{const[v,b]=await Promise.all([this.authTokenProvider_.getToken(S),this.appCheckTokenProvider_.getToken(S)]);d?dt("getToken() completed but was canceled"):(dt("getToken() completed. Creating connection."),this.authToken_=v&&v.accessToken,this.appCheckToken_=b&&b.token,m=new rE(c,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,n,a,s,M=>{bt(M+" ("+this.repoInfo_.toString()+")"),this.interrupt(pE)},f))}catch(v){this.log_("Failed to get token: "+v),d||(this.repoInfo_.nodeAdmin&&bt(v),p())}}}interrupt(n){dt("Interrupting connection for reason: "+n),this.interruptReasons_[n]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(n){dt("Resuming connection for reason: "+n),delete this.interruptReasons_[n],Bp(this.interruptReasons_)&&(this.reconnectDelay_=Va,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(n){const a=n-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:a})}cancelSentTransactions_(){for(let n=0;n<this.outstandingPuts_.length;n++){const a=this.outstandingPuts_[n];a&&"h"in a.request&&a.queued&&(a.onComplete&&a.onComplete("disconnect"),delete this.outstandingPuts_[n],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])}onListenRevoked_(n,a){let s;a?s=a.map(f=>Uf(f)).join("$"):s="default";const c=this.removeListen_(n,s);c&&c.onComplete&&c.onComplete("permission_denied")}removeListen_(n,a){const s=new Me(n).toString();let c;if(this.listens.has(s)){const f=this.listens.get(s);c=f.get(a),f.delete(a),f.size===0&&this.listens.delete(s)}else c=void 0;return c}onAuthRevoked_(n,a){dt("Auth token revoked: "+n+"/"+a),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(n==="invalid_token"||n==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=uy&&(this.reconnectDelay_=oy,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(n,a){dt("App check token revoked: "+n+"/"+a),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(n==="invalid_token"||n==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=uy&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(n){this.securityDebugCallback_?this.securityDebugCallback_(n):"msg"in n&&console.log("FIREBASE: "+n.msg.replace(`
`,`
FIREBASE: `))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const n of this.listens.values())for(const a of n.values())this.sendListen_(a);for(let n=0;n<this.outstandingPuts_.length;n++)this.outstandingPuts_[n]&&this.sendPut_(n);for(;this.onDisconnectRequestQueue_.length;){const n=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(n.action,n.pathString,n.data,n.onComplete)}for(let n=0;n<this.outstandingGets_.length;n++)this.outstandingGets_[n]&&this.sendGet_(n)}sendConnectStats_(){const n={};let a="js";n["sdk."+a+"."+n_.replace(/\./g,"-")]=1,Py()?n["framework.cordova"]=1:P1()&&(n["framework.reactnative"]=1),this.reportStats(n)}shouldReconnect_(){const n=Kr.getInstance().currentlyOnline();return Bp(this.interruptReasons_)&&n}}jn.nextPersistentConnectionId_=0;jn.nextConnectionId_=0;class ce{constructor(n,a){this.name=n,this.node=a}static Wrap(n,a){return new ce(n,a)}}class oc{getCompare(){return this.compare.bind(this)}indexedValueChanged(n,a){const s=new ce(Hl,n),c=new ce(Hl,a);return this.compare(s,c)!==0}minPost(){return ce.MIN}}let kr;class w_ extends oc{static get __EMPTY_NODE(){return kr}static set __EMPTY_NODE(n){kr=n}compare(n,a){return Yi(n.name,a.name)}isDefinedOn(n){throw Yl("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(n,a){return!1}minPost(){return ce.MIN}maxPost(){return new ce(ki,kr)}makePost(n,a){return B(typeof n=="string","KeyIndex indexValue must always be a string."),new ce(n,kr)}toString(){return".key"}}const Ll=new w_;class qr{constructor(n,a,s,c,f=null){this.isReverse_=c,this.resultGenerator_=f,this.nodeStack_=[];let d=1;for(;!n.isEmpty();)if(n=n,d=a?s(n.key,a):1,c&&(d*=-1),d<0)this.isReverse_?n=n.left:n=n.right;else if(d===0){this.nodeStack_.push(n);break}else this.nodeStack_.push(n),this.isReverse_?n=n.right:n=n.left}getNext(){if(this.nodeStack_.length===0)return null;let n=this.nodeStack_.pop(),a;if(this.resultGenerator_?a=this.resultGenerator_(n.key,n.value):a={key:n.key,value:n.value},this.isReverse_)for(n=n.left;!n.isEmpty();)this.nodeStack_.push(n),n=n.right;else for(n=n.right;!n.isEmpty();)this.nodeStack_.push(n),n=n.left;return a}hasNext(){return this.nodeStack_.length>0}peek(){if(this.nodeStack_.length===0)return null;const n=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(n.key,n.value):{key:n.key,value:n.value}}}class at{constructor(n,a,s,c,f){this.key=n,this.value=a,this.color=s??at.RED,this.left=c??Rt.EMPTY_NODE,this.right=f??Rt.EMPTY_NODE}copy(n,a,s,c,f){return new at(n??this.key,a??this.value,s??this.color,c??this.left,f??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(n){return this.left.inorderTraversal(n)||!!n(this.key,this.value)||this.right.inorderTraversal(n)}reverseTraversal(n){return this.right.reverseTraversal(n)||n(this.key,this.value)||this.left.reverseTraversal(n)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(n,a,s){let c=this;const f=s(n,c.key);return f<0?c=c.copy(null,null,null,c.left.insert(n,a,s),null):f===0?c=c.copy(null,a,null,null,null):c=c.copy(null,null,null,null,c.right.insert(n,a,s)),c.fixUp_()}removeMin_(){if(this.left.isEmpty())return Rt.EMPTY_NODE;let n=this;return!n.left.isRed_()&&!n.left.left.isRed_()&&(n=n.moveRedLeft_()),n=n.copy(null,null,null,n.left.removeMin_(),null),n.fixUp_()}remove(n,a){let s,c;if(s=this,a(n,s.key)<0)!s.left.isEmpty()&&!s.left.isRed_()&&!s.left.left.isRed_()&&(s=s.moveRedLeft_()),s=s.copy(null,null,null,s.left.remove(n,a),null);else{if(s.left.isRed_()&&(s=s.rotateRight_()),!s.right.isEmpty()&&!s.right.isRed_()&&!s.right.left.isRed_()&&(s=s.moveRedRight_()),a(n,s.key)===0){if(s.right.isEmpty())return Rt.EMPTY_NODE;c=s.right.min_(),s=s.copy(c.key,c.value,null,null,s.right.removeMin_())}s=s.copy(null,null,null,null,s.right.remove(n,a))}return s.fixUp_()}isRed_(){return this.color}fixUp_(){let n=this;return n.right.isRed_()&&!n.left.isRed_()&&(n=n.rotateLeft_()),n.left.isRed_()&&n.left.left.isRed_()&&(n=n.rotateRight_()),n.left.isRed_()&&n.right.isRed_()&&(n=n.colorFlip_()),n}moveRedLeft_(){let n=this.colorFlip_();return n.right.left.isRed_()&&(n=n.copy(null,null,null,null,n.right.rotateRight_()),n=n.rotateLeft_(),n=n.colorFlip_()),n}moveRedRight_(){let n=this.colorFlip_();return n.left.left.isRed_()&&(n=n.rotateRight_(),n=n.colorFlip_()),n}rotateLeft_(){const n=this.copy(null,null,at.RED,null,this.right.left);return this.right.copy(null,null,this.color,n,null)}rotateRight_(){const n=this.copy(null,null,at.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,n)}colorFlip_(){const n=this.left.copy(null,null,!this.left.color,null,null),a=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,n,a)}checkMaxDepth_(){const n=this.check_();return Math.pow(2,n)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const n=this.left.check_();if(n!==this.right.check_())throw new Error("Black depths differ");return n+(this.isRed_()?0:1)}}at.RED=!0;at.BLACK=!1;class yE{copy(n,a,s,c,f){return this}insert(n,a,s){return new at(n,a,null)}remove(n,a){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(n){return!1}reverseTraversal(n){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}}class Rt{constructor(n,a=Rt.EMPTY_NODE){this.comparator_=n,this.root_=a}insert(n,a){return new Rt(this.comparator_,this.root_.insert(n,a,this.comparator_).copy(null,null,at.BLACK,null,null))}remove(n){return new Rt(this.comparator_,this.root_.remove(n,this.comparator_).copy(null,null,at.BLACK,null,null))}get(n){let a,s=this.root_;for(;!s.isEmpty();){if(a=this.comparator_(n,s.key),a===0)return s.value;a<0?s=s.left:a>0&&(s=s.right)}return null}getPredecessorKey(n){let a,s=this.root_,c=null;for(;!s.isEmpty();)if(a=this.comparator_(n,s.key),a===0){if(s.left.isEmpty())return c?c.key:null;for(s=s.left;!s.right.isEmpty();)s=s.right;return s.key}else a<0?s=s.left:a>0&&(c=s,s=s.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(n){return this.root_.inorderTraversal(n)}reverseTraversal(n){return this.root_.reverseTraversal(n)}getIterator(n){return new qr(this.root_,null,this.comparator_,!1,n)}getIteratorFrom(n,a){return new qr(this.root_,n,this.comparator_,!1,a)}getReverseIteratorFrom(n,a){return new qr(this.root_,n,this.comparator_,!0,a)}getReverseIterator(n){return new qr(this.root_,null,this.comparator_,!0,n)}}Rt.EMPTY_NODE=new yE;function _E(l,n){return Yi(l.name,n.name)}function Vf(l,n){return Yi(l,n)}let yf;function vE(l){yf=l}const A_=function(l){return typeof l=="number"?"number:"+s_(l):"string:"+l},R_=function(l){if(l.isLeafNode()){const n=l.val();B(typeof n=="string"||typeof n=="number"||typeof n=="object"&&dn(n,".sv"),"Priority must be a string or number.")}else B(l===yf||l.isEmpty(),"priority of unexpected type.");B(l===yf||l.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};let fy;class lt{static set __childrenNodeConstructor(n){fy=n}static get __childrenNodeConstructor(){return fy}constructor(n,a=lt.__childrenNodeConstructor.EMPTY_NODE){this.value_=n,this.priorityNode_=a,this.lazyHash_=null,B(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),R_(this.priorityNode_)}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(n){return new lt(this.value_,n)}getImmediateChild(n){return n===".priority"?this.priorityNode_:lt.__childrenNodeConstructor.EMPTY_NODE}getChild(n){return he(n)?this:re(n)===".priority"?this.priorityNode_:lt.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(n,a){return null}updateImmediateChild(n,a){return n===".priority"?this.updatePriority(a):a.isEmpty()&&n!==".priority"?this:lt.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(n,a).updatePriority(this.priorityNode_)}updateChild(n,a){const s=re(n);return s===null?a:a.isEmpty()&&s!==".priority"?this:(B(s!==".priority"||mi(n)===1,".priority must be the last token in a path"),this.updateImmediateChild(s,lt.__childrenNodeConstructor.EMPTY_NODE.updateChild(Ie(n),a)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(n,a){return!1}val(n){return n&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(this.lazyHash_===null){let n="";this.priorityNode_.isEmpty()||(n+="priority:"+A_(this.priorityNode_.val())+":");const a=typeof this.value_;n+=a+":",a==="number"?n+=s_(this.value_):n+=this.value_,this.lazyHash_=l_(n)}return this.lazyHash_}getValue(){return this.value_}compareTo(n){return n===lt.__childrenNodeConstructor.EMPTY_NODE?1:n instanceof lt.__childrenNodeConstructor?-1:(B(n.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(n))}compareToLeafNode_(n){const a=typeof n.value_,s=typeof this.value_,c=lt.VALUE_TYPE_ORDER.indexOf(a),f=lt.VALUE_TYPE_ORDER.indexOf(s);return B(c>=0,"Unknown leaf type: "+a),B(f>=0,"Unknown leaf type: "+s),c===f?s==="object"?0:this.value_<n.value_?-1:this.value_===n.value_?0:1:f-c}withIndex(){return this}isIndexed(){return!0}equals(n){if(n===this)return!0;if(n.isLeafNode()){const a=n;return this.value_===a.value_&&this.priorityNode_.equals(a.priorityNode_)}else return!1}}lt.VALUE_TYPE_ORDER=["object","boolean","number","string"];let M_,D_;function bE(l){M_=l}function SE(l){D_=l}class xE extends oc{compare(n,a){const s=n.node.getPriority(),c=a.node.getPriority(),f=s.compareTo(c);return f===0?Yi(n.name,a.name):f}isDefinedOn(n){return!n.getPriority().isEmpty()}indexedValueChanged(n,a){return!n.getPriority().equals(a.getPriority())}minPost(){return ce.MIN}maxPost(){return new ce(ki,new lt("[PRIORITY-POST]",D_))}makePost(n,a){const s=M_(n);return new ce(a,new lt("[PRIORITY-POST]",s))}toString(){return".priority"}}const Ge=new xE;const EE=Math.log(2);class CE{constructor(n){const a=f=>parseInt(Math.log(f)/EE,10),s=f=>parseInt(Array(f+1).join("1"),2);this.count=a(n+1),this.current_=this.count-1;const c=s(this.count);this.bits_=n+1&c}nextBitIsOne(){const n=!(this.bits_&1<<this.current_);return this.current_--,n}}const Fr=function(l,n,a,s){l.sort(n);const c=function(p,g){const S=g-p;let v,b;if(S===0)return null;if(S===1)return v=l[p],b=a?a(v):v,new at(b,v.node,at.BLACK,null,null);{const M=parseInt(S/2,10)+p,j=c(p,M),H=c(M+1,g);return v=l[M],b=a?a(v):v,new at(b,v.node,at.BLACK,j,H)}},f=function(p){let g=null,S=null,v=l.length;const b=function(j,H){const Y=v-j,U=v;v-=j;const k=c(Y+1,U),X=l[Y],ee=a?a(X):X;M(new at(ee,X.node,H,null,k))},M=function(j){g?(g.left=j,g=j):(S=j,g=j)};for(let j=0;j<p.count;++j){const H=p.nextBitIsOne(),Y=Math.pow(2,p.count-(j+1));H?b(Y,at.BLACK):(b(Y,at.BLACK),b(Y,at.RED))}return S},d=new CE(l.length),m=f(d);return new Rt(s||n,m)};let ef;const Ml={};class On{static get Default(){return B(Ml&&Ge,"ChildrenNode.ts has not been loaded"),ef=ef||new On({".priority":Ml},{".priority":Ge}),ef}constructor(n,a){this.indexes_=n,this.indexSet_=a}get(n){const a=Ul(this.indexes_,n);if(!a)throw new Error("No index defined for "+n);return a instanceof Rt?a:null}hasIndex(n){return dn(this.indexSet_,n.toString())}addIndex(n,a){B(n!==Ll,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const s=[];let c=!1;const f=a.getIterator(ce.Wrap);let d=f.getNext();for(;d;)c=c||n.isDefinedOn(d.node),s.push(d),d=f.getNext();let m;c?m=Fr(s,n.getCompare()):m=Ml;const p=n.toString(),g={...this.indexSet_};g[p]=n;const S={...this.indexes_};return S[p]=m,new On(S,g)}addToIndexes(n,a){const s=Vr(this.indexes_,(c,f)=>{const d=Ul(this.indexSet_,f);if(B(d,"Missing index implementation for "+f),c===Ml)if(d.isDefinedOn(n.node)){const m=[],p=a.getIterator(ce.Wrap);let g=p.getNext();for(;g;)g.name!==n.name&&m.push(g),g=p.getNext();return m.push(n),Fr(m,d.getCompare())}else return Ml;else{const m=a.get(n.name);let p=c;return m&&(p=p.remove(new ce(n.name,m))),p.insert(n,n.node)}});return new On(s,this.indexSet_)}removeFromIndexes(n,a){const s=Vr(this.indexes_,c=>{if(c===Ml)return c;{const f=a.get(n.name);return f?c.remove(new ce(n.name,f)):c}});return new On(s,this.indexSet_)}}let Qa;class ${static get EMPTY_NODE(){return Qa||(Qa=new $(new Rt(Vf),null,On.Default))}constructor(n,a,s){this.children_=n,this.priorityNode_=a,this.indexMap_=s,this.lazyHash_=null,this.priorityNode_&&R_(this.priorityNode_),this.children_.isEmpty()&&B(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}isLeafNode(){return!1}getPriority(){return this.priorityNode_||Qa}updatePriority(n){return this.children_.isEmpty()?this:new $(this.children_,n,this.indexMap_)}getImmediateChild(n){if(n===".priority")return this.getPriority();{const a=this.children_.get(n);return a===null?Qa:a}}getChild(n){const a=re(n);return a===null?this:this.getImmediateChild(a).getChild(Ie(n))}hasChild(n){return this.children_.get(n)!==null}updateImmediateChild(n,a){if(B(a,"We should always be passing snapshot nodes"),n===".priority")return this.updatePriority(a);{const s=new ce(n,a);let c,f;a.isEmpty()?(c=this.children_.remove(n),f=this.indexMap_.removeFromIndexes(s,this.children_)):(c=this.children_.insert(n,a),f=this.indexMap_.addToIndexes(s,this.children_));const d=c.isEmpty()?Qa:this.priorityNode_;return new $(c,d,f)}}updateChild(n,a){const s=re(n);if(s===null)return a;{B(re(n)!==".priority"||mi(n)===1,".priority must be the last token in a path");const c=this.getImmediateChild(s).updateChild(Ie(n),a);return this.updateImmediateChild(s,c)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(n){if(this.isEmpty())return null;const a={};let s=0,c=0,f=!0;if(this.forEachChild(Ge,(d,m)=>{a[d]=m.val(n),s++,f&&$.INTEGER_REGEXP_.test(d)?c=Math.max(c,Number(d)):f=!1}),!n&&f&&c<2*s){const d=[];for(const m in a)d[m]=a[m];return d}else return n&&!this.getPriority().isEmpty()&&(a[".priority"]=this.getPriority().val()),a}hash(){if(this.lazyHash_===null){let n="";this.getPriority().isEmpty()||(n+="priority:"+A_(this.getPriority().val())+":"),this.forEachChild(Ge,(a,s)=>{const c=s.hash();c!==""&&(n+=":"+a+":"+c)}),this.lazyHash_=n===""?"":l_(n)}return this.lazyHash_}getPredecessorChildName(n,a,s){const c=this.resolveIndex_(s);if(c){const f=c.getPredecessorKey(new ce(n,a));return f?f.name:null}else return this.children_.getPredecessorKey(n)}getFirstChildName(n){const a=this.resolveIndex_(n);if(a){const s=a.minKey();return s&&s.name}else return this.children_.minKey()}getFirstChild(n){const a=this.getFirstChildName(n);return a?new ce(a,this.children_.get(a)):null}getLastChildName(n){const a=this.resolveIndex_(n);if(a){const s=a.maxKey();return s&&s.name}else return this.children_.maxKey()}getLastChild(n){const a=this.getLastChildName(n);return a?new ce(a,this.children_.get(a)):null}forEachChild(n,a){const s=this.resolveIndex_(n);return s?s.inorderTraversal(c=>a(c.name,c.node)):this.children_.inorderTraversal(a)}getIterator(n){return this.getIteratorFrom(n.minPost(),n)}getIteratorFrom(n,a){const s=this.resolveIndex_(a);if(s)return s.getIteratorFrom(n,c=>c);{const c=this.children_.getIteratorFrom(n.name,ce.Wrap);let f=c.peek();for(;f!=null&&a.compare(f,n)<0;)c.getNext(),f=c.peek();return c}}getReverseIterator(n){return this.getReverseIteratorFrom(n.maxPost(),n)}getReverseIteratorFrom(n,a){const s=this.resolveIndex_(a);if(s)return s.getReverseIteratorFrom(n,c=>c);{const c=this.children_.getReverseIteratorFrom(n.name,ce.Wrap);let f=c.peek();for(;f!=null&&a.compare(f,n)>0;)c.getNext(),f=c.peek();return c}}compareTo(n){return this.isEmpty()?n.isEmpty()?0:-1:n.isLeafNode()||n.isEmpty()?1:n===ps?-1:0}withIndex(n){if(n===Ll||this.indexMap_.hasIndex(n))return this;{const a=this.indexMap_.addIndex(n,this.children_);return new $(this.children_,this.priorityNode_,a)}}isIndexed(n){return n===Ll||this.indexMap_.hasIndex(n)}equals(n){if(n===this)return!0;if(n.isLeafNode())return!1;{const a=n;if(this.getPriority().equals(a.getPriority()))if(this.children_.count()===a.children_.count()){const s=this.getIterator(Ge),c=a.getIterator(Ge);let f=s.getNext(),d=c.getNext();for(;f&&d;){if(f.name!==d.name||!f.node.equals(d.node))return!1;f=s.getNext(),d=c.getNext()}return f===null&&d===null}else return!1;else return!1}}resolveIndex_(n){return n===Ll?null:this.indexMap_.get(n.toString())}}$.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;class TE extends ${constructor(){super(new Rt(Vf),$.EMPTY_NODE,On.Default)}compareTo(n){return n===this?0:1}equals(n){return n===this}getPriority(){return this}getImmediateChild(n){return $.EMPTY_NODE}isEmpty(){return!1}}const ps=new TE;Object.defineProperties(ce,{MIN:{value:new ce(Hl,$.EMPTY_NODE)},MAX:{value:new ce(ki,ps)}});w_.__EMPTY_NODE=$.EMPTY_NODE;lt.__childrenNodeConstructor=$;vE(ps);SE(ps);const NE=!0;function Je(l,n=null){if(l===null)return $.EMPTY_NODE;if(typeof l=="object"&&".priority"in l&&(n=l[".priority"]),B(n===null||typeof n=="string"||typeof n=="number"||typeof n=="object"&&".sv"in n,"Invalid priority type found: "+typeof n),typeof l=="object"&&".value"in l&&l[".value"]!==null&&(l=l[".value"]),typeof l!="object"||".sv"in l){const a=l;return new lt(a,Je(n))}if(!(l instanceof Array)&&NE){const a=[];let s=!1;if(ht(l,(d,m)=>{if(d.substring(0,1)!=="."){const p=Je(m);p.isEmpty()||(s=s||!p.getPriority().isEmpty(),a.push(new ce(d,p)))}}),a.length===0)return $.EMPTY_NODE;const f=Fr(a,_E,d=>d.name,Vf);if(s){const d=Fr(a,Ge.getCompare());return new $(f,Je(n),new On({".priority":d},{".priority":Ge}))}else return new $(f,Je(n),On.Default)}else{let a=$.EMPTY_NODE;return ht(l,(s,c)=>{if(dn(l,s)&&s.substring(0,1)!=="."){const f=Je(c);(f.isLeafNode()||!f.isEmpty())&&(a=a.updateImmediateChild(s,f))}}),a.updatePriority(Je(n))}}bE(Je);class wE extends oc{constructor(n){super(),this.indexPath_=n,B(!he(n)&&re(n)!==".priority","Can't create PathIndex with empty path or .priority key")}extractChild(n){return n.getChild(this.indexPath_)}isDefinedOn(n){return!n.getChild(this.indexPath_).isEmpty()}compare(n,a){const s=this.extractChild(n.node),c=this.extractChild(a.node),f=s.compareTo(c);return f===0?Yi(n.name,a.name):f}makePost(n,a){const s=Je(n),c=$.EMPTY_NODE.updateChild(this.indexPath_,s);return new ce(a,c)}maxPost(){const n=$.EMPTY_NODE.updateChild(this.indexPath_,ps);return new ce(ki,n)}toString(){return as(this.indexPath_,0).join("/")}}class AE extends oc{compare(n,a){const s=n.node.compareTo(a.node);return s===0?Yi(n.name,a.name):s}isDefinedOn(n){return!0}indexedValueChanged(n,a){return!n.equals(a)}minPost(){return ce.MIN}maxPost(){return ce.MAX}makePost(n,a){const s=Je(n);return new ce(a,s)}toString(){return".value"}}const RE=new AE;function O_(l){return{type:"value",snapshotNode:l}}function Bl(l,n){return{type:"child_added",snapshotNode:n,childName:l}}function ss(l,n){return{type:"child_removed",snapshotNode:n,childName:l}}function rs(l,n,a){return{type:"child_changed",snapshotNode:n,childName:l,oldSnap:a}}function ME(l,n){return{type:"child_moved",snapshotNode:n,childName:l}}class Qf{constructor(n){this.index_=n}updateChild(n,a,s,c,f,d){B(n.isIndexed(this.index_),"A node must be indexed if only a child is updated");const m=n.getImmediateChild(a);return m.getChild(c).equals(s.getChild(c))&&m.isEmpty()===s.isEmpty()||(d!=null&&(s.isEmpty()?n.hasChild(a)?d.trackChildChange(ss(a,m)):B(n.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):m.isEmpty()?d.trackChildChange(Bl(a,s)):d.trackChildChange(rs(a,s,m))),n.isLeafNode()&&s.isEmpty())?n:n.updateImmediateChild(a,s).withIndex(this.index_)}updateFullNode(n,a,s){return s!=null&&(n.isLeafNode()||n.forEachChild(Ge,(c,f)=>{a.hasChild(c)||s.trackChildChange(ss(c,f))}),a.isLeafNode()||a.forEachChild(Ge,(c,f)=>{if(n.hasChild(c)){const d=n.getImmediateChild(c);d.equals(f)||s.trackChildChange(rs(c,f,d))}else s.trackChildChange(Bl(c,f))})),a.withIndex(this.index_)}updatePriority(n,a){return n.isEmpty()?$.EMPTY_NODE:n.updatePriority(a)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}class cs{constructor(n){this.indexedFilter_=new Qf(n.getIndex()),this.index_=n.getIndex(),this.startPost_=cs.getStartPost_(n),this.endPost_=cs.getEndPost_(n),this.startIsInclusive_=!n.startAfterSet_,this.endIsInclusive_=!n.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(n){const a=this.startIsInclusive_?this.index_.compare(this.getStartPost(),n)<=0:this.index_.compare(this.getStartPost(),n)<0,s=this.endIsInclusive_?this.index_.compare(n,this.getEndPost())<=0:this.index_.compare(n,this.getEndPost())<0;return a&&s}updateChild(n,a,s,c,f,d){return this.matches(new ce(a,s))||(s=$.EMPTY_NODE),this.indexedFilter_.updateChild(n,a,s,c,f,d)}updateFullNode(n,a,s){a.isLeafNode()&&(a=$.EMPTY_NODE);let c=a.withIndex(this.index_);c=c.updatePriority($.EMPTY_NODE);const f=this;return a.forEachChild(Ge,(d,m)=>{f.matches(new ce(d,m))||(c=c.updateImmediateChild(d,$.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(n,c,s)}updatePriority(n,a){return n}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(n){if(n.hasStart()){const a=n.getIndexStartName();return n.getIndex().makePost(n.getIndexStartValue(),a)}else return n.getIndex().minPost()}static getEndPost_(n){if(n.hasEnd()){const a=n.getIndexEndName();return n.getIndex().makePost(n.getIndexEndValue(),a)}else return n.getIndex().maxPost()}}class DE{constructor(n){this.withinDirectionalStart=a=>this.reverse_?this.withinEndPost(a):this.withinStartPost(a),this.withinDirectionalEnd=a=>this.reverse_?this.withinStartPost(a):this.withinEndPost(a),this.withinStartPost=a=>{const s=this.index_.compare(this.rangedFilter_.getStartPost(),a);return this.startIsInclusive_?s<=0:s<0},this.withinEndPost=a=>{const s=this.index_.compare(a,this.rangedFilter_.getEndPost());return this.endIsInclusive_?s<=0:s<0},this.rangedFilter_=new cs(n),this.index_=n.getIndex(),this.limit_=n.getLimit(),this.reverse_=!n.isViewFromLeft(),this.startIsInclusive_=!n.startAfterSet_,this.endIsInclusive_=!n.endBeforeSet_}updateChild(n,a,s,c,f,d){return this.rangedFilter_.matches(new ce(a,s))||(s=$.EMPTY_NODE),n.getImmediateChild(a).equals(s)?n:n.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(n,a,s,c,f,d):this.fullLimitUpdateChild_(n,a,s,f,d)}updateFullNode(n,a,s){let c;if(a.isLeafNode()||a.isEmpty())c=$.EMPTY_NODE.withIndex(this.index_);else if(this.limit_*2<a.numChildren()&&a.isIndexed(this.index_)){c=$.EMPTY_NODE.withIndex(this.index_);let f;this.reverse_?f=a.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):f=a.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let d=0;for(;f.hasNext()&&d<this.limit_;){const m=f.getNext();if(this.withinDirectionalStart(m))if(this.withinDirectionalEnd(m))c=c.updateImmediateChild(m.name,m.node),d++;else break;else continue}}else{c=a.withIndex(this.index_),c=c.updatePriority($.EMPTY_NODE);let f;this.reverse_?f=c.getReverseIterator(this.index_):f=c.getIterator(this.index_);let d=0;for(;f.hasNext();){const m=f.getNext();d<this.limit_&&this.withinDirectionalStart(m)&&this.withinDirectionalEnd(m)?d++:c=c.updateImmediateChild(m.name,$.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(n,c,s)}updatePriority(n,a){return n}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(n,a,s,c,f){let d;if(this.reverse_){const v=this.index_.getCompare();d=(b,M)=>v(M,b)}else d=this.index_.getCompare();const m=n;B(m.numChildren()===this.limit_,"");const p=new ce(a,s),g=this.reverse_?m.getFirstChild(this.index_):m.getLastChild(this.index_),S=this.rangedFilter_.matches(p);if(m.hasChild(a)){const v=m.getImmediateChild(a);let b=c.getChildAfterChild(this.index_,g,this.reverse_);for(;b!=null&&(b.name===a||m.hasChild(b.name));)b=c.getChildAfterChild(this.index_,b,this.reverse_);const M=b==null?1:d(b,p);if(S&&!s.isEmpty()&&M>=0)return f?.trackChildChange(rs(a,s,v)),m.updateImmediateChild(a,s);{f?.trackChildChange(ss(a,v));const H=m.updateImmediateChild(a,$.EMPTY_NODE);return b!=null&&this.rangedFilter_.matches(b)?(f?.trackChildChange(Bl(b.name,b.node)),H.updateImmediateChild(b.name,b.node)):H}}else return s.isEmpty()?n:S&&d(g,p)>=0?(f!=null&&(f.trackChildChange(ss(g.name,g.node)),f.trackChildChange(Bl(a,s))),m.updateImmediateChild(a,s).updateImmediateChild(g.name,$.EMPTY_NODE)):n}}class Xf{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=Ge}hasStart(){return this.startSet_}isViewFromLeft(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"}getIndexStartValue(){return B(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return B(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:Hl}hasEnd(){return this.endSet_}getIndexEndValue(){return B(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return B(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:ki}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&this.viewFrom_!==""}getLimit(){return B(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===Ge}copy(){const n=new Xf;return n.limitSet_=this.limitSet_,n.limit_=this.limit_,n.startSet_=this.startSet_,n.startAfterSet_=this.startAfterSet_,n.indexStartValue_=this.indexStartValue_,n.startNameSet_=this.startNameSet_,n.indexStartName_=this.indexStartName_,n.endSet_=this.endSet_,n.endBeforeSet_=this.endBeforeSet_,n.indexEndValue_=this.indexEndValue_,n.endNameSet_=this.endNameSet_,n.indexEndName_=this.indexEndName_,n.index_=this.index_,n.viewFrom_=this.viewFrom_,n}}function OE(l){return l.loadsAllData()?new Qf(l.getIndex()):l.hasLimit()?new DE(l):new cs(l)}function dy(l){const n={};if(l.isDefault())return n;let a;if(l.index_===Ge?a="$priority":l.index_===RE?a="$value":l.index_===Ll?a="$key":(B(l.index_ instanceof wE,"Unrecognized index type!"),a=l.index_.toString()),n.orderBy=We(a),l.startSet_){const s=l.startAfterSet_?"startAfter":"startAt";n[s]=We(l.indexStartValue_),l.startNameSet_&&(n[s]+=","+We(l.indexStartName_))}if(l.endSet_){const s=l.endBeforeSet_?"endBefore":"endAt";n[s]=We(l.indexEndValue_),l.endNameSet_&&(n[s]+=","+We(l.indexEndName_))}return l.limitSet_&&(l.isViewFromLeft()?n.limitToFirst=l.limit_:n.limitToLast=l.limit_),n}function hy(l){const n={};if(l.startSet_&&(n.sp=l.indexStartValue_,l.startNameSet_&&(n.sn=l.indexStartName_),n.sin=!l.startAfterSet_),l.endSet_&&(n.ep=l.indexEndValue_,l.endNameSet_&&(n.en=l.indexEndName_),n.ein=!l.endBeforeSet_),l.limitSet_){n.l=l.limit_;let a=l.viewFrom_;a===""&&(l.isViewFromLeft()?a="l":a="r"),n.vf=a}return l.index_!==Ge&&(n.i=l.index_.toString()),n}class $r extends E_{reportStats(n){throw new Error("Method not implemented.")}static getListenId_(n,a){return a!==void 0?"tag$"+a:(B(n._queryParams.isDefault(),"should have a tag if it's not a default query."),n._path.toString())}constructor(n,a,s,c){super(),this.repoInfo_=n,this.onDataUpdate_=a,this.authTokenProvider_=s,this.appCheckTokenProvider_=c,this.log_=gs("p:rest:"),this.listens_={}}listen(n,a,s,c){const f=n._path.toString();this.log_("Listen called for "+f+" "+n._queryIdentifier);const d=$r.getListenId_(n,s),m={};this.listens_[d]=m;const p=dy(n._queryParams);this.restRequest_(f+".json",p,(g,S)=>{let v=S;if(g===404&&(v=null,g=null),g===null&&this.onDataUpdate_(f,v,!1,s),Ul(this.listens_,d)===m){let b;g?g===401?b="permission_denied":b="rest_error:"+g:b="ok",c(b,null)}})}unlisten(n,a){const s=$r.getListenId_(n,a);delete this.listens_[s]}get(n){const a=dy(n._queryParams),s=n._path.toString(),c=new ds;return this.restRequest_(s+".json",a,(f,d)=>{let m=d;f===404&&(m=null,f=null),f===null?(this.onDataUpdate_(s,m,!1,null),c.resolve(m)):c.reject(new Error(m))}),c.promise}refreshAuthToken(n){}restRequest_(n,a={},s){return a.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([c,f])=>{c&&c.accessToken&&(a.auth=c.accessToken),f&&f.token&&(a.ac=f.token);const d=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+n+"?ns="+this.repoInfo_.namespace+nS(a);this.log_("Sending REST request for "+d);const m=new XMLHttpRequest;m.onreadystatechange=()=>{if(s&&m.readyState===4){this.log_("REST Response for "+d+" received. status:",m.status,"response:",m.responseText);let p=null;if(m.status>=200&&m.status<300){try{p=ts(m.responseText)}catch{bt("Failed to parse JSON response for "+d+": "+m.responseText)}s(null,p)}else m.status!==401&&m.status!==404&&bt("Got unsuccessful REST response for "+d+" Status: "+m.status),s(m.status);s=null}},m.open("GET",d,!0),m.send()})}}class jE{constructor(){this.rootNode_=$.EMPTY_NODE}getNode(n){return this.rootNode_.getChild(n)}updateSnapshot(n,a){this.rootNode_=this.rootNode_.updateChild(n,a)}}function Jr(){return{value:null,children:new Map}}function j_(l,n,a){if(he(n))l.value=a,l.children.clear();else if(l.value!==null)l.value=l.value.updateChild(n,a);else{const s=re(n);l.children.has(s)||l.children.set(s,Jr());const c=l.children.get(s);n=Ie(n),j_(c,n,a)}}function _f(l,n,a){l.value!==null?a(n,l.value):zE(l,(s,c)=>{const f=new Me(n.toString()+"/"+s);_f(c,f,a)})}function zE(l,n){l.children.forEach((a,s)=>{n(s,a)})}class IE{constructor(n){this.collection_=n,this.last_=null}get(){const n=this.collection_.get(),a={...n};return this.last_&&ht(this.last_,(s,c)=>{a[s]=a[s]-c}),this.last_=n,a}}const my=10*1e3,LE=30*1e3,UE=300*1e3;class HE{constructor(n,a){this.server_=a,this.statsToReport_={},this.statsListener_=new IE(n);const s=my+(LE-my)*Math.random();Fa(this.reportStats_.bind(this),Math.floor(s))}reportStats_(){const n=this.statsListener_.get(),a={};let s=!1;ht(n,(c,f)=>{f>0&&dn(this.statsToReport_,c)&&(a[c]=f,s=!0)}),s&&this.server_.reportStats(a),Fa(this.reportStats_.bind(this),Math.floor(Math.random()*2*UE))}}var sn;(function(l){l[l.OVERWRITE=0]="OVERWRITE",l[l.MERGE=1]="MERGE",l[l.ACK_USER_WRITE=2]="ACK_USER_WRITE",l[l.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"})(sn||(sn={}));function Pf(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function Zf(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function Kf(l){return{fromUser:!1,fromServer:!0,queryId:l,tagged:!0}}class Wr{constructor(n,a,s){this.path=n,this.affectedTree=a,this.revert=s,this.type=sn.ACK_USER_WRITE,this.source=Pf()}operationForChild(n){if(he(this.path)){if(this.affectedTree.value!=null)return B(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const a=this.affectedTree.subtree(new Me(n));return new Wr(Se(),a,this.revert)}}else return B(re(this.path)===n,"operationForChild called for unrelated child."),new Wr(Ie(this.path),this.affectedTree,this.revert)}}class os{constructor(n,a){this.source=n,this.path=a,this.type=sn.LISTEN_COMPLETE}operationForChild(n){return he(this.path)?new os(this.source,Se()):new os(this.source,Ie(this.path))}}class qi{constructor(n,a,s){this.source=n,this.path=a,this.snap=s,this.type=sn.OVERWRITE}operationForChild(n){return he(this.path)?new qi(this.source,Se(),this.snap.getImmediateChild(n)):new qi(this.source,Ie(this.path),this.snap)}}class kl{constructor(n,a,s){this.source=n,this.path=a,this.children=s,this.type=sn.MERGE}operationForChild(n){if(he(this.path)){const a=this.children.subtree(new Me(n));return a.isEmpty()?null:a.value?new qi(this.source,Se(),a.value):new kl(this.source,Se(),a)}else return B(re(this.path)===n,"Can't get a merge for a child not on the path of the operation"),new kl(this.source,Ie(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}class gi{constructor(n,a,s){this.node_=n,this.fullyInitialized_=a,this.filtered_=s}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(n){if(he(n))return this.isFullyInitialized()&&!this.filtered_;const a=re(n);return this.isCompleteForChild(a)}isCompleteForChild(n){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(n)}getNode(){return this.node_}}class BE{constructor(n){this.query_=n,this.index_=this.query_._queryParams.getIndex()}}function kE(l,n,a,s){const c=[],f=[];return n.forEach(d=>{d.type==="child_changed"&&l.index_.indexedValueChanged(d.oldSnap,d.snapshotNode)&&f.push(ME(d.childName,d.snapshotNode))}),Xa(l,c,"child_removed",n,s,a),Xa(l,c,"child_added",n,s,a),Xa(l,c,"child_moved",f,s,a),Xa(l,c,"child_changed",n,s,a),Xa(l,c,"value",n,s,a),c}function Xa(l,n,a,s,c,f){const d=s.filter(m=>m.type===a);d.sort((m,p)=>GE(l,m,p)),d.forEach(m=>{const p=qE(l,m,f);c.forEach(g=>{g.respondsTo(m.type)&&n.push(g.createEvent(p,l.query_))})})}function qE(l,n,a){return n.type==="value"||n.type==="child_removed"||(n.prevName=a.getPredecessorChildName(n.childName,n.snapshotNode,l.index_)),n}function GE(l,n,a){if(n.childName==null||a.childName==null)throw Yl("Should only compare child_ events.");const s=new ce(n.childName,n.snapshotNode),c=new ce(a.childName,a.snapshotNode);return l.index_.compare(s,c)}function uc(l,n){return{eventCache:l,serverCache:n}}function $a(l,n,a,s){return uc(new gi(n,a,s),l.serverCache)}function z_(l,n,a,s){return uc(l.eventCache,new gi(n,a,s))}function ec(l){return l.eventCache.isFullyInitialized()?l.eventCache.getNode():null}function Gi(l){return l.serverCache.isFullyInitialized()?l.serverCache.getNode():null}let tf;const YE=()=>(tf||(tf=new Rt(wx)),tf);class je{static fromObject(n){let a=new je(null);return ht(n,(s,c)=>{a=a.set(new Me(s),c)}),a}constructor(n,a=YE()){this.value=n,this.children=a}isEmpty(){return this.value===null&&this.children.isEmpty()}findRootMostMatchingPathAndValue(n,a){if(this.value!=null&&a(this.value))return{path:Se(),value:this.value};if(he(n))return null;{const s=re(n),c=this.children.get(s);if(c!==null){const f=c.findRootMostMatchingPathAndValue(Ie(n),a);return f!=null?{path:qe(new Me(s),f.path),value:f.value}:null}else return null}}findRootMostValueAndPath(n){return this.findRootMostMatchingPathAndValue(n,()=>!0)}subtree(n){if(he(n))return this;{const a=re(n),s=this.children.get(a);return s!==null?s.subtree(Ie(n)):new je(null)}}set(n,a){if(he(n))return new je(a,this.children);{const s=re(n),f=(this.children.get(s)||new je(null)).set(Ie(n),a),d=this.children.insert(s,f);return new je(this.value,d)}}remove(n){if(he(n))return this.children.isEmpty()?new je(null):new je(null,this.children);{const a=re(n),s=this.children.get(a);if(s){const c=s.remove(Ie(n));let f;return c.isEmpty()?f=this.children.remove(a):f=this.children.insert(a,c),this.value===null&&f.isEmpty()?new je(null):new je(this.value,f)}else return this}}get(n){if(he(n))return this.value;{const a=re(n),s=this.children.get(a);return s?s.get(Ie(n)):null}}setTree(n,a){if(he(n))return a;{const s=re(n),f=(this.children.get(s)||new je(null)).setTree(Ie(n),a);let d;return f.isEmpty()?d=this.children.remove(s):d=this.children.insert(s,f),new je(this.value,d)}}fold(n){return this.fold_(Se(),n)}fold_(n,a){const s={};return this.children.inorderTraversal((c,f)=>{s[c]=f.fold_(qe(n,c),a)}),a(n,this.value,s)}findOnPath(n,a){return this.findOnPath_(n,Se(),a)}findOnPath_(n,a,s){const c=this.value?s(a,this.value):!1;if(c)return c;if(he(n))return null;{const f=re(n),d=this.children.get(f);return d?d.findOnPath_(Ie(n),qe(a,f),s):null}}foreachOnPath(n,a){return this.foreachOnPath_(n,Se(),a)}foreachOnPath_(n,a,s){if(he(n))return this;{this.value&&s(a,this.value);const c=re(n),f=this.children.get(c);return f?f.foreachOnPath_(Ie(n),qe(a,c),s):new je(null)}}foreach(n){this.foreach_(Se(),n)}foreach_(n,a){this.children.inorderTraversal((s,c)=>{c.foreach_(qe(n,s),a)}),this.value&&a(n,this.value)}foreachChild(n){this.children.inorderTraversal((a,s)=>{s.value&&n(a,s.value)})}}class rn{constructor(n){this.writeTree_=n}static empty(){return new rn(new je(null))}}function Ja(l,n,a){if(he(n))return new rn(new je(a));{const s=l.writeTree_.findRootMostValueAndPath(n);if(s!=null){const c=s.path;let f=s.value;const d=vt(c,n);return f=f.updateChild(d,a),new rn(l.writeTree_.set(c,f))}else{const c=new je(a),f=l.writeTree_.setTree(n,c);return new rn(f)}}}function vf(l,n,a){let s=l;return ht(a,(c,f)=>{s=Ja(s,qe(n,c),f)}),s}function gy(l,n){if(he(n))return rn.empty();{const a=l.writeTree_.setTree(n,new je(null));return new rn(a)}}function bf(l,n){return Vi(l,n)!=null}function Vi(l,n){const a=l.writeTree_.findRootMostValueAndPath(n);return a!=null?l.writeTree_.get(a.path).getChild(vt(a.path,n)):null}function py(l){const n=[],a=l.writeTree_.value;return a!=null?a.isLeafNode()||a.forEachChild(Ge,(s,c)=>{n.push(new ce(s,c))}):l.writeTree_.children.inorderTraversal((s,c)=>{c.value!=null&&n.push(new ce(s,c.value))}),n}function di(l,n){if(he(n))return l;{const a=Vi(l,n);return a!=null?new rn(new je(a)):new rn(l.writeTree_.subtree(n))}}function Sf(l){return l.writeTree_.isEmpty()}function ql(l,n){return I_(Se(),l.writeTree_,n)}function I_(l,n,a){if(n.value!=null)return a.updateChild(l,n.value);{let s=null;return n.children.inorderTraversal((c,f)=>{c===".priority"?(B(f.value!==null,"Priority writes must always be leaf nodes"),s=f.value):a=I_(qe(l,c),f,a)}),!a.getChild(l).isEmpty()&&s!==null&&(a=a.updateChild(qe(l,".priority"),s)),a}}function fc(l,n){return B_(n,l)}function VE(l,n,a,s,c){B(s>l.lastWriteId,"Stacking an older write on top of newer ones"),c===void 0&&(c=!0),l.allWrites.push({path:n,snap:a,writeId:s,visible:c}),c&&(l.visibleWrites=Ja(l.visibleWrites,n,a)),l.lastWriteId=s}function QE(l,n,a,s){B(s>l.lastWriteId,"Stacking an older merge on top of newer ones"),l.allWrites.push({path:n,children:a,writeId:s,visible:!0}),l.visibleWrites=vf(l.visibleWrites,n,a),l.lastWriteId=s}function XE(l,n){for(let a=0;a<l.allWrites.length;a++){const s=l.allWrites[a];if(s.writeId===n)return s}return null}function PE(l,n){const a=l.allWrites.findIndex(m=>m.writeId===n);B(a>=0,"removeWrite called with nonexistent writeId.");const s=l.allWrites[a];l.allWrites.splice(a,1);let c=s.visible,f=!1,d=l.allWrites.length-1;for(;c&&d>=0;){const m=l.allWrites[d];m.visible&&(d>=a&&ZE(m,s.path)?c=!1:Jt(s.path,m.path)&&(f=!0)),d--}if(c){if(f)return KE(l),!0;if(s.snap)l.visibleWrites=gy(l.visibleWrites,s.path);else{const m=s.children;ht(m,p=>{l.visibleWrites=gy(l.visibleWrites,qe(s.path,p))})}return!0}else return!1}function ZE(l,n){if(l.snap)return Jt(l.path,n);for(const a in l.children)if(l.children.hasOwnProperty(a)&&Jt(qe(l.path,a),n))return!0;return!1}function KE(l){l.visibleWrites=L_(l.allWrites,FE,Se()),l.allWrites.length>0?l.lastWriteId=l.allWrites[l.allWrites.length-1].writeId:l.lastWriteId=-1}function FE(l){return l.visible}function L_(l,n,a){let s=rn.empty();for(let c=0;c<l.length;++c){const f=l[c];if(n(f)){const d=f.path;let m;if(f.snap)Jt(a,d)?(m=vt(a,d),s=Ja(s,m,f.snap)):Jt(d,a)&&(m=vt(d,a),s=Ja(s,Se(),f.snap.getChild(m)));else if(f.children){if(Jt(a,d))m=vt(a,d),s=vf(s,m,f.children);else if(Jt(d,a))if(m=vt(d,a),he(m))s=vf(s,Se(),f.children);else{const p=Ul(f.children,re(m));if(p){const g=p.getChild(Ie(m));s=Ja(s,Se(),g)}}}else throw Yl("WriteRecord should have .snap or .children")}}return s}function U_(l,n,a,s,c){if(!s&&!c){const f=Vi(l.visibleWrites,n);if(f!=null)return f;{const d=di(l.visibleWrites,n);if(Sf(d))return a;if(a==null&&!bf(d,Se()))return null;{const m=a||$.EMPTY_NODE;return ql(d,m)}}}else{const f=di(l.visibleWrites,n);if(!c&&Sf(f))return a;if(!c&&a==null&&!bf(f,Se()))return null;{const d=function(g){return(g.visible||c)&&(!s||!~s.indexOf(g.writeId))&&(Jt(g.path,n)||Jt(n,g.path))},m=L_(l.allWrites,d,n),p=a||$.EMPTY_NODE;return ql(m,p)}}}function $E(l,n,a){let s=$.EMPTY_NODE;const c=Vi(l.visibleWrites,n);if(c)return c.isLeafNode()||c.forEachChild(Ge,(f,d)=>{s=s.updateImmediateChild(f,d)}),s;if(a){const f=di(l.visibleWrites,n);return a.forEachChild(Ge,(d,m)=>{const p=ql(di(f,new Me(d)),m);s=s.updateImmediateChild(d,p)}),py(f).forEach(d=>{s=s.updateImmediateChild(d.name,d.node)}),s}else{const f=di(l.visibleWrites,n);return py(f).forEach(d=>{s=s.updateImmediateChild(d.name,d.node)}),s}}function JE(l,n,a,s,c){B(s||c,"Either existingEventSnap or existingServerSnap must exist");const f=qe(n,a);if(bf(l.visibleWrites,f))return null;{const d=di(l.visibleWrites,f);return Sf(d)?c.getChild(a):ql(d,c.getChild(a))}}function WE(l,n,a,s){const c=qe(n,a),f=Vi(l.visibleWrites,c);if(f!=null)return f;if(s.isCompleteForChild(a)){const d=di(l.visibleWrites,c);return ql(d,s.getNode().getImmediateChild(a))}else return null}function eC(l,n){return Vi(l.visibleWrites,n)}function tC(l,n,a,s,c,f,d){let m;const p=di(l.visibleWrites,n),g=Vi(p,Se());if(g!=null)m=g;else if(a!=null)m=ql(p,a);else return[];if(m=m.withIndex(d),!m.isEmpty()&&!m.isLeafNode()){const S=[],v=d.getCompare(),b=f?m.getReverseIteratorFrom(s,d):m.getIteratorFrom(s,d);let M=b.getNext();for(;M&&S.length<c;)v(M,s)!==0&&S.push(M),M=b.getNext();return S}else return[]}function nC(){return{visibleWrites:rn.empty(),allWrites:[],lastWriteId:-1}}function tc(l,n,a,s){return U_(l.writeTree,l.treePath,n,a,s)}function Ff(l,n){return $E(l.writeTree,l.treePath,n)}function yy(l,n,a,s){return JE(l.writeTree,l.treePath,n,a,s)}function nc(l,n){return eC(l.writeTree,qe(l.treePath,n))}function iC(l,n,a,s,c,f){return tC(l.writeTree,l.treePath,n,a,s,c,f)}function $f(l,n,a){return WE(l.writeTree,l.treePath,n,a)}function H_(l,n){return B_(qe(l.treePath,n),l.writeTree)}function B_(l,n){return{treePath:l,writeTree:n}}class lC{constructor(){this.changeMap=new Map}trackChildChange(n){const a=n.type,s=n.childName;B(a==="child_added"||a==="child_changed"||a==="child_removed","Only child changes supported for tracking"),B(s!==".priority","Only non-priority child changes can be tracked.");const c=this.changeMap.get(s);if(c){const f=c.type;if(a==="child_added"&&f==="child_removed")this.changeMap.set(s,rs(s,n.snapshotNode,c.snapshotNode));else if(a==="child_removed"&&f==="child_added")this.changeMap.delete(s);else if(a==="child_removed"&&f==="child_changed")this.changeMap.set(s,ss(s,c.oldSnap));else if(a==="child_changed"&&f==="child_added")this.changeMap.set(s,Bl(s,n.snapshotNode));else if(a==="child_changed"&&f==="child_changed")this.changeMap.set(s,rs(s,n.snapshotNode,c.oldSnap));else throw Yl("Illegal combination of changes: "+n+" occurred after "+c)}else this.changeMap.set(s,n)}getChanges(){return Array.from(this.changeMap.values())}}class aC{getCompleteChild(n){return null}getChildAfterChild(n,a,s){return null}}const k_=new aC;class Jf{constructor(n,a,s=null){this.writes_=n,this.viewCache_=a,this.optCompleteServerCache_=s}getCompleteChild(n){const a=this.viewCache_.eventCache;if(a.isCompleteForChild(n))return a.getNode().getImmediateChild(n);{const s=this.optCompleteServerCache_!=null?new gi(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return $f(this.writes_,n,s)}}getChildAfterChild(n,a,s){const c=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:Gi(this.viewCache_),f=iC(this.writes_,c,a,1,s,n);return f.length===0?null:f[0]}}function sC(l){return{filter:l}}function rC(l,n){B(n.eventCache.getNode().isIndexed(l.filter.getIndex()),"Event snap not indexed"),B(n.serverCache.getNode().isIndexed(l.filter.getIndex()),"Server snap not indexed")}function cC(l,n,a,s,c){const f=new lC;let d,m;if(a.type===sn.OVERWRITE){const g=a;g.source.fromUser?d=xf(l,n,g.path,g.snap,s,c,f):(B(g.source.fromServer,"Unknown source."),m=g.source.tagged||n.serverCache.isFiltered()&&!he(g.path),d=ic(l,n,g.path,g.snap,s,c,m,f))}else if(a.type===sn.MERGE){const g=a;g.source.fromUser?d=uC(l,n,g.path,g.children,s,c,f):(B(g.source.fromServer,"Unknown source."),m=g.source.tagged||n.serverCache.isFiltered(),d=Ef(l,n,g.path,g.children,s,c,m,f))}else if(a.type===sn.ACK_USER_WRITE){const g=a;g.revert?d=hC(l,n,g.path,s,c,f):d=fC(l,n,g.path,g.affectedTree,s,c,f)}else if(a.type===sn.LISTEN_COMPLETE)d=dC(l,n,a.path,s,f);else throw Yl("Unknown operation type: "+a.type);const p=f.getChanges();return oC(n,d,p),{viewCache:d,changes:p}}function oC(l,n,a){const s=n.eventCache;if(s.isFullyInitialized()){const c=s.getNode().isLeafNode()||s.getNode().isEmpty(),f=ec(l);(a.length>0||!l.eventCache.isFullyInitialized()||c&&!s.getNode().equals(f)||!s.getNode().getPriority().equals(f.getPriority()))&&a.push(O_(ec(n)))}}function q_(l,n,a,s,c,f){const d=n.eventCache;if(nc(s,a)!=null)return n;{let m,p;if(he(a))if(B(n.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),n.serverCache.isFiltered()){const g=Gi(n),S=g instanceof $?g:$.EMPTY_NODE,v=Ff(s,S);m=l.filter.updateFullNode(n.eventCache.getNode(),v,f)}else{const g=tc(s,Gi(n));m=l.filter.updateFullNode(n.eventCache.getNode(),g,f)}else{const g=re(a);if(g===".priority"){B(mi(a)===1,"Can't have a priority with additional path components");const S=d.getNode();p=n.serverCache.getNode();const v=yy(s,a,S,p);v!=null?m=l.filter.updatePriority(S,v):m=d.getNode()}else{const S=Ie(a);let v;if(d.isCompleteForChild(g)){p=n.serverCache.getNode();const b=yy(s,a,d.getNode(),p);b!=null?v=d.getNode().getImmediateChild(g).updateChild(S,b):v=d.getNode().getImmediateChild(g)}else v=$f(s,g,n.serverCache);v!=null?m=l.filter.updateChild(d.getNode(),g,v,S,c,f):m=d.getNode()}}return $a(n,m,d.isFullyInitialized()||he(a),l.filter.filtersNodes())}}function ic(l,n,a,s,c,f,d,m){const p=n.serverCache;let g;const S=d?l.filter:l.filter.getIndexedFilter();if(he(a))g=S.updateFullNode(p.getNode(),s,null);else if(S.filtersNodes()&&!p.isFiltered()){const M=p.getNode().updateChild(a,s);g=S.updateFullNode(p.getNode(),M,null)}else{const M=re(a);if(!p.isCompleteForPath(a)&&mi(a)>1)return n;const j=Ie(a),Y=p.getNode().getImmediateChild(M).updateChild(j,s);M===".priority"?g=S.updatePriority(p.getNode(),Y):g=S.updateChild(p.getNode(),M,Y,j,k_,null)}const v=z_(n,g,p.isFullyInitialized()||he(a),S.filtersNodes()),b=new Jf(c,v,f);return q_(l,v,a,c,b,m)}function xf(l,n,a,s,c,f,d){const m=n.eventCache;let p,g;const S=new Jf(c,n,f);if(he(a))g=l.filter.updateFullNode(n.eventCache.getNode(),s,d),p=$a(n,g,!0,l.filter.filtersNodes());else{const v=re(a);if(v===".priority")g=l.filter.updatePriority(n.eventCache.getNode(),s),p=$a(n,g,m.isFullyInitialized(),m.isFiltered());else{const b=Ie(a),M=m.getNode().getImmediateChild(v);let j;if(he(b))j=s;else{const H=S.getCompleteChild(v);H!=null?qf(b)===".priority"&&H.getChild(T_(b)).isEmpty()?j=H:j=H.updateChild(b,s):j=$.EMPTY_NODE}if(M.equals(j))p=n;else{const H=l.filter.updateChild(m.getNode(),v,j,b,S,d);p=$a(n,H,m.isFullyInitialized(),l.filter.filtersNodes())}}}return p}function _y(l,n){return l.eventCache.isCompleteForChild(n)}function uC(l,n,a,s,c,f,d){let m=n;return s.foreach((p,g)=>{const S=qe(a,p);_y(n,re(S))&&(m=xf(l,m,S,g,c,f,d))}),s.foreach((p,g)=>{const S=qe(a,p);_y(n,re(S))||(m=xf(l,m,S,g,c,f,d))}),m}function vy(l,n,a){return a.foreach((s,c)=>{n=n.updateChild(s,c)}),n}function Ef(l,n,a,s,c,f,d,m){if(n.serverCache.getNode().isEmpty()&&!n.serverCache.isFullyInitialized())return n;let p=n,g;he(a)?g=s:g=new je(null).setTree(a,s);const S=n.serverCache.getNode();return g.children.inorderTraversal((v,b)=>{if(S.hasChild(v)){const M=n.serverCache.getNode().getImmediateChild(v),j=vy(l,M,b);p=ic(l,p,new Me(v),j,c,f,d,m)}}),g.children.inorderTraversal((v,b)=>{const M=!n.serverCache.isCompleteForChild(v)&&b.value===null;if(!S.hasChild(v)&&!M){const j=n.serverCache.getNode().getImmediateChild(v),H=vy(l,j,b);p=ic(l,p,new Me(v),H,c,f,d,m)}}),p}function fC(l,n,a,s,c,f,d){if(nc(c,a)!=null)return n;const m=n.serverCache.isFiltered(),p=n.serverCache;if(s.value!=null){if(he(a)&&p.isFullyInitialized()||p.isCompleteForPath(a))return ic(l,n,a,p.getNode().getChild(a),c,f,m,d);if(he(a)){let g=new je(null);return p.getNode().forEachChild(Ll,(S,v)=>{g=g.set(new Me(S),v)}),Ef(l,n,a,g,c,f,m,d)}else return n}else{let g=new je(null);return s.foreach((S,v)=>{const b=qe(a,S);p.isCompleteForPath(b)&&(g=g.set(S,p.getNode().getChild(b)))}),Ef(l,n,a,g,c,f,m,d)}}function dC(l,n,a,s,c){const f=n.serverCache,d=z_(n,f.getNode(),f.isFullyInitialized()||he(a),f.isFiltered());return q_(l,d,a,s,k_,c)}function hC(l,n,a,s,c,f){let d;if(nc(s,a)!=null)return n;{const m=new Jf(s,n,c),p=n.eventCache.getNode();let g;if(he(a)||re(a)===".priority"){let S;if(n.serverCache.isFullyInitialized())S=tc(s,Gi(n));else{const v=n.serverCache.getNode();B(v instanceof $,"serverChildren would be complete if leaf node"),S=Ff(s,v)}S=S,g=l.filter.updateFullNode(p,S,f)}else{const S=re(a);let v=$f(s,S,n.serverCache);v==null&&n.serverCache.isCompleteForChild(S)&&(v=p.getImmediateChild(S)),v!=null?g=l.filter.updateChild(p,S,v,Ie(a),m,f):n.eventCache.getNode().hasChild(S)?g=l.filter.updateChild(p,S,$.EMPTY_NODE,Ie(a),m,f):g=p,g.isEmpty()&&n.serverCache.isFullyInitialized()&&(d=tc(s,Gi(n)),d.isLeafNode()&&(g=l.filter.updateFullNode(g,d,f)))}return d=n.serverCache.isFullyInitialized()||nc(s,Se())!=null,$a(n,g,d,l.filter.filtersNodes())}}class mC{constructor(n,a){this.query_=n,this.eventRegistrations_=[];const s=this.query_._queryParams,c=new Qf(s.getIndex()),f=OE(s);this.processor_=sC(f);const d=a.serverCache,m=a.eventCache,p=c.updateFullNode($.EMPTY_NODE,d.getNode(),null),g=f.updateFullNode($.EMPTY_NODE,m.getNode(),null),S=new gi(p,d.isFullyInitialized(),c.filtersNodes()),v=new gi(g,m.isFullyInitialized(),f.filtersNodes());this.viewCache_=uc(v,S),this.eventGenerator_=new BE(this.query_)}get query(){return this.query_}}function gC(l){return l.viewCache_.serverCache.getNode()}function pC(l){return ec(l.viewCache_)}function yC(l,n){const a=Gi(l.viewCache_);return a&&(l.query._queryParams.loadsAllData()||!he(n)&&!a.getImmediateChild(re(n)).isEmpty())?a.getChild(n):null}function by(l){return l.eventRegistrations_.length===0}function _C(l,n){l.eventRegistrations_.push(n)}function Sy(l,n,a){const s=[];if(a){B(n==null,"A cancel should cancel all event registrations.");const c=l.query._path;l.eventRegistrations_.forEach(f=>{const d=f.createCancelEvent(a,c);d&&s.push(d)})}if(n){let c=[];for(let f=0;f<l.eventRegistrations_.length;++f){const d=l.eventRegistrations_[f];if(!d.matches(n))c.push(d);else if(n.hasAnyCallback()){c=c.concat(l.eventRegistrations_.slice(f+1));break}}l.eventRegistrations_=c}else l.eventRegistrations_=[];return s}function xy(l,n,a,s){n.type===sn.MERGE&&n.source.queryId!==null&&(B(Gi(l.viewCache_),"We should always have a full cache before handling merges"),B(ec(l.viewCache_),"Missing event cache, even though we have a server cache"));const c=l.viewCache_,f=cC(l.processor_,c,n,a,s);return rC(l.processor_,f.viewCache),B(f.viewCache.serverCache.isFullyInitialized()||!c.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),l.viewCache_=f.viewCache,G_(l,f.changes,f.viewCache.eventCache.getNode(),null)}function vC(l,n){const a=l.viewCache_.eventCache,s=[];return a.getNode().isLeafNode()||a.getNode().forEachChild(Ge,(f,d)=>{s.push(Bl(f,d))}),a.isFullyInitialized()&&s.push(O_(a.getNode())),G_(l,s,a.getNode(),n)}function G_(l,n,a,s){const c=s?[s]:l.eventRegistrations_;return kE(l.eventGenerator_,n,a,c)}let lc;class Y_{constructor(){this.views=new Map}}function bC(l){B(!lc,"__referenceConstructor has already been defined"),lc=l}function SC(){return B(lc,"Reference.ts has not been loaded"),lc}function xC(l){return l.views.size===0}function Wf(l,n,a,s){const c=n.source.queryId;if(c!==null){const f=l.views.get(c);return B(f!=null,"SyncTree gave us an op for an invalid query."),xy(f,n,a,s)}else{let f=[];for(const d of l.views.values())f=f.concat(xy(d,n,a,s));return f}}function V_(l,n,a,s,c){const f=n._queryIdentifier,d=l.views.get(f);if(!d){let m=tc(a,c?s:null),p=!1;m?p=!0:s instanceof $?(m=Ff(a,s),p=!1):(m=$.EMPTY_NODE,p=!1);const g=uc(new gi(m,p,!1),new gi(s,c,!1));return new mC(n,g)}return d}function EC(l,n,a,s,c,f){const d=V_(l,n,s,c,f);return l.views.has(n._queryIdentifier)||l.views.set(n._queryIdentifier,d),_C(d,a),vC(d,a)}function CC(l,n,a,s){const c=n._queryIdentifier,f=[];let d=[];const m=pi(l);if(c==="default")for(const[p,g]of l.views.entries())d=d.concat(Sy(g,a,s)),by(g)&&(l.views.delete(p),g.query._queryParams.loadsAllData()||f.push(g.query));else{const p=l.views.get(c);p&&(d=d.concat(Sy(p,a,s)),by(p)&&(l.views.delete(c),p.query._queryParams.loadsAllData()||f.push(p.query)))}return m&&!pi(l)&&f.push(new(SC())(n._repo,n._path)),{removed:f,events:d}}function Q_(l){const n=[];for(const a of l.views.values())a.query._queryParams.loadsAllData()||n.push(a);return n}function hi(l,n){let a=null;for(const s of l.views.values())a=a||yC(s,n);return a}function X_(l,n){if(n._queryParams.loadsAllData())return dc(l);{const s=n._queryIdentifier;return l.views.get(s)}}function P_(l,n){return X_(l,n)!=null}function pi(l){return dc(l)!=null}function dc(l){for(const n of l.views.values())if(n.query._queryParams.loadsAllData())return n;return null}let ac;function TC(l){B(!ac,"__referenceConstructor has already been defined"),ac=l}function NC(){return B(ac,"Reference.ts has not been loaded"),ac}let wC=1;class Ey{constructor(n){this.listenProvider_=n,this.syncPointTree_=new je(null),this.pendingWriteTree_=nC(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function Z_(l,n,a,s,c){return VE(l.pendingWriteTree_,n,a,s,c),c?Xl(l,new qi(Pf(),n,a)):[]}function AC(l,n,a,s){QE(l.pendingWriteTree_,n,a,s);const c=je.fromObject(a);return Xl(l,new kl(Pf(),n,c))}function ci(l,n,a=!1){const s=XE(l.pendingWriteTree_,n);if(PE(l.pendingWriteTree_,n)){let f=new je(null);return s.snap!=null?f=f.set(Se(),!0):ht(s.children,d=>{f=f.set(new Me(d),!0)}),Xl(l,new Wr(s.path,f,a))}else return[]}function ys(l,n,a){return Xl(l,new qi(Zf(),n,a))}function RC(l,n,a){const s=je.fromObject(a);return Xl(l,new kl(Zf(),n,s))}function MC(l,n){return Xl(l,new os(Zf(),n))}function DC(l,n,a){const s=td(l,a);if(s){const c=nd(s),f=c.path,d=c.queryId,m=vt(f,n),p=new os(Kf(d),m);return id(l,f,p)}else return[]}function sc(l,n,a,s,c=!1){const f=n._path,d=l.syncPointTree_.get(f);let m=[];if(d&&(n._queryIdentifier==="default"||P_(d,n))){const p=CC(d,n,a,s);xC(d)&&(l.syncPointTree_=l.syncPointTree_.remove(f));const g=p.removed;if(m=p.events,!c){const S=g.findIndex(b=>b._queryParams.loadsAllData())!==-1,v=l.syncPointTree_.findOnPath(f,(b,M)=>pi(M));if(S&&!v){const b=l.syncPointTree_.subtree(f);if(!b.isEmpty()){const M=zC(b);for(let j=0;j<M.length;++j){const H=M[j],Y=H.query,U=J_(l,H);l.listenProvider_.startListening(Wa(Y),us(l,Y),U.hashFn,U.onComplete)}}}!v&&g.length>0&&!s&&(S?l.listenProvider_.stopListening(Wa(n),null):g.forEach(b=>{const M=l.queryToTagMap.get(hc(b));l.listenProvider_.stopListening(Wa(b),M)}))}IC(l,g)}return m}function K_(l,n,a,s){const c=td(l,s);if(c!=null){const f=nd(c),d=f.path,m=f.queryId,p=vt(d,n),g=new qi(Kf(m),p,a);return id(l,d,g)}else return[]}function OC(l,n,a,s){const c=td(l,s);if(c){const f=nd(c),d=f.path,m=f.queryId,p=vt(d,n),g=je.fromObject(a),S=new kl(Kf(m),p,g);return id(l,d,S)}else return[]}function Cf(l,n,a,s=!1){const c=n._path;let f=null,d=!1;l.syncPointTree_.foreachOnPath(c,(b,M)=>{const j=vt(b,c);f=f||hi(M,j),d=d||pi(M)});let m=l.syncPointTree_.get(c);m?(d=d||pi(m),f=f||hi(m,Se())):(m=new Y_,l.syncPointTree_=l.syncPointTree_.set(c,m));let p;f!=null?p=!0:(p=!1,f=$.EMPTY_NODE,l.syncPointTree_.subtree(c).foreachChild((M,j)=>{const H=hi(j,Se());H&&(f=f.updateImmediateChild(M,H))}));const g=P_(m,n);if(!g&&!n._queryParams.loadsAllData()){const b=hc(n);B(!l.queryToTagMap.has(b),"View does not exist, but we have a tag");const M=LC();l.queryToTagMap.set(b,M),l.tagToQueryMap.set(M,b)}const S=fc(l.pendingWriteTree_,c);let v=EC(m,n,a,S,f,p);if(!g&&!d&&!s){const b=X_(m,n);v=v.concat(UC(l,n,b))}return v}function ed(l,n,a){const c=l.pendingWriteTree_,f=l.syncPointTree_.findOnPath(n,(d,m)=>{const p=vt(d,n),g=hi(m,p);if(g)return g});return U_(c,n,f,a,!0)}function jC(l,n){const a=n._path;let s=null;l.syncPointTree_.foreachOnPath(a,(g,S)=>{const v=vt(g,a);s=s||hi(S,v)});let c=l.syncPointTree_.get(a);c?s=s||hi(c,Se()):(c=new Y_,l.syncPointTree_=l.syncPointTree_.set(a,c));const f=s!=null,d=f?new gi(s,!0,!1):null,m=fc(l.pendingWriteTree_,n._path),p=V_(c,n,m,f?d.getNode():$.EMPTY_NODE,f);return pC(p)}function Xl(l,n){return F_(n,l.syncPointTree_,null,fc(l.pendingWriteTree_,Se()))}function F_(l,n,a,s){if(he(l.path))return $_(l,n,a,s);{const c=n.get(Se());a==null&&c!=null&&(a=hi(c,Se()));let f=[];const d=re(l.path),m=l.operationForChild(d),p=n.children.get(d);if(p&&m){const g=a?a.getImmediateChild(d):null,S=H_(s,d);f=f.concat(F_(m,p,g,S))}return c&&(f=f.concat(Wf(c,l,s,a))),f}}function $_(l,n,a,s){const c=n.get(Se());a==null&&c!=null&&(a=hi(c,Se()));let f=[];return n.children.inorderTraversal((d,m)=>{const p=a?a.getImmediateChild(d):null,g=H_(s,d),S=l.operationForChild(d);S&&(f=f.concat($_(S,m,p,g)))}),c&&(f=f.concat(Wf(c,l,s,a))),f}function J_(l,n){const a=n.query,s=us(l,a);return{hashFn:()=>(gC(n)||$.EMPTY_NODE).hash(),onComplete:c=>{if(c==="ok")return s?DC(l,a._path,s):MC(l,a._path);{const f=Mx(c,a);return sc(l,a,null,f)}}}}function us(l,n){const a=hc(n);return l.queryToTagMap.get(a)}function hc(l){return l._path.toString()+"$"+l._queryIdentifier}function td(l,n){return l.tagToQueryMap.get(n)}function nd(l){const n=l.indexOf("$");return B(n!==-1&&n<l.length-1,"Bad queryKey."),{queryId:l.substr(n+1),path:new Me(l.substr(0,n))}}function id(l,n,a){const s=l.syncPointTree_.get(n);B(s,"Missing sync point for query tag that we're tracking");const c=fc(l.pendingWriteTree_,n);return Wf(s,a,c,null)}function zC(l){return l.fold((n,a,s)=>{if(a&&pi(a))return[dc(a)];{let c=[];return a&&(c=Q_(a)),ht(s,(f,d)=>{c=c.concat(d)}),c}})}function Wa(l){return l._queryParams.loadsAllData()&&!l._queryParams.isDefault()?new(NC())(l._repo,l._path):l}function IC(l,n){for(let a=0;a<n.length;++a){const s=n[a];if(!s._queryParams.loadsAllData()){const c=hc(s),f=l.queryToTagMap.get(c);l.queryToTagMap.delete(c),l.tagToQueryMap.delete(f)}}}function LC(){return wC++}function UC(l,n,a){const s=n._path,c=us(l,n),f=J_(l,a),d=l.listenProvider_.startListening(Wa(n),c,f.hashFn,f.onComplete),m=l.syncPointTree_.subtree(s);if(c)B(!pi(m.value),"If we're adding a query, it shouldn't be shadowed");else{const p=m.fold((g,S,v)=>{if(!he(g)&&S&&pi(S))return[dc(S).query];{let b=[];return S&&(b=b.concat(Q_(S).map(M=>M.query))),ht(v,(M,j)=>{b=b.concat(j)}),b}});for(let g=0;g<p.length;++g){const S=p[g];l.listenProvider_.stopListening(Wa(S),us(l,S))}}return d}class ld{constructor(n){this.node_=n}getImmediateChild(n){const a=this.node_.getImmediateChild(n);return new ld(a)}node(){return this.node_}}class ad{constructor(n,a){this.syncTree_=n,this.path_=a}getImmediateChild(n){const a=qe(this.path_,n);return new ad(this.syncTree_,a)}node(){return ed(this.syncTree_,this.path_)}}const HC=function(l){return l=l||{},l.timestamp=l.timestamp||new Date().getTime(),l},Cy=function(l,n,a){if(!l||typeof l!="object")return l;if(B(".sv"in l,"Unexpected leaf node or priority contents"),typeof l[".sv"]=="string")return BC(l[".sv"],n,a);if(typeof l[".sv"]=="object")return kC(l[".sv"],n);B(!1,"Unexpected server value: "+JSON.stringify(l,null,2))},BC=function(l,n,a){if(l==="timestamp")return a.timestamp;B(!1,"Unexpected server value: "+l)},kC=function(l,n,a){l.hasOwnProperty("increment")||B(!1,"Unexpected server value: "+JSON.stringify(l,null,2));const s=l.increment;typeof s!="number"&&B(!1,"Unexpected increment value: "+s);const c=n.node();if(B(c!==null&&typeof c<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!c.isLeafNode())return s;const d=c.getValue();return typeof d!="number"?s:d+s},W_=function(l,n,a,s){return sd(n,new ad(a,l),s)},e0=function(l,n,a){return sd(l,new ld(n),a)};function sd(l,n,a){const s=l.getPriority().val(),c=Cy(s,n.getImmediateChild(".priority"),a);let f;if(l.isLeafNode()){const d=l,m=Cy(d.getValue(),n,a);return m!==d.getValue()||c!==d.getPriority().val()?new lt(m,Je(c)):l}else{const d=l;return f=d,c!==d.getPriority().val()&&(f=f.updatePriority(new lt(c))),d.forEachChild(Ge,(m,p)=>{const g=sd(p,n.getImmediateChild(m),a);g!==p&&(f=f.updateImmediateChild(m,g))}),f}}class rd{constructor(n="",a=null,s={children:{},childCount:0}){this.name=n,this.parent=a,this.node=s}}function cd(l,n){let a=n instanceof Me?n:new Me(n),s=l,c=re(a);for(;c!==null;){const f=Ul(s.node.children,c)||{children:{},childCount:0};s=new rd(c,s,f),a=Ie(a),c=re(a)}return s}function Pl(l){return l.node.value}function t0(l,n){l.node.value=n,Tf(l)}function n0(l){return l.node.childCount>0}function qC(l){return Pl(l)===void 0&&!n0(l)}function mc(l,n){ht(l.node.children,(a,s)=>{n(new rd(a,l,s))})}function i0(l,n,a,s){a&&n(l),mc(l,c=>{i0(c,n,!0)})}function GC(l,n,a){let s=l.parent;for(;s!==null;){if(n(s))return!0;s=s.parent}return!1}function _s(l){return new Me(l.parent===null?l.name:_s(l.parent)+"/"+l.name)}function Tf(l){l.parent!==null&&YC(l.parent,l.name,l)}function YC(l,n,a){const s=qC(a),c=dn(l.node.children,n);s&&c?(delete l.node.children[n],l.node.childCount--,Tf(l)):!s&&!c&&(l.node.children[n]=a.node,l.node.childCount++,Tf(l))}const VC=/[\[\].#$\/\u0000-\u001F\u007F]/,QC=/[\[\].#$\u0000-\u001F\u007F]/,nf=10*1024*1024,od=function(l){return typeof l=="string"&&l.length!==0&&!VC.test(l)},l0=function(l){return typeof l=="string"&&l.length!==0&&!QC.test(l)},XC=function(l){return l&&(l=l.replace(/^\/*\.info(\/|$)/,"/")),l0(l)},PC=function(l){return l===null||typeof l=="string"||typeof l=="number"&&!Lf(l)||l&&typeof l=="object"&&dn(l,".sv")},ZC=function(l,n,a,s){gc(rc(l,"value"),n,a)},gc=function(l,n,a){const s=a instanceof Me?new uE(a,l):a;if(n===void 0)throw new Error(l+"contains undefined "+Hi(s));if(typeof n=="function")throw new Error(l+"contains a function "+Hi(s)+" with contents = "+n.toString());if(Lf(n))throw new Error(l+"contains "+n.toString()+" "+Hi(s));if(typeof n=="string"&&n.length>nf/3&&cc(n)>nf)throw new Error(l+"contains a string greater than "+nf+" utf8 bytes "+Hi(s)+" ('"+n.substring(0,50)+"...')");if(n&&typeof n=="object"){let c=!1,f=!1;if(ht(n,(d,m)=>{if(d===".value")c=!0;else if(d!==".priority"&&d!==".sv"&&(f=!0,!od(d)))throw new Error(l+" contains an invalid key ("+d+") "+Hi(s)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);fE(s,d),gc(l,m,s),dE(s)}),c&&f)throw new Error(l+' contains ".value" child '+Hi(s)+" in addition to actual children.")}},KC=function(l,n){let a,s;for(a=0;a<n.length;a++){s=n[a];const f=as(s);for(let d=0;d<f.length;d++)if(!(f[d]===".priority"&&d===f.length-1)){if(!od(f[d]))throw new Error(l+"contains an invalid key ("+f[d]+") in path "+s.toString()+`. Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`)}}n.sort(oE);let c=null;for(a=0;a<n.length;a++){if(s=n[a],c!==null&&Jt(c,s))throw new Error(l+"contains a path "+c.toString()+" that is ancestor of another path "+s.toString());c=s}},FC=function(l,n,a,s){const c=rc(l,"values");if(!(n&&typeof n=="object")||Array.isArray(n))throw new Error(c+" must be an object containing the children to replace.");const f=[];ht(n,(d,m)=>{const p=new Me(d);if(gc(c,m,qe(a,p)),qf(p)===".priority"&&!PC(m))throw new Error(c+"contains an invalid value for '"+p.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");f.push(p)}),KC(c,f)},a0=function(l,n,a,s){if(!l0(a))throw new Error(rc(l,n)+'was an invalid path = "'+a+`". Paths must be non-empty strings and can't contain ".", "#", "$", "[", or "]"`)},$C=function(l,n,a,s){a&&(a=a.replace(/^\/*\.info(\/|$)/,"/")),a0(l,n,a)},s0=function(l,n){if(re(n)===".info")throw new Error(l+" failed = Can't modify data under /.info/")},JC=function(l,n){const a=n.path.toString();if(typeof n.repoInfo.host!="string"||n.repoInfo.host.length===0||!od(n.repoInfo.namespace)&&n.repoInfo.host.split(":")[0]!=="localhost"||a.length!==0&&!XC(a))throw new Error(rc(l,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)};class WC{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function pc(l,n){let a=null;for(let s=0;s<n.length;s++){const c=n[s],f=c.getPath();a!==null&&!Gf(f,a.path)&&(l.eventLists_.push(a),a=null),a===null&&(a={events:[],path:f}),a.events.push(c)}a&&l.eventLists_.push(a)}function r0(l,n,a){pc(l,a),c0(l,s=>Gf(s,n))}function Wt(l,n,a){pc(l,a),c0(l,s=>Jt(s,n)||Jt(n,s))}function c0(l,n){l.recursionDepth_++;let a=!0;for(let s=0;s<l.eventLists_.length;s++){const c=l.eventLists_[s];if(c){const f=c.path;n(f)?(eT(l.eventLists_[s]),l.eventLists_[s]=null):a=!1}}a&&(l.eventLists_=[]),l.recursionDepth_--}function eT(l){for(let n=0;n<l.events.length;n++){const a=l.events[n];if(a!==null){l.events[n]=null;const s=a.getEventRunner();Ka&&dt("event: "+a.toString()),Ql(s)}}}const tT="repo_interrupt",nT=25;class iT{constructor(n,a,s,c){this.repoInfo_=n,this.forceRestClient_=a,this.authTokenProvider_=s,this.appCheckProvider_=c,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new WC,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=Jr(),this.transactionQueueTree_=new rd,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function lT(l,n,a){if(l.stats_=Bf(l.repoInfo_),l.forceRestClient_||zx())l.server_=new $r(l.repoInfo_,(s,c,f,d)=>{Ty(l,s,c,f,d)},l.authTokenProvider_,l.appCheckProvider_),setTimeout(()=>Ny(l,!0),0);else{if(typeof a<"u"&&a!==null){if(typeof a!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{We(a)}catch(s){throw new Error("Invalid authOverride provided: "+s)}}l.persistentConnection_=new jn(l.repoInfo_,n,(s,c,f,d)=>{Ty(l,s,c,f,d)},s=>{Ny(l,s)},s=>{sT(l,s)},l.authTokenProvider_,l.appCheckProvider_,a),l.server_=l.persistentConnection_}l.authTokenProvider_.addTokenChangeListener(s=>{l.server_.refreshAuthToken(s)}),l.appCheckProvider_.addTokenChangeListener(s=>{l.server_.refreshAppCheckToken(s.token)}),l.statsReporter_=Bx(l.repoInfo_,()=>new HE(l.stats_,l.server_)),l.infoData_=new jE,l.infoSyncTree_=new Ey({startListening:(s,c,f,d)=>{let m=[];const p=l.infoData_.getNode(s._path);return p.isEmpty()||(m=ys(l.infoSyncTree_,s._path,p),setTimeout(()=>{d("ok")},0)),m},stopListening:()=>{}}),ud(l,"connected",!1),l.serverSyncTree_=new Ey({startListening:(s,c,f,d)=>(l.server_.listen(s,f,c,(m,p)=>{const g=d(m,p);Wt(l.eventQueue_,s._path,g)}),[]),stopListening:(s,c)=>{l.server_.unlisten(s,c)}})}function aT(l){const a=l.infoData_.getNode(new Me(".info/serverTimeOffset")).val()||0;return new Date().getTime()+a}function yc(l){return HC({timestamp:aT(l)})}function Ty(l,n,a,s,c){l.dataUpdateCount++;const f=new Me(n);a=l.interceptServerDataCallback_?l.interceptServerDataCallback_(n,a):a;let d=[];if(c)if(s){const p=Vr(a,g=>Je(g));d=OC(l.serverSyncTree_,f,p,c)}else{const p=Je(a);d=K_(l.serverSyncTree_,f,p,c)}else if(s){const p=Vr(a,g=>Je(g));d=RC(l.serverSyncTree_,f,p)}else{const p=Je(a);d=ys(l.serverSyncTree_,f,p)}let m=f;d.length>0&&(m=Gl(l,f)),Wt(l.eventQueue_,m,d)}function Ny(l,n){ud(l,"connected",n),n===!1&&uT(l)}function sT(l,n){ht(n,(a,s)=>{ud(l,a,s)})}function ud(l,n,a){const s=new Me("/.info/"+n),c=Je(a);l.infoData_.updateSnapshot(s,c);const f=ys(l.infoSyncTree_,s,c);Wt(l.eventQueue_,s,f)}function fd(l){return l.nextWriteId_++}function rT(l,n,a){const s=jC(l.serverSyncTree_,n);return s!=null?Promise.resolve(s):l.server_.get(n).then(c=>{const f=Je(c).withIndex(n._queryParams.getIndex());Cf(l.serverSyncTree_,n,a,!0);let d;if(n._queryParams.loadsAllData())d=ys(l.serverSyncTree_,n._path,f);else{const m=us(l.serverSyncTree_,n);d=K_(l.serverSyncTree_,n._path,f,m)}return Wt(l.eventQueue_,n._path,d),sc(l.serverSyncTree_,n,a,null,!0),f},c=>(vs(l,"get for query "+We(n)+" failed: "+c),Promise.reject(new Error(c))))}function cT(l,n,a,s,c){vs(l,"set",{path:n.toString(),value:a,priority:s});const f=yc(l),d=Je(a,s),m=ed(l.serverSyncTree_,n),p=e0(d,m,f),g=fd(l),S=Z_(l.serverSyncTree_,n,p,g,!0);pc(l.eventQueue_,S),l.server_.put(n.toString(),d.val(!0),(b,M)=>{const j=b==="ok";j||bt("set at "+n+" failed: "+b);const H=ci(l.serverSyncTree_,g,!j);Wt(l.eventQueue_,n,H),Nf(l,c,b,M)});const v=hd(l,n);Gl(l,v),Wt(l.eventQueue_,v,[])}function oT(l,n,a,s){vs(l,"update",{path:n.toString(),value:a});let c=!0;const f=yc(l),d={};if(ht(a,(m,p)=>{c=!1,d[m]=W_(qe(n,m),Je(p),l.serverSyncTree_,f)}),c)dt("update() called with empty data.  Don't do anything."),Nf(l,s,"ok",void 0);else{const m=fd(l),p=AC(l.serverSyncTree_,n,d,m);pc(l.eventQueue_,p),l.server_.merge(n.toString(),a,(g,S)=>{const v=g==="ok";v||bt("update at "+n+" failed: "+g);const b=ci(l.serverSyncTree_,m,!v),M=b.length>0?Gl(l,n):n;Wt(l.eventQueue_,M,b),Nf(l,s,g,S)}),ht(a,g=>{const S=hd(l,qe(n,g));Gl(l,S)}),Wt(l.eventQueue_,n,[])}}function uT(l){vs(l,"onDisconnectEvents");const n=yc(l),a=Jr();_f(l.onDisconnect_,Se(),(c,f)=>{const d=W_(c,f,l.serverSyncTree_,n);j_(a,c,d)});let s=[];_f(a,Se(),(c,f)=>{s=s.concat(ys(l.serverSyncTree_,c,f));const d=hd(l,c);Gl(l,d)}),l.onDisconnect_=Jr(),Wt(l.eventQueue_,Se(),s)}function fT(l,n,a){let s;re(n._path)===".info"?s=Cf(l.infoSyncTree_,n,a):s=Cf(l.serverSyncTree_,n,a),r0(l.eventQueue_,n._path,s)}function dT(l,n,a){let s;re(n._path)===".info"?s=sc(l.infoSyncTree_,n,a):s=sc(l.serverSyncTree_,n,a),r0(l.eventQueue_,n._path,s)}function hT(l){l.persistentConnection_&&l.persistentConnection_.interrupt(tT)}function vs(l,...n){let a="";l.persistentConnection_&&(a=l.persistentConnection_.id+":"),dt(a,...n)}function Nf(l,n,a,s){n&&Ql(()=>{if(a==="ok")n(null);else{const c=(a||"error").toUpperCase();let f=c;s&&(f+=": "+s);const d=new Error(f);d.code=c,n(d)}})}function o0(l,n,a){return ed(l.serverSyncTree_,n,a)||$.EMPTY_NODE}function dd(l,n=l.transactionQueueTree_){if(n||_c(l,n),Pl(n)){const a=f0(l,n);B(a.length>0,"Sending zero length transaction queue"),a.every(c=>c.status===0)&&mT(l,_s(n),a)}else n0(n)&&mc(n,a=>{dd(l,a)})}function mT(l,n,a){const s=a.map(g=>g.currentWriteId),c=o0(l,n,s);let f=c;const d=c.hash();for(let g=0;g<a.length;g++){const S=a[g];B(S.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),S.status=1,S.retryCount++;const v=vt(n,S.path);f=f.updateChild(v,S.currentOutputSnapshotRaw)}const m=f.val(!0),p=n;l.server_.put(p.toString(),m,g=>{vs(l,"transaction put response",{path:p.toString(),status:g});let S=[];if(g==="ok"){const v=[];for(let b=0;b<a.length;b++)a[b].status=2,S=S.concat(ci(l.serverSyncTree_,a[b].currentWriteId)),a[b].onComplete&&v.push(()=>a[b].onComplete(null,!0,a[b].currentOutputSnapshotResolved)),a[b].unwatcher();_c(l,cd(l.transactionQueueTree_,n)),dd(l,l.transactionQueueTree_),Wt(l.eventQueue_,n,S);for(let b=0;b<v.length;b++)Ql(v[b])}else{if(g==="datastale")for(let v=0;v<a.length;v++)a[v].status===3?a[v].status=4:a[v].status=0;else{bt("transaction at "+p.toString()+" failed: "+g);for(let v=0;v<a.length;v++)a[v].status=4,a[v].abortReason=g}Gl(l,n)}},d)}function Gl(l,n){const a=u0(l,n),s=_s(a),c=f0(l,a);return gT(l,c,s),s}function gT(l,n,a){if(n.length===0)return;const s=[];let c=[];const d=n.filter(m=>m.status===0).map(m=>m.currentWriteId);for(let m=0;m<n.length;m++){const p=n[m],g=vt(a,p.path);let S=!1,v;if(B(g!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),p.status===4)S=!0,v=p.abortReason,c=c.concat(ci(l.serverSyncTree_,p.currentWriteId,!0));else if(p.status===0)if(p.retryCount>=nT)S=!0,v="maxretry",c=c.concat(ci(l.serverSyncTree_,p.currentWriteId,!0));else{const b=o0(l,p.path,d);p.currentInputSnapshot=b;const M=n[m].update(b.val());if(M!==void 0){gc("transaction failed: Data returned ",M,p.path);let j=Je(M);typeof M=="object"&&M!=null&&dn(M,".priority")||(j=j.updatePriority(b.getPriority()));const Y=p.currentWriteId,U=yc(l),k=e0(j,b,U);p.currentOutputSnapshotRaw=j,p.currentOutputSnapshotResolved=k,p.currentWriteId=fd(l),d.splice(d.indexOf(Y),1),c=c.concat(Z_(l.serverSyncTree_,p.path,k,p.currentWriteId,p.applyLocally)),c=c.concat(ci(l.serverSyncTree_,Y,!0))}else S=!0,v="nodata",c=c.concat(ci(l.serverSyncTree_,p.currentWriteId,!0))}Wt(l.eventQueue_,a,c),c=[],S&&(n[m].status=2,(function(b){setTimeout(b,Math.floor(0))})(n[m].unwatcher),n[m].onComplete&&(v==="nodata"?s.push(()=>n[m].onComplete(null,!1,n[m].currentInputSnapshot)):s.push(()=>n[m].onComplete(new Error(v),!1,null))))}_c(l,l.transactionQueueTree_);for(let m=0;m<s.length;m++)Ql(s[m]);dd(l,l.transactionQueueTree_)}function u0(l,n){let a,s=l.transactionQueueTree_;for(a=re(n);a!==null&&Pl(s)===void 0;)s=cd(s,a),n=Ie(n),a=re(n);return s}function f0(l,n){const a=[];return d0(l,n,a),a.sort((s,c)=>s.order-c.order),a}function d0(l,n,a){const s=Pl(n);if(s)for(let c=0;c<s.length;c++)a.push(s[c]);mc(n,c=>{d0(l,c,a)})}function _c(l,n){const a=Pl(n);if(a){let s=0;for(let c=0;c<a.length;c++)a[c].status!==2&&(a[s]=a[c],s++);a.length=s,t0(n,a.length>0?a:void 0)}mc(n,s=>{_c(l,s)})}function hd(l,n){const a=_s(u0(l,n)),s=cd(l.transactionQueueTree_,n);return GC(s,c=>{lf(l,c)}),lf(l,s),i0(s,c=>{lf(l,c)}),a}function lf(l,n){const a=Pl(n);if(a){const s=[];let c=[],f=-1;for(let d=0;d<a.length;d++)a[d].status===3||(a[d].status===1?(B(f===d-1,"All SENT items should be at beginning of queue."),f=d,a[d].status=3,a[d].abortReason="set"):(B(a[d].status===0,"Unexpected transaction status in abort"),a[d].unwatcher(),c=c.concat(ci(l.serverSyncTree_,a[d].currentWriteId,!0)),a[d].onComplete&&s.push(a[d].onComplete.bind(null,new Error("set"),!1,null))));f===-1?t0(n,void 0):a.length=f+1,Wt(l.eventQueue_,_s(n),c);for(let d=0;d<s.length;d++)Ql(s[d])}}function pT(l){let n="";const a=l.split("/");for(let s=0;s<a.length;s++)if(a[s].length>0){let c=a[s];try{c=decodeURIComponent(c.replace(/\+/g," "))}catch{}n+="/"+c}return n}function yT(l){const n={};l.charAt(0)==="?"&&(l=l.substring(1));for(const a of l.split("&")){if(a.length===0)continue;const s=a.split("=");s.length===2?n[decodeURIComponent(s[0])]=decodeURIComponent(s[1]):bt(`Invalid query segment '${a}' in query '${l}'`)}return n}const wy=function(l,n){const a=_T(l),s=a.namespace;a.domain==="firebase.com"&&In(a.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!s||s==="undefined")&&a.domain!=="localhost"&&In("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),a.secure||Tx();const c=a.scheme==="ws"||a.scheme==="wss";return{repoInfo:new p_(a.host,a.secure,s,c,n,"",s!==a.subdomain),path:new Me(a.pathString)}},_T=function(l){let n="",a="",s="",c="",f="",d=!0,m="https",p=443;if(typeof l=="string"){let g=l.indexOf("//");g>=0&&(m=l.substring(0,g-1),l=l.substring(g+2));let S=l.indexOf("/");S===-1&&(S=l.length);let v=l.indexOf("?");v===-1&&(v=l.length),n=l.substring(0,Math.min(S,v)),S<v&&(c=pT(l.substring(S,v)));const b=yT(l.substring(Math.min(l.length,v)));g=n.indexOf(":"),g>=0?(d=m==="https"||m==="wss",p=parseInt(n.substring(g+1),10)):g=n.length;const M=n.slice(0,g);if(M.toLowerCase()==="localhost")a="localhost";else if(M.split(".").length<=2)a=M;else{const j=n.indexOf(".");s=n.substring(0,j).toLowerCase(),a=n.substring(j+1),f=s}"ns"in b&&(f=b.ns)}return{host:n,port:p,domain:a,subdomain:s,secure:d,scheme:m,pathString:c,namespace:f}};class vT{constructor(n,a,s,c){this.eventType=n,this.eventRegistration=a,this.snapshot=s,this.prevName=c}getPath(){const n=this.snapshot.ref;return this.eventType==="value"?n._path:n.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+We(this.snapshot.exportVal())}}class bT{constructor(n,a,s){this.eventRegistration=n,this.error=a,this.path=s}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}class h0{constructor(n,a){this.snapshotCallback=n,this.cancelCallback=a}onValue(n,a){this.snapshotCallback.call(null,n,a)}onCancel(n){return B(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,n)}get hasCancelCallback(){return!!this.cancelCallback}matches(n){return this.snapshotCallback===n.snapshotCallback||this.snapshotCallback.userCallback!==void 0&&this.snapshotCallback.userCallback===n.snapshotCallback.userCallback&&this.snapshotCallback.context===n.snapshotCallback.context}}class md{constructor(n,a,s,c){this._repo=n,this._path=a,this._queryParams=s,this._orderByCalled=c}get key(){return he(this._path)?null:qf(this._path)}get ref(){return new Ln(this._repo,this._path)}get _queryIdentifier(){const n=hy(this._queryParams),a=Uf(n);return a==="{}"?"default":a}get _queryObject(){return hy(this._queryParams)}isEqual(n){if(n=Vl(n),!(n instanceof md))return!1;const a=this._repo===n._repo,s=Gf(this._path,n._path),c=this._queryIdentifier===n._queryIdentifier;return a&&s&&c}toJSON(){return this.toString()}toString(){return this._repo.toString()+cE(this._path)}}class Ln extends md{constructor(n,a){super(n,a,new Xf,!1)}get parent(){const n=T_(this._path);return n===null?null:new Ln(this._repo,n)}get root(){let n=this;for(;n.parent!==null;)n=n.parent;return n}}class fs{constructor(n,a,s){this._node=n,this.ref=a,this._index=s}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(n){const a=new Me(n),s=wf(this.ref,n);return new fs(this._node.getChild(a),s,Ge)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(n){return this._node.isLeafNode()?!1:!!this._node.forEachChild(this._index,(s,c)=>n(new fs(c,wf(this.ref,s),Ge)))}hasChild(n){const a=new Me(n);return!this._node.getChild(a).isEmpty()}hasChildren(){return this._node.isLeafNode()?!1:!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function kt(l,n){return l=Vl(l),l._checkNotDeleted("ref"),n!==void 0?wf(l._root,n):l._root}function wf(l,n){return l=Vl(l),re(l._path)===null?$C("child","path",n):a0("child","path",n),new Ln(l._repo,qe(l._path,n))}function m0(l){return s0("remove",l._path),g0(l,null)}function g0(l,n){l=Vl(l),s0("set",l._path),ZC("set",n,l._path);const a=new ds;return cT(l._repo,l._path,n,null,a.wrapCallback(()=>{})),a.promise}function yi(l,n){FC("update",n,l._path);const a=new ds;return oT(l._repo,l._path,n,a.wrapCallback(()=>{})),a.promise}function Qi(l){l=Vl(l);const n=new h0(()=>{}),a=new vc(n);return rT(l._repo,l,a).then(s=>new fs(s,new Ln(l._repo,l._path),l._queryParams.getIndex()))}class vc{constructor(n){this.callbackContext=n}respondsTo(n){return n==="value"}createEvent(n,a){const s=a._queryParams.getIndex();return new vT("value",this,new fs(n.snapshotNode,new Ln(a._repo,a._path),s))}getEventRunner(n){return n.getEventType()==="cancel"?()=>this.callbackContext.onCancel(n.error):()=>this.callbackContext.onValue(n.snapshot,null)}createCancelEvent(n,a){return this.callbackContext.hasCancelCallback?new bT(this,n,a):null}matches(n){return n instanceof vc?!n.callbackContext||!this.callbackContext?!0:n.callbackContext.matches(this.callbackContext):!1}hasAnyCallback(){return this.callbackContext!==null}}function ST(l,n,a,s,c){const f=new h0(a,void 0),d=new vc(f);return fT(l._repo,l,d),()=>dT(l._repo,l,d)}function p0(l,n,a,s){return ST(l,"value",n)}bC(Ln);TC(Ln);const xT="FIREBASE_DATABASE_EMULATOR_HOST",Af={};let ET=!1;function CT(l,n,a,s){const c=n.lastIndexOf(":"),f=n.substring(0,c),d=zf(f);l.repoInfo_=new p_(n,d,l.repoInfo_.namespace,l.repoInfo_.webSocketOnly,l.repoInfo_.nodeAdmin,l.repoInfo_.persistenceKey,l.repoInfo_.includeNamespaceInQueryParams,!0,a),s&&(l.authTokenProvider_=s)}function TT(l,n,a,s,c){let f=s||l.options.databaseURL;f===void 0&&(l.options.projectId||In("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),dt("Using default host for project ",l.options.projectId),f=`${l.options.projectId}-default-rtdb.firebaseio.com`);let d=wy(f,c),m=d.repoInfo,p;typeof process<"u"&&Kp&&(p=Kp[xT]),p?(f=`http://${p}?ns=${m.namespace}`,d=wy(f,c),m=d.repoInfo):d.repoInfo.secure;const g=new Lx(l.name,l.options,n);JC("Invalid Firebase Database URL",d),he(d.path)||In("Database URL must point to the root of a Firebase Database (not including a child path).");const S=wT(m,l,g,new Ix(l,a));return new AT(S,l)}function NT(l,n){const a=Af[n];(!a||a[l.key]!==l)&&In(`Database ${n}(${l.repoInfo_}) has already been deleted.`),hT(l),delete a[l.key]}function wT(l,n,a,s){let c=Af[n.name];c||(c={},Af[n.name]=c);let f=c[l.toURLString()];return f&&In("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),f=new iT(l,ET,a,s),c[l.toURLString()]=f,f}class AT{constructor(n,a){this._repoInternal=n,this.app=a,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(lT(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new Ln(this._repo,Se())),this._rootInternal}_delete(){return this._rootInternal!==null&&(NT(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(n){this._rootInternal===null&&In("Cannot call "+n+" on a deleted database.")}}function RT(l=sx(),n){const a=tx(l,"database").getImmediate({identifier:n});if(!a._instanceStarted){const s=k1("database");s&&MT(a,...s)}return a}function MT(l,n,a,s={}){l=Vl(l),l._checkNotDeleted("useEmulator");const c=`${n}:${a}`,f=l._repoInternal;if(l._instanceStarted){if(c===l._repoInternal.repoInfo_.host&&Qr(s,f.repoInfo_.emulatorOptions))return;In("connectDatabaseEmulator() cannot initialize or alter the emulator configuration after the database instance has started.")}let d;if(f.repoInfo_.nodeAdmin)s.mockUserToken&&In('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),d=new Gr(Gr.OWNER);else if(s.mockUserToken){const m=typeof s.mockUserToken=="string"?s.mockUserToken:G1(s.mockUserToken,l.app.options.projectId);d=new Gr(m)}zf(n)&&(q1(n),Q1("Database",!0)),CT(f,c,s,d)}function DT(l){vx(ax),Pr(new ns("database",(n,{instanceIdentifier:a})=>{const s=n.getProvider("app").getImmediate(),c=n.getProvider("auth-internal"),f=n.getProvider("app-check-internal");return TT(s,c,f,a)},"PUBLIC").setMultipleInstances(!0)),zl(Fp,$p,l),zl(Fp,$p,"esm2020")}jn.prototype.simpleListen=function(l,n){this.sendRequest("q",{p:l},n)};jn.prototype.echo=function(l,n){this.sendRequest("echo",{d:l},n)};DT();const OT={apiKey:"AIzaSyAEOAwPVqYO-BbsBYQC6o7CfJvHdGfYKss",authDomain:"relife-bbd8c.firebaseapp.com",databaseURL:"https://relife-bbd8c-default-rtdb.asia-southeast1.firebasedatabase.app",projectId:"relife-bbd8c",storageBucket:"relife-bbd8c.firebasestorage.app",messagingSenderId:"144008353106",appId:"1:144008353106:web:cc629a581daf2e2ed1168b"},jT=Wy(OT),qt=RT(jT),zT=()=>Math.random().toString().slice(2,8),y0=()=>"player_"+Math.random().toString(36).slice(2,11),IT=async(l,n)=>{const a=zT(),s=y0(),c={id:a,hostId:s,players:[{id:s,name:l,characterId:n,ready:!0}],status:"waiting",gameState:null,createdAt:Date.now()};return await g0(kt(qt,`rooms/${a}`),c),{roomId:a,playerId:s}},LT=async(l,n,a)=>{const s=kt(qt,`rooms/${l}`),c=await Qi(s);if(!c.exists())return{success:!1,error:""};const f=c.val();if(f.status!=="waiting")return{success:!1,error:""};if(f.players.length>=4)return{success:!1,error:""};if(f.players.some(p=>p.characterId===a))return{success:!1,error:""};const d=y0(),m={id:d,name:n,characterId:a,ready:!1};return await yi(s,{players:[...f.players,m]}),{success:!0,playerId:d}},UT=async(l,n)=>{const a=kt(qt,`rooms/${l}`),s=await Qi(a);if(!s.exists())return;const c=s.val(),f=c.players.filter(d=>d.id!==n);f.length===0?await m0(a):c.hostId===n?await yi(a,{players:f,hostId:f[0].id}):await yi(a,{players:f})},HT=async(l,n,a)=>{const s=kt(qt,`rooms/${l}`),c=await Qi(s);if(!c.exists())return;const d=c.val().players.map(m=>m.id===n?{...m,ready:a}:m);await yi(s,{players:d})},BT=async(l,n,a)=>{const s=kt(qt,`rooms/${l}`),c=await Qi(s);if(!c.exists())return{success:!1,error:""};const f=c.val();if(f.players.some(m=>m.id!==n&&m.characterId===a))return{success:!1,error:""};const d=f.players.map(m=>m.id===n?{...m,characterId:a}:m);return await yi(s,{players:d}),{success:!0}},kT=async(l,n,a)=>{const s=kt(qt,`rooms/${l}`),c=await Qi(s);if(!c.exists())return{success:!1,error:""};const f=c.val();return f.hostId!==n?{success:!1,error:""}:f.players.length<2?{success:!1,error:" 2 "}:f.players.every(d=>d.ready)?(await yi(s,{status:"playing",gameState:a}),{success:!0}):{success:!1,error:""}},qT=async(l,n)=>{const a=kt(qt,`rooms/${l}`);await yi(a,{gameState:n})},af=(l,n)=>{const a=kt(qt,`rooms/${l}`);return p0(a,c=>{c.exists()?n(c.val()):n(null)})},GT=async l=>(await Qi(kt(qt,`rooms/${l}`))).exists(),YT=1440*60*1e3,VT=360*60*1e3,QT=async()=>{const l=kt(qt,"rooms"),n=await Qi(l);if(!n.exists())return{deleted:0,total:0};const a=Date.now(),s=n.val(),c=Object.entries(s);let f=0;for(const[d,m]of c){const p=a-(m.createdAt||0);(p>YT||m.status==="playing"&&p>VT||m.status==="finished"&&p>3600*1e3)&&(await m0(kt(qt,`rooms/${d}`)),f++)}return console.log(`[Room Cleanup]  ${f}/${c.length} `),{deleted:f,total:c.length}},es="relife_session",Ay=(l,n,a)=>{const s={roomId:l,playerId:n,playerName:a,timestamp:Date.now()};localStorage.setItem(es,JSON.stringify(s))},Ry=()=>{try{const l=localStorage.getItem(es);if(!l)return null;const n=JSON.parse(l),a=1440*60*1e3;return Date.now()-n.timestamp>a?(localStorage.removeItem(es),null):n}catch{return localStorage.removeItem(es),null}},Dl=()=>{localStorage.removeItem(es)},bs=jy((l,n)=>{let a=null;return{roomId:null,playerId:null,room:null,isOnlineMode:!1,isReconnecting:!1,error:null,createNewRoom:async(s,c)=>{try{a&&(a(),a=null);const{roomId:f,playerId:d}=await IT(s,c);Ay(f,d,s),a=af(f,m=>{l({room:m})}),l({roomId:f,playerId:d,isOnlineMode:!0,error:null})}catch{l({error:""})}},joinExistingRoom:async(s,c,f)=>{try{a&&(a(),a=null);const d=await LT(s,c,f);return d.success?(Ay(s,d.playerId,c),a=af(s,m=>{l({room:m})}),l({roomId:s,playerId:d.playerId,isOnlineMode:!0,error:null}),!0):(l({error:d.error||""}),!1)}catch{return l({error:""}),!1}},leaveCurrentRoom:async()=>{const{roomId:s,playerId:c}=n();!s||!c||(a&&(a(),a=null),await UT(s,c),Dl(),l({roomId:null,playerId:null,room:null,isOnlineMode:!1,error:null}))},tryReconnect:async()=>{const s=Ry();if(!s)return!1;a&&(a(),a=null),l({isReconnecting:!0,error:null});try{return await GT(s.roomId)?new Promise(f=>{let d=!1;a=af(s.roomId,m=>{if(d){m&&l({room:m});return}if(!m){d=!0,Dl(),a&&(a(),a=null),l({isReconnecting:!1,error:""}),f(!1);return}if(!m.players.some(g=>g.id===s.playerId)){d=!0,Dl(),a&&(a(),a=null),l({isReconnecting:!1,error:""}),f(!1);return}d=!0,l({roomId:s.roomId,playerId:s.playerId,room:m,isOnlineMode:!0,isReconnecting:!1,error:null}),f(!0)})}):(Dl(),l({isReconnecting:!1,error:""}),!1)}catch{return Dl(),l({isReconnecting:!1,error:""}),!1}},hasStoredSession:()=>Ry()!==null,toggleReady:async()=>{const{roomId:s,playerId:c,room:f}=n();if(!s||!c||!f)return;const d=f.players.find(m=>m.id===c);d&&await HT(s,c,!d.ready)},changeCharacter:async s=>{const{roomId:c,playerId:f}=n();if(!c||!f)return!1;const d=await BT(c,f,s);return d.success?!0:(l({error:d.error||""}),!1)},startOnlineGame:async()=>{const{roomId:s,playerId:c,room:f}=n();if(!s||!c||!f)return!1;const d=f.players.map(v=>v.name),m=f.players.map(v=>v.characterId),p=By(d,m),g=cf(p),S=await kT(s,c,g);return S.success?!0:(l({error:S.error||""}),!1)},syncGameState:async s=>{const{roomId:c}=n();c&&await qT(c,s)},getCurrentPlayer:()=>{const{room:s,playerId:c}=n();return!s||!c?null:s.players.find(f=>f.id===c)||null},isHost:()=>{const{room:s,playerId:c}=n();return!s||!c?!1:s.hostId===c},canStartGame:()=>{const{room:s}=n();return s?s.players.length>=2&&s.players.every(c=>c.ready):!1},resetRoom:()=>{a&&(a(),a=null),Dl(),l({roomId:null,playerId:null,room:null,isOnlineMode:!1,isReconnecting:!1,error:null})}}}),XT=({onOnlineClick:l})=>{const{startGame:n}=Fe(),[a,s]=se.useState([{name:"1",characterId:ln[0].id,isAI:!1}]),c=()=>{const U=a.map(k=>k.characterId);return ln.find(k=>!U.includes(k.id))?.id||ln[0].id},f=()=>{if(a.length>=4)return;const U=a.length+1;s([...a,{name:`${U}`,characterId:c(),isAI:!1}])},d=()=>{if(a.length>=4)return;const U=a.filter(k=>k.isAI).length+1;s([...a,{name:`${U}`,characterId:c(),isAI:!0}])},m=U=>{a.length<=2||s(a.filter((k,X)=>X!==U))},p=(U,k)=>{const X=[...a];X[U]={...X[U],name:k},s(X)},g=(U,k)=>{const X=[...a];X[U]={...X[U],characterId:k},s(X)},S=U=>{const k=[...a],X=k[U].isAI;k[U]={...k[U],isAI:!X,name:X?`${U+1}`:`${U+1}`},s(k)},v=()=>{n(a.map(U=>U.name),a.map(U=>U.characterId),a.map(U=>U.isAI))},b=a.map(U=>U.characterId),M=new Set(b).size!==b.length,j=a.every(U=>U.isAI),H=a.length<2,Y=a.length<4;return y.jsx("div",{className:"min-h-screen bg-gray-900 flex items-center justify-center p-4",children:y.jsxs("div",{className:"bg-gray-800 rounded-xl p-8 max-w-2xl w-full",children:[y.jsxs("div",{className:"text-center mb-8",children:[y.jsx("img",{src:"/ReLife/logo.png",alt:"ReLife ",className:"h-20 mx-auto mb-4"}),y.jsx("p",{className:"text-gray-400",children:""})]}),y.jsxs("div",{className:"space-y-4 mb-6",children:[y.jsxs("div",{className:"flex justify-between items-center",children:[y.jsx("h2",{className:"text-xl font-bold text-white",children:""}),y.jsxs("span",{className:"text-gray-400 text-sm",children:[a.length,"/4 "]})]}),a.map((U,k)=>y.jsxs("div",{className:"bg-gray-700 rounded-lg p-4 flex flex-col sm:flex-row gap-4 items-start sm:items-center",children:[y.jsx("button",{onClick:()=>S(k),className:`px-3 py-1 rounded text-sm font-bold transition-colors ${U.isAI?"bg-purple-600 text-white":"bg-gray-600 text-gray-300 hover:bg-gray-500"}`,children:U.isAI?" ":" "}),y.jsx("div",{className:"flex-1 w-full sm:w-auto",children:y.jsx("input",{type:"text",value:U.name,onChange:X=>p(k,X.target.value),className:"w-full bg-gray-600 text-white rounded px-3 py-2 focus:outline-none focus:ring-2 focus:ring-yellow-500",placeholder:U.isAI?"":""})}),y.jsx("div",{className:"flex-1 w-full sm:w-auto",children:y.jsx("select",{value:U.characterId,onChange:X=>g(k,X.target.value),className:"w-full bg-gray-600 text-white rounded px-3 py-2 focus:outline-none focus:ring-2 focus:ring-yellow-500",children:ln.map(X=>y.jsxs("option",{value:X.id,children:[X.name," ($",X.initialMoney.toLocaleString(),")"]},X.id))})}),y.jsx("div",{className:"text-xs text-gray-400 w-full sm:w-24",children:(()=>{const X=ln.find(ee=>ee.id===U.characterId);return X?y.jsxs("div",{className:"flex sm:flex-col gap-2 sm:gap-0",children:[y.jsxs("span",{children:[":",X.initialStats.intelligence]}),y.jsxs("span",{children:[":",X.initialStats.stamina]}),y.jsxs("span",{children:[":",X.initialStats.charisma]})]}):null})()}),a.length>2&&y.jsx("button",{onClick:()=>m(k),className:"text-red-400 hover:text-red-300 text-xl px-2",title:"",children:""})]},k)),Y&&y.jsxs("div",{className:"flex gap-3",children:[y.jsx("button",{onClick:f,className:"flex-1 py-3 rounded-lg border-2 border-dashed border-gray-600 text-gray-400 hover:border-gray-500 hover:text-gray-300 transition-colors",children:"+  "}),y.jsx("button",{onClick:d,className:"flex-1 py-3 rounded-lg border-2 border-dashed border-purple-600 text-purple-400 hover:border-purple-500 hover:text-purple-300 transition-colors",children:"+  "})]}),M&&y.jsx("div",{className:"text-red-400 text-sm",children:" "}),j&&y.jsx("div",{className:"text-red-400 text-sm",children:" "}),H&&y.jsx("div",{className:"text-yellow-400 text-sm",children:"  2 "})]}),y.jsxs("div",{className:"space-y-3",children:[y.jsxs("button",{onClick:v,disabled:M||j||H,className:`w-full py-4 rounded-lg font-bold text-xl transition-colors ${M||j||H?"bg-gray-600 text-gray-400 cursor-not-allowed":"bg-yellow-500 hover:bg-yellow-400 text-black"}`,children:[" (",a.length," )"]}),l&&y.jsx("button",{onClick:l,className:"w-full py-4 rounded-lg font-bold text-xl bg-blue-600 hover:bg-blue-500 text-white transition-colors",children:""})]}),y.jsxs("div",{className:"mt-8 text-gray-400 text-sm",children:[y.jsx("h3",{className:"font-bold text-white mb-2",children:""}),y.jsxs("ul",{className:"list-disc list-inside space-y-1",children:[y.jsx("li",{children:" 2-4 "}),y.jsx("li",{children:""}),y.jsx("li",{children:""}),y.jsx("li",{children:" $20,000  30 "})]})]})]})})},Rf=l=>{if(l===void 0)return null;if(l===null)return l;if(Array.isArray(l))return l.filter(n=>n!==void 0).map(Rf);if(typeof l=="object"){const n={};for(const[a,s]of Object.entries(l))s!==void 0&&(n[a]=Rf(s));return n}return l},PT=()=>{const{roomId:l,playerId:n,room:a}=bs(),s=se.useRef(!1),c=se.useRef(""),f=l&&a?.status==="playing",d=se.useCallback(async()=>{if(!l||s.current)return;const g=Fe.getState(),S={playerCount:g.playerCount??4,maxTurns:g.maxTurns??10,players:g.players||[],currentPlayerIndex:g.currentPlayerIndex??0,turn:g.turn??1,phase:g.phase||"setup",deck:g.deck||[],discardPile:g.discardPile||[],currentEvent:g.currentEvent??null,eventLog:g.eventLog||[],selectedCardIndex:g.selectedCardIndex??null,showEventModal:!1,pendingFunctionCard:g.pendingFunctionCard??null},v=JSON.stringify(S);if(v===c.current)return;c.current=v;const b=kt(qt,`rooms/${l}`);await yi(b,{gameState:Rf(S)})},[l]);se.useEffect(()=>{if(!f)return;const g=kt(qt,`rooms/${l}`),v=p0(g,b=>{if(!b.exists())return;const j=b.val().gameState;if(!j)return;const H=JSON.stringify(j);if(H===c.current)return;s.current=!0,c.current=H;const Y=j,U=Y.pendingFunctionCard?{...Y.pendingFunctionCard,passedPlayerIndices:Y.pendingFunctionCard.passedPlayerIndices??[]}:null;Fe.setState({playerCount:j.playerCount??4,maxTurns:j.maxTurns??10,players:j.players??[],currentPlayerIndex:j.currentPlayerIndex??0,turn:j.turn??1,phase:j.phase??"setup",deck:j.deck??[],discardPile:j.discardPile??[],currentEvent:j.currentEvent??null,eventLog:j.eventLog??[],selectedCardIndex:j.selectedCardIndex??null,pendingFunctionCard:U}),queueMicrotask(()=>{s.current=!1})});return()=>{v()}},[f,l]);const m=se.useCallback(()=>!a||!n||!a.players.find(v=>v.id===n)?-1:a.players.findIndex(v=>v.id===n),[a,n]),p=se.useCallback(()=>{if(!f)return!0;const g=m(),S=Fe.getState().currentPlayerIndex;return g===S},[f,m]);return{isOnlineGame:!!f,syncToFirebase:d,isMyTurn:p,getMyPlayerIndex:m,playerId:n}},oi=l=>l.length===0?null:l[Math.floor(Math.random()*l.length)],ZT=l=>{const n=[];return l.hand.forEach((a,s)=>{rf(l,a).canPlay&&n.push(s)}),n.length>0&&Math.random()>.3?oi(n):null},KT=l=>oi(["intelligence","stamina","charisma"])||"intelligence",FT=()=>oi(["park","shrine","forest"])||"park",$T=(l,n,a)=>{const s=l.filter((c,f)=>f!==n);if(s.length===0)return null;switch(a){case"steal":case"robbery":{const c=s.filter(f=>(f.hand?.length??0)>0);if(c.length>0)return oi(c)?.id||null;break}case"sabotage":return oi(s)?.id||null;case"parachute":{const c=s.filter(f=>f.job!==null);if(c.length>0)return oi(c)?.id||null;break}}return oi(s)?.id||null},JT=(l,n)=>Math.random()>.5,WT=l=>{if(l.job)return null;const n=Uy(l);return n.length>0&&Math.random()>.3&&oi(n)?.id||null},Ol=1e3,eN=(l=!1)=>{const{players:n,currentPlayerIndex:a,phase:s,pendingStatChoice:c,pendingExplore:f,pendingTargetPlayer:d,pendingFunctionCard:m,selectCard:p,playSelectedCard:g,chooseStat:S,chooseExploreLocation:v,chooseTargetPlayer:b,passReaction:M,applyInvalidCard:j,applyJob:H,endPlayerTurn:Y}=Fe(),U=se.useRef(!1),k=se.useRef(null);se.useEffect(()=>()=>{k.current&&clearTimeout(k.current)},[]);const ee=n[a]?.isAI===!0;se.useEffect(()=>{if(!l&&!(!ee||s!=="action"||U.current)&&!(c||f||d||m))return U.current=!0,k.current=setTimeout(()=>{const ye=Fe.getState(),oe=ye.players[ye.currentPlayerIndex];if(!oe?.isAI){U.current=!1;return}const q=ZT(oe);if(q!==null)p(q),setTimeout(()=>{g(),U.current=!1},500);else{const te=WT(oe);te?(H(te),setTimeout(()=>{Y(),U.current=!1},Ol)):(Y(),U.current=!1)}},Ol),()=>{k.current&&clearTimeout(k.current)}},[l,ee,s,c,f,d,m,a,p,g,H,Y]),se.useEffect(()=>{if(!l&&!(!ee||!c||U.current))return U.current=!0,k.current=setTimeout(()=>{const ye=Fe.getState();if(!ye.players[ye.currentPlayerIndex]?.isAI||!ye.pendingStatChoice){U.current=!1;return}const q=KT();S(q),U.current=!1},Ol),()=>{k.current&&clearTimeout(k.current)}},[l,ee,c,S]),se.useEffect(()=>{if(!l&&!(!ee||!f||U.current))return U.current=!0,k.current=setTimeout(()=>{const ye=Fe.getState();if(!ye.players[ye.currentPlayerIndex]?.isAI||!ye.pendingExplore){U.current=!1;return}const q=FT();v(q),U.current=!1},Ol),()=>{k.current&&clearTimeout(k.current)}},[l,ee,f,v]),se.useEffect(()=>{if(!l&&!(!ee||!d||U.current))return U.current=!0,k.current=setTimeout(()=>{const ye=Fe.getState();if(!ye.players[ye.currentPlayerIndex]?.isAI||!ye.pendingTargetPlayer){U.current=!1;return}const q=$T(ye.players,ye.currentPlayerIndex,ye.pendingTargetPlayer.action);q?b(q):Y(),U.current=!1},Ol),()=>{k.current&&clearTimeout(k.current)}},[l,ee,d,b,Y]),se.useEffect(()=>{if(!(l||!m||U.current||!n[m.respondingPlayerIndex]?.isAI))return U.current=!0,k.current=setTimeout(()=>{const oe=Fe.getState();if(!oe.pendingFunctionCard){U.current=!1;return}const q=oe.players[oe.pendingFunctionCard.respondingPlayerIndex];if(!q?.isAI){U.current=!1;return}const te=(q.hand??[]).findIndex(W=>W.effect.type==="special"&&W.effect.handler==="invalid");te!==-1&&JT(oe.pendingFunctionCard.card)?j(te):M(),U.current=!1},Ol),()=>{k.current&&clearTimeout(k.current)}},[l,m,n,j,M])};function _0(l){const[n,a]=se.useState([]),s=se.useRef(null),[c]=se.useState(()=>Date.now()),f=se.useRef(0),d=se.useRef(new Set);return se.useEffect(()=>{const m=d.current;return()=>{m.forEach(p=>clearTimeout(p)),m.clear()}},[]),se.useEffect(()=>{if(Date.now()-c<1500){s.current=l;return}if(s.current===null){s.current=l;return}const p=l-s.current;if(p!==0){const g={id:f.current++,value:p,timestamp:Date.now()};a(v=>[...v,g]);const S=setTimeout(()=>{d.current.delete(S),a(v=>v.filter(b=>b.id!==g.id))},1e3);d.current.add(S)}s.current=l},[l,c]),n}const v0=({changes:l,isMoney:n=!1})=>y.jsx(y.Fragment,{children:l.map(a=>y.jsxs("span",{className:`
            absolute left-1/2 -translate-x-1/2
            font-bold text-lg pointer-events-none
            animate-float-up
            ${a.value>0?"text-green-400":"text-red-400"}
          `,style:{top:"-8px"},children:[a.value>0?"+":"",n?`$${a.value.toLocaleString()}`:a.value]},a.id))}),My=({player:l,isCurrentPlayer:n,isCompact:a=!1})=>{if(!l)return null;const s=n?"border-yellow-400":"border-gray-600",c=n?"bg-gray-800":"bg-gray-900";return a?y.jsxs("div",{className:`${c} ${s} border-2 rounded-lg p-2 text-sm`,children:[y.jsxs("div",{className:"flex justify-between items-center mb-1",children:[y.jsx("span",{className:"font-bold text-white",children:l.name}),y.jsx(Dy,{value:l.money,size:"small"})]}),y.jsxs("div",{className:"flex gap-2 text-xs",children:[y.jsxs("span",{className:"text-blue-400",children:["",l.stats.intelligence]}),y.jsxs("span",{className:"text-red-400",children:["",l.stats.stamina]}),y.jsxs("span",{className:"text-pink-400",children:["",l.stats.charisma]})]}),y.jsxs("div",{className:"text-xs text-gray-400 mt-1",children:[Mp(l)," |  ",l.hand?.length??0]})]}):y.jsxs("div",{className:`${c} ${s} border-2 rounded-lg p-4`,children:[y.jsxs("div",{className:"flex justify-between items-start mb-3",children:[y.jsxs("div",{children:[y.jsx("h3",{className:"text-lg font-bold text-white",children:l.name}),y.jsx("p",{className:"text-sm text-gray-400",children:l.character.name})]}),n&&y.jsx("span",{className:"bg-yellow-500 text-black text-xs px-2 py-1 rounded",children:""})]}),y.jsx("div",{className:"mb-3",children:y.jsx(Dy,{value:l.money,size:"large"})}),y.jsxs("div",{className:"grid grid-cols-3 gap-2 mb-3",children:[y.jsx(sf,{label:"",value:l.stats.intelligence,color:"blue"}),y.jsx(sf,{label:"",value:l.stats.stamina,color:"red"}),y.jsx(sf,{label:"",value:l.stats.charisma,color:"pink"})]}),y.jsxs("div",{className:"border-t border-gray-700 pt-3",children:[y.jsxs("div",{className:"flex justify-between text-sm",children:[y.jsx("span",{className:"text-gray-400",children:""}),y.jsx("span",{className:"text-white",children:Mp(l)})]}),l.job&&y.jsxs("div",{className:"flex justify-between text-sm mt-1",children:[y.jsx("span",{className:"text-gray-400",children:""}),y.jsxs("span",{className:"text-green-400",children:[l.performance,"/9"]})]}),y.jsxs("div",{className:"flex justify-between text-sm mt-1",children:[y.jsx("span",{className:"text-gray-400",children:""}),y.jsxs("span",{className:"text-white",children:[l.hand?.length??0,"/10"]})]})]})]})},sf=({label:l,value:n,color:a})=>{const s=_0(n),c={blue:"bg-blue-900 text-blue-300",red:"bg-red-900 text-red-300",pink:"bg-pink-900 text-pink-300"};return y.jsxs("div",{className:`${c[a]} rounded px-2 py-1 text-center relative`,children:[y.jsx("div",{className:"text-xs",children:l}),y.jsx("div",{className:"text-lg font-bold",children:n}),y.jsx(v0,{changes:s})]})},Dy=({value:l,size:n})=>{const a=_0(l),s={small:"text-yellow-400",large:"text-yellow-400 text-2xl font-bold"};return y.jsxs("span",{className:`${s[n]} relative inline-block`,children:["$",l.toLocaleString(),y.jsx(v0,{changes:a,isMoney:!0})]})},tN=({card:l,isSelected:n=!1,onClick:a,disabled:s=!1,size:c="medium"})=>{const f={study:{bg:"bg-blue-900",border:"border-blue-500",text:"text-blue-300"},work:{bg:"bg-green-900",border:"border-green-500",text:"text-green-300"},explore:{bg:"bg-yellow-900",border:"border-yellow-500",text:"text-yellow-300"},function:{bg:"bg-purple-900",border:"border-purple-500",text:"text-purple-300"}},d={study:"",work:"",explore:"",function:""},m={small:"w-20 h-28 text-xs",medium:"w-28 h-40 text-sm",large:"w-36 h-52 text-base"},p=f[l.type];return y.jsxs("div",{onClick:s?void 0:a,className:`
        ${m[c]}
        ${p.bg}
        ${n?"border-yellow-400 border-4 -translate-y-4 scale-110 shadow-lg shadow-yellow-400/30":`${p.border} border-2`}
        ${s?"opacity-50 cursor-not-allowed":"cursor-pointer hover:-translate-y-3 hover:scale-110 hover:shadow-xl hover:shadow-black/50"}
        rounded-lg p-2 flex flex-col transition-all duration-200 ease-out
      `,children:[y.jsx("div",{className:`${p.text} text-xs mb-1`,children:d[l.type]}),y.jsx("div",{className:"text-white font-bold flex-grow flex items-center justify-center text-center",children:l.name}),y.jsx("div",{className:"text-gray-300 text-xs mt-1 text-center",children:l.description}),l.cost&&y.jsxs("div",{className:"mt-1 text-yellow-400 text-xs text-center",children:["$",l.cost]})]})},nN=({cards:l,canPlay:n})=>{const{selectedCardIndex:a,selectCard:s,canCurrentPlayerPlayCard:c}=Fe(),[f,d]=se.useState(null);return l.length===0?y.jsx("div",{className:"text-gray-500 text-center py-8",children:""}):y.jsx("div",{className:"flex flex-wrap gap-2 justify-center py-4",children:l.map((m,p)=>{const g=c(p),S=!n||!g.canPlay,v=f===p,b=a===p;return y.jsxs("div",{className:"relative transition-all duration-200",style:{zIndex:b?20:v?10:1},onMouseEnter:()=>d(p),onMouseLeave:()=>d(null),children:[y.jsx(tN,{card:m,isSelected:b,onClick:()=>s(b?null:p),disabled:S,size:"medium"}),S&&g.reason&&b&&y.jsx("div",{className:"absolute -top-10 left-1/2 transform -translate-x-1/2 bg-red-800 text-white text-xs px-2 py-1 rounded whitespace-nowrap z-30",children:g.reason})]},m.id)})})},iN=({event:l,onConfirm:n})=>y.jsx("div",{className:"fixed inset-0 bg-black/70 flex items-center justify-center z-50",children:y.jsxs("div",{className:"bg-gray-800 border-2 border-yellow-500 rounded-xl p-6 max-w-md mx-4 animate-bounce-in",children:[y.jsxs("div",{className:"text-center mb-4",children:[y.jsx("div",{className:"text-yellow-400 text-sm mb-1",children:""}),y.jsx("h2",{className:"text-2xl font-bold text-white",children:l.name})]}),y.jsx("div",{className:"bg-gray-900 rounded-lg p-4 mb-6",children:y.jsx("p",{className:"text-gray-200 text-center leading-relaxed",children:l.description})}),y.jsx("div",{className:"text-center mb-6",children:y.jsx(lN,{event:l})}),y.jsx("button",{onClick:n,className:"w-full bg-yellow-500 hover:bg-yellow-400 text-black font-bold py-3 px-6 rounded-lg transition-colors",children:""})]})}),lN=({event:l})=>{const{effect:n,target:a}=l;let s="";switch(a.type){case"all":s="";break;case"richest":s=` ${a.count} `;break;case"poorest":s=` ${a.count} `;break;case"has_job":s="";break;default:s=""}let c="";switch(n.type){case"money_change":c=` ${n.value>0?"+":""}$${n.value}`;break;case"stat_change":{c=`${{intelligence:"",stamina:"",charisma:""}[n.stat]} ${n.value>0?"+":""}${n.value}`;break}case"draw_cards":c=` ${n.count} `;break;case"special":c="";break}return y.jsxs("div",{className:"text-sm",children:[y.jsx("span",{className:"text-gray-400",children:""}),y.jsx("span",{className:"text-white ml-2",children:s}),c&&n.type!=="special"&&y.jsxs(y.Fragment,{children:[y.jsx("br",{}),y.jsx("span",{className:"text-gray-400",children:""}),y.jsx("span",{className:`ml-2 ${n.type==="money_change"||n.type==="stat_change"?(n.type==="money_change",n.value>0?"text-green-400":"text-red-400"):"text-white"}`,children:c})]})]})},aN=({disabled:l=!1})=>{const{roomId:n,playerId:a,room:s}=bs(),c=!!(n&&s?.status==="playing"),{phase:f,players:d,currentPlayerIndex:m,selectedCardIndex:p,pendingStatChoice:g,pendingExplore:S,pendingTargetPlayer:v,pendingFunctionCard:b,lastMessage:M,playSelectedCard:j,chooseStat:H,chooseExploreLocation:Y,chooseTargetPlayer:U,applyInvalidCard:k,passReaction:X,cancelPendingAction:ee,endPlayerTurn:ye}=Fe(),oe={steal:"",sabotage:""};if(b){const{card:q,sourcePlayerIndex:te,respondingPlayerIndex:W}=b,mt=d?.[te],st=d?.[W];if(!mt||!st)return y.jsx("div",{className:"bg-gray-800 rounded-lg p-4",children:y.jsx("div",{className:"text-gray-400 text-center",children:"..."})});const me=s?.players.findIndex(tt=>tt.id===a)??-1,et=!c||me===W,gt=(st?.hand??[]).findIndex(tt=>tt.effect.type==="special"&&tt.effect.handler==="invalid");return y.jsxs("div",{className:"bg-gray-800 rounded-lg p-4",children:[y.jsxs("div",{className:"text-yellow-400 text-center mb-2",children:[" ",mt.name," ",q.name,""]}),y.jsxs("div",{className:"text-white text-center mb-3",children:[st.name,""]}),et?y.jsxs("div",{className:"flex justify-center gap-3 flex-wrap",children:[y.jsx("button",{onClick:()=>k(gt),className:"bg-purple-600 hover:bg-purple-500 text-white px-4 py-2 rounded",children:""}),y.jsx("button",{onClick:X,className:"bg-gray-600 hover:bg-gray-500 text-white px-4 py-2 rounded",children:""})]}):y.jsxs("div",{className:"text-gray-400 text-center",children:[" ",st.name," ..."]})]})}if(g)return y.jsxs("div",{className:"bg-gray-800 rounded-lg p-4",children:[y.jsx("div",{className:"text-white text-center mb-3",children:""}),y.jsxs("div",{className:"flex justify-center gap-3 flex-wrap",children:[y.jsxs("button",{onClick:()=>H("intelligence"),className:"bg-blue-600 hover:bg-blue-500 text-white px-4 py-2 rounded",children:[" +",g.value]}),y.jsxs("button",{onClick:()=>H("stamina"),className:"bg-red-600 hover:bg-red-500 text-white px-4 py-2 rounded",children:[" +",g.value]}),y.jsxs("button",{onClick:()=>H("charisma"),className:"bg-pink-600 hover:bg-pink-500 text-white px-4 py-2 rounded",children:[" +",g.value]}),y.jsx("button",{onClick:ee,className:"bg-gray-600 hover:bg-gray-500 text-white px-4 py-2 rounded",children:""})]})]});if(S)return y.jsxs("div",{className:"bg-gray-800 rounded-lg p-4",children:[y.jsx("div",{className:"text-white text-center mb-3",children:""}),y.jsxs("div",{className:"flex justify-center gap-3 flex-wrap",children:[Ly.map(q=>y.jsx("button",{onClick:()=>Y(q.id),className:"bg-yellow-600 hover:bg-yellow-500 text-white px-4 py-2 rounded",children:q.name},q.id)),y.jsx("button",{onClick:ee,className:"bg-gray-600 hover:bg-gray-500 text-white px-4 py-2 rounded",children:""})]})]});if(v){const q=d.filter((W,mt)=>mt!==m),te=oe[v.action]||v.action;return y.jsxs("div",{className:"bg-gray-800 rounded-lg p-4",children:[y.jsxs("div",{className:"text-white text-center mb-3",children:["",te,""]}),y.jsxs("div",{className:"flex justify-center gap-3 flex-wrap",children:[q.map(W=>y.jsxs("button",{onClick:()=>U(W.id),className:"bg-purple-600 hover:bg-purple-500 text-white px-4 py-2 rounded",children:[W.name,v.action==="steal"&&y.jsxs("span",{className:"text-xs ml-1",children:["(",W.hand?.length??0," )"]})]},W.id)),y.jsx("button",{onClick:ee,className:"bg-gray-600 hover:bg-gray-500 text-white px-4 py-2 rounded",children:""})]})]})}return l?y.jsxs("div",{className:"bg-gray-800 rounded-lg p-4",children:[M&&y.jsx("div",{className:"text-yellow-400 text-center mb-3 text-sm",children:M}),y.jsx("div",{className:"text-gray-500 text-center",children:"..."})]}):y.jsxs("div",{className:"bg-gray-800 rounded-lg p-4",children:[M&&y.jsx("div",{className:"text-yellow-400 text-center mb-3 text-sm",children:M}),y.jsxs("div",{className:"flex justify-center gap-3",children:[f==="action"&&y.jsxs(y.Fragment,{children:[y.jsx("button",{onClick:j,disabled:p===null,className:`px-4 py-2 rounded font-bold ${p!==null?"bg-green-600 hover:bg-green-500 text-white":"bg-gray-600 text-gray-400 cursor-not-allowed"}`,children:""}),y.jsx("button",{onClick:ye,className:"bg-gray-600 hover:bg-gray-500 text-white px-4 py-2 rounded",children:""})]}),f==="salary"&&y.jsx("div",{className:"text-gray-400",children:y.jsx("span",{className:"animate-pulse",children:"..."})}),f==="draw"&&y.jsx("div",{className:"text-gray-400",children:y.jsx("span",{className:"animate-pulse",children:"..."})})]})]})},sN=({disabled:l=!1})=>{const{phase:n,getCurrentPlayer:a,getAvailableJobsForCurrentPlayer:s,applyJob:c,tryPromote:f}=Fe(),d=a();if(!d)return null;const m=s(),p=Df(d),g=o1(),S={intelligence:{name:"",color:"text-blue-400",bg:"bg-blue-900/30"},stamina:{name:"",color:"text-red-400",bg:"bg-red-900/30"},charisma:{name:"",color:"text-pink-400",bg:"bg-pink-900/30"}};return n!=="action"?y.jsxs("div",{className:"bg-gray-800 rounded-lg p-4",children:[y.jsx("h3",{className:"text-white font-bold mb-2",children:""}),y.jsx("div",{className:"text-gray-400 text-sm",children:""})]}):y.jsxs("div",{className:"bg-gray-800 rounded-lg p-4",children:[y.jsx("h3",{className:"text-white font-bold mb-3",children:""}),d.job?y.jsxs("div",{className:"mb-4 p-3 bg-gray-700 rounded",children:[y.jsx("div",{className:"text-sm text-gray-400",children:""}),y.jsx("div",{className:"text-white font-bold",children:d.job.levels[d.jobLevel].name}),y.jsx("div",{className:"text-xs text-gray-400 mt-1",children:d.job.skill}),y.jsxs("div",{className:"text-sm text-gray-300 mt-1",children:[": ",d.performance,"/9"]}),p&&!l&&y.jsx("button",{onClick:f,className:"mt-2 bg-green-600 hover:bg-green-500 text-white text-sm px-3 py-1 rounded w-full",children:""})]}):y.jsx("div",{className:"mb-4 text-gray-400 text-sm",children:""}),!d.job&&y.jsxs("div",{children:[y.jsxs("div",{className:"text-sm text-gray-400 mb-2",children:[" (",m.length,")"]}),m.length>0?y.jsx("div",{className:"space-y-2 max-h-48 overflow-y-auto",children:m.map(v=>{const b=S[v.category];return y.jsxs("button",{onClick:()=>c(v.id),disabled:l,className:`w-full text-left p-2 ${b.bg} ${l?"opacity-50 cursor-not-allowed":"hover:brightness-125"} rounded transition-all`,children:[y.jsxs("div",{className:"flex justify-between items-center",children:[y.jsx("span",{className:"text-white font-bold",children:v.levels[0].name}),y.jsx("span",{className:`text-xs ${b.color}`,children:b.name})]}),y.jsxs("div",{className:"text-xs text-gray-400",children:[": $",v.levels[0].salary[0].toLocaleString()]})]},v.id)})}):y.jsx("div",{className:"text-gray-500 text-sm",children:""})]}),y.jsxs("details",{className:"mt-4",children:[y.jsx("summary",{className:"text-gray-400 text-xs cursor-pointer hover:text-gray-300",children:""}),y.jsx("div",{className:"mt-2 space-y-3 text-xs max-h-64 overflow-y-auto",children:["intelligence","stamina","charisma"].map(v=>{const b=S[v];return y.jsxs("div",{children:[y.jsx("div",{className:`${b.color} font-bold mb-1`,children:b.name}),y.jsx("div",{className:"space-y-1",children:g[v].map(M=>{const j=M.levels[0].requiredStats,H=m.some(Y=>Y.id===M.id);return y.jsxs("div",{className:`p-2 rounded ${H?b.bg:"bg-gray-900"}`,children:[y.jsxs("div",{className:"flex justify-between",children:[y.jsx("span",{className:H?"text-white":"text-gray-500",children:M.name}),y.jsxs("span",{className:"text-gray-500",children:["$",M.levels[0].salary[0].toLocaleString()]})]}),y.jsxs("div",{className:"text-gray-500",children:[j.intelligence?`${j.intelligence} `:"",j.stamina?`${j.stamina} `:"",j.charisma?`${j.charisma}`:""]})]},M.id)})})]},v)})})]})]})},Oy=()=>{const{players:l,currentPlayerIndex:n,turn:a,phase:s,currentEvent:c,showEventModal:f,confirmEvent:d,nextPhase:m}=Fe(),[p,g]=se.useState(!1),S=se.useRef(a),{room:v}=bs(),{isOnlineGame:b,syncToFirebase:M,isMyTurn:j,getMyPlayerIndex:H}=PT();eN(b);const Y=se.useRef(M);if(Y.current=M,se.useEffect(()=>{if(!b)return;const q=Fe.subscribe(()=>{Y.current()});return()=>q()},[b]),se.useEffect(()=>{a!==S.current&&(S.current=a,g(!1))},[a]),se.useEffect(()=>{if(s!=="salary"&&s!=="draw")return;const q=setTimeout(()=>{const te=Fe.getState().phase;(te==="salary"||te==="draw")&&m()},1500);return()=>clearTimeout(q)},[s,m]),se.useEffect(()=>{if(!c||!f||b)return;const q=setTimeout(()=>{d()},2500);return()=>clearTimeout(q)},[c,f,b,d]),!l||l.length===0||s==="setup")return y.jsx("div",{className:"min-h-screen bg-gray-900 flex items-center justify-center",children:y.jsx("div",{className:"text-white text-xl",children:"..."})});const U=l[n],k=b?H():n,X=l[k]||U,ee=j(),ye=b?X:U;if(!U)return y.jsx("div",{className:"min-h-screen bg-gray-900 flex items-center justify-center",children:y.jsx("div",{className:"text-white text-xl",children:"..."})});const oe={event:"",salary:"",action:"",draw:"",end_turn:""};return y.jsxs("div",{className:"min-h-screen bg-gray-900 p-4",children:[y.jsxs("div",{className:"bg-gray-800 rounded-lg p-3 mb-4 flex justify-between items-center",children:[y.jsxs("div",{className:"flex items-center gap-4",children:[y.jsx("img",{src:"/ReLife/logo.png",alt:"ReLife",className:"h-8"}),y.jsxs("div",{className:"text-white",children:[y.jsxs("span",{className:"text-yellow-400 font-bold",children:[" ",a," "]}),y.jsx("span",{className:"text-gray-400 mx-2",children:"|"}),y.jsx("span",{children:oe[s]||s})]}),y.jsx("div",{className:"text-green-400 text-sm bg-green-900/30 px-2 py-1 rounded",children:" $20,000"})]}),y.jsxs("div",{className:"flex items-center gap-4",children:[b&&y.jsxs("div",{className:"text-blue-400 text-sm",children:[" ",v&&` (: ${v.id})`]}),y.jsxs("div",{className:"text-gray-400 text-sm",children:[": ",Fe.getState().deck?.length??0," "]})]})]}),b&&y.jsx("div",{className:`rounded-lg p-3 mb-4 text-center ${ee?"bg-green-900/50 border border-green-500":"bg-gray-800"}`,children:ee?y.jsx("span",{className:"text-green-400 font-bold",children:" "}):y.jsxs("span",{className:"text-gray-400",children:[" ",y.jsx("span",{className:"text-yellow-400 font-bold",children:U?.name})," ..."]})}),y.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-4",children:[y.jsxs("div",{className:"lg:col-span-1 space-y-3",children:[y.jsx("h2",{className:"text-gray-400 text-sm font-bold",children:b?"":""}),l.map((q,te)=>{const W=b&&te===k,mt=te===n;return!b&&mt?null:y.jsxs("div",{className:"relative",children:[W&&y.jsx("div",{className:"absolute -top-2 -right-2 bg-blue-500 text-white text-xs px-2 py-0.5 rounded-full z-10",children:""}),y.jsx(My,{player:q,isCurrentPlayer:mt,isCompact:!0})]},q.id)})]}),y.jsxs("div",{className:"lg:col-span-2 space-y-4",children:[y.jsxs("div",{className:"relative",children:[b&&ee&&y.jsx("div",{className:"absolute -top-2 -right-2 bg-green-500 text-white text-xs px-2 py-0.5 rounded-full z-10",children:""}),b&&!ee&&y.jsx("div",{className:"absolute -top-2 -right-2 bg-gray-600 text-white text-xs px-2 py-0.5 rounded-full z-10",children:""}),y.jsx(My,{player:b?X:U,isCurrentPlayer:b?ee:!0})]}),y.jsx(aN,{disabled:b&&!ee}),y.jsxs("div",{className:"bg-gray-800 rounded-lg p-4",children:[y.jsx("h3",{className:"text-white font-bold mb-3",children:b?`${X?.name} `:`${U.name} `}),y.jsx(nN,{cards:ye?.hand||[],canPlay:s==="action"&&ee}),b&&!ee&&s==="action"&&y.jsx("div",{className:"text-gray-500 text-sm mt-2 text-center",children:""})]})]}),y.jsxs("div",{className:"lg:col-span-1",children:[y.jsx(sN,{disabled:b&&!ee}),y.jsxs("div",{className:"bg-gray-800 rounded-lg p-4 mt-4",children:[y.jsx("h3",{className:"text-white font-bold mb-2",children:""}),y.jsx("div",{className:"max-h-48 overflow-y-auto text-sm space-y-1",children:(Fe.getState().eventLog||[]).slice(-10).map((q,te)=>y.jsx("div",{className:"text-gray-400",children:q},te))})]})]})]}),c&&(b?s==="event"&&!p:f)&&y.jsx(iN,{event:c,onConfirm:()=>{b&&g(!0),d()}})]})},rN=()=>{const{getGameResult:l,resetGame:n}=Fe(),a=l();if(!a)return null;const s=["","","",""];return y.jsx("div",{className:"min-h-screen bg-gray-900 flex items-center justify-center p-4",children:y.jsxs("div",{className:"bg-gray-800 rounded-xl p-8 max-w-2xl w-full",children:[y.jsxs("div",{className:"text-center mb-8",children:[y.jsx("img",{src:"/ReLife/logo.png",alt:"ReLife",className:"h-16 mx-auto mb-4"}),y.jsx("h1",{className:"text-3xl font-bold text-white mb-2",children:""}),a.winner&&y.jsxs("p",{className:"text-yellow-400 text-lg font-semibold mb-1",children:[a.winner.name," "]}),y.jsx("p",{className:"text-gray-400",children:a.winReason==="money_threshold"?" $20,000":""})]}),y.jsx("div",{className:"space-y-4 mb-8",children:a.rankings.map((c,f)=>y.jsxs("div",{className:`rounded-lg p-4 ${f===0?"bg-yellow-900/50 border-2 border-yellow-500":"bg-gray-700"}`,children:[y.jsxs("div",{className:"flex items-center justify-between",children:[y.jsxs("div",{className:"flex items-center gap-4",children:[y.jsx("div",{className:"text-3xl",children:s[f]||`#${c.rank}`}),y.jsxs("div",{children:[y.jsx("div",{className:"text-white font-bold text-lg",children:c.player.name}),y.jsx("div",{className:"text-gray-400 text-sm",children:c.player.character.name})]})]}),y.jsxs("div",{className:"text-right",children:[y.jsx("div",{className:"text-2xl font-bold text-yellow-400",children:c.score.total.toLocaleString()}),y.jsx("div",{className:"text-gray-400 text-xs",children:""})]})]}),y.jsxs("div",{className:"mt-3 pt-3 border-t border-gray-600 grid grid-cols-3 gap-4 text-sm",children:[y.jsxs("div",{children:[y.jsx("div",{className:"text-gray-400",children:""}),y.jsxs("div",{className:"text-white",children:["$",c.score.money.toLocaleString()]})]}),y.jsxs("div",{children:[y.jsx("div",{className:"text-gray-400",children:""}),y.jsx("div",{className:"text-white",children:c.score.stats.toLocaleString()})]}),y.jsxs("div",{children:[y.jsx("div",{className:"text-gray-400",children:""}),y.jsx("div",{className:"text-white",children:c.score.jobBonus.toLocaleString()})]})]}),y.jsxs("div",{className:"mt-3 pt-3 border-t border-gray-600 flex gap-4 text-xs text-gray-400",children:[y.jsxs("span",{children:[": ",c.player.stats.intelligence]}),y.jsxs("span",{children:[": ",c.player.stats.stamina]}),y.jsxs("span",{children:[": ",c.player.stats.charisma]}),y.jsxs("span",{children:[": ",c.player.job?c.player.job.levels[c.player.jobLevel].name:""]})]})]},c.player.id))}),y.jsx("button",{onClick:n,className:"w-full bg-yellow-500 hover:bg-yellow-400 text-black font-bold py-4 rounded-lg transition-colors",children:""})]})})},cN=({onStartGame:l,onBack:n})=>{const{roomId:a,room:s,error:c,createNewRoom:f,joinExistingRoom:d,leaveCurrentRoom:m,toggleReady:p,changeCharacter:g,startOnlineGame:S,getCurrentPlayer:v,isHost:b,canStartGame:M}=bs(),[j,H]=se.useState("menu"),[Y,U]=se.useState(""),[k,X]=se.useState(ln[0].id),[ee,ye]=se.useState(""),[oe,q]=se.useState(!1);if(se.useEffect(()=>{QT().catch(console.error)},[]),a&&s){const te=v(),W=async()=>{q(!0),await S()&&l(),q(!1)},mt=async()=>{await m(),H("menu")},st=s.players.filter(me=>me.id!==te?.id).map(me=>me.characterId);return y.jsx("div",{className:"min-h-screen bg-gray-900 flex items-center justify-center p-4",children:y.jsxs("div",{className:"bg-gray-800 rounded-lg p-6 w-full max-w-md",children:[y.jsxs("div",{className:"text-center mb-6",children:[y.jsx("h2",{className:"text-white text-xl font-bold mb-2",children:""}),y.jsx("div",{className:"bg-gray-700 rounded-lg p-4",children:y.jsx("span",{className:"text-yellow-400 text-3xl font-mono tracking-widest",children:a})}),y.jsx("p",{className:"text-gray-400 text-sm mt-2",children:""})]}),y.jsxs("div",{className:"mb-6",children:[y.jsxs("h3",{className:"text-white font-bold mb-3",children:[" (",s.players.length,"/4)"]}),y.jsxs("div",{className:"space-y-2",children:[s.players.map(me=>{const et=ln.find(O=>O.id===me.characterId),gt=me.id===te?.id,tt=me.id===s.hostId;return y.jsxs("div",{className:`p-3 rounded-lg flex items-center justify-between ${gt?"bg-blue-900/50 border border-blue-500":"bg-gray-700"}`,children:[y.jsxs("div",{className:"flex items-center gap-3",children:[y.jsxs("span",{className:"text-white font-bold",children:[me.name,gt&&y.jsx("span",{className:"text-blue-400 text-sm ml-1",children:"()"}),tt&&y.jsx("span",{className:"text-yellow-400 text-sm ml-1",children:""})]}),y.jsx("span",{className:"text-gray-400 text-sm",children:et?.name})]}),y.jsx("div",{children:me.ready?y.jsx("span",{className:"text-green-400 text-sm",children:" "}):y.jsx("span",{className:"text-gray-500 text-sm",children:"..."})})]},me.id)}),Array.from({length:4-s.players.length}).map((me,et)=>y.jsx("div",{className:"p-3 rounded-lg bg-gray-700/50 border border-dashed border-gray-600",children:y.jsx("span",{className:"text-gray-500",children:"..."})},`empty-${et}`))]})]}),te&&y.jsxs("div",{className:"mb-6",children:[y.jsx("h3",{className:"text-white font-bold mb-3",children:""}),y.jsx("div",{className:"grid grid-cols-2 gap-2",children:ln.map(me=>{const et=st.includes(me.id),gt=te.characterId===me.id;return y.jsxs("button",{onClick:()=>!et&&g(me.id),disabled:et||te.ready,className:`p-2 rounded text-left text-sm ${gt?"bg-blue-600 text-white":et?"bg-gray-700 text-gray-500 cursor-not-allowed":"bg-gray-700 text-white hover:bg-gray-600"}`,children:[y.jsx("div",{className:"font-bold",children:me.name}),y.jsxs("div",{className:"text-xs opacity-75",children:["$",me.initialMoney.toLocaleString(),et&&" ()"]})]},me.id)})})]}),c&&y.jsx("div",{className:"mb-4 p-3 bg-red-900/50 border border-red-500 rounded text-red-300 text-sm",children:c}),y.jsxs("div",{className:"space-y-2",children:[b()?y.jsx("button",{onClick:W,disabled:!M()||oe,className:`w-full py-3 rounded-lg font-bold ${M()?"bg-green-600 hover:bg-green-500 text-white":"bg-gray-600 text-gray-400 cursor-not-allowed"}`,children:oe?"...":M()?"":""}):y.jsx("button",{onClick:p,className:`w-full py-3 rounded-lg font-bold ${te?.ready?"bg-gray-600 hover:bg-gray-500 text-white":"bg-green-600 hover:bg-green-500 text-white"}`,children:te?.ready?"":""}),y.jsx("button",{onClick:mt,className:"w-full py-2 rounded-lg bg-gray-700 hover:bg-gray-600 text-gray-300",children:""})]})]})})}if(j==="menu")return y.jsx("div",{className:"min-h-screen bg-gray-900 flex items-center justify-center p-4",children:y.jsxs("div",{className:"bg-gray-800 rounded-lg p-6 w-full max-w-sm",children:[y.jsx("h2",{className:"text-white text-2xl font-bold text-center mb-6",children:""}),y.jsxs("div",{className:"space-y-3",children:[y.jsx("button",{onClick:()=>H("create"),className:"w-full py-3 rounded-lg bg-blue-600 hover:bg-blue-500 text-white font-bold",children:""}),y.jsx("button",{onClick:()=>H("join"),className:"w-full py-3 rounded-lg bg-green-600 hover:bg-green-500 text-white font-bold",children:""}),y.jsx("button",{onClick:n,className:"w-full py-2 rounded-lg bg-gray-700 hover:bg-gray-600 text-gray-300",children:""})]})]})});if(j==="create"){const te=async()=>{Y.trim()&&(q(!0),await f(Y.trim(),k),q(!1))};return y.jsx("div",{className:"min-h-screen bg-gray-900 flex items-center justify-center p-4",children:y.jsxs("div",{className:"bg-gray-800 rounded-lg p-6 w-full max-w-sm",children:[y.jsx("h2",{className:"text-white text-xl font-bold text-center mb-6",children:""}),y.jsxs("div",{className:"space-y-4",children:[y.jsxs("div",{children:[y.jsx("label",{className:"text-gray-400 text-sm block mb-1",children:""}),y.jsx("input",{type:"text",value:Y,onChange:W=>U(W.target.value),placeholder:"",className:"w-full p-3 rounded bg-gray-700 text-white border border-gray-600 focus:border-blue-500 focus:outline-none",maxLength:10})]}),y.jsxs("div",{children:[y.jsx("label",{className:"text-gray-400 text-sm block mb-1",children:""}),y.jsx("select",{value:k,onChange:W=>X(W.target.value),className:"w-full p-3 rounded bg-gray-700 text-white border border-gray-600 focus:border-blue-500 focus:outline-none",children:ln.map(W=>y.jsxs("option",{value:W.id,children:[W.name," ($",W.initialMoney.toLocaleString(),")"]},W.id))})]}),c&&y.jsx("div",{className:"p-3 bg-red-900/50 border border-red-500 rounded text-red-300 text-sm",children:c}),y.jsx("button",{onClick:te,disabled:!Y.trim()||oe,className:"w-full py-3 rounded-lg bg-blue-600 hover:bg-blue-500 text-white font-bold disabled:bg-gray-600 disabled:cursor-not-allowed",children:oe?"...":""}),y.jsx("button",{onClick:()=>H("menu"),className:"w-full py-2 rounded-lg bg-gray-700 hover:bg-gray-600 text-gray-300",children:""})]})]})})}if(j==="join"){const te=async()=>{!Y.trim()||!ee.trim()||(q(!0),await d(ee.trim(),Y.trim(),k),q(!1))};return y.jsx("div",{className:"min-h-screen bg-gray-900 flex items-center justify-center p-4",children:y.jsxs("div",{className:"bg-gray-800 rounded-lg p-6 w-full max-w-sm",children:[y.jsx("h2",{className:"text-white text-xl font-bold text-center mb-6",children:""}),y.jsxs("div",{className:"space-y-4",children:[y.jsxs("div",{children:[y.jsx("label",{className:"text-gray-400 text-sm block mb-1",children:""}),y.jsx("input",{type:"text",value:ee,onChange:W=>ye(W.target.value),placeholder:" 6 ",className:"w-full p-3 rounded bg-gray-700 text-white border border-gray-600 focus:border-blue-500 focus:outline-none text-center text-xl tracking-widest",maxLength:6})]}),y.jsxs("div",{children:[y.jsx("label",{className:"text-gray-400 text-sm block mb-1",children:""}),y.jsx("input",{type:"text",value:Y,onChange:W=>U(W.target.value),placeholder:"",className:"w-full p-3 rounded bg-gray-700 text-white border border-gray-600 focus:border-blue-500 focus:outline-none",maxLength:10})]}),y.jsxs("div",{children:[y.jsx("label",{className:"text-gray-400 text-sm block mb-1",children:""}),y.jsx("select",{value:k,onChange:W=>X(W.target.value),className:"w-full p-3 rounded bg-gray-700 text-white border border-gray-600 focus:border-blue-500 focus:outline-none",children:ln.map(W=>y.jsxs("option",{value:W.id,children:[W.name," ($",W.initialMoney.toLocaleString(),")"]},W.id))})]}),c&&y.jsx("div",{className:"p-3 bg-red-900/50 border border-red-500 rounded text-red-300 text-sm",children:c}),y.jsx("button",{onClick:te,disabled:!Y.trim()||!ee.trim()||oe,className:"w-full py-3 rounded-lg bg-green-600 hover:bg-green-500 text-white font-bold disabled:bg-gray-600 disabled:cursor-not-allowed",children:oe?"...":""}),y.jsx("button",{onClick:()=>H("menu"),className:"w-full py-2 rounded-lg bg-gray-700 hover:bg-gray-600 text-gray-300",children:""})]})]})})}return null};function oN(){const{phase:l}=Fe(),{room:n,isReconnecting:a,error:s,hasStoredSession:c,tryReconnect:f,resetRoom:d}=bs(),[m,p]=se.useState(!1),[g,S]=se.useState(()=>c()),v=async()=>{S(!1),await f()&&p(!0)},b=()=>{S(!1),d()};return g?y.jsx("div",{className:"min-h-screen bg-gray-900 flex items-center justify-center p-4",children:y.jsxs("div",{className:"bg-gray-800 rounded-lg p-6 max-w-md w-full text-center",children:[y.jsx("h2",{className:"text-xl font-bold text-white mb-4",children:""}),y.jsx("p",{className:"text-gray-300 mb-6",children:""}),y.jsxs("div",{className:"flex gap-3 justify-center",children:[y.jsx("button",{onClick:v,className:"bg-green-600 hover:bg-green-500 text-white px-6 py-2 rounded font-bold",children:""}),y.jsx("button",{onClick:b,className:"bg-gray-600 hover:bg-gray-500 text-white px-6 py-2 rounded",children:""})]})]})}):a?y.jsx("div",{className:"min-h-screen bg-gray-900 flex items-center justify-center p-4",children:y.jsxs("div",{className:"bg-gray-800 rounded-lg p-6 max-w-md w-full text-center",children:[y.jsx("h2",{className:"text-xl font-bold text-white mb-4",children:"..."}),y.jsx("div",{className:"animate-pulse text-gray-400",children:""})]})}):s&&!m?y.jsx("div",{className:"min-h-screen bg-gray-900 flex items-center justify-center p-4",children:y.jsxs("div",{className:"bg-gray-800 rounded-lg p-6 max-w-md w-full text-center",children:[y.jsx("h2",{className:"text-xl font-bold text-red-400 mb-4",children:""}),y.jsx("p",{className:"text-gray-300 mb-6",children:s}),y.jsx("button",{onClick:()=>{d()},className:"bg-blue-600 hover:bg-blue-500 text-white px-6 py-2 rounded font-bold",children:""})]})}):m&&(!n||n.status==="waiting")?y.jsx(cN,{onStartGame:()=>p(!1),onBack:()=>p(!1)}):n&&n.status==="playing"?y.jsx(Oy,{}):l==="setup"?y.jsx(XT,{onOnlineClick:()=>p(!0)}):l==="game_over"?y.jsx(rN,{}):y.jsx(Oy,{})}Wb.createRoot(document.getElementById("root")).render(y.jsx(se.StrictMode,{children:y.jsx(oN,{})}));
